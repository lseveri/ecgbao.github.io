<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>è·³è·³é­”ç‹çš„åšå®¢</title>
  <subtitle>æ¯å¤©è¿›æ­¥ä¸€ç‚¹ç‚¹</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2016-12-16T05:29:20.000Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>è·³è·³é­”ç‹</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>TestFlight:iOS Betaæµ‹è¯•</title>
    <link href="http://yoursite.com/2016/12/16/TestFlight-iOS-Beta%E6%B5%8B%E8%AF%95/"/>
    <id>http://yoursite.com/2016/12/16/TestFlight-iOS-Betaæµ‹è¯•/</id>
    <published>2016-12-16T04:48:45.000Z</published>
    <updated>2016-12-16T05:29:20.000Z</updated>
    
    <content type="html"><![CDATA[<p>TestFlight Beta Testing is an Apple product that makes it easy to invite users to test your iOS, watchOS and tvOS apps before you release them into the App Store. This TestFlight tutorial will walk you through integrating TestFlight into your own apps.<br>This is one of those rare tutorials where you donâ€™t have to code â€” just follow through the steps in this tutorial and youâ€™ll be up and running with TestFlight in no time! :]</p>
<h1 id="Submitting-your-Build-to-iTunes-Connect"><a href="#Submitting-your-Build-to-iTunes-Connect" class="headerlink" title="Submitting your Build to iTunes Connect"></a>Submitting your Build to iTunes Connect</h1><p>Open up your project in Xcode, make sure you have a correct Bundle Identifier, that your Team ID is set, and that youâ€™ve chosen the automatic Distribution Certificate Code Signing Identity:</p>
<p><div style="text-align:center"><br><img src="https://koenig-media.raywenderlich.com/uploads/2016/05/1-Code-Signing.png"><br></div><br>Choose Product\Archive from the top toolbar:</p>
<p><div style="text-align:center"><br><img src="https://koenig-media.raywenderlich.com/uploads/2015/04/2-Product-Archive1.png"><br></div><br>Once Xcode finishes archiving your project, click the shiny blue Upload to App Storeâ€¦ button:</p>
<p><div style="text-align:center"><br><img src="https://koenig-media.raywenderlich.com/uploads/2016/06/3-Archive1.png"><br></div><br>Now you need to choose your development team:</p>
<p><div style="text-align:center"><br><img src="https://koenig-media.raywenderlich.com/uploads/2016/05/4-Choose-Team1.png"><br></div><br>Finally, click Upload:</p>
<p><div style="text-align:center"><br><img src="https://koenig-media.raywenderlich.com/uploads/2016/05/5-Upload1.png"><br></div><br>Wait for a few minutes as your build uploads. Grab a coffee, perhaps, or if you have a slow internet connection, go grab a bite. Or two. Or three. :]</p>
<p><div style="text-align:center"><br><img src="https://koenig-media.raywenderlich.com/uploads/2016/05/6-Upload2.png"><br></div><br>Once youâ€™re done, you should receive a success message like the following:</p>
<p><div style="text-align:center"><br><img src="https://koenig-media.raywenderlich.com/uploads/2016/05/Success.png"><br></div><br>Thatâ€™s all the work required for Xcode. Your beta build is now available on iTunes Connect, and thatâ€™s where youâ€™ll be doing the rest of the work to set up TestFlight.</p>
<h1 id="Create-and-Enable-Testers-to-Beta-Test-Apps"><a href="#Create-and-Enable-Testers-to-Beta-Test-Apps" class="headerlink" title="Create and Enable Testers to Beta Test Apps"></a>Create and Enable Testers to Beta Test Apps</h1><p>Your build is ready for testing, but whoâ€™s going to test it?<br>Apple defines two types of testers for Test Flight:<br>Internal Tester: This is an iTunes Connect user that has an Admin, Technical, App Manager, Developer, or Marketer role with access to your app. This is usually a team member or a client youâ€™re developing an app for. You can add up to 25 internal testers.<br>Note: Apple are in the process of deprecating the Technical role in favour of the App Manager role. At the time of writing both roles are available. If you have existing users with the Technical role you should start migrating them over to the App Manager role. New users should be created with the App Manager role.<br>External Tester: This is any user outside of your team that wants to test your app. An external tester has no access to your iTunes Connect account in any way, and can only download and install the app. You can add up to 2000 external testers.<br>Before your external developers can test your app, you have to submit your app to be reviewed by Apple, just as you would with a normal App Store submission. These reviews tend to go faster than normal app reviews (although donâ€™t count on it), and once itâ€™s approved you can let external developers test your app. Internal testers, on the other hand, are instantaneously able to test new builds.<br>Youâ€™ll learn more about external testers later, but for now, letâ€™s focus on internal testers.<br>To add an internal tester, head to the Users and Roles section in iTunes Connect:</p>
<p><div style="text-align:center"><br><img src="https://koenig-media.raywenderlich.com/uploads/2016/05/10-Users-and-Roles.png"><br></div><br>On the Users and Roles screen, click the + button to add a new user:</p>
<p><div style="text-align:center"><br><img src="https://koenig-media.raywenderlich.com/uploads/2016/06/11-Users-650x95.png"><br></div><br>Fill in your new user info and click Next:</p>
<p><div style="text-align:center"><br><img src="https://koenig-media.raywenderlich.com/uploads/2016/06/15-Roles.png"><br></div><br>Youâ€™ll need to use a unique email address for your new user. If you donâ€™t have a second email account, you can usually append +whateveryouwant to the first part of your email address, and the email will still get delivered to you. For example tom+mytestaccount@razeware.com.<br>Now you need to assign roles for the user. In most cases, youâ€™ll want to choose App Manager. You can read more about the privileges for each role and choose the appropriate one for your user.<br>Note: The number of different roles and permissions can be a bit daunting! When it comes to Test Flight, use this handy table to help you.<br>Admin    App Manager    Developer    Marketer    Sales<br>Can be an Internal Tester    âœ“    âœ“    âœ“    âœ“    âœ—<br>Can Upload a Build    âœ“    âœ“    âœ“    âœ—    âœ—<br>Can Submit a Build for External Testing    âœ“    âœ“    âœ—    âœ—    âœ—<br>Once thatâ€™s done, click Next:</p>
<p><div style="text-align:center"><br><img src="https://koenig-media.raywenderlich.com/uploads/2016/06/16-Roles2.png"><br></div><br>Choose the type of notifications you want your new testers to receive, then click Save:</p>
<p><div style="text-align:center"><br><img src="https://koenig-media.raywenderlich.com/uploads/2016/05/17-Notifications.png"><br></div><br>Your user is now created, but as the message indicates, that user first needs to verify his or her email address before the account will show in iTunes Connect.<br>Creating a new internal beta tester is only the first part of the process. The remaining step is to invite this particular tester to test your latest build.<br>Itâ€™s time to enable your app for testing â€” so the tester actually has something to test! :]</p>
<h1 id="Starting-Beta-Testing"><a href="#Starting-Beta-Testing" class="headerlink" title="Starting Beta Testing"></a>Starting Beta Testing</h1><p>To start beta testing of your app, go to the My Apps section on the iTunes Connect home page and click on your app:</p>
<p><div style="text-align:center"><br><img src="https://koenig-media.raywenderlich.com/uploads/2016/05/20-My-Apps.png"><br></div><br>Select the Activity tab and youâ€™ll find your latest build. Make sure it is no longer marked as processing. If it is, go make another cup of coffee and come back later. :]</p>
<p><div style="text-align:center"><br><img src="https://koenig-media.raywenderlich.com/uploads/2016/05/Activity.png"><br></div><br>Next, click on the TestFlight tab, then Internal Testing in the left hand menu. Click Select Version to Test and choose the version you just uploaded. Finally, click Start Testing and, in the confirmation pop-up, Start Testing again.</p>
<p><div style="text-align:center"><br><img src="https://koenig-media.raywenderlich.com/uploads/2016/05/StartTesting.png"><br></div><br>All selected testers will now receive an email that lets them download and install this build from the TestFlight app. There are detailed instructions on how to do that in the last section of this tutorial.<br>That takes care of internal testers, but what about external testers?<br>Thatâ€™s just as easy! First, go to the Test Information tab and fill in your Feedback Email, Marketing URL and Privacy Policy URL. You can choose to add a License Agreement at this stage as well if you wish, but it is not necessary.</p>
<p><div style="text-align:center"><br><img src="https://koenig-media.raywenderlich.com/uploads/2016/05/30-TestInformation.png"><br></div><br>Next, go to the External Testing tab, click the + button and select Add New Testers:</p>
<p><div style="text-align:center"><br><img src="https://koenig-media.raywenderlich.com/uploads/2016/05/32-External1.png"><br></div><br>Add the email addresses of any external users you want to add. Once youâ€™re finished, click Add to add these testers to your account. All external testers will count toward your 2000 external tester limit:</p>
<p><div style="text-align:center"><br><img src="https://koenig-media.raywenderlich.com/uploads/2016/05/33-External2.png"><br></div><br>Click Save.<br>You now need to select a build (again) for your external testers, and put that build through the Beta App Review.<br>Note: Why do you need to select the build again? Well you may want your internal and external testers to be testing different builds. For example, your external testers may be testing your next release candidate, but your internal testers are testing your master build. By making you select a build for internal and external testers separately iTunes Connect allows this kind of separation.<br>Click Add Build To Test, select your build, and then click Next.</p>
<p><div style="text-align:center"><br><img src="https://koenig-media.raywenderlich.com/uploads/2016/05/34-BetaTest1.png"><br></div><br>Fill in all the fields. Remember â€“ the more information you give Apple the easier it is for them to review your app! Finally, hit Submit.</p>
<p><div style="text-align:center"><br><img src="https://koenig-media.raywenderlich.com/uploads/2016/05/35-BetaTest2.png"><br></div><br>Your app will be added to the review queue! :]<br>Note: In my own experience, your first beta app review can take up to 48 hours to be approved. Subsequent beta app reviews are usually much faster.</p>
<p><div style="text-align:center"><br><img src="https://koenig-media.raywenderlich.com/uploads/2016/05/31-AppInReview.png"><br></div><br>Once the app has passed Beta App Review you will receive an email with confirmation that your app can now be used by external testers.<br>Note: A build is only valid for 60 days. If you want your testers to use the app beyond that, youâ€™ll have to upload a new build before the expiration date.<br>Head back to the External Testing section for your app in iTunes Connect, select the build and hit Save. A dialog will pop up confirming that you are about to notify people. Click Start Testing.</p>
<p><div style="text-align:center"><br><img src="https://koenig-media.raywenderlich.com/uploads/2016/05/Screen-Shot-2016-05-30-at-11.58.51.png"><br></div><br>Your external testers will then receive an invitation email similar to the one received by your internal testers as described above.<br>Note: What happens if invites go missing? Currently there is no easy way to re-send invite emails if they go missing. For internal testers the easiest approach is probably to upload a new build (as it doesnâ€™t have to go through Beta App Review). For external testers you can either remove the user and then re-add the user as a tester, or remove your app from external testing and then quickly re-add it. This second approach will re-send an email invite to all your external testers so be careful! :]<br>That shows the developerâ€™s perspective of app testing, but what does it look like from the testerâ€™s perspective?</p>
<h1 id="Testing-an-App"><a href="#Testing-an-App" class="headerlink" title="Testing an App"></a>Testing an App</h1><p>As an internal tester, you need to link your Apple ID to iTunes Connect (external testers can skip to the TestFlight App section below). By now, you should have received an email from iTunes Connect that looks like this:</p>
<p><div style="text-align:center"><br><img src="https://koenig-media.raywenderlich.com/uploads/2016/05/21-Email.png"><br></div><br>Click on activate your account and follow the supplied steps. Once your account is ready for testing, get your iOS device and go to the Settings app. Scroll down to iTunes &amp; App Store:</p>
<p><div style="text-align:center"><br><img src="https://koenig-media.raywenderlich.com/uploads/2016/05/19-Settings1.png"><br></div><br>Log in with the account you just verified a minute ago. If youâ€™re already logged in with another account, log out first:</p>
<p><div style="text-align:center"><br><img src="https://koenig-media.raywenderlich.com/uploads/2016/05/20-Log-In.png"><br></div></p>
<h1 id="TestFlight-App"><a href="#TestFlight-App" class="headerlink" title="TestFlight App"></a>TestFlight App</h1><p>Go to the App Store, and search for the TestFlight app:</p>
<p><div style="text-align:center"><br><img src="https://koenig-media.raywenderlich.com/uploads/2016/05/21-Search.png"><br></div><br>Download the TestFlight app and launch it.<br>Note: If youâ€™re required to log in, simply use the same credentials you used to verify your account.<br>Internal testers will automatically receive an email when new versions of the app are uploaded to iTunes Connect. External testers will receive a similar email after the app has been through Beta App Review and the build has been pushed out to external testers by an Admin or App Manager in iTunes Connect:</p>
<p><div style="text-align:center"><br><img src="https://koenig-media.raywenderlich.com/uploads/2016/05/24-Invite-Email.png"><br></div><br>Open this email on your testing device, then tap Start Testing. This will launch TestFlight and show you the app you need to test. A tester must tap Start Testing on the device theyâ€™ll be testing on; otherwise the app wonâ€™t be available for download by the tester. Tap Accept, then Install, and wait for the app to download:</p>
<p><div style="text-align:center"><br><img src="https://koenig-media.raywenderlich.com/uploads/2016/05/25-Accept.png"><br></div><br>The app will be downloaded and appear on your home screen!<br>That was the hardest part of being a tester. From now on, whenever a new version of this app is available, youâ€™ll see a notification from TestFlight. All you need to do is update your app and run the latest version.</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;TestFlight Beta Testing is an Apple product that makes it easy to invite users to test your iOS, watchOS and tvOS apps before you release
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Swift ç¼–ç¨‹è¯­è¨€ï¼ˆSwift 3.0.1ï¼‰</title>
    <link href="http://yoursite.com/2016/10/28/Swift-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%EF%BC%88Swift-3-0-1%EF%BC%89/"/>
    <id>http://yoursite.com/2016/10/28/Swift-ç¼–ç¨‹è¯­è¨€ï¼ˆSwift-3-0-1ï¼‰/</id>
    <published>2016-10-28T05:54:48.000Z</published>
    <updated>2016-12-16T02:58:59.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åŸºæœ¬ä»‹ç»"><a href="#åŸºæœ¬ä»‹ç»" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h1><p>Swift æ˜¯ä¸º iOSï¼ŒmacOSï¼ŒwatchOSï¼Œå’Œ tvOS åº”ç”¨å¼€å‘çš„ä¸€é—¨æ–°çš„å¼€å‘è¯­è¨€ï¼Œå°½ç®¡å¦‚æ­¤ï¼ŒSwiftå¾ˆå¤šéƒ¨åˆ†éƒ½è·Ÿä½ ä»¥å¾€ä»äº‹Cå’ŒObjective-Cå¼€å‘ç»éªŒå¾ˆç›¸ä¼¼ã€‚</p>
<p>åŸºäºC å’Œ Objective-C çš„æ•°æ®ç±»å‹ï¼ŒSwift æä¾›äº†è‡ªå·±çš„ç‰ˆæœ¬ï¼ŒåŒ…æ‹¬ Intï¼Œ Doubleï¼Œ Floatï¼ŒBool å’Œ Stringã€‚å®ƒåŒæ—¶ä¹Ÿæä¾›äº†ä¸‰ç§é›†åˆç±»å‹ï¼ŒArrayï¼ŒSet å’Œ Dictionaryã€‚</p>
<p>è·ŸCç±»ä¼¼ï¼ŒSwift é€šè¿‡å˜é‡åæ¥å­˜å–å€¼ã€‚Swift è¿˜å¤§é‡ä½¿ç”¨å¸¸é‡ï¼Œè¿™é‡Œçš„å¸¸é‡æ¯”Cçš„å¸¸é‡æ›´åŠ å¼ºå¤§ã€‚å¸¸é‡ä½¿ç”¨è´¯ç©¿Swiftï¼Œç”¨æ¥è®©ä»£ç æ›´åŠ å®‰å…¨å’Œå®¹æ˜“æ¨æ–­ï¼Œç‰¹åˆ«æ˜¯åœ¨ä½ ä¸æƒ³å˜é‡å€¼å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ã€‚</p>
<p>é™¤äº†åŸºæœ¬ç±»å‹ï¼ŒSwift è¿˜å¼•è¿›äº†objective-Cä¸­æ²¡æœ‰çš„é«˜çº§ç±»å‹ï¼Œæ¯”å¦‚å…ƒç»„ã€‚å…ƒç»„è®©ä½ å¯ä»¥åˆ›å»ºå’Œä¼ é€’å¤šå€¼ã€‚ä½ å¯ä»¥åœ¨ä¸€ä¸ªå‡½æ•°é‡Œè¿”å›å…ƒç»„æ¥ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„æ··åˆå€¼ã€‚</p>
<p>Swift è¿˜å¼•è¿›äº†å¯é€‰ç±»å‹ï¼Œç”¨æ¥å¤„ç†ç¼ºå€¼çš„æƒ…å†µã€‚å¯é€‰çš„æ„æ€æ˜¯â€˜è¿™é‡Œæœ‰ä¸€ä¸ªå€¼ï¼Œå®ƒç­‰äºxâ€™ æˆ–è€…â€˜è¿™é‡Œæ²¡æœ‰ä»»ä½•å€¼â€™ã€‚ç”¨å¯é€‰å€¼è·Ÿobjective-Cé‡Œä½¿ç”¨nilæŒ‡é’ˆæœ‰ç‚¹åƒï¼Œä¸è¿‡å¯é€‰ç±»å‹å¯ä»¥æœåŠ¡ä»»ä½•ç±»å‹ï¼Œä¸ä»…ä»…æ˜¯ç±»ç±»å‹ã€‚å¯é€‰ç±»å‹ä¸ä»…ä»…å®‰å…¨è€Œä¸”æ›´å®¹æ˜“è¡¨è¾¾æ„æ€ï¼Œå®ƒæ˜¯Swiftæœ€é‡è¦ç‰¹æ€§é‡Œçš„æ ¸å¿ƒç‰¹æ€§ã€‚</p>
<p>Swiftæ˜¯ä¸€é—¨ç±»å‹å®‰å…¨çš„è¯­è¨€ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€è¿™é—¨è¯­è¨€å¯ä»¥è®©ä½ æ›´æ¸…æ™°çš„çŸ¥é“ä»£ç ä½¿ç”¨çš„å€¼ç±»å‹ã€‚å¦‚æœä½ çš„ä»£ç éœ€è¦ä¸€ä¸ªStringï¼Œç±»å‹å®‰å…¨ä¼šä¿æŠ¤ä½ ä¸è‡³äºä¼ é€’ä¸€ä¸ªIntç±»å‹ã€‚åŒæ ·ï¼Œç±»å‹å®‰å…¨ä¹Ÿä¼šä¿æŠ¤ä½ ï¼Œè®©ä½ ä¸ä¼šæŠŠéå¯é€‰ç±»å‹ä¼ é€’ç»™éœ€è¦å¯é€‰ç±»å‹çš„ä»£ç å—ã€‚ç±»å‹å®‰å…¨è®©ä½ åœ¨å¼€å‘é˜¶æ®µå°½å¿«å‘ç°é—®é¢˜ï¼Œä¿®å¤é”™è¯¯ã€‚</p>
<h1 id="å¸¸é‡å’Œå˜é‡"><a href="#å¸¸é‡å’Œå˜é‡" class="headerlink" title="å¸¸é‡å’Œå˜é‡"></a>å¸¸é‡å’Œå˜é‡</h1><p>å¸¸é‡å’Œå˜é‡æ˜¯ä¸€ä¸ªæœ‰ç‰¹å®šç±»å‹çš„å€¼ï¼Œå¸¦æœ‰ä¸€ä¸ªåå­—ã€‚å¸¸é‡å€¼ä¸€æ—¦ç¡®å®šå°±ä¸èƒ½æ”¹å˜ï¼Œå˜é‡åœ¨å¯ç”¨éšæ—¶æ”¹å˜å…¶å€¼ã€‚</p>
<p>å®šä¹‰å¸¸é‡å’Œå˜é‡<br>å¸¸é‡å’Œå˜é‡å¿…é¡»è¦åœ¨ä½¿ç”¨å‰å®šä¹‰ï¼Œå¸¸é‡ä½¿ç”¨letå…³é”®å­—ï¼Œå˜é‡ä½¿ç”¨varå…³é”®å­—ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­æ¥å±•ç¤ºå¦‚ä½•ä½¿ç”¨å¸¸é‡å’Œå˜é‡ï¼Œè¿™ä¸ªä¾‹å­æ˜¯è·Ÿè¸ªç”¨æˆ·å°è¯•çš„ç™»å½•æ¬¡æ•°ã€‚</p>
<p><code>let maximumNumberOfLoginAttempts = 10<br>var currentLoginAttempt = 0</code><br>è¿™æ®µä»£ç å¯ä»¥è¿™æ ·è§£è¯»ï¼š<br>å®šä¹‰ä¸ªå¸¸é‡maximumNumberOfLoginAttemptsï¼Œç»™å®ƒä¸€ä¸ªå€¼10.ç„¶åå®šä¹‰ä¸€ä¸ªå˜é‡currentLoginAttemptï¼Œç»™å®ƒä¸€ä¸ªå€¼0.<br>åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œæœ€å¤§ç™»å½•æ¬¡æ•°å®šä¹‰ä¸ºä¸€ä¸ªå¸¸é‡ï¼Œå› ä¸ºæœ€å¤§ç™»å½•æ•°ä¸ä¼šæ”¹å˜ã€‚å½“å‰ç™»å½•æ•°å®šä¹‰ä¸ºå˜é‡ï¼Œå› ä¸ºè¿™ä¸ªå€¼éšç€ç”¨æˆ·çš„ç™»å½•å°è¯•ä¼šé€æ¸å¢é•¿ã€‚<br>ä½ ä¹Ÿå¯ä»¥å®šä¹‰å¤šä¸ªå¸¸é‡æˆ–å˜é‡åœ¨ä¸€è¡Œï¼Œç”¨é€—å·åˆ†å¼€å³å¯ï¼š<br><code>var x = 0.0, y = 0.0, z = 0.0</code></p>
<p>ç±»å‹æ³¨é‡Š<br>å½“å®šä¹‰å¸¸é‡æˆ–è€…å˜é‡çš„æ—¶å€™ï¼Œä½ å¯ä»¥æä¾›ä¸€ä¸ªç±»å‹æ³¨é‡Šï¼Œè¿™æ ·å¯ä»¥æ›´æ¸…æ¥šçš„çŸ¥é“å­˜å‚¨ç±»å‹æ˜¯ä»€ä¹ˆã€‚åœ¨å˜é‡åæˆ–è€…å¸¸é‡ååé¢åŠ ä¸€ä¸ªå†’å·ï¼Œç„¶åä¸€ä¸ªç©ºæ ¼ï¼Œç„¶åæ˜¯è¦ä½¿ç”¨çš„ç±»å‹ã€‚</p>
<p>è¿™ä¸ªä¾‹å­ä¸ºå˜é‡welcomeMessageæä¾›ä¸€ä¸ªç±»å‹è§£é‡Šï¼Œæ¥è¯´æ˜è¿™ä¸ªå˜é‡å¯ä»¥å­˜å‚¨Stringå€¼ï¼š<br><code>var welcomeMessage: String</code><br>è¿™æ®µä»£ç å¯ä»¥ç†è§£ä¸ºï¼š<br>å®šä¹‰ä¸ªå˜é‡å«welcomeMessageï¼Œå®ƒçš„ç±»å‹æ˜¯Stringã€‚<br>welcomeMessageå˜é‡ç°åœ¨å¯ä»¥å­˜å‚¨ä»»ä½•çš„å­—ç¬¦ä¸²ï¼š<br><code>welcomeMessage = â€œHelloâ€</code><br>ä½ å¯ä»¥åœ¨ä¸€è¡Œå®šä¹‰å¤šä¸ªç›¸å…³çš„ç›¸åŒç±»å‹çš„å˜é‡ï¼Œç”¨é€—å·åˆ†å¼€ï¼Œç„¶åå†æœ€ååŠ ä¸Šç±»å‹æ³¨é‡Šï¼š<br><code>var red, green, blue: Double</code></p>
<p>å¸¸é‡å’Œå˜é‡å‘½å<br>å¸¸é‡å’Œå˜é‡å‘½åå¯ä»¥åŒ…å«å‡ ä¹ä»»ä½•çš„å­—ç¬¦ï¼ŒåŒ…æ‹¬Unicodeå­—ç¬¦ï¼š<br><code>let Ï€ = 3.14159<br>let ä½ å¥½ = â€œä½ å¥½ä¸–ç•Œâ€<br>let ğŸ¶ğŸ® = â€œdogcowâ€</code><br>å¸¸é‡å’Œå˜é‡å‘½åä¸èƒ½åŒ…å«ç©ºæ ¼å­—ç¬¦ï¼Œæ•°å­¦ç¬¦å·ï¼Œç®­å¤´ï¼Œç§æœ‰ï¼ˆæ— æ•ˆï¼‰çš„Unicodeå­—ç¬¦ç ï¼Œæˆ–è€…-ç­‰ã€‚ä¹Ÿä¸èƒ½ä»¥æ•°å­—å¼€å§‹ï¼Œè™½ç„¶æ•°å­—å¯ä»¥å‡ºç°åœ¨åå­—é‡Œçš„ä»»ä½•åœ°æ–¹ã€‚</p>
<p>ä¸€æ—¦ä½ ç»™å¸¸é‡æˆ–è€…å˜é‡ç¡®å®šäº†ç±»å‹ï¼Œä½ å°±ä¸èƒ½ç”¨åŒæ ·çš„åå­—æ¥é‡å®šä¹‰å®ƒä»¬ï¼Œæˆ–è€…æ”¹å˜ä»–ä»¬å­˜å‚¨çš„å€¼ç±»å‹ã€‚ä½ ä¹Ÿä¸èƒ½æŠŠå¸¸é‡æ”¹ä¸ºå˜é‡ï¼Œæˆ–è€…æŠŠå˜é‡å˜æˆå¸¸é‡ã€‚</p>
<p>ä½ å¯ä»¥æŠŠå¸¸é‡çš„å€¼æ”¹å˜æˆåŒæ ·ç±»å‹çš„å…¶ä»–çš„å€¼ã€‚è¿™ä¸ªä¾‹å­é‡Œï¼Œå˜é‡friendlyWelcomeçš„å€¼ä»â€Hello!â€ å˜æˆ â€œBonjour!â€:<br><code>var friendlyWelcome = â€œHello!â€<br>friendlyWelcome = â€œBonjour!â€<br>// friendlyWelcome is now â€œBonjour!â€</code><br>ä¸å˜é‡ä¸åŒï¼Œå¸¸é‡å€¼ä¸€æ—¦ç¡®å®šå°±ä¸èƒ½å†æ”¹å˜ã€‚å¦‚æœå°è¯•æ”¹å˜ç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼š<br><code>let languageName = â€œSwiftâ€<br>languageName = â€œSwift++â€<br>// This is a compile-time error: languageName cannot be changed.<br></code><br>æ‰“å°å¸¸é‡å’Œå˜é‡<br>ä½ å¯ä»¥ä½¿ç”¨print(<em>:separator:terminator:)å‡½æ•°æ‰“å°å¸¸é‡æˆ–è€…å˜é‡çš„å½“å‰å€¼ï¼š<br><code>print(friendlyWelcome)<br>// Prints â€œBonjour!â€</code><br>print(</em>:separator:terminator:)æ˜¯ä¸€ä¸ªå…¨å±€å‡½æ•°ï¼Œå¯ä»¥æ‰“å°ä¸€ä¸ªæˆ–è€…å¤šä¸ªå€¼ã€‚åœ¨XCodeé‡Œï¼Œä¾‹å¦‚ï¼Œprint(_:separator:terminator:)æ‰“å°ç»“æœä¼šå‡ºç°åœ¨æ§åˆ¶å°é‡Œã€‚separator å’Œ terminator å‚æ•°éƒ½æœ‰é»˜è®¤å€¼, æ‰€ä»¥ä½ å¯ä»¥å¿½ç•¥ä»–ä»¬ã€‚ é»˜è®¤çš„, è¿™ä¸ªå‡½æ•°æ‰“å°å®Œä¼šåŠ ä¸Šæ¢è¡Œç¬¦ã€‚ å¦‚æœä¸æƒ³æ‰“å°åæ¢è¡Œ, ä¼ å…¥ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ä½œä¸ºç»ˆæ­¢â€”ä¾‹å¦‚, print(someValue, terminator: â€œâ€)</p>
<p>Swift ä½¿ç”¨ string interpolation åœ¨é•¿å­—ç¬¦ä¸²é‡Œæ’å…¥å¸¸é‡æˆ–è€…å˜é‡å, åŒæ—¶ä¼šæç¤º Swift å»ç”¨å½“å‰çš„å¸¸é‡å€¼æ´»å˜é‡å€¼æ¥æ›¿æ¢å®ƒã€‚ ç”¨æ‹¬å·åŒ…å«åå­—ï¼Œç„¶ååœ¨å‰é¢åŠ ä¸Šåæ–œæ :</p>
<p><code>print(â€œThe current value of friendlyWelcome is (friendlyWelcome)â€)<br>// Prints â€œThe current value of friendlyWelcome is Bonjour!â€</code></p>
<h1 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h1><p>åœ¨ä»£ç ä¸­ï¼ŒæŠŠæ³¨é‡ŠåŠ åˆ°ä¸æ‰§è¡Œçš„æ–‡æœ¬ï¼Œä½œä¸ºä¸€ä¸ªå¤‡æ³¨æˆ–è€…æé†’ã€‚ä»£ç ç¼–è¯‘çš„æ—¶å€™ï¼Œæ³¨é‡Šä¼šè¢«ç¼–è¯‘å™¨å¿½ç•¥ã€‚<br>Swiftæ³¨é‡Šå’ŒCè¯­è¨€æ³¨é‡Šå¾ˆåƒï¼Œä¸åœ¨èµ˜è¿°ã€‚</p>
<h1 id="åˆ†å·"><a href="#åˆ†å·" class="headerlink" title="åˆ†å·"></a>åˆ†å·</h1><p>è·Ÿå…¶ä»–è¯­è¨€ä¸åŒï¼ŒSwiftä¸è¦æ±‚åœ¨æ¯æ¡è¯­å¥åå†™åˆ†å·ï¼ˆï¼›ï¼‰ï¼Œä¸è¿‡ï¼Œåœ¨ä¸€è¡Œå†™å¾ˆå¤šè¯­å¥çš„æ—¶å€™ï¼Œè¿˜æ˜¯éœ€è¦å¸¦ä¸Šåˆ†å·çš„ï¼š<br><code>let cat = â€œğŸ±â€; print(cat)<br>// Prints â€œğŸ±â€<br></code></p>
<h1 id="æ•´æ•°"><a href="#æ•´æ•°" class="headerlink" title="æ•´æ•°"></a>æ•´æ•°</h1><p>Integers æ„æ€æ˜¯æ•´ä¸ªæ•°å­—æ²¡æœ‰å°æ•°ï¼Œæ¯”å¦‚ 42 å’Œ -23ï¼Œæ•´æ•°è¦ä¹ˆæ˜¯ signedï¼ˆè´Ÿæ•°ï¼Œ0ï¼Œæ­£æ•°ï¼‰ è¦ä¹ˆæ˜¯ unsignedï¼ˆæ­£æ•°æˆ–è€…0ï¼‰</p>
<p>Swiftæä¾›8ï¼Œ16ï¼Œ32 å’Œ 64ä½çš„æœ‰ç¬¦å·å’Œæ— ç¬¦å·çš„æ•´æ•°ã€‚è¿™äº›æ•´æ•°ç±»å‹å’ŒCè¯­è¨€å¾ˆåƒï¼Œ8ä½çš„æ— ç¬¦å·çš„æ•´æ•°æ˜¯UInt8ï¼Œ32ä½çš„æœ‰ç¬¦å·æ­£æ•°æ˜¯Int32.</p>
<h1 id="æ•´æ•°è¾¹ç•Œ"><a href="#æ•´æ•°è¾¹ç•Œ" class="headerlink" title="æ•´æ•°è¾¹ç•Œ"></a>æ•´æ•°è¾¹ç•Œ</h1><p>ä½ å¯ä»¥ç”¨min å’Œmaxå±æ€§æ¥è·å–æ¯ä¸ªæ•´æ•°ç±»å‹çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ï¼š<br><code>let minValue = UInt8.min  // minValue is equal to 0, and is of type UInt8<br>let maxValue = UInt8.max  // maxValue is equal to 255, and is of type UInt8</code></p>
<h1 id="Int"><a href="#Int" class="headerlink" title="Int"></a>Int</h1><p>å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½ ä¸éœ€è¦æŒ‡å®šæ•´æ•°çš„ä½æ•°ã€‚Swiftæä¾›äº†é¢å¤–çš„æ•´æ•°ç±»å‹Intï¼Œè¿™ä¸ªå’Œå½“å‰å¹³å°çš„æœ¬åœ°å­—æ•°ä¸€æ ·ï¼š<br>32ä½æœºå™¨ï¼ŒIntç­‰äºInt32<br>64ä½æœºå™¨ï¼ŒIntç­‰äºInt64<br>é™¤éä½ è¦ç”¨è§„å®šå¤§å°çš„æ•´æ•°ï¼Œå¦åˆ™ï¼Œä¸€èˆ¬åªè¦ç”¨Intå°±å¯ä»¥äº†ã€‚</p>
<h1 id="UInt"><a href="#UInt" class="headerlink" title="UInt"></a>UInt</h1><p>Swiftä¹Ÿæä¾›äº†æ— ç¬¦å·çš„æ•´å½¢ï¼ŒUIntï¼Œè¿™ä¸ªå’Œå½“å‰å¹³å°çš„æœ¬åœ°å­—æ•°ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼š<br>32ä½æœºå™¨ï¼ŒUIntç­‰äºUInt32<br>64ä½æœºå™¨ï¼ŒUIntç­‰äºUInt64</p>
<h1 id="æµ®ç‚¹æ•°"><a href="#æµ®ç‚¹æ•°" class="headerlink" title="æµ®ç‚¹æ•°"></a>æµ®ç‚¹æ•°</h1><p>Floating-point æ˜¯å¸¦æœ‰å°æ•°éƒ¨åˆ†çš„æ•°å­—ï¼Œæ¯”å¦‚ 3.14159ï¼Œ0.1å’Œ-273.15.<br>æµ®ç‚¹æ•°ç±»å‹æ¯”æ•´æ•°ç±»å‹è¡¨è¾¾æ›´å¤šçš„å€¼åŸŸï¼Œæ¯”å­˜åœ¨Intä¸­çš„å€¼æ›´å¤§æˆ–è€…æ›´å°ã€‚Swiftæä¾›äº†ä¸¤ä¸ªæœ‰ç¬¦å·çš„æµ®ç‚¹æ•°ç±»å‹ï¼š<br>Double è¡¨ç¤º64ä½çš„æµ®ç‚¹æ•°ã€‚<br>Float è¡¨ç¤º32ä½çš„æµ®ç‚¹æ•°ã€‚</p>
<h1 id="ç±»å‹å®‰å…¨ä¸æ¨æ–­"><a href="#ç±»å‹å®‰å…¨ä¸æ¨æ–­" class="headerlink" title="ç±»å‹å®‰å…¨ä¸æ¨æ–­"></a>ç±»å‹å®‰å…¨ä¸æ¨æ–­</h1><p>Swiftæ˜¯ç±»å‹å®‰å…¨çš„è¯­éŸ³ã€‚ç±»å‹å®‰å…¨çš„è¯­è¨€é¼“åŠ±ä½ æ¸…æ¥šçŸ¥é“è‡ªå·±ä»£ç ä½¿ç”¨çš„å€¼çš„ç±»å‹ã€‚å¦‚æœä½ çš„ä»£ç éœ€è¦Stringç±»å‹ï¼Œé‚£ä¹ˆä½ å°±ä¸è¦ä¼ é€’Intç»™å®ƒã€‚</p>
<p>å› ä¸ºSwiftæ˜¯ç±»å‹å®‰å…¨çš„ï¼Œåœ¨ç¼–è¯‘ä»£ç çš„æ—¶å€™type checksä¼šæ‰§è¡Œæ¥æ ‡è®°ä¸åŒ¹é…çš„ç±»å‹é”™è¯¯ã€‚è¿™è®©ä½ å¯ä»¥å°½å¯èƒ½æ—©çš„å‘ç°ä»£ç ä¸­çš„é”™è¯¯ã€‚</p>
<p>ç±»å‹æ£€æŸ¥å¸®ä½ é¿å…ä½¿ç”¨ä¸åŒç±»å‹çš„æ—¶å€™çŠ¯é”™ï¼Œç„¶è€Œï¼Œè¿™å¹¶ä¸æ„å‘³ä½ å¿…é¡»ç»™æ‰€æœ‰çš„å¸¸é‡å’Œå˜é‡æŒ‡å®šç±»å‹ã€‚ä½ ä¸éœ€è¦æŒ‡å®šç±»å‹ï¼ŒSwiftä½¿ç”¨type inferenceæ¥æ¨æ–­åˆé€‚çš„ç±»å‹ã€‚ç±»å‹æ¨æ–­ä½¿å¾—ç¼–è¯‘å™¨å¯ä»¥åœ¨ç¼–è¯‘ä»£ç çš„æ—¶å€™è‡ªåŠ¨æ¨æ–­è¡¨è¾¾å¼çš„ç±»å‹ï¼Œåªæ˜¯é€šè¿‡ç®€å•çš„æ£€æŸ¥ä½ æä¾›çš„å€¼ã€‚</p>
<p>å› ä¸ºæœ‰ç±»å‹æ¨æ–­ï¼ŒSwift å¯¹ç±»å‹å£°æ˜è¦æ±‚çš„æ¯”å…¶ä»–è¯­è¨€è¦å°‘çš„å¤šã€‚å¸¸é‡å’Œå˜é‡ä¾ç„¶è¦æ˜¾ç¤ºè¾“å…¥ï¼Œä½†æ˜¯å¤§éƒ¨åˆ†æŒ‡å®šç±»å‹çš„å·¥ä½œéƒ½å·²ç»å¸®ä½ åšäº†ã€‚</p>
<p>ç±»å‹æ¨æ–­åœ¨ç»™å¸¸é‡æˆ–è€…å˜é‡èµ‹åˆå€¼çš„æ—¶å€™å°¤ä¸ºæœ‰ç”¨ã€‚è¿™ä¸ªå‘ç”Ÿåœ¨ä½ å£°æ˜å¸¸é‡æˆ–è€…å˜é‡ï¼Œå¹¶ç»™ä»–ä»¬æŒ‡å®šliteral valueï¼ˆå­—é¢é‡ï¼‰çš„æ—¶å€™ã€‚æ‰€è°“çš„å­—é¢é‡å°±æ˜¯æŒ‡ç›´æ¥å‡ºç°åœ¨ä½ çš„æºç ä¸­çš„å€¼ï¼Œæ¯”å¦‚ä¸‹é¢ä¾‹å­é‡Œçš„ 42 å’Œ 3.14159</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœä½ ç»™ä¸€ä¸ªæ–°å¸¸é‡æŒ‡å®šä¸€ä¸ªå­—é¢é‡æ˜¯42ï¼Œ Swiftå°±ä¼šæ¨æ–­ä½ æƒ³è¦è¿™ä¸ªå¸¸é‡çš„ç±»å‹æ˜¯Intï¼Œ å› ä¸ºä½ ç»™ä»–åˆå§‹åŒ–ä¸€ä¸ªæ•°å­—ï¼š<br><code>let meaningOfLife = 42<br>// meaningOfLife is inferred to be of type Int</code><br>åŒæ ·ï¼Œä½ ä¹Ÿä¸éœ€è¦ç»™æµ®ç‚¹æ•°æŒ‡å®šç±»å‹ï¼ŒSwiftä¼šæ¨æ–­è¯´ä½ æƒ³è¦ä¸€ä¸ªDoubleï¼š<br><code>let pi = 3.14159<br>// pi is inferred to be of type Double</code><br>Swiftåœ¨æ¨æ–­æµ®ç‚¹æ•°çš„æ—¶å€™æ€»æ˜¯é€‰æ‹©Doubleè€Œä¸æ˜¯Float<br>å¦‚æœä½ åˆå¹¶æ•´æ•°å’Œæµ®ç‚¹æ•°åœ¨ä¸€ä¸ªè¡¨è¾¾å¼ä¸­ï¼ŒDoubleç±»å‹å°†ä¼šè¢«æ¨æ–­å‡ºæ¥ï¼š<br><code>let anotherPi = 3 + 0.14159<br>// anotherPi is also inferred to be of type Double</code></p>
<h1 id="æ•°å€¼å­—é¢é‡"><a href="#æ•°å€¼å­—é¢é‡" class="headerlink" title="æ•°å€¼å­—é¢é‡"></a>æ•°å€¼å­—é¢é‡</h1><p>æ•´æ•°å­—é¢é‡è¿™å¯ä»¥å†™ï¼š<br>åè¿›åˆ¶æ•°å­—ï¼Œæ²¡æœ‰å‰ç¼€<br>äºŒè¿›åˆ¶æ•°å­—ï¼Œç”¨0båšå‰ç¼€<br>å…«è¿›åˆ¶æ•°å­—ï¼Œç”¨0oåšå‰ç¼€<br>åå…­è¿›åˆ¶æ•°å­—ï¼Œç”¨0xåšå‰ç¼€<br>ä¸‹é¢æ‰€æœ‰æ•´æ•°å­—é¢é‡å€¼éƒ½æ˜¯17ï¼š<br><code>let decimalInteger = 17<br>let binaryInteger = 0b10001       // 17 in binary notation<br>let octalInteger = 0o21           // 17 in octal notation<br>let hexadecimalInteger = 0x11     // 17 in hexadecimal notation</code></p>
<p>æµ®ç‚¹æ•°å­—é¢é‡å¯ä»¥æ˜¯åè¿›åˆ¶æˆ–è€…åå…­è¿›åˆ¶ã€‚åœ¨åè¿›åˆ¶ç‚¹çš„ä¸¤è¾¹éƒ½å¿…é¡»æœ‰æ•°å­—ã€‚åè¿›åˆ¶æµ®ç‚¹æ•°ä¹Ÿæœ‰ä¸ªå¯é€‰çš„exponentï¼Œç”¨å¤§å°å†™eæ ‡æ˜ï¼›åå…­è¿›åˆ¶æµ®ç‚¹æ•°ä¹Ÿæœ‰exponentï¼Œç”¨å¤§å°å†™çš„pæ ‡æ˜ã€‚</p>
<p>ç”¨ exp æŒ‡æ•°è¡¨ç¤ºåè¿›åˆ¶æ•°, åŸºç¡€æ•°å­—ä¹˜ä»¥ 10exp:<br>1.25e2 æ„æ€æ˜¯ 1.25 x 102, æˆ–è€…æ˜¯ 125.0.<br>1.25e-2 æ„æ€æ˜¯ 1.25 x 10-2, æˆ–è€…æ˜¯ 0.0125.<br>ç”¨ exp æŒ‡æ•°è¡¨ç¤ºåå…­è¿›åˆ¶æ•°, åŸºç¡€æ•°å­—ä¹˜ä»¥ 2exp:</p>
<p>0xFp2 æ„æ€æ˜¯ 15 x 22, æˆ–è€…æ˜¯ 60.0.<br>0xFp-2 æ„æ€æ˜¯ 15 x 2-2, æˆ–è€…æ˜¯ 3.75.<br>ä¸‹é¢æ‰€æœ‰è¿™äº›æµ®ç‚¹æ•°å­—é¢é‡åè¿›åˆ¶æ•°éƒ½æ˜¯ 12.1875:<br><code>let decimalDouble = 12.1875<br>let exponentDouble = 1.21875e1<br>let hexadecimalDouble = 0xC.3p0</code></p>
<h1 id="æ•°å€¼ç±»å‹è½¬æ¢"><a href="#æ•°å€¼ç±»å‹è½¬æ¢" class="headerlink" title="æ•°å€¼ç±»å‹è½¬æ¢"></a>æ•°å€¼ç±»å‹è½¬æ¢</h1><p>åœ¨ä½ çš„ä»£ç ä¸­ä½¿ç”¨Intåšä¸ºä¸€èˆ¬ç”¨é€”çš„æ•´å½¢å¸¸é‡å’Œå˜é‡ï¼Œå°½å¿«çŸ¥é“ä»–ä»¬æ˜¯éè´Ÿæ•°çš„ã€‚æ—¥å¸¸å¼€å‘ä½¿ç”¨é»˜è®¤æ•´å½¢ç±»å‹æ„å‘³ç€æ•´å½¢å˜é‡å’Œå¸¸é‡ç«‹å³å¯ä»¥ä½¿ç”¨ï¼Œè€Œä¸”å®ƒä»¬åŒ¹é…æ•´å½¢å­—é¢é‡çš„æ¨æ–­ç±»å‹ã€‚</p>
<p>ç‰¹åˆ«æŒ‡å®šçš„å·¥ä½œæ‰ä¼šä½¿ç”¨å…¶ä»–çš„æ•´å½¢ç±»å‹ï¼Œå› ä¸ºæŒ‡å®šå¤§å°çš„æ•´å½¢ç±»å‹éœ€è¦é¢å¤–çš„å¼€é”€ã€‚æ—¥å¸¸å¼€å‘ä¸­ï¼Œä½¿ç”¨æŒ‡å®šå¤§å°çš„ç±»å‹å¸®åŠ©æ•è·ç‰¹å®šå€¼çš„æº¢å‡ºï¼ŒåŒæ—¶è®°å½•è¢«ä½¿ç”¨çš„æ•°æ®ã€‚</p>
<h1 id="æ•´å½¢è½¬æ¢"><a href="#æ•´å½¢è½¬æ¢" class="headerlink" title="æ•´å½¢è½¬æ¢"></a>æ•´å½¢è½¬æ¢</h1><p>ä¸åŒæ•°å€¼ç±»å‹ï¼Œå­˜å‚¨åœ¨å¸¸é‡æˆ–å˜é‡ä¸­çš„æ•°å€¼èŒƒå›´æ˜¯ä¸åŒçš„ã€‚ä¸€ä¸ªInt8å¸¸é‡æˆ–è€…å˜é‡å¯ä»¥å­˜å‚¨ -128 åˆ° 127ï¼Œ UInt8 å¸¸é‡æˆ–è€…å˜é‡èƒ½å­˜å‚¨ 0 åˆ° 255 ä¹‹é—´çš„æ•°å€¼ã€‚å¦‚æœæ•°å€¼ä¸é€‚åˆæŒ‡å®šå¤§å°çš„æ•´å½¢ç±»å‹ï¼Œç¼–è¯‘åä¼šæŠ¥é”™ã€‚</p>
<p><code>let cannotBeNegative: UInt8 = -1<br>// UInt8 cannot store negative numbers, and so this will report an error<br>let tooBig: Int8 = Int8.max + 1<br>// Int8 cannot store a number larger than its maximum value,<br>// and so this will also report an error</code></p>
<p>ä¸ºäº†è½¬æ¢ä¸€ä¸ªç‰¹å®šæ•°å€¼ç±»å‹ï¼Œå…ˆç”¨ä¸€ä¸ªå­˜åœ¨çš„å€¼åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„æƒ³è¦ç±»å‹çš„æ–°æ•°å€¼ã€‚ä¸‹é¢çš„ä¾‹å­ï¼Œå¸¸é‡twoThousandçš„ç±»å‹æ˜¯UInt16ï¼Œ è€Œå¸¸é‡oneçš„ç±»å‹æ˜¯UInt8.ä»–ä»¬ä¸èƒ½ç›´æ¥ç›¸åŠ ï¼Œå› ä¸ºç±»å‹ä¸åŒã€‚å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œè¿™ä¸ªä¾‹å­è°ƒç”¨UInt16ï¼ˆoneï¼‰æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„Uint16ï¼Œå¹¶ç”¨oneåˆå§‹åŒ–å®ƒï¼Œå¹¶åœ¨åŸæ¥çš„ä½ç½®ä½¿ç”¨è¿™ä¸ªå€¼ï¼š</p>
<p><code>let twoThousand: UInt16 = 2_000<br>let one: UInt8 = 1<br>let twoThousandAndOne = twoThousand + UInt16(one)</code></p>
<p>å› ä¸ºåŠ å¥½ä¸¤è¾¹çš„å€¼ç±»å‹éƒ½æ˜¯UInt16ï¼Œæ‰€ä»¥åŠ æ³•æ˜¯è¿›è¡Œçš„ã€‚è¾“å‡ºå¸¸é‡æ¨æ–­æ˜¯UInt16ï¼Œå› ä¸ºå®ƒæ˜¯ä¸¤ä¸ªUInt16å€¼çš„å’Œã€‚</p>
<p>SomeType(ofInitialValue) é»˜è®¤è°ƒç”¨Swiftç±»å‹çš„åˆå§‹åŒ–å‡½æ•°ï¼Œç„¶åä¼ é€’ä¸€ä¸ªåˆå§‹å€¼ã€‚è¿™ä¸ªè¯­å¥ä¹‹å‰ï¼ŒUInt16æœ‰ä¸€ä¸ªåˆå§‹åŒ–å™¨æ¥å—ä¸€ä¸ªUInt8çš„å€¼ï¼Œæ‰€ä»¥è¿™ä¸ªåˆå§‹åŒ–å™¨å°±ç”¨å­˜åœ¨çš„UInt8 åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„UInt16.è¿™é‡Œä½ ä¸èƒ½éšä¾¿ä¼ å…¥ç±»å‹-å¿…é¡»ä¼ å…¥UInt16åˆå§‹åŒ–å™¨æ¥å—çš„å€¼ã€‚</p>
<h1 id="æ•´æ•°å’Œæµ®ç‚¹æ•°è½¬æ¢"><a href="#æ•´æ•°å’Œæµ®ç‚¹æ•°è½¬æ¢" class="headerlink" title="æ•´æ•°å’Œæµ®ç‚¹æ•°è½¬æ¢"></a>æ•´æ•°å’Œæµ®ç‚¹æ•°è½¬æ¢</h1><p>æ•´æ•°å’Œæµ®ç‚¹æ•°ä¹‹é—´çš„è½¬æ¢å¿…é¡»æ˜¯æ˜¾ç¤ºçš„ï¼š<br><code>let three = 3<br>let pointOneFourOneFiveNine = 0.14159<br>let pi = Double(three) + pointOneFourOneFiveNine<br>// pi equals 3.14159, and is inferred to be of type Double</code></p>
<p>è¿™é‡Œï¼Œå¸¸é‡threeç”¨æ¥åˆ›å»ºæ–°çš„Doubleæ•°å€¼ï¼Œç°åœ¨åŠ å·ä¸¤è¾¹çš„ç±»å‹æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥å¯ä»¥ç›¸åŠ ã€‚å¦‚æœæ²¡æœ‰è¿™é‡Œçš„è½¬æ¢ï¼ŒåŠ æ³•æ˜¯ä¸å…è®¸çš„ã€‚</p>
<p>æµ®ç‚¹æ•°è½¬æ•´æ•°ä¹Ÿå¿…é¡»æ˜¯æ˜¾ç¤ºè¿›è¡Œçš„ã€‚ä¸€ä¸ªæ•´å½¢å¯ä»¥ç”¨Double æˆ–è€… Floatçš„å€¼æ¥åˆå§‹åŒ–ï¼š</p>
<p><code>let integerPi = Int(pi)<br>// integerPi equals 3, and is inferred to be of type Int</code><br>ç”¨è¿™ç§æ–¹å¼åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„æ•´å½¢æ•°å€¼ï¼Œæµ®ç‚¹æ•°ä¼šè¢«æˆªæ–­ã€‚æ„æ€å°±æ˜¯ 4.75 ä¼šå˜æˆ 4ï¼Œ -3.9ä¼šå˜æˆ-3.</p>
<h1 id="ç±»å‹åˆ«å"><a href="#ç±»å‹åˆ«å" class="headerlink" title="ç±»å‹åˆ«å"></a>ç±»å‹åˆ«å</h1><p>type aliases ä¸ºå·²çŸ¥ç±»å‹å®šä¸€ä¸ªåˆ«åã€‚å®šä¹‰ç±»å‹åˆ«åä½¿ç”¨typealiaså…³é”®å­—ã€‚</p>
<p>ç±»å‹åˆ«ååœ¨ä½ æƒ³é€šè¿‡åå­—è°ƒç”¨ä¸€ä¸ªå·²çŸ¥ç±»å‹çš„æ—¶å€™å¾ˆæœ‰ç”¨ï¼Œè¿™ç§åå­—åœ¨ä¸Šä¸‹æ–‡ä¸­æ›´åˆé€‚ï¼Œæ¯”å¦‚ä½¿ç”¨æŒ‡å®šå¤§å°çš„å¤–éƒ¨æ•°æ®æ—¶ï¼š<br><code>typealias AudioSample = UInt16</code><br>å®šä¹‰å¥½ç±»å‹åˆ«ååï¼Œä½ å¯ä»¥åœ¨ä»»ä½•ä½¿ç”¨åŸåçš„åœ°æ–¹ä½¿ç”¨å®ƒï¼š<br><code>var maxAmplitudeFound = AudioSample.min<br>// maxAmplitudeFound is now 0</code><br>è¿™é‡Œï¼ŒAudioSampleå°±æ˜¯UInt16çš„åˆ«åã€‚å› ä¸ºæ˜¯åˆ«åï¼Œè°ƒç”¨AudioSample.minå®é™…ä¸Šå°±æ˜¯è°ƒç”¨UInt16.minï¼Œè¿™ç»™maxAmplitudeFoundå˜é‡æä¾›ä¸€ä¸ªåˆå§‹å€¼0.</p>
<h1 id="å¸ƒå°”å€¼"><a href="#å¸ƒå°”å€¼" class="headerlink" title="å¸ƒå°”å€¼"></a>å¸ƒå°”å€¼</h1><p>Swiftæœ‰ä¸ªä¸€åŸºç¡€å¸ƒå°”ç±»å‹ï¼Œ å«åš Boolã€‚å¸ƒå°”å€¼ç”¨ä½œé€»è¾‘è°ƒç”¨ï¼Œå› ä¸ºå®ƒåªèƒ½æ˜¯trueæˆ–è€…falseã€‚Swiftæä¾›äº†ä¸¤ä¸ªå¸ƒå°”å¸¸é‡å€¼ï¼Œtrueå’ŒfalseL<br><code>let orangesAreOrange = true<br>let turnipsAreDelicious = false</code></p>
<p>orangesAreOrange å’Œ turnipsAreDelicious çš„ç±»å‹è¢«æ¨æ–­æ˜¯Boolã€‚åŒä¸Šé¢çš„Int å’Œ Double ä¸€æ ·ï¼Œä½ ä¸éœ€è¦å£°æ˜å¸¸é‡æˆ–è€…å˜é‡ä¸ºBool</p>
<p>å¸ƒå°”å€¼åœ¨if è¯­å¥è¿™ç§æ¡ä»¶è¯­å¥ä¸­å°¤å…¶æœ‰ç”¨ï¼š<br><code>if turnipsAreDelicious {<br>    print(â€œMmm, tasty turnips!â€)<br>} else {<br>    print(â€œEww, turnips are horrible.â€)<br>}<br>// Prints â€œEww, turnips are horrible.â€</code></p>
<p>Swift ç±»å‹å®‰å…¨é˜²æ­¢éå¸ƒå°”å€¼è¢«æ›¿æ¢æˆå¸ƒå°”å€¼ã€‚ä¸‹é¢çš„ä¾‹å­æŠ¥ä¸€ä¸ªç¼–è¯‘é”™è¯¯ï¼š</p>
<p><code>let i = 1<br>if i {<br>    // this example will not compile, and will report an error<br>}</code></p>
<p>æ›¿ä»£çš„ä¾‹å­å¦‚ä¸‹ï¼š<br><code>let i = 1<br>if i == 1 {<br>    // this example will compile successfully<br>}</code></p>
<p>i==1æ¯”è¾ƒçš„ç»“æœæ˜¯Booç±»å‹ï¼Œæ‰€ä»¥ç¬¬äºŒä¸ªä¾‹å­é€šè¿‡äº†ç±»å‹æ£€æŸ¥ã€‚</p>
<p>å’Œå…¶ä»–ç±»å‹å®‰å…¨ä¾‹å­ä¸€æ ·ï¼Œè¿™ä¸ªæ–¹æ³•é¿å…äº†çªå‘çš„é”™è¯¯ï¼Œç¡®ä¿ç‰¹åˆ«ä»£ç å—æ¨æ–­æ€»æ˜¯æ¸…æ™°çš„ã€‚</p>
<h1 id="å…ƒç»„"><a href="#å…ƒç»„" class="headerlink" title="å…ƒç»„"></a>å…ƒç»„</h1><p>Tuples åŒ…å«å¤šå€¼åˆ°ä¸€ä¸ªå•ç‹¬çš„ç»„åˆå€¼ã€‚å…ƒç»„é‡Œçš„å€¼å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼Œå½¼æ­¤ä¹‹é—´å¯ä»¥æ˜¯ä¸åŒç±»å‹ã€‚</p>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ(404, â€œNot Foundâ€)æ˜¯ä¸€ä¸ªå…ƒç»„ï¼Œä»£è¡¨Httpçš„é”™è¯¯ç ã€‚ä¸€ä¸ªHttpé”™è¯¯ç æ˜¯è®¿é—®ç½‘é¡µæ—¶ç½‘é¡µæœåŠ¡å™¨è¿”å›çš„ç‰¹æ®Šæ•°å€¼ã€‚å¦‚æœä½ è¯·æ±‚çš„ç½‘é¡µä¸å­˜åœ¨ï¼Œå°±ä¼šè¿”å›404 Not Foundçš„é”™è¯¯ç ã€‚</p>
<p><code>let http404Error = (404, â€œNot Foundâ€)<br>// http404Error is of type (Int, String), and equals (404, â€œNot Foundâ€)</code></p>
<p>(404, â€œNot Foundâ€) å…ƒç»„åŒ…å«äº†ä¸€ä¸ªInt å’Œä¸€ä¸ªStringï¼Œä¸€ä¸ªæ•°å­—å’Œä¸€ä¸ªäººå·¥å¯è¯»çš„æè¿°ã€‚å®ƒå¯ä»¥æè¿°æˆä¸€ä¸ªç±»å‹ä¸ºï¼ˆInt, Stringï¼‰çš„å…ƒç»„ã€‚</p>
<p>ä½ å¯ä»¥ç”¨ä»»ä½•å˜åŒ–çš„ç±»å‹åˆ›å»ºå…ƒç»„ï¼Œä½ å¯ä»¥æŒ‰ç…§éœ€è¦è¦åˆ›å»ºä¸åŒçš„å…ƒç»„ã€‚</p>
<p>ä½ å¯ä»¥åˆ†è§£å…ƒç»„åˆ°åˆ†ç¦»çš„å¸¸é‡æˆ–è€…å˜é‡ï¼Œé€šå¸¸ä½ ä¼šè®¿é—®å®ƒä»¬ï¼š</p>
<p><code>let (statusCode, statusMessage) = http404Error<br>print(â€œThe status code is (statusCode)â€)<br>// Prints â€œThe status code is 404â€<br>print(â€œThe status message is (statusMessage)â€)<br>// Prints â€œThe status message is Not Foundâ€</code></p>
<p>å¦‚æœä½ åªéœ€è¦å…ƒç»„ä¸­çš„æŸäº›å€¼ï¼Œå½“ä½ åˆ†è§£å…ƒç»„çš„æ—¶å€™å¯ä»¥ç”¨ä¸‹åˆ’çº¿æ›¿æ¢å¿½ç•¥çš„éƒ¨åˆ†ï¼š<br><code>let (justTheStatusCode, _) = http404Error<br>print(â€œThe status code is (justTheStatusCode)â€)<br>// Prints â€œThe status code is 404â€</code></p>
<p>æˆ–è€…ï¼Œé€šè¿‡ä¸‹æ ‡è®¿é—®å…ƒç»„ä¸­å•ç‹¬çš„å…ƒç´ å€¼ï¼š</p>
<p><code>print(â€œThe status code is (http404Error.0)â€)<br>// Prints â€œThe status code is 404â€<br>print(â€œThe status message is (http404Error.1)â€)<br>// Prints â€œThe status message is Not Foundâ€</code></p>
<p>ä½ å¯ä»¥åœ¨å…ƒç»„å®šä¹‰æ—¶ï¼Œç»™å•ç‹¬çš„åŸè‰²å‘½åï¼š</p>
<p><code>let http200Status = (statusCode: 200, description: â€œOKâ€)</code></p>
<p>å¦‚æœä½ åœ¨å…ƒç»„ä¸­å‘½åäº†å…ƒç´ ï¼Œé‚£ä¹ˆï¼Œä½ å¯ä»¥åœ¨è®¿é—®å…ƒç´ å€¼çš„æ—¶å€™é€šè¿‡åå­—è®¿é—®å®ƒä»¬çš„å€¼ï¼š</p>
<p><code>print(â€œThe status code is (http200Status.statusCode)â€)<br>// Prints â€œThe status code is 200â€<br>print(â€œThe status message is (http200Status.description)â€)<br>// Prints â€œThe status message is OKâ€</code></p>
<h1 id="å¯é€‰ç±»å‹"><a href="#å¯é€‰ç±»å‹" class="headerlink" title="å¯é€‰ç±»å‹"></a>å¯é€‰ç±»å‹</h1><p>å½“ä¸€ä¸ªå€¼å¯èƒ½ç¼ºå¤±çš„æ—¶å€™ä½¿ç”¨optionalsã€‚ä¸€ä¸ªå¯é€‰å€¼åŒ…å«ä¸¤ç§å¯èƒ½ï¼šæˆ–è€…æœ‰ä¸€ä¸ªå€¼ï¼Œä½ å¯ä»¥é€šè¿‡æ‹†åŒ…è®¿é—®è¿™ä¸ªå€¼ï¼Œæˆ–è€…æ ¹æœ¬æ²¡æœ‰å€¼ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­ï¼Œè¯´æ˜å¯é€‰ç±»å‹å¦‚ä½•åœ¨å€¼ç¼ºå¤±çš„æ—¶å€™ä½¿ç”¨ã€‚Swift çš„Int ç±»å‹æœ‰ä¸€ä¸ªåˆå§‹åŒ–å™¨ï¼Œå¯ä»¥æŠŠString è½¬æ¢ä¸ºInt å€¼ã€‚ä¸è¿‡ï¼Œä¸æ˜¯æ¯ä¸€ä¸ªå­—ç¬¦ä¸²éƒ½å¯ä»¥è½¬æ¢çš„ã€‚â€œ123â€å¯ä»¥è½¬æ¢ä¸º123ï¼Œä½†æ˜¯â€œhelloworldâ€å°±ä¸å¯ä»¥ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­ä½¿ç”¨åˆå§‹åŒ–å™¨å»è½¬æ¢Stringï¼š<br><code>let possibleNumber = â€œ123â€<br>let convertedNumber = Int(possibleNumber)<br>// convertedNumber is inferred to be of type â€œInt?â€, or â€œoptional Intâ€</code></p>
<p>å› ä¸ºåˆå§‹åŒ–å™¨æœ‰å¯èƒ½å¤±è´¥ï¼Œæ‰€ä»¥å®ƒè¿”å›ä¸€ä¸ªoptional Intï¼Œè€Œä¸æ˜¯Intã€‚ä¸€ä¸ªå¯é€‰Intå†™ä½œIntï¼Ÿï¼Œä¸æ˜¯Intã€‚é—®å·è¡¨ç¤ºåŒ…å«çš„å€¼æ˜¯å¯é€‰çš„ï¼Œæ„æ€å°±æ˜¯å®ƒå¯èƒ½åŒ…å«æŸä¸ªIntå€¼ï¼Œä¹Ÿå¯èƒ½ä¸åŒ…å«ä»»ä½•å€¼ã€‚</p>
<h1 id="nil"><a href="#nil" class="headerlink" title="nil"></a>nil</h1><p>é€šè¿‡èµ‹å€¼nilæ¥æŠŠå¯é€‰å€¼è®¾ç½®æˆæ— å€¼çŠ¶æ€ï¼š</p>
<p><code>var serverResponseCode: Int? = 404<br>// serverResponseCode contains an actual Int value of 404<br>serverResponseCode = nil<br>// serverResponseCode now contains no value</code></p>
<p>å¦‚æœå¦‚æœå®šä¹‰ä¸€ä¸ªå¯é€‰å˜é‡ï¼Œä½†æ˜¯æ²¡æœ‰æä¾›é»˜è®¤å€¼ï¼Œè¿™ä¸ªå˜é‡ä¼šè¢«è‡ªåŠ¨è®¾ç½®ä¸ºnilï¼š<br><code>var surveyAnswer: String?<br>// surveyAnswer is automatically set to nil</code></p>
<h1 id="ifè¯­å¥å’Œå¼ºåˆ¶æ‹†åŒ…"><a href="#ifè¯­å¥å’Œå¼ºåˆ¶æ‹†åŒ…" class="headerlink" title="ifè¯­å¥å’Œå¼ºåˆ¶æ‹†åŒ…"></a>ifè¯­å¥å’Œå¼ºåˆ¶æ‹†åŒ…</h1><p>ç”¨ifè¯­å¥ï¼Œé€šè¿‡ä¸nilåšæ¯”è¾ƒï¼Œä½ å¯ä»¥çŸ¥é“ä¸€ä¸ªå¯é€‰é¡¹æ˜¯å¦åŒ…å«ä¸€ä¸ªå€¼ï¼Œç”¨ï¼ˆ==ï¼‰æˆ–è€…ï¼ˆï¼=ï¼‰æ¥åšæ¯”è¾ƒã€‚å¦‚æœä¸€ä¸ªå¯é€‰é¡¹æœ‰å€¼ï¼Œé‚£ä¹ˆå®ƒä¸ç­‰äºniï¼š<br><code>if convertedNumber != nil {<br>    print(â€œconvertedNumber contains some integer value.â€)<br>}<br>// Prints â€œconvertedNumber contains some integer value.â€</code></p>
<p>ä¸€æ—¦ä½ ç¡®å®šå¯é€‰é¡¹åŒ…å«ä¸€ä¸ªå€¼ï¼Œä½ å¯ä»¥é€šè¿‡åœ¨å¯é€‰é¡¹çš„åå­—åé¢åŠ ï¼ˆï¼ï¼‰æ¥è·å–å®ƒçš„å€¼ã€‚è¿™ä¸ªæ„Ÿå¹å·æ˜¯è¯´ï¼šæˆ‘çŸ¥é“è¿™ä¸ªå¯é€‰é¡¹ä¸€å®šæœ‰å€¼ï¼›è¯·ä½¿ç”¨å®ƒï¼è¿™å°±æ˜¯å¼ºåˆ¶æ‹†åŒ…è·å–å¯é€‰é¡¹çš„å€¼ï¼š<br><code>if convertedNumber != nil {<br>    print(â€œconvertedNumber has an integer value of (convertedNumber!).â€)<br>}<br>// Prints â€œconvertedNumber has an integer value of 123.â€</code></p>
<h1 id="å¯é€‰ç»‘å®š"><a href="#å¯é€‰ç»‘å®š" class="headerlink" title="å¯é€‰ç»‘å®š"></a>å¯é€‰ç»‘å®š</h1><p>ä½¿ç”¨optional bindingæ‰¾å‡ºä¸€ä¸ªå¯é€‰é¡¹æ˜¯å¦åŒ…å«ä¸€ä¸ªå€¼ã€‚å¦‚æœè¿™æ ·çš„è¯ï¼Œä½¿è¿™ä¸ªå€¼ä½œä¸ºä¸€ä¸ªä¸´æ—¶å¸¸é‡æˆ–è€…å˜é‡ã€‚å¯é€‰ç»‘å®šç”¨ifå’Œwhileè¯­å¥æ¥åˆ¤æ–­å¯é€‰é¡¹çš„å€¼ï¼Œç„¶åæå–è¿™ä¸ªå€¼åˆ°å¸¸é‡æˆ–è€…å˜é‡ï¼Œä½œä¸ºæ“ä½œçš„ä¸€éƒ¨åˆ†ã€‚</p>
<p>ç”¨ifè¯­å¥å†™å¯é€‰ç»‘å®šåƒä¸‹é¢è¿™æ ·ï¼š</p>
<p><code> if let constantName = someOptional {<br>    statements<br>}<br></code></p>
<p>ä½ å¯ä»¥é‡å†™possibleNumberå®ä¾‹ï¼Œé€šè¿‡ä½¿ç”¨å¯é€‰ç»‘å®šè€Œä¸æ˜¯å¼ºåˆ¶æ‹†åŒ…ï¼š</p>
<p><code> if let actualNumber = Int(possibleNumber) {<br>    print(â€œ\â€(possibleNumber)\â€ has an integer value of (actualNumber)â€)<br>} else {<br>    print(â€œ\â€(possibleNumber)\â€ could not be converted to an integerâ€)<br>}<br>// Prints â€œâ€123â€ has an integer value of 123â€</code></p>
<p>ä»£ç å¯ä»¥è¿™æ ·è§£é‡Š;<br>å¦‚æœIntï¼ˆpossibleNumberï¼‰è¿”å›çš„å¯é€‰IntåŒ…å«ä¸€ä¸ªå€¼ï¼Œè®¾ç½®ä¸€ä¸ªæ–°çš„å¸¸é‡å«actualNumberï¼Œå®ƒçš„å€¼å°±æ˜¯åŒ…å«åœ¨å¯é€‰é¡¹ä¸­çš„å€¼ã€‚</p>
<p>å¦‚æœè½¬æ¢æˆåŠŸï¼ŒactualNumber å¸¸é‡å˜çš„å¯ç”¨ï¼Œæ‰§è¡Œç¬¬ä¸€ä¸ªåˆ†æ”¯çš„è¯­å¥ã€‚å› ä¸ºå·²ç»åˆå§‹åŒ–äº†å¯é€‰é¡¹çš„å€¼ï¼Œæ‰€ä»¥ä¸éœ€è¦ç”¨æ„Ÿå¹å·å»æ‹†åŒ…ã€‚</p>
<p>ä½ å¯ä»¥åŒæ—¶ä½¿ç”¨å¸¸é‡å’Œå˜é‡ï¼Œå¦‚æœä½ æƒ³æ“ä½œifè¯­å¥ç¬¬ä¸€ä¸ªåˆ†æ”¯é‡Œçš„actualNumberï¼Œä½ å¯èƒ½è¦å†™ if var actualNumberæ¥æ›¿æ¢ä»£ç ï¼Œç„¶åå¯é€‰é¡¹çš„å€¼ä¼šå˜æˆå˜é‡å€¼è€Œä¸æ˜¯å¸¸é‡å€¼ã€‚</p>
<p>ä½ å¯ä»¥åœ¨å•ç‹¬çš„ifè¯­å¥åŒ…æ‹¬å°½å¯èƒ½å¤šçš„å¯é€‰ç»‘å®šå’Œå¸ƒå°”æ¡ä»¶ï¼Œç”¨é€—å·åˆ†å¼€å³å¯ã€‚å¦‚æœä»»ä½•å¯é€‰é¡¹çš„å€¼ä¸ºnilæˆ–è€…å¸ƒå°”æ¡ä»¶ç­‰äºfalseï¼Œifæ¡ä»¶è¢«è®¤ä¸ºæ˜¯falseã€‚ä¸‹é¢çš„ifè¯­å¥æ˜¯ä¸€æ ·çš„ï¼š</p>
<p><code>if let firstNumber = Int(â€œ4â€), let secondNumber = Int(â€œ42â€), firstNumber &lt; secondNumber &amp;&amp; secondNumber &lt; 100 {<br>    print(â€œ(firstNumber) &lt; (secondNumber) &lt; 100â€)<br>}<br>// Prints â€œ4 &lt; 42 &lt; 100â€</code></p>
<p>if let firstNumber = Int(â€œ4â€) {<br>    if let secondNumber = Int(â€œ42â€) {<br>        if firstNumber &lt; secondNumber &amp;&amp; secondNumber &lt; 100 {<br>            print(â€œ(firstNumber) &lt; (secondNumber) &lt; 100â€)<br>        }<br>    }<br>}<br>// Prints â€œ4 &lt; 42 &lt; 100â€</p>
<h1 id="éšå¼æ‹†åŒ…å¯é€‰é¡¹"><a href="#éšå¼æ‹†åŒ…å¯é€‰é¡¹" class="headerlink" title="éšå¼æ‹†åŒ…å¯é€‰é¡¹"></a>éšå¼æ‹†åŒ…å¯é€‰é¡¹</h1><p>å¦‚ä¸Šæ‰€è¿°ï¼Œå¯é€‰é¡¹è¡¨ç¤ºä¸€ä¸ªå¸¸é‡æˆ–è€…å˜é‡å¯ä»¥æ²¡æœ‰å€¼ã€‚å¯é€‰é¡¹å¯ä»¥ç”¨ifè¯­å¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨å€¼ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œå¯ä»¥æœ‰æ¡ä»¶ç”¨å¯é€‰ç»‘å®šæ‹†åŒ…æ¥è®¿é—®å¯é€‰é¡¹çš„å€¼ã€‚</p>
<p>æœ‰æ—¶å€™ï¼Œé€šè¿‡ç¨‹åºçš„ç»“æ„å¯ä»¥å¾ˆæ¸…æ¥šçš„çŸ¥é“å¯é€‰é¡¹æœ‰å€¼ï¼Œç„¶åè¿™ä¸ªå€¼è¢«ç¬¬ä¸€æ¬¡è®¾ç½®ã€‚è¿™ç§æƒ…å†µï¼Œå°±ä¸éœ€è¦æ¯æ¬¡éƒ½åˆ¤æ–­å’Œæ‹†åŒ…äº†ï¼Œå› ä¸ºå¯ä»¥å®‰å…¨çš„å‡è®¾æ€»æ˜¯æœ‰å€¼ã€‚</p>
<p>è¿™ç§å¯é€‰é¡¹å®šä¹‰ä¸ºéšå¼æ‹†åŒ…å¯é€‰é¡¹ã€‚éšå¼æ‹†åŒ…å¯é€‰é¡¹çš„å†™æ³•æ˜¯ï¼Œåœ¨ç±»å‹åé¢å‡è®¾æ„Ÿå¹å·è€Œä¸æ˜¯é—®å·ã€‚</p>
<p>å½“å¯é€‰é¡¹çš„å€¼åœ¨é¦–æ¬¡å®šä¹‰åå°±èƒ½ç¡®å®šå­˜åœ¨çš„äº‹ï¼Œéšå¼æ‹†åŒ…å¯é€‰é¡¹å¾ˆæœ‰ç”¨ã€‚éšå¼æ‹†åŒ…å¯é€‰é¡¹ä¸»è¦ç”¨åœ¨ç±»çš„åˆå§‹åŒ–ã€‚</p>
<p>éšå¼æ‹†åŒ…å¯é€‰é¡¹åœ¨è¿™ç§åœºæ™¯ä¸‹ï¼Œæ˜¯æ­£å¸¸å¯é€‰é¡¹ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥ç”¨ä½œä¸€ä¸ªéå¯é€‰é¡¹ï¼Œæ— éœ€æ¯æ¬¡è®¿é—®éƒ½æ‹†åŒ…ã€‚ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†ï¼Œå¯é€‰å­—ç¬¦ä¸²å’Œéšå¼æ‹†åŒ…å¯é€‰é¡¹å­—ç¬¦ä¸²ä½œä¸ºæ˜¾ç¤ºStringæ—¶è®¿é—®å®ƒä»¬åŒ…å«çš„å€¼çš„ä¸åŒè¡Œä¸ºã€‚</p>
<p><code>let possibleString: String? = â€œAn optional string.â€<br>let forcedString: String = possibleString! // requires an exclamation mark</code></p>
<p>let assumedString: String! = â€œAn implicitly unwrapped optional string.â€<br>let implicitString: String = assumedString // no need for an exclamation mark</p>
<p>ä½ ä¾ç„¶å¯ä»¥æŠŠéšå¼æ‹†åŒ…å¯é€‰é¡¹å½“åšæ­£å¸¸çš„å¯é€‰é¡¹ï¼Œæ¥åˆ¤æ–­å®ƒæ˜¯å¦åŒ…å«ä¸€ä¸ªå€¼ï¼š</p>
<p><code>if assumedString != nil {<br>    print(assumedString)<br>}<br>// Prints â€œAn implicitly unwrapped optional string.â€</code></p>
<p>ä½ å¯ä»¥ç»“åˆå¯é€‰ç»‘å®šæ¥ä½¿ç”¨éšå¼æ‹†åŒ…å¯é€‰é¡¹ï¼Œç„¶ååœ¨ä¸€è¡Œè¯­å¥ä¸­åˆ¤æ–­å’Œæ‹†åŒ…å®ƒçš„å€¼ï¼š</p>
<p><code>if let definiteString = assumedString {<br>    print(definiteString)<br>}<br>// Prints â€œAn implicitly unwrapped optional string.â€</code></p>
<h1 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h1><p>ä½¿ç”¨error handling å“åº”ç¨‹åºæ‰§è¡Œä¸­é”™è¯¯æ¡ä»¶ã€‚<br>ä¸å¯é€‰é¡¹åšå¯¹ç…§ï¼Œå¯é€‰é¡¹ç”¨æœ‰æ— å€¼æ¥è¡¨ç¤ºä¸€ä¸ªå‡½æ•°çš„æˆåŠŸå¤±è´¥ï¼Œé”™è¯¯å¤„ç†å…è®¸ä½ æ£€æµ‹è¿èµ°çš„å¤±è´¥åŸå› ï¼ŒåŒæ—¶å¦‚æœå¿…è¦çš„è¯ï¼Œä¼šæŠŠé”™è¯¯ä¼ é€’åˆ°ç¨‹åºçš„å¦å¤–ä¸€éƒ¨åˆ†ã€‚</p>
<p>å½“å‡½æ•°é‡åˆ°ä¸€ä¸ªé”™è¯¯æƒ…å†µï¼Œå®ƒå°±ä¼šthrows ä¸€ä¸ªé”™è¯¯ã€‚å‡½æ•°è°ƒç”¨è€…å¯ä»¥æ•è·è¿™ä¸ªé”™å¹¶æ­£ç¡®å“åº”ã€‚</p>
<p><code>func canThrowAnError() throws {<br>    // this function may or may not throw an error<br>}</code></p>
<p>ä¸€ä¸ªå‡½æ•°è¡¨æ˜å®ƒå¯ä»¥é€šè¿‡åœ¨å®šä¹‰ä¸­åŒ…å«throwså…³é”®è¯æ¥æŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚å½“ä½ è°ƒç”¨è¿™ä¸ªå¯ä»¥æŠ›å‡ºé”™è¯¯çš„å‡½æ•°æ—¶ï¼Œä½ è¦å‡†å¤‡tryå…³é”®è¯ã€‚</p>
<p>Swift è‡ªåŠ¨æŠŠé”™è¯¯å¾€å¤–æŠ›çŸ¥é“å®ƒè¢«ä¸€ä¸ªcatchè¯­å¥å¤„ç†ã€‚</p>
<p><code>do {<br>    try canThrowAnError()<br>    // no error was thrown<br>} catch {<br>    // an error was thrown<br>}</code></p>
<p>do è¯­å¥åˆ›å»ºäº†ä¸€ä¸ªä»£ç å—ï¼Œå®ƒå…è®¸é”™è¯¯å¯ä»¥ä¼ é€’ç»™ä¸€ä¸ªæˆ–è€…å¤šä¸ªcatch é¡¹ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªåˆ—å­ï¼Œå±•ç¤ºå“åº”ä¸åŒé”™è¯¯æ¡ä»¶çš„é”™è¯¯å¤„ç†æ–¹å¼ï¼š</p>
<p><code>func makeASandwich() throws {<br>    // â€¦<br>}</code></p>
<p>do {<br>    try makeASandwich()<br>    eatASandwich()<br>} catch SandwichError.outOfCleanDishes {<br>    washDishes()<br>} catch SandwichError.missingIngredients(let ingredients) {<br>    buyGroceries(ingredients)<br>}</p>
<p>åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œå¦‚æœæ²¡æœ‰å¹²å‡€çš„é¤å…·å¯ç”¨æˆ–è€…ä»»ä½•è°ƒæ–™ç¡®å®ï¼ŒmakeASandwichå°†ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚å› ä¸ºmakeASandwichå¯ä»¥æŠ›å‡ºé”™è¯¯ï¼Œæ‰€ä»¥å‡½æ•°è°ƒç”¨åŒ…å«åœ¨tryè¡¨è¾¾å¼ã€‚ç»è¿‡doè¯­å¥åŒ…å«å¤„ç†ï¼Œä»»ä½•æŠ›å‡ºçš„é”™è¯¯éƒ½ä¼šä¼ é€’åˆ°catché¡¹ã€‚</p>
<p>å¦‚æœæ²¡æœ‰é”™è¯¯æŠ›å‡ºï¼ŒeatASandwichå‡½æ•°ä¼šè¢«è°ƒç”¨ã€‚å¦‚æœä¸€ä¸ªé”™è¯¯æŠ›å‡ºç„¶ååŒ¹é…SandwichError.outOfCleanDishesè¿™ä¸ªæ¡ä»¶ï¼Œé‚£ä¹ˆwashDishesä¼šè¢«è°ƒç”¨ã€‚å¦‚æœä¸€ä¸ªé”™è¯¯æŠ›å‡ºç„¶ååŒ¹é…SandwichError.missingIngredientsæ¡ä»¶ï¼Œé‚£ä¹ˆbuyGroceriesä¼šè¢«è°ƒç”¨</p>
<h1 id="åŸºç¡€è¿ç®—ç¬¦"><a href="#åŸºç¡€è¿ç®—ç¬¦" class="headerlink" title="åŸºç¡€è¿ç®—ç¬¦"></a>åŸºç¡€è¿ç®—ç¬¦</h1><p>operator æ˜¯ç‰¹æ®Šçš„ç¬¦å·æˆ–è€…çŸ­è¯­ï¼Œç”¨æ¥æ£€æŸ¥ï¼Œæ”¹å˜ï¼Œæˆ–è€…åˆå¹¶æ•°å€¼ã€‚æ¯”å¦‚ï¼ŒåŠ å·ï¼ˆ+ï¼‰ç”¨æ¥åŠ ä¸¤ä¸ªæ•°å€¼ï¼Œæ¯”å¦‚ let = 1 + 2ï¼Œé€»è¾‘ä¸ï¼ˆ&amp;&amp;ï¼‰åˆå¹¶ä¸¤ä¸ªå¸ƒå°”å€¼ï¼Œæ¯”å¦‚ enteredDoorCode &amp;&amp; passedRetinaScan<br>Swiftæ”¯æŒå¤§éƒ¨åˆ†çš„Cè¯­è¨€æ“ä½œç¬¦ï¼Œå¹¶ä¸”æå‡äº†æ¶ˆé™¤ä¸€èˆ¬ç¼–ç é”™è¯¯çš„èƒ½åŠ›ã€‚èµ‹å€¼è¿ç®—ç¬¦ï¼ˆ=ï¼‰ä¸ä¼šè¿”å›ä¸€ä¸ªå€¼ï¼Œç”¨æ¥é˜²æ­¢é”™è¯¯æ˜¯ä½¿ç”¨ï¼ˆ==ï¼‰ã€‚ç®—æ•°è¿ç®—ç¬¦â€”ï¼ˆ+ï¼Œ-ï¼Œ*ï¼Œ/ï¼Œ%ç­‰ç­‰ï¼‰ç›‘æµ‹å’Œæ‹’ç»å€¼æº¢å‡ºï¼Œä¸ºäº†é¿å…å€¼æº¢å‡ºé€ æˆæœªçŸ¥çš„ç»“æœã€‚ä½ å¯ä»¥ç”¨Swiftçš„æº¢å‡ºè¿ç®—ç¬¦é€‰æ‹©å€¼æº¢å‡ºè¡Œä¸ºã€‚</p>
<p>SwiftåŒæ—¶æä¾›äº†ä¸¤ä¸ªèŒƒå›´è¿ç®—ç¬¦ï¼ˆa..&lt;bå’Œaâ€¦bï¼‰ï¼Œè¿™åœ¨Cè¯­è¨€é‡Œæ²¡æœ‰ã€‚è¿™äº›ä½œä¸ºè¡¨è¾¾ä¸€ä¸ªèŒƒå›´å€¼çš„å¿«æ·æ–¹å¼ã€‚</p>
<p>è¿™ä¸ªç« èŠ‚ä»‹ç»Swiftçš„æ™®é€šè¿ç®—ç¬¦ã€‚Advanced Operators åŒ…å«äº†Swiftçš„é«˜çº§è¿ç®—ç¬¦ï¼Œæè¿°å¦‚ä½•å®šä¹‰ä½ è‡ªå·±çš„è¿ç®—ç¬¦ï¼Œç„¶åä¸ºä½ è‡ªå®šä¹‰çš„ç±»å‹å®ç°æ ‡å‡†è¿ç®—ç¬¦ã€‚</p>
<h1 id="æœ¯è¯­"><a href="#æœ¯è¯­" class="headerlink" title="æœ¯è¯­"></a>æœ¯è¯­</h1><p>è¿ç®—ç¬¦æ˜¯ä¸€å…ƒçš„ï¼ŒäºŒå…ƒçš„ï¼Œæˆ–è€…ä¸‰å…ƒçš„ï¼š<br>    ä¸€å…ƒè¿ç®—ç¬¦æ“ä½œå•ä¸€ç›®æ ‡ï¼ˆæ¯”å¦‚-aï¼‰ã€‚ä¸€å…ƒå‰ç¼€æ“ä½œè´¹ç›´æ¥å†™åœ¨ç›®æ ‡å‰ï¼ˆæ¯”å¦‚ï¼bï¼‰ï¼Œä¸€å…ƒåç¼€æ“ä½œè´¹åˆ™ç›´æ¥å‡ºç°åœ¨ç›®æ ‡åï¼ˆæ¯”å¦‚cï¼ï¼‰ã€‚<br>    äºŒå…ƒè¿ç®—ç¬¦æ“ä½œä¸¤ä¸ªç›®æ ‡ï¼ˆæ¯”å¦‚2+3ï¼‰ï¼Œå¹¶ä¸”å‡ºç°åœ¨ä¸¤ä¸ªç›®æ ‡çš„ä¸­é—´ã€‚<br>    ä¸‰å…ƒè¿ç®—ç¬¦æ“ä½œä¸‰ä¸ªç›®æ ‡ï¼Œè·ŸCè¯­è¨€ä¸€æ ·ï¼ŒSwift åªæœ‰ä¸€ä¸ªä¸‰å…ƒè¿ç®—ç¬¦ï¼Œä¹Ÿå°±æ˜¯ä¸‰å…ƒæ¡ä»¶è¿ç®—ç¬¦ï¼ˆa ï¼Ÿb ï¼šcï¼‰ã€‚<br>è¿ç®—ç¬¦ä½œç”¨çš„å€¼æ˜¯æ“ä½œæ•°ã€‚åœ¨è¡¨è¾¾å¼1+2é‡Œï¼Œ+å·æ˜¯äºŒå…ƒè¿ç®—ç¬¦ï¼Œä¸¤ä¸ªæ“ä½œæ•°åˆ†åˆ«æ˜¯1å’Œ2.</p>
<h1 id="èµ‹å€¼è¿ç®—ç¬¦"><a href="#èµ‹å€¼è¿ç®—ç¬¦" class="headerlink" title="èµ‹å€¼è¿ç®—ç¬¦"></a>èµ‹å€¼è¿ç®—ç¬¦</h1><p>assignment operatorï¼ˆa=bï¼‰ç”¨bçš„å€¼åˆå§‹åŒ–æˆ–è€…æ›´æ–°açš„å€¼ã€‚<br><code>let b = 10<br>var a = 5<br>a = b<br>// a is now equal to 10</code><br>å¦‚æœèµ‹å€¼è¯­å¥çš„å³ä¾§æ˜¯å¤šå€¼çš„å…ƒç»„ï¼Œå®ƒçš„å…ƒç´ å¯ä»¥ä¸€æ¬¡åˆ†è§£ä¸ºå¤šä¸ªå¸¸é‡æˆ–è€…å˜é‡ï¼š</p>
<p><code>let (x, y) = (1, 2)<br>// x is equal to 1, and y is equal to 2</code><br>ä¸Cè¯­è¨€ å’Œ Objective-Cè¯­è¨€ä¸åŒï¼ŒSwiftèµ‹å€¼è¿ç®—ç¬¦è‡ªèº«ä¸è¿”å›å€¼ã€‚ä¸‹é¢çš„è¯­å¥æ˜¯æ— æ•ˆçš„ï¼š</p>
<p><code>if x = y {<br>    // This is not valid, because x = y does not return a value.<br>}</code><br>è¿™ä¸ªç‰¹æ€§é˜²æ­¢=ä¸==æ··æ·†ã€‚ è®©if x = y æ— æ•ˆ, Swift å¸®ä½ é¿å…è¿™ç§é”™è¯¯ã€‚</p>
<h1 id="ç®—æœ¯è¿ç®—ç¬¦"><a href="#ç®—æœ¯è¿ç®—ç¬¦" class="headerlink" title="ç®—æœ¯è¿ç®—ç¬¦"></a>ç®—æœ¯è¿ç®—ç¬¦</h1><p>Swift å¯¹æ‰€æœ‰ç±»å‹æ”¯æŒå››ç§æ ‡å‡†ç®—æœ¯è¿ç®—ç¬¦:</p>
<p>åŠ å· (+)<br>å‡å· (-)<br>ä¹˜å· (<em>)<br>é™¤å· (/)<br>1 + 2       // ç­‰äº 3<br>5 - 3       // ç­‰äº 2<br>2 </em> 3       // ç­‰äº 6<br>10.0 / 2.5  // ç­‰äº 4.0<br>ä¸Cè¯­è¨€ å’Œ Objective-Cè¯­è¨€ä¸åŒ, Swift ç®—æœ¯è¿ç®—ç¬¦é»˜è®¤ä¸å…è®¸å€¼æº¢å‡ºã€‚ ä½ å¯ä»¥é€šè¿‡Swiftæº¢å‡ºè¿ç®—ç¬¦æ¥é€‰æ‹©å€¼æº¢å‡ºè¡Œä¸º(ä¾‹å¦‚ a &amp;+ b)ã€‚</p>
<p>åŠ å·ä¹Ÿæ”¯æŒå­—ç¬¦ä¸²è¿æ¥:</p>
<p><code>â€œhello, â€œ + â€œworldâ€  // ç­‰äº â€œhello, worldâ€</code></p>
<h1 id="ä½™æ•°è¿ç®—ç¬¦"><a href="#ä½™æ•°è¿ç®—ç¬¦" class="headerlink" title="ä½™æ•°è¿ç®—ç¬¦"></a>ä½™æ•°è¿ç®—ç¬¦</h1><p>ä½™æ•°è¿ç®—ç¬¦ (a % b) è®¡ç®—aä¸­bçš„å€æ•°ï¼Œå¹¶ä¸”è¿”å›ä½™æ•°ã€‚</p>
<p>å¤‡æ³¨</p>
<p>ä½™æ•°è¿ç®—ç¬¦ (%) åœ¨å…¶ä»–è¯­è¨€ä¸­ä½œä¸ºå–æ¨¡è¿ç®—ç¬¦ã€‚ ä¸è¿‡, åœ¨ Swift ä¸­å¯¹è´Ÿæ•°æ¥è¯´, ä¸¥æ ¼æ¥è®², å®ƒæ˜¯ä½™æ•°è€Œä¸æ˜¯ä¸€ä¸ªå–æ¨¡è¿ç®—ã€‚</p>
<p>ä¸‹é¢æ¼”ç¤ºä½™æ•°è¿ç®—ç¬¦æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚ è®¡ç®— 9 % 4, ä½ é¦–å…ˆç®—å‡º9é‡Œæœ‰å¤šå°‘ä¸ª4:</p>
<div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/remainderInteger_2x.png"><br></div>

<p>ä½ å¯ä»¥ç¡®å®š9é‡Œæœ‰ä¸¤ä¸ª4, ä½™æ•°æ˜¯ 1 (æ©™è‰²æ˜¾ç¤º)ã€‚</p>
<p>åœ¨ Swift é‡Œ, è¿™ä¸ªä¼šå†™ä½œ:</p>
<p><code>9 % 4    // ç­‰äº 1</code><br>ä¸ºäº†ç¡®å®š a % b çš„ç»“æœ, % è¿ç®—ç¬¦è®¡ç®—ä¸‹é¢çš„æ–¹ç¨‹å¼ï¼Œç„¶åè¿”å›ä½™æ•°ä½œä¸ºè¾“å‡º:</p>
<p>a = (b x å€æ•°) + ä½™æ•°</p>
<p>è¿™é‡Œå€æ•°æ˜¯aé‡Œé¢bçš„æœ€å¤§å€æ•°ã€‚</p>
<p>æŠŠ 9 å’Œ 4 ä»£å…¥æ–¹ç¨‹å¼å€¼åŸŸ:</p>
<p><code>9 = (4 x 2) + 1</code></p>
<p>è®¡ç®—è´Ÿå€¼açš„ä½™æ•°ä¹Ÿæ˜¯ç”¨ç›¸åŒçš„æ–¹æ³•:</p>
<p><code>-9 % 4   // ç­‰äº -1</code><br>æŠŠ -9 å’Œ 4 ä»£å…¥æ–¹ç¨‹å¼å€¼åŸŸ:</p>
<p><code>-9 = (4 x -2) + -1</code></p>
<p>æ´»çš„ä½™æ•° -1.</p>
<p>è´Ÿå€¼bè¢«å¿½ç•¥ã€‚ æ„æ€å°±æ˜¯ a % b å’Œ a % -b ç»“æœæ˜¯ä¸€æ ·çš„ã€‚</p>
<h1 id="ä¸€å…ƒå‡æ³•è¿ç®—ç¬¦"><a href="#ä¸€å…ƒå‡æ³•è¿ç®—ç¬¦" class="headerlink" title="ä¸€å…ƒå‡æ³•è¿ç®—ç¬¦"></a>ä¸€å…ƒå‡æ³•è¿ç®—ç¬¦</h1><p>æ•°å€¼ç¬¦å·å¯ä»¥ç”¨å‰ç¼€ - è¿æ¥, ä¹Ÿå°±æ˜¯å¤§å®¶ç†ŸçŸ¥çš„ä¸€å…ƒå‡æ³•è¿ç®—ç¬¦:<br><code><br>let three = 3<br>let minusThree = -three       // minusThree equals -3<br>let plusThree = -minusThree   // plusThree equals 3, or â€œminus minus threeâ€<br></code><br>ä¸€å…ƒå‡æ³•è¿ç®—ç¬¦ (-) ç›´æ¥æ”¾åœ¨æ“ä½œæ•°å‰, æ²¡æœ‰ç©ºæ ¼ã€‚</p>
<h1 id="ä¸€å…ƒåŠ æ³•è¿ç®—ç¬¦"><a href="#ä¸€å…ƒåŠ æ³•è¿ç®—ç¬¦" class="headerlink" title="ä¸€å…ƒåŠ æ³•è¿ç®—ç¬¦"></a>ä¸€å…ƒåŠ æ³•è¿ç®—ç¬¦</h1><p>ä¸€å…ƒåŠ æ³•è¿ç®—ç¬¦ (+) è¿”å›æ“ä½œæ•°å€¼, æ²¡æœ‰ä»»ä½•æ”¹å˜:<br><code><br>let minusSix = -6<br>let alsoMinusSix = +minusSix  // alsoMinusSix ç­‰äº -6<br></code><br>å°½ç®¡ä¸€å…ƒåŠ æ³•è¿ç®—ç¬¦å®é™…ä¸Šä¸åšä»»ä½•äº‹, ä½ å¯ä»¥ç”¨å®ƒæ¥æä¾›å¯¹ç§°çš„ä»£ç ï¼Œå½“åœ¨ä»£ç ä¸­ä½¿ç”¨æ­£è´Ÿæ•°çš„æ—¶å€™ã€‚</p>
<h1 id="å¤åˆèµ‹å€¼è¿ç®—ç¬¦"><a href="#å¤åˆèµ‹å€¼è¿ç®—ç¬¦" class="headerlink" title="å¤åˆèµ‹å€¼è¿ç®—ç¬¦"></a>å¤åˆèµ‹å€¼è¿ç®—ç¬¦</h1><p>å’Œ C è¯­è¨€ç›¸ä¼¼, Swift æä¾›å¤åˆèµ‹å€¼è¿ç®—ç¬¦æ¥åˆå¹¶èµ‹å€¼ (=) å’Œå…¶ä»–æ“ä½œæ•°ã€‚ ä¸€ä¸ªä¾‹å­å°±æ˜¯åŠ æ³•èµ‹å€¼è¿ç®—ç¬¦ (+=):<br><code><br>var a = 1<br>a += 2<br>// a ç°åœ¨ç­‰äº 3<br></code><br>è¡¨è¾¾å¼ a += 2 æ˜¯ a = a + 2 çš„å¿«æ·æ–¹å¼ã€‚ å®é™…ä¸Š, åŠ æ³•å’Œèµ‹å€¼åˆå¹¶è¿›ä¸€ä¸ªæ“ä½œç¬¦ï¼ŒåŒæ—¶åšäº†ä¸¤ä»¶äº‹ã€‚</p>
<p>å¤‡æ³¨</p>
<p>å¤åˆèµ‹å€¼è¿ç®—ç¬¦ä¸è¿”å›å€¼ã€‚ æ¯”å¦‚, ä½ ä¸èƒ½è¿™æ ·å†™ let b = a += 2.</p>
<h1 id="æ¯”è¾ƒè¿ç®—ç¬¦"><a href="#æ¯”è¾ƒè¿ç®—ç¬¦" class="headerlink" title="æ¯”è¾ƒè¿ç®—ç¬¦"></a>æ¯”è¾ƒè¿ç®—ç¬¦</h1><p>Swift æ”¯æŒæ‰€æœ‰æ ‡å‡†Cè¯­è¨€æ¯”è¾ƒè¿ç®—ç¬¦:</p>
<p>ç­‰äº (a == b)<br>ä¸ç­‰äº (a != b)<br>å¤§äº (a &gt; b)<br>å°äº (a &lt; b)<br>å¤§äºç­‰äº (a &gt;= b)<br>å°äºç­‰äº (a &lt;= b)</p>
<p>å¤‡æ³¨</p>
<p>Swift åŒæ—¶æä¾›ä¸¤ä¸ªç›¸ç­‰è¿ç®—ç¬¦ (=== and !==), ä½ å¯ä»¥ç”¨æ¥æµ‹è¯•ä¸¤ä¸ªå¯¹è±¡å¼•ç”¨æ˜¯å¦å¼•ç”¨äº†ç›¸åŒçš„å¯¹è±¡å®ä¾‹ã€‚ æ›´å¤šä¿¡æ¯å‚è€ƒ Classes and Structures.</p>
<p>æ¯ä¸ªæ¯”è¾ƒè¿ç®—ç¬¦éƒ½è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œæ¥è¡¨æ˜è¯­å¥æ˜¯å¦æ˜¯çœŸçš„:</p>
<p>1 == 1   // çœŸï¼Œå› ä¸º1 ç­‰äº 1<br>2 != 1   // çœŸï¼Œå› ä¸º2 ä¸ç­‰äº 1<br>2 &gt; 1    // çœŸï¼Œå› ä¸º2 å¤§äº 1<br>1 &lt; 2    // çœŸï¼Œå› ä¸º1 å°äº 2<br>1 &gt;= 1   // çœŸï¼Œå› ä¸º1å¤§äºæˆ–è€…ç­‰äº1<br>2 &lt;= 1   // å‡ï¼Œå› ä¸º2ä¸å°äºæˆ–è€…ç­‰äº1<br>æ¯”è¾ƒè¿ç®—ç¬¦é€šå¸¸ç”¨äºæ¡ä»¶è¯­å¥, ä¾‹å¦‚ifè¯­å¥:<br><code><br>let name = â€œworldâ€<br>if name == â€œworldâ€ {<br>    print(â€œhello, worldâ€)<br>} else {<br>    print(â€œIâ€™m sorry (name), but I donâ€™t recognize youâ€)<br>}<br>// Prints â€œhello, worldâ€, because name is indeed equal to â€œworldâ€.<br></code><br>æ›´å¤šifè¯­å¥, å‚è€ƒ Control Flow.</p>
<p>ä½ å¯ä»¥æ¯”è¾ƒå«æœ‰ç›¸åŒæ•°é‡å€¼çš„å…ƒç»„, åªè¦å…ƒç»„é‡Œçš„å€¼å¯ä»¥æ¯”è¾ƒã€‚ ä¾‹å¦‚, Int å’Œ String å¯ä»¥æ¯”è¾ƒ, æ„æ€å°±æ˜¯ (Int, String) å¯ä»¥æ¯”è¾ƒã€‚ ç›¸å, Bool ä¸èƒ½æ¯”è¾ƒ, æ„æ€å°±æ˜¯åŒ…å«å¸ƒå°”å€¼çš„å…ƒç»„ä¸èƒ½ä½œæ¯”è¾ƒã€‚</p>
<p>å…ƒç»„æ˜¯ä»å·¦åˆ°å³åšæ¯”è¾ƒçš„, æ¯æ¬¡ä¸€ä¸ªå€¼, ç›´åˆ°æ¯”è¾ƒå‘ç°ä¸¤ä¸ªå€¼ä¸ç­‰ä¸ºæ­¢ã€‚ è¿™ä¸¤ä¸ªè¢«æ¯”è¾ƒçš„å€¼, æ¯”è¾ƒçš„ç»“æœå†³å®šäº†æ•´ä¸ªå…ƒç»„æ¯”è¾ƒçš„ç»“æœã€‚ å¦‚æœæ‰€æœ‰å…ƒç´ éƒ½ç›¸ç­‰, é‚£ä¹ˆå…ƒç»„å°±æ˜¯ç›¸ç­‰çš„ã€‚ä¾‹å¦‚:<br><code><br>(1, â€œzebraâ€) &lt; (2, â€œappleâ€)   // çœŸï¼Œå› ä¸º1å°äº2; â€œzebraâ€ å’Œ â€œappleâ€ ä¸æ¯”è¾ƒ<br>(3, â€œappleâ€) &lt; (3, â€œbirdâ€)    // çœŸï¼Œä»¥ä¸º3ç­‰äº3, â€œappleâ€ å°äº â€œbirdâ€<br>(4, â€œdogâ€) == (4, â€œdogâ€)      // çœŸï¼Œå› ä¸º4ç­‰äº4, â€œdogâ€ ç­‰äº â€œdogâ€<br></code><br>ä¸Šé¢è¿™ä¸ªä¾‹å­, åœ¨ç¬¬ä¸€è¡Œä½ å¯ä»¥çœ‹è§ä»å·¦åˆ°å³æ¯”è¾ƒçš„è¡Œä¸ºã€‚ å› ä¸º1å°äº2, (1, â€œzebraâ€) è¢«è®¤ä¸ºå°äº (2, â€œappleâ€), ä¸ç”¨ç®¡å…ƒç»„é‡Œçš„å…¶ä»–å€¼ã€‚ ä¸ç®¡ â€œzebraâ€ æ˜¯ä¸æ˜¯å°äº â€œappleâ€, å› ä¸ºæ¯”è¾ƒå·²ç»å–å†³äºå…ƒç»„é‡Œçš„ç¬¬ä¸€ä¸ªå…ƒç´ äº†ã€‚ ä¸è¿‡, å½“å…ƒç»„ç¬¬ä¸€ä¸ªå…ƒç´ ç›¸ç­‰çš„æ—¶å€™ï¼Œæ¯”è¾ƒå°±åƒç¬¬äºŒè¡Œï¼Œç¬¬ä¸‰è¡Œå‘ç”Ÿçš„é‚£æ ·ã€‚</p>
<h1 id="ä¸‰å…ƒæ¡ä»¶è¿ç®—ç¬¦"><a href="#ä¸‰å…ƒæ¡ä»¶è¿ç®—ç¬¦" class="headerlink" title="ä¸‰å…ƒæ¡ä»¶è¿ç®—ç¬¦"></a>ä¸‰å…ƒæ¡ä»¶è¿ç®—ç¬¦</h1><p>ä¸‰å…ƒæ¡ä»¶è¿ç®—ç¬¦æ˜¯å«æœ‰ä¸‰éƒ¨åˆ†çš„ç‰¹æ®Šè¿ç®—ç¬¦, æ ·å¼æ˜¯ <code>é—®é¢˜ ? ç­”æ¡ˆ1 : ç­”æ¡ˆ2</code>ã€‚ è¿™æ˜¯åŸºäºé—®é¢˜æ˜¯çœŸå‡å¯¹è¡¨è¾¾å¼ä¹‹ä¸€çš„åˆ¤æ–­ã€‚ å¦‚æœé—®é¢˜æ˜¯çœŸ, æ±‚ answer1 çš„å€¼å¹¶è¿”å›; å¦åˆ™, æ±‚ answer2 çš„å€¼å¹¶è¿”å›ã€‚</p>
<p>ä¸‰å…ƒæ¡ä»¶è¿ç®—ç¬¦æ˜¯ä¸‹é¢ä»£ç çš„ç®€å†™:<br><code><br>if question {<br>    answer1<br>} else {<br>    answer2<br>}<br></code><br>è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­, ç”¨ä¾‹è®¡ç®—åˆ—è¡¨è¡Œé«˜ã€‚ å¦‚æœè¡Œæœ‰å¤´éƒ¨ï¼Œé‚£ä¹ˆè¡Œé«˜æ¯”å†…å®¹é«˜åº¦åŠ 50ï¼Œå¦‚æœæ²¡æœ‰å¤´éƒ¨ï¼Œé‚£ä¹ˆé«˜åº¦åŠ 20:<br><code><br>let contentHeight = 40<br>let hasHeader = true<br>let rowHeight = contentHeight + (hasHeader ? 50 : 20)<br>// rowHeight is equal to 90<br></code></p>
<p><code><br>let contentHeight = 40<br>let hasHeader = true<br>let rowHeight: Int<br>if hasHeader {<br>    rowHeight = contentHeight + 50<br>} else {<br>    rowHeight = contentHeight + 20<br>}<br>// rowHeight is equal to 90<br></code><br>ç¬¬ä¸€ä¸ªä¾‹å­ä½¿ç”¨ä¸‰å…ƒæ¡ä»¶è¿ç®—ç¬¦ï¼Œæ„å‘³ç€è¡Œé«˜å¯ä»¥åœ¨ä¸€è¡Œä»£ç é‡Œæ­£ç¡®è®¾ç½®, è¿™ä¸ªæ¯”ç¬¬äºŒä¸ªä¾‹å­çš„ä»£ç è¦ç®€æ´ã€‚</p>
<p>ä¸‰å…ƒæ¡ä»¶è¿ç®—ç¬¦æä¾›ä¸€ä¸ªç®€å†™ï¼Œæ¥å†³å®šä½¿ç”¨ä¸¤ä¸ªè¡¨è¾¾å¼ä¸­çš„å“ªä¸€ä¸ªã€‚ å°å¿ƒä½¿ç”¨ä¸‰å…ƒæ¡ä»¶è¿ç®—ç¬¦ã€‚ è¿‡åº¦ä½¿ç”¨ï¼Œä»£ç å°±æ˜¯å¾ˆéš¾ç†è§£ã€‚ å°½é‡é¿å…æŠŠä¸‰å…ƒæ¡ä»¶è¿ç®—ç¬¦çš„å¤šä¸ªå®ä¾‹åˆå¹¶åˆ°ä¸€ä¸ªç¬¦åˆè¯­å¥ã€‚</p>
<h1 id="Nil-è”åˆè¿ç®—ç¬¦"><a href="#Nil-è”åˆè¿ç®—ç¬¦" class="headerlink" title="Nil-è”åˆè¿ç®—ç¬¦"></a>Nil-è”åˆè¿ç®—ç¬¦</h1><p>nil-è”åˆè¿ç®—ç¬¦ (a ?? b) å±•å¼€ä¸€ä¸ªå¯é€‰é¡¹ a å¦‚æœå®ƒåŒ…å«ä¸€ä¸ªå€¼çš„è¯, æˆ–è€…è¿”å›ä¸€ä¸ªé»˜è®¤å€¼ b å¦‚æœ a æ˜¯ nilã€‚ è¡¨è¾¾å¼ a æ€»æ˜¯ä¸€ä¸ªå¯é€‰ç±»å‹ã€‚ è¡¨è¾¾å¼ b å¿…é¡»åŒ¹é…å­˜å‚¨åœ¨aé‡Œçš„å€¼ç±»å‹ã€‚</p>
<p>nil-è”åˆè¿ç®—ç¬¦æ˜¯ä¸‹é¢ä»£ç çš„ç®€å†™:</p>
<p><code>a != nil ? a! : b</code><br>ä¸Šé¢çš„ä»£ç ä½¿ç”¨ä¸‰å…ƒæ¡ä»¶è¿ç®—ç¬¦,ç„¶åå¼ºåˆ¶å±•å¼€ (a!) æ¥è·å–aä¸­çš„å€¼ï¼Œå¦‚æœè¿™ä¸ªå€¼ä¸ç©ºçš„è¯, å¦åˆ™è¿”å› b ã€‚ nil-è”åˆè¿ç®—ç¬¦æä¾›äº†æ›´ä¼˜é›…ç®€æ´çš„æ–¹å¼æ¥å‹ç¼©è¿™ä¸ªæ¡ä»¶åˆ¤æ–­å’Œå±•å¼€ã€‚</p>
<p>å¤‡æ³¨</p>
<p>å¦‚æœå€¼éç©º, bçš„å€¼ä¸ä¼šå¾—åˆ°ã€‚ è¿™å°±æ˜¯äººä»¬ç†ŸçŸ¥çš„çŸ­è·¯ä¼°ç®—ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­ä½¿ç”¨ nil-è”åˆè¿ç®—ç¬¦åœ¨é»˜è®¤é¢œè‰²åç§°å’Œå¯é€‰ç”¨æˆ·å®šä¹‰çš„é¢œè‰²åç§°ä¹‹é—´åšé€‰æ‹©:<br><code><br>let defaultColorName = â€œredâ€<br>var userDefinedColorName: String?   // é»˜è®¤æ˜¯ nil</code></p>
<p>var colorNameToUse = userDefinedColorName ?? defaultColorName<br>// userDefinedColorName æ˜¯ nil, æ‰€ä»¥colorNameToUse è®¾ç½®æˆé»˜è®¤å€¼ â€œredâ€<br><br>userDefinedColorName å˜é‡å®šä¹‰æˆå¯é€‰çš„ String, é»˜è®¤å€¼æ˜¯ nil. å› ä¸º userDefinedColorName æ˜¯ä¸ªå¯é€‰ç±»å‹, ä½ å¯ä»¥ä½¿ç”¨nil-è”åˆè¿ç®—ç¬¦æ¥è·å–å®ƒçš„å€¼ã€‚ ä¸Šé¢çš„ä¾‹å­, è¿ç®—ç¬¦ç”¨æ¥å†³å®šå˜é‡ colorNameToUse çš„ä¸€ä¸ªåˆå§‹å€¼ã€‚ å› ä¸º userDefinedColorName æ˜¯ nil,  userDefinedColorName ?? defaultColorName è¡¨è¾¾å¼è¿”å›äº†defaultColorName çš„å€¼, æˆ–è€… â€œredâ€.</p>
<p>å¦‚æœä½ ç»™ userDefinedColorName èµ‹äº†ä¸€ä¸ªéç©ºçš„å€¼ï¼Œç„¶åæ‰§è¡Œ nil-è”åˆè¿ç®—ç¬¦å†æ¬¡åˆ¤æ–­, userDefinedColorName ä¸­åŒ…å«çš„å€¼ å°±å–ä»£äº†é»˜è®¤å€¼:<br><code><br>userDefinedColorName = â€œgreenâ€<br>colorNameToUse = userDefinedColorName ?? defaultColorName<br>// userDefinedColorName is not nil, so colorNameToUse is set to â€œgreenâ€<br></code></p>
<h1 id="èŒƒå›´è¿ç®—ç¬¦"><a href="#èŒƒå›´è¿ç®—ç¬¦" class="headerlink" title="èŒƒå›´è¿ç®—ç¬¦"></a>èŒƒå›´è¿ç®—ç¬¦</h1><p>Swift æœ‰ä¸¤ä¸ªèŒƒå›´è¿ç®—ç¬¦, æ˜¯è¡¨è¾¾å€¼èŒƒå›´çš„ç®€å†™ã€‚</p>
<h1 id="é—­åˆåŒºé—´è¿ç®—ç¬¦"><a href="#é—­åˆåŒºé—´è¿ç®—ç¬¦" class="headerlink" title="é—­åˆåŒºé—´è¿ç®—ç¬¦"></a>é—­åˆåŒºé—´è¿ç®—ç¬¦</h1><p>é—­åˆåŒºé—´è¿ç®—ç¬¦ (aâ€¦b) å®šä¹‰ä»aåˆ°bçš„èŒƒå›´, åŒ…å«aå’Œbçš„å€¼ã€‚ açš„å€¼ä¸èƒ½æ¯”bå¤§ã€‚</p>
<p>é—­åˆåŒºé—´è¿ç®—ç¬¦åœ¨èŒƒå›´è¿­ä»£å¾ˆæœ‰ç”¨ï¼Œç‰¹åˆ«æ˜¯ä½ æƒ³ä½¿ç”¨æ‰€æœ‰çš„å€¼çš„æ—¶å€™ã€‚ä¾‹å¦‚ for-in å¾ªç¯:<br><code><br>for index in 1â€¦5 {<br>    print(â€œ(index) times 5 is (index * 5)â€)<br>}<br>// 1 times 5 is 5<br>// 2 times 5 is 10<br>// 3 times 5 is 15<br>// 4 times 5 is 20<br>// 5 times 5 is 25<br></code><br>æ›´å¤š for-in å¾ªç¯, å‚è€ƒ Control Flow.</p>
<h1 id="åŠå¼€åŒºé—´è¿ç®—ç¬¦"><a href="#åŠå¼€åŒºé—´è¿ç®—ç¬¦" class="headerlink" title="åŠå¼€åŒºé—´è¿ç®—ç¬¦"></a>åŠå¼€åŒºé—´è¿ç®—ç¬¦</h1><p>åŠå¼€åŒºé—´è¿ç®—ç¬¦ (a..&lt;b) å®šä¹‰äº†ä»aåˆ°bçš„èŒƒå›´, ä½†æ˜¯ä¸åŒ…å«bï¼Œ ä¹‹æ‰€ä»¥æˆä¸ºåŠå¼€æ˜¯å› ä¸ºå®ƒåŒ…å«åˆå€¼, ä½†æ˜¯ä¸åŒ…å«ç»ˆå€¼ã€‚ æ­£å¦‚é—­åˆåŒºé—´è¿ç®—ç¬¦, açš„å€¼ä¸èƒ½å¤§äºbã€‚ å¦‚æœaçš„å€¼ç­‰äºbçš„å€¼, è¿™ä¸ªèŒƒå›´å°±ä¼šæ˜¯ç©ºçš„ã€‚</p>
<p>åŠå¼€åŒºé—´åœ¨ä½ ä½¿ç”¨ç±»ä¼¼æ•°ç»„è¿™ç§åŸºäºé›¶çš„åˆ—è¡¨æ—¶éå¸¸æœ‰ç”¨, è®¡ç®—åˆ—è¡¨é•¿åº¦ (ä½†æ˜¯ä¸åŒ…æ‹¬) å¾ˆæœ‰å¸®åŠ©:<br><code><br>let names = [â€œAnnaâ€, â€œAlexâ€, â€œBrianâ€, â€œJackâ€]<br>let count = names.count<br>for i in 0..<count 1="" 2="" 3="" 4="" {="" print("person="" \(i="" +="" 1)="" is="" called="" \(names[i])")="" }="" person="" anna="" alex="" brian="" jack="" <="" code=""><br>æ•°ç»„åŒ…å«4é¡¹, ä¸è¿‡ 0..&lt;count åªè®¡ç®—åˆ°3 (æ•°ç»„æœ€åä¸€é¡¹çš„ç´¢å¼•), å› ä¸ºæ˜¯åŠå¼€åŒºé—´ã€‚ æ›´å¤šæ•°ç»„, å‚è§ Arrays.</count></code></p>
<h1 id="é€»è¾‘è¿ç®—ç¬¦"><a href="#é€»è¾‘è¿ç®—ç¬¦" class="headerlink" title="é€»è¾‘è¿ç®—ç¬¦"></a>é€»è¾‘è¿ç®—ç¬¦</h1><p>é€»è¾‘è¿ç®—ç¬¦æ”¹å˜æˆ–è€…åˆå¹¶å¸ƒå°”å€¼çœŸå’Œå‡ã€‚ Swift æ”¯æŒä¸‰ç§åŸºäºCè¯­è¨€çš„æ ‡å‡†é€»è¾‘è¿ç®—ç¬¦:</p>
<p>é€»è¾‘é (!a)<br>é€»è¾‘ä¸ (a &amp;&amp; b)<br>é€»è¾‘æˆ– (a || b)</p>
<h1 id="é€»è¾‘éè¿ç®—ç¬¦"><a href="#é€»è¾‘éè¿ç®—ç¬¦" class="headerlink" title="é€»è¾‘éè¿ç®—ç¬¦"></a>é€»è¾‘éè¿ç®—ç¬¦</h1><p>é€»è¾‘éè¿ç®—ç¬¦ (!a) åè½¬å¸ƒå°”å€¼ï¼Œè¿™æ ·çœŸå°±å˜æˆå‡, å‡å˜æˆäº†çœŸã€‚</p>
<p>é€»è¾‘éè¿ç®—ç¬¦æ˜¯ä¸ªå‰ç¼€è¿ç®—ç¬¦, ç›´æ¥å†™åœ¨æ“ä½œæ•°å‰é¢, æ²¡æœ‰ä»»ä½•ç©ºæ ¼ã€‚ å¯ä»¥è¯»ä½œ â€œnot aâ€, ä¸‹é¢çš„ä¾‹å­å¯ä»¥çœ‹åˆ°:<br><code><br>let allowedEntry = false<br>if !allowedEntry {<br>    print(â€œACCESS DENIEDâ€)<br>}<br>// Prints â€œACCESS DENIEDâ€<br></code><br>è¯­å¥ if !allowedEntry å¯ä»¥è¯»ä½œ â€œif not allowed entry.â€ åé¢ä¸€è¡Œä»…æ‰§è¡Œ â€œnot allowed entryâ€ æ˜¯ true; ä¹Ÿå°±æ˜¯, if allowedEntry æ˜¯ false.</p>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­, è°¨æ…å®šä¹‰å¸ƒå°”å¸¸é‡å’Œå˜é‡åï¼Œå¯ä»¥è®©ä»£ç å…·æœ‰å¯è¯»æ€§å’Œç®€æ´æ€§, åŒæ—¶é¿å…åŒé‡å¦å®šæˆ–è€…æ··ä¹±çš„é€»è¾‘è¯­å¥ã€‚</p>
<h1 id="é€»è¾‘ä¸è¿ç®—ç¬¦"><a href="#é€»è¾‘ä¸è¿ç®—ç¬¦" class="headerlink" title="é€»è¾‘ä¸è¿ç®—ç¬¦"></a>é€»è¾‘ä¸è¿ç®—ç¬¦</h1><p>é€»è¾‘ä¸è¿ç®—ç¬¦ (a &amp;&amp; b) åˆ›å»ºé€»è¾‘è¡¨è¾¾å¼ï¼Œè¿™ä¸ªè¡¨è¾¾å¼ä¸­ä¸¤ä¸ªå€¼ä¸ºçœŸï¼Œè¡¨è¾¾å¼ä¹Ÿè¦ä¸ºçœŸã€‚</p>
<p>å¦‚æœä»»ä½•ä¸€ä¸ªå€¼ä¸ºå‡, è¡¨è¾¾å¼çš„ç»“æœä¹Ÿå°†æ˜¯å‡ã€‚ äº‹å®ä¸Š, å¦‚æœç¬¬ä¸€ä¸ªå€¼ä¸ºå‡, ç¬¬äºŒä¸ªå€¼ä¸ä¼šå†è®¡ç®—, å› ä¸ºå®ƒä¸ä¼šè®©æ‰€æœ‰è¡¨è¾¾å¼éƒ½ç­‰äºçœŸã€‚ è¿™å°±æ˜¯äººä»¬ç†ŸçŸ¥çš„çŸ­è·¯ä¼°å€¼ã€‚</p>
<p>è¿™ä¸ªä¾‹å­æœ‰ä¸¤ä¸ªå¸ƒå°”å€¼ï¼Œåªæœ‰ä¸¤ä¸ªå€¼éƒ½æ˜¯çœŸçš„æ—¶å€™æ‰å…è®¸è®¿é—®:<br><code><br>let enteredDoorCode = true<br>let passedRetinaScan = false<br>if enteredDoorCode &amp;&amp; passedRetinaScan {<br>    print(â€œWelcome!â€)<br>} else {<br>    print(â€œACCESS DENIEDâ€)<br>}<br>// Prints â€œACCESS DENIEDâ€<br></code></p>
<h1 id="é€»è¾‘æˆ–è¿ç®—ç¬¦"><a href="#é€»è¾‘æˆ–è¿ç®—ç¬¦" class="headerlink" title="é€»è¾‘æˆ–è¿ç®—ç¬¦"></a>é€»è¾‘æˆ–è¿ç®—ç¬¦</h1><p>é€»è¾‘æˆ–è¿ç®—ç¬¦ (a || b) æ˜¯ä¸¤ä¸ªç«–çº¿ç»„æˆçš„ä¸­é—´è¿ç®—ç¬¦ã€‚ ç”¨æ¥åˆ›å»ºé€»è¾‘è¡¨è¾¾å¼ï¼Œè¿™ä¸ªè¡¨è¾¾å¼ä¸­åªè¦æœ‰ä¸€ä¸ªå€¼ä¸ºçœŸï¼Œè¡¨è¾¾å¼çš„ç»“æœå°±æ˜¯çœŸã€‚</p>
<p>è·Ÿä¸Šé¢é€»è¾‘ä¸ç±»ä¼¼, é€»è¾‘æˆ–ä½¿ç”¨çŸ­è·¯ä¼°å€¼å»è®¡ç®—è¡¨è¾¾å¼ã€‚ å¦‚æœé€»è¾‘æˆ–çš„å·¦ä¾§æ˜¯çœŸ, å³ä¾§å°±ä¸å†ä¼°å€¼, å› ä¸ºå®ƒä¸ä¼šæ”¹å˜æ•´ä¸ªè¡¨è¾¾å¼çš„ç»“æœã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­, ç¬¬ä¸€ä¸ªå¸ƒå°”å€¼ (hasDoorKey) æ˜¯å‡, ä½†æ˜¯ç¬¬äºŒä¸ªå¸ƒå°”å€¼ (knowsOverridePassword) æ˜¯çœŸã€‚ å› ä¸ºä¸€ä¸ªå€¼ä¸ºçœŸ, è¡¨è¾¾å¼ç»“æœå°±æ˜¯çœŸ, æ‰€ä»¥å…è®¸è®¿é—®:<br><code><br>let hasDoorKey = false<br>let knowsOverridePassword = true<br>if hasDoorKey || knowsOverridePassword {<br>    print(â€œWelcome!â€)<br>} else {<br>    print(â€œACCESS DENIEDâ€)<br>}<br>// Prints â€œWelcome!â€<br></code></p>
<h1 id="åˆå¹¶é€»è¾‘è¿ç®—ç¬¦"><a href="#åˆå¹¶é€»è¾‘è¿ç®—ç¬¦" class="headerlink" title="åˆå¹¶é€»è¾‘è¿ç®—ç¬¦"></a>åˆå¹¶é€»è¾‘è¿ç®—ç¬¦</h1><p>ä½ å¯ä»¥åˆå¹¶å¤šä¸ªé€»è¾‘è¿ç®—ç¬¦æ¥åˆ›å»ºæ›´é•¿çš„å¤åˆè¡¨è¾¾å¼:<br><code><br>if enteredDoorCode &amp;&amp; passedRetinaScan || hasDoorKey || knowsOverridePassword {<br>    print(â€œWelcome!â€)<br>} else {<br>    print(â€œACCESS DENIEDâ€)<br>}<br>// Prints â€œWelcome!â€<br></code><br>è¿™ä¸ªä¾‹å­ä½¿ç”¨äº†å¤šä¸ª &amp;&amp; å’Œ || è¿ç®—ç¬¦æ¥åˆ›å»ºä¸€ä¸ªæ›´é•¿çš„å¤åˆè¡¨è¾¾å¼ã€‚ ä¸è¿‡, &amp;&amp; å’Œ || è¿ç®—ç¬¦ä¾ç„¶åªèƒ½æ“ä½œä¸¤ä¸ªå€¼, æ‰€ä»¥ï¼Œè¿™å®é™…ä¸Šæ˜¯ä¸‰ä¸ªå°è¡¨è¾¾å¼é“¾æ¥èµ·æ¥çš„ã€‚ </p>
<p>å¤‡æ³¨</p>
<p>Swift é€»è¾‘è¿ç®—ç¬¦ &amp;&amp; å’Œ || æ˜¯å·¦è”æƒ³çš„, æ„æ€å°±æ˜¯å¤šä¸ªé€»è¾‘è¿ç®—ç¬¦çš„å¤åˆè¡¨è¾¾å¼ï¼Œé¦–å…ˆè®¡ç®—æœ€å·¦è¾¹çš„å­è¡¨è¾¾å¼ã€‚</p>
<h1 id="æ˜¾ç¤ºæ‹¬å·"><a href="#æ˜¾ç¤ºæ‹¬å·" class="headerlink" title="æ˜¾ç¤ºæ‹¬å·"></a>æ˜¾ç¤ºæ‹¬å·</h1><p>è™½ç„¶ä¸æ˜¯ä¸¥æ ¼éœ€è¦ï¼Œä½†æ˜¯åŒ…å«æ‹¬å·è¿˜æ˜¯æœ‰ç”¨çš„, ä½¿å¾—å¤æ‚è¡¨è¾¾å¼çš„æ„å›¾å¾ˆå®¹æ˜“ç†è§£ã€‚ ä¸Šè¿°å®ä¾‹, ç»™ç¬¬ä¸€éƒ¨åˆ†åŠ ä¸Šæ‹¬å·å¾ˆæœ‰ç”¨ï¼Œä¼šè®©å®ƒçš„æ„å›¾å¾ˆæ˜æ˜¾:<br><code><br>if (enteredDoorCode &amp;&amp; passedRetinaScan) || hasDoorKey || knowsOverridePassword {<br>    print(â€œWelcome!â€)<br>} else {<br>    print(â€œACCESS DENIEDâ€)<br>}<br>// Prints â€œWelcome!â€<br></code><br>æ‹¬å·è®©ç¬¬ä¸€éƒ¨åˆ†ä½œä¸ºç‹¬ç«‹å¯èƒ½çš„çŠ¶æ€ï¼Œè¿™æ ·åœ¨æ•´ä¸ªé€»è¾‘ä¸­å°±å¾ˆæ¸…æ™°ã€‚ ç¬¦åˆè¡¨è¾¾å¼çš„è¾“å‡ºä¸å˜, ä½†æ˜¯æ•´ä½“æ„å›¾å¾ˆæ¸…æ™°ã€‚ æ¯”èµ·ç®€æ´ï¼Œå¯è¯»æ€§æ˜¯é¦–é€‰çš„ã€‚ä½¿ç”¨æ‹¬å·ä¼šè®©ä½ çš„æ„å›¾æ¸…æ™°æ˜äº†ã€‚</p>
<h1 id="å­—ç¬¦ä¸²å’Œå­—ç¬¦"><a href="#å­—ç¬¦ä¸²å’Œå­—ç¬¦" class="headerlink" title="å­—ç¬¦ä¸²å’Œå­—ç¬¦"></a>å­—ç¬¦ä¸²å’Œå­—ç¬¦</h1><p>å­—ç¬¦ä¸²æ˜¯å­—ç¬¦é›†åˆ, æ¯”å¦‚ â€œhello, worldâ€ æˆ–è€… â€œalbatrossâ€. Swift å­—ç¬¦ä¸²ç”¨ String ç±»å‹è¡¨ç¤ºã€‚ å­—ç¬¦ä¸²å†…å®¹æœ‰å¤šç§è®¿é—®æ–¹æ³•, åŒ…æ‹¬å­—ç¬¦å€¼çš„é›†åˆã€‚</p>
<p>Swiftçš„ String å’Œ Character ç±»å‹æä¾›ä¸€ä¸ªå¿«é€Ÿçš„, Unicode æ–¹å¼æ¥ä½œç”¨äºä½ çš„æ–‡æœ¬ã€‚ å­—ç¬¦ä¸²åˆ›å»ºå’Œæ“ä½œçš„è¯­æ³•æ˜¯è½»é‡å’Œå¯è¯»çš„, å­—é¢è¯­æ³•è·ŸCç±»ä¼¼ã€‚ å­—ç¬¦ä¸²è¿æ¥å’Œä½¿ç”¨åŠ å·è¿ç®—ç¬¦ä¸€æ ·ç®€å•, å­—ç¬¦çš„å¯å˜æ€§ç”±é€‰æ‹©å¸¸é‡è¿˜æ˜¯å˜é‡æ¥ç®¡ç†, å°±åƒSwiftä¸­å…¶ä»–å€¼ã€‚ ä½ è¿˜å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²æŠŠå¸¸é‡,å˜é‡,å­—é¢é‡,å’Œè¡¨è¾¾å¼æ’å…¥æ›´é•¿çš„å­—ç¬¦ä¸², åœ¨ä¸€ä¸ªä¼—æ‰€å‘¨çŸ¥çš„å­—ç¬¦ä¸²æ’å€¼ã€‚ è¿™è®©æ˜¾ç¤ºè‡ªå®šä¹‰å­—ç¬¦ä¸²å˜å¾—å®¹æ˜“ã€‚</p>
<p>å°½å¿«è¯­æ³•ç®€å•, Swiftçš„ String ç±»å‹æ˜¯ä¸ªå¿«é€Ÿ, ç°ä»£åŒ–çš„å­—ç¬¦ä¸²å®ç°ã€‚ æ¯ä¸ªå­—ç¬¦ä¸²æœ‰ç‹¬ç«‹ç¼–ç çš„ Unicode å­—ç¬¦ç»„æˆ, æä¾›ç”¨å¤šç§Unicodeå½¢å¼è®¿é—®è¿™äº›å­—ç¬¦çš„æ”¯æŒã€‚</p>
<h1 id="å­—ç¬¦ä¸²å­—é¢é‡"><a href="#å­—ç¬¦ä¸²å­—é¢é‡" class="headerlink" title="å­—ç¬¦ä¸²å­—é¢é‡"></a>å­—ç¬¦ä¸²å­—é¢é‡</h1><p>ä½ å¯ä»¥åœ¨ä»£ç ä¸­ä¸ºå­—ç¬¦ä¸²é¢„å®šä¹‰å­—ç¬¦å€¼ã€‚ å­—ç¬¦ä¸²å­—é¢é‡æ˜¯ç”±ï¼ˆâ€â€ï¼‰åŒ…å›´çš„å›ºå®šçš„æ–‡å­—å­—ç¬¦åºåˆ—ã€‚</p>
<p>ç”¨å­—ç¬¦ä¸²å€¼ä½œä¸ºä¸€ä¸ªå¸¸é‡æˆ–è€…å˜é‡çš„åˆå§‹å€¼:</p>
<p><code>let someString = â€œSome string literal valueâ€</code><br>æ³¨æ„ Swift æ¨æ–­someString å¸¸é‡æ˜¯ä¸€ä¸ª String ç±»å‹, å› ä¸ºå®ƒç”¨å­—ç¬¦ä¸²å€¼åˆå§‹åŒ–ã€‚</p>
<h1 id="åˆå§‹åŒ–ç©ºå­—ç¬¦ä¸²"><a href="#åˆå§‹åŒ–ç©ºå­—ç¬¦ä¸²" class="headerlink" title="åˆå§‹åŒ–ç©ºå­—ç¬¦ä¸²"></a>åˆå§‹åŒ–ç©ºå­—ç¬¦ä¸²</h1><p>åˆ›å»ºç©ºå­—ç¬¦ä¸²å€¼ä½œä¸ºæ›´é•¿å­—ç¬¦ä¸²çš„èµ·ç‚¹, æˆ–è€…ç»™ä¸€ä¸ªå˜é‡èµ‹ä¸€ä¸ªç©ºå­—ç¬¦ä¸²å€¼, æˆ–è€…ç”¨åˆå§‹åŒ–æ–¹æ³•æ¥åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²å®ä¾‹:<br><code><br>var emptyString = â€œâ€               // empty string literal<br>var anotherEmptyString = String()  // initializer syntax<br>// these two strings are both empty, and are equivalent to each other<br>Find out whether a String value is empty by checking its Boolean isEmpty property:</code></p>
<p>if emptyString.isEmpty {<br>    print(â€œNothing to see hereâ€)<br>}<br>// Prints â€œNothing to see hereâ€<br></p>
<h1 id="å­—ç¬¦ä¸²æ˜“å˜æ€§"><a href="#å­—ç¬¦ä¸²æ˜“å˜æ€§" class="headerlink" title="å­—ç¬¦ä¸²æ˜“å˜æ€§"></a>å­—ç¬¦ä¸²æ˜“å˜æ€§</h1><p>ä½ æ¥æŒ‡å®šä¸€ä¸ªç‰¹å®šå­—ç¬¦ä¸²èƒ½ä¸èƒ½æ”¹å˜ï¼ˆæˆ–è€…çªå˜ï¼‰ï¼Œè¿™ç§å˜åŒ–é€šè¿‡æŠŠå®ƒèµ‹ç»™ä¸€ä¸ªå˜é‡å®ç°ã€‚ (è¿™ç§æƒ…å†µå®ƒæ˜¯å¯ä»¥æ”¹å˜çš„), æˆ–è€…èµ‹å€¼ç»™ä¸€ä¸ªå¸¸é‡å®ç° (è¿™ç§æƒ…å†µå®ƒä¸èƒ½è¢«æ”¹å˜):<br><code><br>var variableString = â€œHorseâ€<br>variableString += â€œ and carriageâ€<br>// variableString is now â€œHorse and carriageâ€</code></p>
<p>let constantString = â€œHighlanderâ€<br>constantString += â€œ and another Highlanderâ€<br>// this reports a compile-time error - a constant string cannot be modified<br></p>
<h1 id="å­—ç¬¦ä¸²æ˜¯å€¼ç±»å‹"><a href="#å­—ç¬¦ä¸²æ˜¯å€¼ç±»å‹" class="headerlink" title="å­—ç¬¦ä¸²æ˜¯å€¼ç±»å‹"></a>å­—ç¬¦ä¸²æ˜¯å€¼ç±»å‹</h1><p>Swift çš„å­—ç¬¦ä¸²ç±»å‹æ˜¯å€¼ç±»å‹ã€‚ å¦‚æœä½ åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²å€¼, è¿™ä¸ªå­—ç¬¦ä¸²å€¼åœ¨ä¼ ç»™å‡½æ•°æˆ–è€…æ–¹æ³•çš„æ—¶å€™è¢«å¤åˆ¶, æˆ–è€…å½“å®ƒè¢«èµ‹å€¼ç»™ä¸€ä¸ªå¸¸é‡æˆ–è€…å˜é‡çš„æ—¶å€™ã€‚è¿™ä¸¤ç§æƒ…å†µ, å·²å­˜åœ¨å­—ç¬¦ä¸²å€¼çš„æ‹·è´è¢«åˆ›å»º, æ–°çš„æ‹·è´è¢«ä¼ é€’æˆ–è€…èµ‹å€¼, è€Œä¸æ˜¯åŸæ¥çš„å­—ç¬¦ä¸²ã€‚ å€¼ç±»å‹åœ¨ Structures and Enumerations Are Value Types ä¸­æœ‰æè¿°ã€‚</p>
<p>å¾ˆæ¸…æ¥šä½ æ‹¥æœ‰ç²¾ç¡®çš„å­—ç¬¦ä¸²å€¼ï¼Œè€Œä¸ç”¨å…³å¿ƒå®ƒä»å“ªé‡Œæ¥çš„ã€‚ä½ å¯ä»¥ç¡®ä¿¡ä¼ ç»™ä½ çš„å­—ç¬¦ä¸²ä¸ä¼šè¢«æ”¹å˜,é™¤éä½ è‡ªå·±æ”¹å˜å®ƒã€‚</p>
<p>åœ¨å¹•å, Swift çš„ç¼–è¯‘å™¨ä¼˜åŒ–äº†å­—ç¬¦ä¸²çš„ä½¿ç”¨ï¼Œè¿™ä½¿å¾—å®é™…çš„æ‹·è´åªæœ‰çœŸæ­£éœ€è¦çš„æ—¶å€™æ‰ä¼šå ç”¨ç©ºé—´ã€‚ è¿™å°±æ„å‘³ä½ ä½¿ç”¨å­—ç¬¦ä¸²ä½œä¸ºå€¼ç±»å‹æ€»å¯ä»¥è·å¾—é«˜æ€§èƒ½ã€‚</p>
<h1 id="ä½¿ç”¨å­—ç¬¦"><a href="#ä½¿ç”¨å­—ç¬¦" class="headerlink" title="ä½¿ç”¨å­—ç¬¦"></a>ä½¿ç”¨å­—ç¬¦</h1><p>ä½ å¯ä»¥ç”¨for-in å¾ªç¯è¯­å¥,é€šè¿‡å®ƒçš„å­—ç¬¦å±æ€§æ¥è¿­ä»£è®¿é—®æ¯ä¸€ä¸ªå•ç‹¬çš„å­—ç¬¦:<br><code><br>for character in â€œDog!ğŸ¶â€.characters {<br>    print(character)<br>}<br>// D<br>// o<br>// g<br>// !<br>// ğŸ¶<br></code></p>
<p>æˆ–è€…, ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„å­—ç¬¦å¸¸é‡æˆ–è€…å˜é‡ï¼Œè¿™å˜é‡é€šè¿‡æä¾›ä¸€ä¸ªå­—ç¬¦ç±»å‹æ³¨é‡Šçš„å•å­—ç¬¦å­—ç¬¦ä¸²å€¼ã€‚:<br><code><br>let exclamationMark: Character = â€œ!â€<br>String values can be constructed by passing an array of Character values as an argument to its initializer:</code></p>
<p>let catCharacters: [Character] = [â€œCâ€, â€œaâ€, â€œtâ€, â€œ!â€, â€œğŸ±â€]<br>let catString = String(catCharacters)<br>print(catString)<br>// Prints â€œCat!ğŸ±â€<br></p>
<h1 id="è¿æ¥å­—ç¬¦ä¸²å’Œå­—ç¬¦"><a href="#è¿æ¥å­—ç¬¦ä¸²å’Œå­—ç¬¦" class="headerlink" title="è¿æ¥å­—ç¬¦ä¸²å’Œå­—ç¬¦"></a>è¿æ¥å­—ç¬¦ä¸²å’Œå­—ç¬¦</h1><p>å­—ç¬¦ä¸²å€¼å¯ä»¥é€šè¿‡åŠ å·è¿æ¥æˆæ–°çš„å­—ç¬¦ä¸²:<br><code><br>let string1 = â€œhelloâ€<br>let string2 = â€œ thereâ€<br>var welcome = string1 + string2<br>// welcome now equals â€œhello thereâ€<br></code><br>ä½ ä¹Ÿå¯ä»¥é€šè¿‡èµ‹å€¼è¿ç®—ç¬¦ï¼ˆ+=ï¼‰æŠŠå­—ç¬¦ä¸²æ·»åŠ åˆ°å·²å­˜åœ¨çš„å­—ç¬¦ä¸²å˜é‡:<br><code><br>var instruction = â€œlook overâ€<br>instruction += string2<br>// instruction now equals â€œlook over thereâ€<br>You can append a Character value to a String variable with the String typeâ€™s append() method:</code></p>
<p>let exclamationMark: Character = â€œ!â€<br>welcome.append(exclamationMark)<br>// welcome now equals â€œhello there!â€<br></p>
<h1 id="å­—ç¬¦ä¸²æ’å…¥"><a href="#å­—ç¬¦ä¸²æ’å…¥" class="headerlink" title="å­—ç¬¦ä¸²æ’å…¥"></a>å­—ç¬¦ä¸²æ’å…¥</h1><p>String å­—ç¬¦ä¸²æ’å…¥æ˜¯æ„å»ºæ–°å­—ç¬¦ä¸²çš„ä¸€ç§æ–¹æ³•ï¼Œè¿™ç§æ–¹æ³•é€šè¿‡æ··åˆå¸¸é‡,å˜é‡,å­—é¢é‡,è¡¨è¾¾å¼ä¸­çš„å­—é¢é‡æ¥å®ç°ã€‚æ¯ä¸ªä½ è¦æ’å…¥çš„å€¼éƒ½åŒ…æ‹¬åœ¨æ‹¬å¼§é‡Œ,å‰é¢æ˜¯ä¸€ä¸ªåæ–œæ :<br><code><br>let multiplier = 3<br>let message = â€œ(multiplier) times 2.5 is (Double(multiplier) * 2.5)â€<br>// message is â€œ3 times 2.5 is 7.5â€<br></code><br>ä¸Šé¢è¿™ä¸ªä¾‹å­,  multiplier çš„å€¼ä»¥ (multiplier) çš„å½¢å¼æ’å…¥åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ è¿™ä¸ªå ä½ç¬¦ä¼šè¢« multiplier çš„å®é™…å€¼å–ä»£ï¼Œå½“æ’å€¼è¢«è®¡ç®—åˆ›å»ºæ–°å­—ç¬¦ä¸²çš„æ—¶å€™ã€‚</p>
<p>multiplier çš„å€¼æ˜¯å­—ç¬¦ä¸²åé¢å¤§è¡¨è¾¾å¼çš„ä¸€éƒ¨åˆ†ã€‚ è¿™ä¸ªè¡¨è¾¾å¼è®¡ç®— Double(multiplier) <em> 2.5 çš„å€¼ï¼Œç„¶åæŠŠç»“æœ (7.5) æ’å…¥å­—ç¬¦ä¸²ã€‚ è¿™ç§æƒ…å†µä¸‹, å½“å®ƒè¢«åŒ…æ‹¬è¿›å­—ç¬¦ä¸²å­—é¢é‡çš„æ—¶å€™ï¼Œè¡¨è¾¾å¼å°±å†™ä½œ (Double(multiplier) </em> 2.5) .</p>
<h1 id="Unicode"><a href="#Unicode" class="headerlink" title="Unicode"></a>Unicode</h1><p>Unicode æ˜¯åœ¨ä¸åŒå†™ä½œä½“ç³»ä¸­ç”¨ä½œç¼–ç ,è¡¨è¾¾,å¤„ç†æ–‡å­—çš„ä¸€ç§å›½é™…æ ‡å‡†ã€‚ è®©ä½ å¯ä»¥ç”¨ä¸€ç§æ ‡å‡†å½¢å¼è¡¨ç¤ºä»»ä½•è¯­è¨€çš„ä»»ä½•å­—ç¬¦, åœ¨è¯¸å¦‚æ–‡æœ¬æ–‡ä»¶æˆ–è€…ç½‘é¡µç­‰å¤–éƒ¨èµ„æº,å»è¯»å†™è¿™äº›å­—ç¬¦ã€‚ Swift çš„å­—ç¬¦ä¸²å’Œå­—ç¬¦æ˜¯å®Œå…¨ Unicode ç¼–è¯‘çš„ã€‚</p>
<h1 id="Unicode-æ ‡é‡"><a href="#Unicode-æ ‡é‡" class="headerlink" title="Unicode æ ‡é‡"></a>Unicode æ ‡é‡</h1><p>èƒŒå, Swift çš„æœ¬åœ°å­—ç¬¦ä¸²ç±»å‹å»ºç«‹äº Unicode æ ‡é‡å€¼ã€‚å¯¹åº”å­—ç¬¦æˆ–è€…ä¿®é¥°ç¬¦æ¥è¯´, ä¸€ä¸ª Unicode æ ‡é‡æ˜¯å”¯ä¸€çš„ä¸€ä¸ª21ä½æ•°å­—, ä¾‹å¦‚ U+0061 æ˜¯ LATIN SMALL LETTER A (â€œaâ€), æˆ–è€… U+1F425 æ˜¯ FRONT-FACING BABY CHICK (â€œğŸ¥â€).<br>æ³¨æ„å¹¶éæ‰€æœ‰ 21-ä½ Unicode æ ‡é‡éƒ½ä¼šè¢«èµ‹å€¼ç»™ä¸€äº›ç»™æœªæ¥é¢„ç•™çš„å­—ç¬¦æ ‡é‡ã€‚ åˆ†é…ç»™å­—ç¬¦çš„æ ‡é‡é€šå¸¸æœ‰ä¸€ä¸ªåå­—, æ¯”å¦‚ LATIN SMALL LETTER A å’Œ FRONT-FACING BABY CHICK .</p>
<h1 id="å­—ç¬¦ä¸²å­—é¢é‡é‡Œçš„ç‰¹æ®Šå­—ç¬¦"><a href="#å­—ç¬¦ä¸²å­—é¢é‡é‡Œçš„ç‰¹æ®Šå­—ç¬¦" class="headerlink" title="å­—ç¬¦ä¸²å­—é¢é‡é‡Œçš„ç‰¹æ®Šå­—ç¬¦"></a>å­—ç¬¦ä¸²å­—é¢é‡é‡Œçš„ç‰¹æ®Šå­—ç¬¦</h1><p>å­—ç¬¦ä¸²å­—é¢é‡å¯ä»¥åŒ…æ‹¬ä¸‹é¢çš„ç‰¹æ®Šå­—ç¬¦:</p>
<p>è½¬ä¹‰å­—ç¬¦ \0 (ç©ºå­—ç¬¦), \ (åæ–œæ ), \t (æ°´å¹³åˆ¶è¡¨ç¬¦), \n (æ¢è¡Œ), \r (å›è½¦), \â€ (åŒå¼•å·) and \â€™ (å•å¼•å·)<br>ä»»æ„ä¸€ä¸ª Unicode æ ‡é‡, å†™ä½œ \u{n}, n æ˜¯ ä¸€ä¸ª 1â€“8 ä½åå…­è¿›åˆ¶æ•°å­—ï¼Œè¿™ä¸ªæ•°å­—æœ‰ä¸ªå’Œ æœ‰æ•ˆçš„Unicode ç¼–ç ç‚¹ç›¸ç­‰çš„å€¼ã€‚<br>ä¸‹é¢å››ä¸ªä¾‹å­æ˜¾ç¤ºäº†ç‰¹æ®Šå­—ç¬¦çš„ç¼–ç ã€‚wiseWords å¸¸é‡åŒ…æ‹¬ä¸¤ä¸ªè½¬ä¹‰çš„åŒå¼•å·å­—ç¬¦ã€‚ dollarSign, blackHeart, å’ŒsparklingHeart å¸¸é‡å±•ç¤ºäº†Unicode æ ‡é‡çš„æ ¼å¼:<br><code><br>let wiseWords = â€œ\â€Imagination is more important than knowledge\â€ - Einsteinâ€<br>// â€œImagination is more important than knowledgeâ€ - Einstein<br>let dollarSign = â€œ\u{24}â€        // $,  Unicode scalar U+0024<br>let blackHeart = â€œ\u{2665}â€      // â™¥,  Unicode scalar U+2665<br>let sparklingHeart = â€œ\u{1F496}â€ // ğŸ’–, Unicode scalar U+1F496<br></code></p>
<h1 id="æ‰©å±•å­—å½¢é›†"><a href="#æ‰©å±•å­—å½¢é›†" class="headerlink" title="æ‰©å±•å­—å½¢é›†"></a>æ‰©å±•å­—å½¢é›†</h1><p>Swiftçš„æ¯ä¸ªå­—ç¬¦ç±»å‹çš„å®ä¾‹å¸¦åŒ…ä¸€ä¸ªå•ç‹¬çš„æ‰©å±•å­—å½¢é›†ã€‚ ä¸€ä¸ªæ‰©å±•å­—å½¢é›†æ˜¯ä¸€ä¸ªæˆ–è€…å¤šä¸ª Unicode æ ‡é‡ï¼Œè¿™äº›æ ‡é‡ï¼ˆå½“åˆå¹¶æ—¶ï¼‰ç”Ÿæˆä¸€ä¸ªäººå¯è¯»çš„å­—ç¬¦ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸ªä¾‹å­ã€‚ å­—ç¬¦ Ã© å¯ä»¥è¡¨ç¤ºæˆå•ç‹¬çš„ Unicode æ ‡é‡ Ã© (LATIN SMALL LETTER E WITH ACUTE, æˆ–è€… U+00E9). ä¸è¿‡, ç›¸åŒçš„å­—æ¯ä¹Ÿå¯ä»¥è¡¨ç¤ºæˆæ ‡é‡é›†çš„ä¸€éƒ¨åˆ†ï¼Œå­—æ¯ e (LATIN SMALL LETTER E, or U+0065), åé¢è·Ÿç€ COMBINING ACUTE ACCENT æ ‡é‡ (U+0301).COMBINING ACUTE ACCENT æ ‡é‡ åº”ç”¨äºä¹‹å‰çš„æ ‡é‡, åœ¨ä¸€ä¸ªUnicodeè¯†åˆ« æ–‡æœ¬æ¸²æŸ“ç³»ç»Ÿæ¸²æŸ“çš„æ—¶å€™ï¼ŒæŠŠ e å˜æˆ Ã©.</p>
<p>åœ¨è¿™ä¸¤ä¸ªä¾‹å­é‡Œ, å­—ç¬¦ Ã© è¡¨ç¤ºä¸ºä¸€ä¸ªå•ç‹¬çš„Swift å­—ç¬¦å€¼ï¼Œè¿™ä¸ªå€¼è¡¨ç¤ºä¸€ä¸ªæ‰©å±•å­—å½¢é›†ã€‚ ç¬¬ä¸€ä¸ªä¾‹å­, é›†åˆåŒ…å«ä¸€ä¸ªå•ç‹¬çš„æ ‡é‡; ç¬¬äºŒä¸ªä¾‹å­, æ˜¯ä¸¤ä¸ªæ ‡é‡çš„é›†åˆ:<br><code><br>let eAcute: Character = â€œ\u{E9}â€                         // Ã©<br>let combinedEAcute: Character = â€œ\u{65}\u{301}â€          // e followed by Ì<br>// eAcute is Ã©, combinedEAcute is eÌ<br></code><br>æ‰©å±•å­—å½¢é›†æ˜¯ä¸€ç§çµæ´»çš„æ–¹å¼å»è¡¨ç¤ºå¾ˆå¤šå¤æ‚è„šæœ¬å­—ç¬¦ä½œä¸ºå•ç‹¬å­—ç¬¦å€¼ã€‚ æ¯”å¦‚, æ¥è‡ªæœé²œå­—æ¯çš„æœé²œè¯­éŸ³èŠ‚å¯ä»¥è¡¨ç¤ºæˆå¤åˆæˆ–è€…åˆ†ç¦»çš„åºåˆ—ã€‚ åœ¨Swifté‡Œ,è¿™äº›è¡¨è¾¾éƒ½æ˜¯åˆæ ¼çš„å­—ç¬¦å€¼:<br><code><br>let precomposed: Character = â€œ\u{D55C}â€                  // í•œ<br>let decomposed: Character = â€œ\u{1112}\u{1161}\u{11AB}â€   // á„’, á…¡, á†«<br>// precomposed is í•œ, decomposed is á„’á…¡á†«<br></code><br>æ‰©å±•å­—å½¢é›†ä½¿å¾—å°é—­æ ‡å¿—çš„æ ‡é‡ (æ¯”å¦‚ COMBINING ENCLOSING CIRCLE, æˆ–è€… U+20DD) å¯ä»¥è£…å…¥å…¶ä»– Unicode æ ‡é‡ä½œä¸ºä¸€ä¸ªå•ç‹¬å­—ç¬¦å€¼çš„ä¸€éƒ¨åˆ†:<br><code><br>let enclosedEAcute: Character = â€œ\u{E9}\u{20DD}â€<br>// enclosedEAcute is Ã©âƒ<br></code><br>Unicode å±€éƒ¨æŒ‡ç¤ºå™¨ç¬¦å·æ ‡é‡å¯ä»¥æˆå¯¹ç»„åˆæ¥ç”Ÿæˆä¸€ä¸ªå•ç‹¬çš„å­—ç¬¦å€¼, æ¯”å¦‚ REGIONAL INDICATOR SYMBOL LETTER U (U+1F1FA) å’Œ REGIONAL INDICATOR SYMBOL LETTER S (U+1F1F8) çš„ç»„åˆ:<br><code><br>let regionalIndicatorForUS: Character = â€œ\u{1F1FA}\u{1F1F8}â€<br>// regionalIndicatorForUS is ğŸ‡ºğŸ‡¸<br></code></p>
<h1 id="è®¡ç®—å­—ç¬¦"><a href="#è®¡ç®—å­—ç¬¦" class="headerlink" title="è®¡ç®—å­—ç¬¦"></a>è®¡ç®—å­—ç¬¦</h1><p>åœ¨å­—ç¬¦ä¸²ä¸­è·å–å­—ç¬¦å€¼çš„æ•°é‡, å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²å­—ç¬¦å±æ€§ä¸­çš„è®¡æ•°å±æ€§:<br><code><br>let unusualMenagerie = â€œKoala ğŸ¨, Snail ğŸŒ, Penguin ğŸ§, Dromedary ğŸªâ€<br>print(â€œunusualMenagerie has (unusualMenagerie.characters.count) charactersâ€)<br>// Prints â€œunusualMenagerie has 40 charactersâ€<br></code><br>æ³¨æ„ Swift å¯¹å­—ç¬¦å€¼ä½¿ç”¨æ‰©å±•å­—å½¢é›†ï¼Œæ„å‘³ç€å­—ç¬¦æ‹¼æ¥å’Œä¿®æ”¹å¯èƒ½ä¸ä¼šæ€»æ˜¯å½±å“å­—ç¬¦ä¸²çš„å­—ç¬¦æ•°ã€‚</p>
<p>ä¾‹å¦‚, å¦‚æœä½ ç”¨å››ä¸ªå­—ç¬¦çš„å•è¯å’–å•¡æ¥åˆå§‹åŒ–ä¸€ä¸ªæ–°å­—ç¬¦ä¸², ç„¶åæ·»åŠ  COMBINING ACUTE ACCENT (U+0301) åˆ°å­—ç¬¦ä¸²çš„å°¾éƒ¨, æœ€åå­—ç¬¦çš„æ•°é‡è¿˜æ˜¯4, ç¬¬å››ä¸ªå­—ç¬¦æ˜¯ eÌ, è€Œä¸æ˜¯ e:<br><code><br>var word = â€œcafeâ€<br>print(â€œthe number of characters in (word) is (word.characters.count)â€)<br>// Prints â€œthe number of characters in cafe is 4â€</code></p>
<p>word += â€œ\u{301}â€    // COMBINING ACUTE ACCENT, U+0301</p>
<p>print(â€œthe number of characters in (word) is (word.characters.count)â€)<br>// Prints â€œthe number of characters in cafeÌ is 4â€<br></p>
<h1 id="è®¿é—®å’Œä¿®æ”¹å­—ç¬¦ä¸²"><a href="#è®¿é—®å’Œä¿®æ”¹å­—ç¬¦ä¸²" class="headerlink" title="è®¿é—®å’Œä¿®æ”¹å­—ç¬¦ä¸²"></a>è®¿é—®å’Œä¿®æ”¹å­—ç¬¦ä¸²</h1><p>ä½ å¯ä»¥é€šè¿‡æ–¹æ³•å’Œå±æ€§æ¥è®¿é—®å’Œä¿®æ”¹å­—ç¬¦ä¸², æˆ–è€…ç”¨ä¸‹æ ‡è¯­æ³•ã€‚</p>
<h1 id="å­—ç¬¦ä¸²ç´¢å¼•"><a href="#å­—ç¬¦ä¸²ç´¢å¼•" class="headerlink" title="å­—ç¬¦ä¸²ç´¢å¼•"></a>å­—ç¬¦ä¸²ç´¢å¼•</h1><p>æ¯ä¸ªå­—ç¬¦ä¸²å€¼éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ç´¢å¼•ç±»å‹, String.Index, ä»£è¡¨æ¯ä¸ªå­—ç¬¦åœ¨å­—ç¬¦ä¸²ä¸­çš„ä½ç½®ã€‚</p>
<p>ä¸Šé¢æåˆ°çš„,ä¸åŒå­—ç¬¦è¦æ±‚ä¸ç­‰æ•°é‡çš„å†…å­˜, æ‰€ä»¥ä¸ºäº†å†³å®šå“ªä¸ªå­—ç¬¦åœ¨ä¸€ä¸ªç‰¹å®šçš„ä½ç½®, ä½ å¿…é¡»ä»å¤´åˆ°å°¾æšä¸¾æ¯ä¸ª Unicode æ ‡é‡ã€‚ å› ä¸ºè¿™ä¸ªåŸå› , Swift å­—ç¬¦ä¸²ä¸èƒ½é€šè¿‡æ•´æ•°å€¼æ¥ç´¢å¼•ã€‚</p>
<p>ä½¿ç”¨ startIndex å±æ€§è®¿é—®å­—ç¬¦ä¸²çš„é¦–å­—ç¬¦ä½ç½®ã€‚ endIndex å±æ€§æ˜¯å­—ç¬¦ä¸²ä¸­æœ€åä¸€ä¸ªå­—ç¬¦çš„ä½ç½®ã€‚ å› æ­¤, endIndex å±æ€§ä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ä¸‹æ ‡çš„æœ‰æ•ˆå‚æ•°ã€‚ å¦‚æœä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯ç©ºçš„, startIndex å’Œ endIndex ç›¸ç­‰ã€‚</p>
<p>ä½ å¯ä»¥ç”¨ index(before:) å’Œ index(after:) å­—ç¬¦ä¸²æ–¹æ³•è®¿é—®ç»™å®šç´¢å¼•å‰åçš„ç´¢å¼•, ä½ å¯ä»¥ä½¿ç”¨ index(_:offsetBy:) æ–¹æ³•ä»£æ›¿å¤šæ¬¡è°ƒç”¨è¿™äº›æ–¹æ³•ã€‚</p>
<p>ä½ å¯ä»¥ä½¿ç”¨ä¸‹æ ‡è¯­æ³•è®¿é—®ç‰¹å®šç´¢å¼•ä½ç½®çš„å­—ç¬¦ã€‚<br><code><br>let greeting = â€œGuten Tag!â€<br>greeting[greeting.startIndex]<br>// G<br>greeting[greeting.index(before: greeting.endIndex)]<br>// !<br>greeting[greeting.index(after: greeting.startIndex)]<br>// u<br>let index = greeting.index(greeting.startIndex, offsetBy: 7)<br>greeting[index]<br>// a<br></code><br>å°è¯•è®¿é—®è¶Šç•Œçš„ç´¢å¼•å’Œå­—ç¬¦éƒ½ä¼šå¼•å‘è¿è¡Œæ—¶çš„é”™è¯¯ã€‚<br><code><br>greeting[greeting.endIndex] // Error<br>greeting.index(after: greeting.endIndex) // Error<br></code><br>ç”¨å­—ç¬¦å±æ€§ä¸­çš„ç´¢å¼•å±æ€§è·å–å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰å­—ç¬¦ã€‚<br><code><br>for index in greeting.characters.indices {<br>    print(â€œ(greeting[index]) â€œ, terminator: â€œâ€)<br>}<br>// Prints â€œG u t e n   T a g ! â€œ<br></code></p>
<h1 id="æ’å…¥å’Œç§»é™¤"><a href="#æ’å…¥å’Œç§»é™¤" class="headerlink" title="æ’å…¥å’Œç§»é™¤"></a>æ’å…¥å’Œç§»é™¤</h1><p>åœ¨ç‰¹å®šä½ç½®å‘å­—ç¬¦ä¸²æ’å…¥ä¸€ä¸ªå­—ç¬¦, ä½¿ç”¨ insert(_:at:) æ–¹æ³•, æ’å…¥å…¶ä»–å­—ç¬¦ä¸²å†…å®¹åˆ°åˆ¶å®šç´¢å¼•ä½¿ç”¨ insert(contentsOf:at:) æ–¹æ³•ã€‚<br><code><br>var welcome = â€œhelloâ€<br>welcome.insert(â€œ!â€, at: welcome.endIndex)<br>// welcome now equals â€œhello!â€</code></p>
<p>welcome.insert(contentsOf:â€ thereâ€.characters, at: welcome.index(before: welcome.endIndex))<br>// welcome ç°åœ¨ç­‰äº â€œhello there!â€<br><br>ä»æŒ‡å®šç´¢å¼•ç§»é™¤å­—ç¬¦, ä½¿ç”¨ remove(at:) æ–¹æ³•, åœ¨æŒ‡å®šèŒƒå›´ç§»é™¤ä¸€ä¸ªå­—ä¸², ç”¨ removeSubrange(_:) æ–¹æ³•:<br><code><br>welcome.remove(at: welcome.index(before: welcome.endIndex))<br>// welcome ç°åœ¨ç­‰äº â€œhello thereâ€</code></p>
<p>let range = welcome.index(welcome.endIndex, offsetBy: -6)..<welcome.endindex welcome.removesubrange(range)="" welcome="" ç°åœ¨ç­‰äº="" "hello"="" <="" code=""><br>å¤‡æ³¨</welcome.endindex></p>
<p>ä½ å¯ä»¥ä½¿ç”¨ insert(<em>:at:), insert(contentsOf:at:), remove(at:), and removeSubrange(</em>:) è¿™äº›æ–¹æ³•,åªè¦ç¬¦åˆ RangeReplaceableCollection åè®®çš„ä»»ä½•ç±»å‹ã€‚ è¿™åŒ…æ‹¬ String, è¿˜æœ‰é›†åˆç±»å‹ Array, Dictionary, å’Œ Set.</p>
<h1 id="æ¯”è¾ƒå­—ç¬¦ä¸²"><a href="#æ¯”è¾ƒå­—ç¬¦ä¸²" class="headerlink" title="æ¯”è¾ƒå­—ç¬¦ä¸²"></a>æ¯”è¾ƒå­—ç¬¦ä¸²</h1><p>Swift æä¾›ä¸‰ç§æ–¹å¼æ¥æ¯”è¾ƒæ–‡æœ¬å€¼: å­—ç¬¦ä¸²å’Œå­—ç¬¦ç­‰å¼, å‰ç¼€ç­‰å¼, å’Œåç¼€ç­‰å¼ã€‚</p>
<h1 id="å­—ç¬¦ä¸²å’Œå­—ç¬¦ç­‰å¼"><a href="#å­—ç¬¦ä¸²å’Œå­—ç¬¦ç­‰å¼" class="headerlink" title="å­—ç¬¦ä¸²å’Œå­—ç¬¦ç­‰å¼"></a>å­—ç¬¦ä¸²å’Œå­—ç¬¦ç­‰å¼</h1><p>å­—ç¬¦ä¸²å’Œå­—ç¬¦ç­‰å¼ç”¨â€œequal toâ€ è¿ç®—ç¬¦ (==) å’Œ â€œnot equal toâ€ è¿ç®—ç¬¦ (!=) æ¥åˆ¤æ–­, åœ¨ Comparison Operators ä¸­æè¿°:<br><code><br>let quotation = â€œWeâ€™re a lot alike, you and I.â€<br>let sameQuotation = â€œWeâ€™re a lot alike, you and I.â€<br>if quotation == sameQuotation {<br>    print(â€œThese two strings are considered equalâ€)<br>}<br>// Prints â€œThese two strings are considered equalâ€<br></code><br>ä¸¤ä¸ªå­—ç¬¦ä¸²çš„å€¼ (æˆ–è€…ä¸¤ä¸ªå­—ç¬¦çš„å€¼) å¦‚æœä»–ä»¬çš„æ‰©å±•å­—å½¢é›†ç›¸åŒ,å°±è¢«è®¤ä¸ºæ˜¯ç›¸ç­‰çš„ã€‚ æ‰©å±•å­—å½¢é›†å¦‚æœæœ‰ç›¸åŒçš„è¯­ä¹‰å’Œè¡¨ç°å½¢å¼ï¼Œå°±æ˜¯ç›¸ç­‰çš„, å³ä½¿ä»–ä»¬èƒŒåæ˜¯ç”±ä¸åŒ Unicode æ ‡é‡ç»„æˆã€‚</p>
<p>æ¯”å¦‚, LATIN SMALL LETTER E WITH ACUTE (U+00E9) å¸¸è§„ç­‰äº LATIN SMALL LETTER E (U+0065) åŠ ä¸Š COMBINING ACUTE ACCENT (U+0301). ä¸¤ç§æ‰©å±•å­—å½¢é›†éƒ½æ˜¯æœ‰æ•ˆçš„æ–¹å¼æ¥è¡¨ç¤ºå­—ç¬¦ Ã©, éšè—å®ƒä»¬è¢«è®¤ä¸ºç›¸ç­‰:<br><code><br>// â€œVoulez-vous un cafÃ©?â€ using LATIN SMALL LETTER E WITH ACUTE<br>let eAcuteQuestion = â€œVoulez-vous un caf\u{E9}?â€</code></p>
<p>// â€œVoulez-vous un cafeÌ?â€ using LATIN SMALL LETTER E and COMBINING ACUTE ACCENT<br>let combinedEAcuteQuestion = â€œVoulez-vous un caf\u{65}\u{301}?â€</p>
<p>if eAcuteQuestion == combinedEAcuteQuestion {<br>    print(â€œThese two strings are considered equalâ€)<br>}<br>// Prints â€œThese two strings are considered equalâ€<br><br>ç›¸å, LATIN CAPITAL LETTER A (U+0041, æˆ–è€… â€œAâ€), è‹±è¯­ä¸­ä½¿ç”¨, ä¸ç­‰äºä¿„è¯­ä¸­ä½¿ç”¨çš„ CYRILLIC CAPITAL LETTER A (U+0410, æˆ–è€… â€œĞâ€)ã€‚ è¿™ä¸¤ä¸ªå­—ç¬¦çœ‹ä¸Šå»ç›¸ä¼¼, ä½†æ˜¯è¯­ä¹‰ä¸åŒ:<br><code><br>let latinCapitalLetterA: Character = â€œ\u{41}â€</code></p>
<p>let cyrillicCapitalLetterA: Character = â€œ\u{0410}â€</p>
<p>if latinCapitalLetterA != cyrillicCapitalLetterA {<br>    print(â€œThese two characters are not equivalent.â€)<br>}<br>// Prints â€œThese two characters are not equivalent.â€<br><br>å¤‡æ³¨</p>
<p>å­—ç¬¦ä¸²å’Œå­—ç¬¦æ¯”è¾ƒåœ¨Swiftä¸­ä¸æ˜¯åœ°åŒºæ•æ„Ÿçš„ã€‚</p>
<h1 id="å‰ç¼€å’Œåç¼€ç­‰å¼"><a href="#å‰ç¼€å’Œåç¼€ç­‰å¼" class="headerlink" title="å‰ç¼€å’Œåç¼€ç­‰å¼"></a>å‰ç¼€å’Œåç¼€ç­‰å¼</h1><p>åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æœ‰ä¸€ä¸ªç‰¹å®šå‰ç¼€æˆ–è€…åç¼€, è°ƒç”¨å­—ç¬¦ä¸²çš„ hasPrefix(<em>:) and hasSuffix(</em>:) æ–¹æ³•, ä¸¤ä¸ªæ–¹æ³•éƒ½ä¸€ä¸ª String ç±»å‹ï¼Œç„¶åè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚ </p>
<p>ä¸‹é¢è¿™ä¸ªä¾‹å­æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œç”¨æ¥è¡¨ç¤ºåœºæ™¯çš„ä½ç½®,å®ƒä»¬æ¥è‡ªèå£«æ¯”äºšçš„ç½—å¯†æ¬§ä¸æœ±ä¸½å¶çš„å‰ä¸¤ä¸ªè¡¨æ¼”:<br><code><br>let romeoAndJuliet = [<br>    â€œAct 1 Scene 1: Verona, A public placeâ€,<br>    â€œAct 1 Scene 2: Capuletâ€™s mansionâ€,<br>    â€œAct 1 Scene 3: A room in Capuletâ€™s mansionâ€,<br>    â€œAct 1 Scene 4: A street outside Capuletâ€™s mansionâ€,<br>    â€œAct 1 Scene 5: The Great Hall in Capuletâ€™s mansionâ€,<br>    â€œAct 2 Scene 1: Outside Capuletâ€™s mansionâ€,<br>    â€œAct 2 Scene 2: Capuletâ€™s orchardâ€,<br>    â€œAct 2 Scene 3: Outside Friar Lawrenceâ€™s cellâ€,<br>    â€œAct 2 Scene 4: A street in Veronaâ€,<br>    â€œAct 2 Scene 5: Capuletâ€™s mansionâ€,<br>    â€œAct 2 Scene 6: Friar Lawrenceâ€™s cellâ€<br>]<br></code><br>ä½ å¯ä»¥ç”¨ hasPrefix(<em>:) æ–¹æ³•ç”¨ romeoAndJuliet æ•°ç»„æ¥æŠ€æœ¯è¡¨æ¼”1ä¸­çš„åœºæ™¯æ•°:<br><code><br>var act1SceneCount = 0<br>for scene in romeoAndJuliet {<br>    if scene.hasPrefix(â€œAct 1 â€œ) {<br>        act1SceneCount += 1<br>    }<br>}<br>print(â€œThere are (act1SceneCount) scenes in Act 1â€)<br>// Prints â€œThere are 5 scenes in Act 1â€<br></code><br>ç›¸ä¼¼çš„, ç”¨ hasSuffix(</em>:) æ–¹æ³•æ¥è®¡ç®—å‘ç”Ÿåœ¨ Capuletâ€™s mansion å’Œ Friar Lawrenceâ€™s cell çš„åœºæ™¯æ•°:<br><code><br>var mansionCount = 0<br>var cellCount = 0<br>for scene in romeoAndJuliet {<br>    if scene.hasSuffix(â€œCapuletâ€™s mansionâ€) {<br>        mansionCount += 1<br>    } else if scene.hasSuffix(â€œFriar Lawrenceâ€™s cellâ€) {<br>        cellCount += 1<br>    }<br>}<br>print(â€œ(mansionCount) mansion scenes; (cellCount) cell scenesâ€)<br>// Prints â€œ6 mansion scenes; 2 cell scenesâ€<br></code></p>
<h1 id="Unicode-å­—ç¬¦ä¸²è¡¨ç¤º"><a href="#Unicode-å­—ç¬¦ä¸²è¡¨ç¤º" class="headerlink" title="Unicode å­—ç¬¦ä¸²è¡¨ç¤º"></a>Unicode å­—ç¬¦ä¸²è¡¨ç¤º</h1><p>å½“ä¸€ä¸ª Unicode å­—ç¬¦ä¸²å†™å…¥æ–‡æœ¬æ–‡ä»¶æˆ–è€…åˆ«çš„å­˜å‚¨æ—¶,å­—ç¬¦ä¸²é‡Œçš„ Unicode æ ‡é‡ä¼šä»¥ä¸€äº›Unicode å®šä¹‰çš„ç¼–ç å½¢å¼è¿›è¡Œç¼–ç ã€‚ æ¯ç§å­—ç¬¦ä¸²ç¼–ç åœ¨äººä»¬ç†ŸçŸ¥çš„ä»£ç å•å…ƒå—ä¸­ã€‚ åŒ…æ‹¬ UTF-8 ç¼–ç  (æŠŠå­—ç¬¦ä¸²ç¼–ç æˆä¸€ä¸ª 8-ä½çš„ä»£ç å•å…ƒ), UTF-16 ç¼–ç  (æŠŠå­—ç¬¦ä¸²ç¼–ç æˆä¸€ä¸ª16-ä½çš„ä»£ç å•å…ƒ), å’Œ UTF-32 ç¼–ç  (æŠŠå­—ç¬¦ä¸²ç¼–ç æˆ 32-ä½ä»£ç å•å…ƒ)</p>
<p>Swift æä¾›äº†å‡ ç§ä¸åŒçš„æ–¹å¼å»è®¿é—®å­—ç¬¦ä¸²çš„Unicode å½¢å¼ã€‚ä½ å¯ä»¥ç”¨for-inè¯­å¥éå†å­—ç¬¦ä¸², è®¿é—®ä½œä¸ºUnicode æ‰©å±•å­—å½¢é›†çš„å•ä¸ªå­—ç¬¦å€¼ã€‚è¿™ä¸ªè¿‡ç¨‹åœ¨ Working with Characters æè¿°ã€‚</p>
<p>æˆ–è€…, æˆ–è€…ç”¨ä»¥ä¸‹ä¸‰ç§å½¢å¼æ¥è®¿é—®å­—ç¬¦ä¸²çš„å€¼:</p>
<p>UTF-8 ä»£ç å•å…ƒé›†åˆ (ç”¨å­—ç¬¦ä¸²çš„utf8å±æ€§æ¥è®¿é—®)<br>UTF-16 ä»£ç å•å…ƒé›†åˆ (ç”¨å­—ç¬¦ä¸²çš„utf16å±æ€§æ¥è®¿é—®)<br>21-ä½ Unicode æ ‡é‡å€¼çš„é›†åˆ, ç­‰äºå­—ç¬¦ä¸²çš„ UTF-32 ç¼–ç æ–¹å¼ (ç”¨å­—ç¬¦ä¸²çš„ unicodeScalars å±æ€§è®¿é—®)<br>ä¸‹é¢çš„ä¾‹å­å±•ç¤ºå­—ç¬¦ä¸²çš„ä¸åŒè¡¨ç°å½¢å¼,å­—ç¬¦ä¸²ç”±å­—ç¬¦ D, o, g, â€¼ (DOUBLE EXCLAMATION MARK, æˆ–è€… Unicode scalar U+203C), å’Œ ğŸ¶ å­—ç¬¦ (DOG FACE, æˆ–è€… Unicode scalar U+1F436)ç»„æˆ:</p>
<p>let dogString = â€œDogâ€¼ğŸ¶â€</p>
<h1 id="UTF-8-å½¢å¼"><a href="#UTF-8-å½¢å¼" class="headerlink" title="UTF-8 å½¢å¼"></a>UTF-8 å½¢å¼</h1><p>ä½ å¯ä»¥é€šè¿‡éå†å­—ç¬¦ä¸²çš„utf8å±æ€§æ¥è®¿é—®å®ƒçš„ UTF-8 è¡¨ç°å½¢å¼ã€‚ è¿™æ˜¯å±æ€§æ˜¯ String.UTF8View, è¿™æ˜¯æ— ç¬¦å·çš„ 8-ä½ (UInt8)å€¼çš„é›†åˆ, æ¯ä¸ªå­—èŠ‚ä¸€ä¸ª:</p>
<div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/UTF8_2x.png"><br></div><br><code><br>for codeUnit in dogString.utf8 {<br>    print(â€œ(codeUnit) â€œ, terminator: â€œâ€)<br>}<br>print(â€œâ€)<br>// 68 111 103 226 128 188 240 159 144 182<br></code><br>ä¸Šé¢è¿™ä¸ªä¾‹å­, å‰ä¸‰ä¸ªåè¿›åˆ¶ codeUnit å€¼ (68, 111, 103) ä»£è¡¨å­—ç¬¦ D, o, å’Œ g, å®ƒä»¬çš„ UTF-8 å½¢å¼å’Œå®ƒä»¬çš„ ASCII è¡¨ç°å½¢å¼ä¸€æ ·ã€‚ æ¥ä¸‹æ¥ä¸‰ä¸ªåè¿›åˆ¶ codeUnit å€¼ (226, 128, 188) æ˜¯åŒæ„Ÿå¹å·çš„ä¸‰ä¸ªå­—èŠ‚çš„ UTF-8 å½¢å¼ã€‚ æœ€åå››ä¸ª codeUnit å€¼ (240, 159, 144, 182) æ˜¯ä¸ªå››ä¸ªå­—èŠ‚çš„ UTF-8 å½¢å¼ï¼Œä»£è¡¨å°ç‹—çš„è„¸å­—ç¬¦ã€‚<br><br># UTF-16 å½¢å¼<br><br>ä½ å¯ä»¥é€šè¿‡éå†å­—ç¬¦ä¸²çš„utf16å±æ€§æ¥è®¿é—®å®ƒçš„ UTF-16 å½¢å¼ã€‚ è¿™ä¸ªå±æ€§æ˜¯ String.UTF16View, å®ƒæ˜¯æ— ç¬¦å·16-ä½ (UInt16)çš„å€¼çš„é›†åˆ, æ¯ä¸ª16-ä½ä»£ç å•å…ƒä¸€ä¸ª:<br><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/UTF16_2x.png"><br></div><br><code><br>for codeUnit in dogString.utf16 {<br>    print(â€œ(codeUnit) â€œ, terminator: â€œâ€)<br>}<br>print(â€œâ€)<br>// Prints â€œ68 111 103 8252 55357 56374 â€œ<br></code><br>åŒæ ·, å‰ä¸‰ä¸ª codeUnit å€¼ (68, 111, 103) ä»£è¡¨å­—ç¬¦ D, o, å’Œ g, å®ƒä»¬çš„ UTF-16 ä»£ç å•å…ƒå’Œå®ƒä»¬çš„ UTF-8 å½¢å¼ä¸€æ ·(å› ä¸ºè¿™äº› Unicode æ ‡é‡è¡¨ç¤º ASCII å­—ç¬¦).<br><br>ç¬¬å››ä¸ª codeUnit å€¼ (8252) æ˜¯åå…­è¿›åˆ¶ 203Cçš„åè¿›åˆ¶æ•°å€¼, ç”¨ Unicode æ ‡é‡ U+203Cè¡¨ç¤ºåŒæ„Ÿå¹å·å­—ç¬¦ã€‚ åœ¨ UTF-16 é‡Œè¡¨ç¤ºä¸ºä¸€ä¸ªå•ç‹¬çš„ç¼–ç å•å…ƒã€‚<br><br>ç¬¬äº”å…­ä¸ª codeUnit å€¼ (55357 å’Œ 56374) ç‹—è„¸å­—ç¬¦ã€‚ è¿™äº›å€¼æ˜¯é«˜å…«ä½ U+D83D (åè¿›åˆ¶å€¼æ˜¯ 55357) å’Œä¸€ä¸ªç¬¬å…«ä½ U+DC36 (åè¿›åˆ¶å€¼ 56374)ã€‚<br><br># Unicode æ ‡é‡å½¢å¼<br><br>ä½ å¯ä»¥é€šè¿‡éå†å­—ç¬¦ä¸²çš„ unicodeScalars å±æ€§æ¥è®¿é—®å®ƒçš„Unicode æ ‡é‡å½¢å¼ã€‚ è¿™ä¸ªæ˜¯å±æ€§æ˜¯ UnicodeScalarView,å®ƒæ˜¯ç±»å‹ UnicodeScalar å€¼çš„é›†åˆã€‚<br><br>æ¯ä¸ª UnicodeScalar æœ‰ä¸€ä¸ªå€¼å±æ€§ï¼Œå®ƒè¿”å›è¿™ä¸ªæ ‡é‡çš„ 21-ä½å€¼, ç”¨ä¸€ä¸ª UInt32 å€¼è¡¨ç¤º:<br><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/UnicodeScalar_2x.png"><br></div><br><code><br>for scalar in dogString.unicodeScalars {<br>    print(â€œ(scalar.value) â€œ, terminator: â€œâ€)<br>}<br>print(â€œâ€)<br>// Prints â€œ68 111 103 8252 128054 â€œ<br></code><br>å‰ä¸‰ä¸ª UnicodeScalar å€¼ (68, 111, 103) å†æ¬¡ä»£è¡¨ D, o, å’Œ g.<br><br>ç¬¬å››ä¸ª codeUnit å€¼ (8252) æ˜¯åå…­è¿›åˆ¶ 203C çš„åè¿›åˆ¶å€¼, æ˜¯åŒæ„Ÿå¹çš„ Unicode æ ‡é‡ U+203C ã€‚<br><br>ç¬¬äº”ä¸ªå’Œæœ€åä¸€ä¸ª UnicodeScalar å€¼, 128054, æ˜¯åå…­è¿›åˆ¶ 1F436çš„åè¿›åˆ¶å€¼, æ˜¯ç‹—è„¸å­—ç¬¦çš„çš„ Unicode æ ‡é‡ U+1F436ã€‚<br><br>ä½œä¸ºæŸ¥è¯¢å®ƒä»¬å€¼å±æ€§çš„æ›¿ä»£, æ¯ä¸ª UnicodeScalar å€¼ä¹Ÿå¯ä»¥ç”¨æ¥æ„å»ºæ–°çš„å­—ç¬¦ä¸², ä¾‹å¦‚ç”¨åšå­—ç¬¦ä¸²æ’å€¼:<br><code><br>for scalar in dogString.unicodeScalars {<br>    print(â€œ(scalar) â€œ)<br>}<br>// D<br>// o<br>// g<br>// â€¼<br>// ğŸ¶<br></code><br><br># é›†åˆç±»å‹<br>Swift æä¾›äº†ä¸‰ä¸ªä¸»è¦çš„é›†åˆç±»å‹, æ•°ç»„, é›†åˆ, å’Œå­—å…¸, ç”¨æ¥å­˜å‚¨å€¼çš„é›†åˆã€‚ æ•°ç»„æ˜¯æœ‰åºçš„ã€‚ é›†åˆæ˜¯å”¯ä¸€å€¼çš„æ— åºé›†ã€‚ å­—å…¸æ˜¯å¥å€¼åŒ¹é…çš„æ— åºé›†åˆã€‚<br><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/CollectionTypes_intro_2x.png"><br></div><br>æ•°ç»„, é›†åˆ, å’Œå­—å…¸åœ¨ Swift é‡Œæ€»æ˜¯æ¸…æ¥šçš„çŸ¥é“å­˜å‚¨çš„å€¼çš„ç±»å‹å’Œèƒ½å¤Ÿå­˜å‚¨çš„å¥ã€‚ è¿™å°±æ„å‘³ç€ä½ ä¸èƒ½å¾€é›†åˆé‡Œæ’å…¥é”™è¯¯ç±»å‹çš„å€¼ã€‚ä¹Ÿæ„å‘³ç€ ä½ çŸ¥é“å¯ä»¥ä»é›†åˆé‡Œæˆ–è€…çš„å€¼çš„ç±»å‹ã€‚<br><br>å¤‡æ³¨<br><br>Swift çš„æ•°ç»„, é›†åˆ, å’Œå­—å…¸ç±»å‹æ˜¯ç”¨æ³›å‹é›†åˆå®ç°çš„ã€‚æ›´å¤šæ³›å‹å’Œé›†åˆ, å‚è§ Generics.<br><br># é›†åˆçš„ä¸ç¨³å®šæ€§<br><br>å¦‚æœä½ åˆ›å»ºäº†ä¸€ä¸ªæ•°ç»„, ä¸€ä¸ªé›†åˆ, æˆ–è€…ä¸€ä¸ªå­—å…¸, ç„¶åèµ‹ç»™ä¸€ä¸ªå˜é‡ã€‚åˆ›å»ºçš„è¿™ä¸ªé›†åˆå°±æ˜¯å¯å˜çš„ã€‚è¿™å°±æ„å‘³ç€ä½ å¯ä»¥æ”¹å˜è¿™ä¸ªé›†åˆï¼Œæ–¹å¼æ˜¯é€šè¿‡æ·»åŠ , ç§»é™¤, æˆ–è€…æ”¹å˜é›†åˆé‡Œçš„é¡¹ã€‚å¦‚æœæŠŠå®ƒä»¬èµ‹ç»™ä¸€ä¸ªå¸¸é‡, è¿™ä¸ªé›†åˆå°±æ˜¯ä¸å¯æ”¹å˜çš„, å®ƒçš„å¤§å°å’Œå†…å®¹éƒ½ä¸èƒ½æ”¹å˜ã€‚<br><br>å¤‡æ³¨<br><br>å¦‚æœé›†åˆä¸éœ€è¦å˜åŒ–ï¼Œåœ¨æ‰€æœ‰æƒ…å†µä¸‹åˆ›å»ºä¸å¯å˜çš„é›†åˆæ˜¯ä¸ªå¥½çš„å®è·µã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯è®©ä½ å®¹æ˜“ç†è§£è‡ªå·±çš„ä»£ç ,åŒæ—¶è®©ç¼–è¯‘å™¨å¯ä»¥ä¼˜åŒ–ä½ åˆ›å»ºçš„é›†åˆã€‚<br><br># æ•°ç»„<br><br>æ•°ç»„æœ‰åºå­˜å‚¨åŒç±»å‹çš„å€¼ã€‚ ç›¸åŒçš„å€¼å¯ä»¥å¤šæ¬¡å‡ºç°åœ¨æ•°ç»„çš„ä¸åŒä½ç½®ã€‚<br><br>å¤‡æ³¨<br><br>Swiftçš„æ•°ç»„ç±»å‹è·Ÿ Foundationçš„ NSArray ç±»ç›¸æ¡¥æ¥ã€‚<br><br># æ•°ç»„ç±»å‹ç¼©å†™è¯­æ³•<br><br>Tæ•°ç»„ç±»å‹çš„å…¨å†™æ³•æ˜¯ Array<element>, è¿™é‡ŒElementæ˜¯æ•°ç»„è¿è¡Œå­˜å‚¨çš„å€¼ç±»å‹ã€‚ ä½ å¯ä»¥ç¼©å†™æ•°ç»„ç±»å‹ä¸º[Element]. å°½ç®¡è¿™ä¸¤ç§å½¢å¼åŠŸèƒ½ä¸€æ ·, ç¼©å†™æ˜¯ä¼˜å…ˆè€ƒè™‘çš„è€Œä¸”è¿™ä¸ªæ•™ç¨‹åé¢ä¸€ç›´è¿™ä¹ˆå†™ã€‚<br><br># åˆ›å»ºç©ºæ•°ç»„<br><br>ä½ å¯ä»¥ç”¨åˆå§‹åŒ–è¯­æ³•åˆ›å»ºä¸€ä¸ªç‰¹å®šç±»çš„ç©ºæ•°ç»„:<br><code><br>var someInts = <a href="">Int</a><br>print(â€œsomeInts is of type [Int] with (someInts.count) items.â€)<br>// Prints â€œsomeInts is of type [Int] with 0 items.â€<br></code><br>æ³¨æ„ someInts å˜é‡çš„ç±»å‹ç»è¿‡åˆå§‹åŒ–ç±»å‹è¢«æ¨æ–­ä¸º [Int]<br><br>æˆ–è€…, å¦‚æœä¸Šä¸‹æ–‡å·²ç»æä¾›ç±»å‹ä¿¡æ¯, ä¾‹å¦‚ä¸€ä¸ªå‡½æ•°å‚æ•°æˆ–è€…ä¸€ä¸ªç¡®å®šç±»å‹çš„å˜é‡æˆ–è€…å¸¸é‡, ä½ å¯ä»¥ç”¨ç©ºçš„å­—é¢é‡æ¥åˆ›å»ºç©ºæ•°ç»„, è¿™ä¸ªæ•°ç»„é€šå¸¸å†™ä½œ [] (ä¸€ä¸ªç©ºçš„ä¸­æ‹¬å·å¯¹):<br><code><br>someInts.append(3)<br>// someInts now contains 1 value of type Int<br>someInts = []<br>// someInts is now an empty array, but is still of type [Int]<br></code><br># ç”¨é»˜è®¤å€¼åˆ›å»ºæ•°ç»„<br><br>Swiftçš„æ•°ç»„ç±»å‹ä¹Ÿæä¾›äº†ä¸€åˆå§‹åŒ–å™¨æ¥åˆ›å»ºç›¸åŒé»˜è®¤å€¼å›ºå®šå¤§å°çš„æ•°ç»„ã€‚ ç»™åˆå§‹åŒ–å™¨ä¼ ä¸€ä¸ªåŒ¹é…ç±»å‹çš„é»˜è®¤å€¼ (è°ƒç”¨ repeating): ç„¶åæ˜¯åœ¨æ–°æ•°ç»„ä¸­éœ€è¦é‡å¤çš„å€¼çš„ä¸ªæ•° (è°ƒç”¨ count):<br><code><br>var threeDoubles = Array(repeating: 0.0, count: 3)<br>// threeDoubles is of type [Double], and equals [0.0, 0.0, 0.0]<br></code><br># é€šè¿‡åˆå¹¶æ•°ç»„åˆ›å»ºæ•°ç»„<br><br>ä½ å¯ä»¥é€šè¿‡åˆå¹¶ä¸¤ä¸ªå·²å­˜åœ¨çš„æ•°ç»„æ¥åˆ›å»ºæ–°çš„æ•°ç»„,è¿™ä¸¤ä¸ªæ•°ç»„åªè¦ç±»å‹åŒ¹é…å°±å¯ä»¥é€šè¿‡åŠ æ³•è¿ç®—ç¬¦ (+)æ¥åˆå¹¶ã€‚ æ–°æ•°ç»„çš„ç±»å‹ä»åˆå¹¶çš„æ•°ç»„å¯ä»¥æ¨æ–­å‡ºæ¥:<br><code><br>var anotherThreeDoubles = Array(repeating: 2.5, count: 3)<br>// anotherThreeDoubles is of type [Double], and equals [2.5, 2.5, 2.5]<br><br>var sixDoubles = threeDoubles + anotherThreeDoubles<br>// sixDoubles is inferred as [Double], and equals [0.0, 0.0, 0.0, 2.5, 2.5, 2.5]<br></code><br># ç”¨å­—é¢é‡åˆ›å»ºæ•°ç»„<br><br>ä½ ä¹Ÿå¯ä»¥ç”¨å­—é¢é‡æ¥åˆå§‹åŒ–æ•°ç»„, è¿™æ˜¯ç§å¿«é€Ÿå†™ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ•°ç»„å€¼çš„æ–¹å¼ã€‚ ä¸€ä¸ªæ•°ç»„å­—é¢é‡å†™ä½œä¸€åˆ—å€¼, ç”¨é€—å·åˆ†å¼€, ä¸€å¯¹æ–¹æ‹¬å·åŒ…æ‹¬èµ·æ¥:<br><code><br>[value 1, value 2, value 3]<br></code><br>ä¸‹é¢çš„çš„ä¾‹å­åˆ›å»ºäº†ä¸€ä¸ªè´­ç‰©åˆ—è¡¨æ¥å­˜å‚¨å­—ç¬¦ä¸²å€¼:<br><code><br>var shoppingList: [String] = [â€œEggsâ€, â€œMilkâ€]<br>// shoppingList has been initialized with two initial items<br>/code&gt;<br>è´­ç‰©åˆ—è¡¨å˜é‡å®šä¹‰ä¸º â€œå­—ç¬¦ä¸²å€¼çš„æ•°ç»„â€, å†™ä½œ [String]. å› ä¸ºè¿™ä¸ªæ•°ç»„å·²ç»æŒ‡å®šä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹å€¼, å®ƒå°±å€¼è¿è¡Œå­˜å‚¨å­—ç¬¦ä¸²å€¼ã€‚ è¿™é‡Œ, è´­ç‰©åˆ—è¡¨æ•°ç»„ç”¨ä¸¤ä¸ªå­—ç¬¦ä¸²å€¼ (â€œEggsâ€ å’Œ â€œMilkâ€)æ¥åˆå§‹åŒ–, å†™åœ¨æ•°å­—å­—é¢é‡é‡Œã€‚<br><br>å¤‡æ³¨<br><br>è¿™ä¸ªæ•°ç»„è¢«å£°æ˜ä¸ºä¸€ä¸ªå˜é‡è€Œä¸æ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œæ˜¯å› ä¸ºåœ¨ä¸‹é¢çš„ä¾‹å­å°†æœ‰æ›´å¤šçš„é¡¹ç›®åŠ å…¥è¿™ä¸ªè´­ç‰©åˆ—è¡¨ã€‚<br><br>è¿™ç§æƒ…å†µ, æ•°ç»„å­—é¢é‡åªåŒ…å«ä¸¤ä¸ªå­—ç¬¦ä¸²å€¼ã€‚ è¿™ä¸ªåŒ¹é…è´­ç‰©åˆ—è¡¨å˜é‡çš„å£°æ˜ç±»å‹ (åªèƒ½åŒ…æ‹¬å­—ç¬¦ä¸²å€¼çš„æ•°ç»„), ç”¨æ•°ç»„å­—é¢é‡èµ‹å€¼æ¥åˆå§‹åŒ–è´­ç‰©åˆ—è¡¨æ˜¯è¢«å…è®¸çš„ä¸€ç§æ–¹å¼ã€‚<br><br>ç”±äº Swift çš„ç±»å‹æ¨æ–­, å¦‚æœä½ ç”¨ç›¸åŒç±»å‹çš„å­—é¢é‡æ¥åˆå§‹åŒ–æ•°ç»„,å°±ä¸éœ€è¦å†™å‡ºæ•°ç»„çš„ç±»å‹ã€‚è´­ç‰©åˆ—è¡¨çš„åˆå§‹åŒ–å¯ä»¥ç®€å†™æˆä»¥ä¸‹å½¢å¼:<br><code><br>var shoppingList = [â€œEggsâ€, â€œMilkâ€]<br></code><br>å› ä¸ºæ•°ç»„é‡Œæ‰€æœ‰çš„å€¼éƒ½æ˜¯åŒæ ·çš„ç±»å‹, Swift èƒ½å¤Ÿæ¨æ–­å‡º [String] ç”¨ä½œè´­ç‰©åˆ—è¡¨å˜é‡æ˜¯æ­£ç¡®çš„ç±»å‹ã€‚<br><br># è®¿é—®å’Œä¿®æ”¹æ•°ç»„<br><br>ä½ å¯ä»¥é€šè¿‡æ•°ç»„çš„æ–¹æ³•,å±æ€§æˆ–è€…ä¸‹æ ‡è¯­æ³•æ¥è®¿é—®å’Œä¿®æ”¹ä¸€ä¸ªæ•°ç»„ã€‚<br><br>ä¸ºäº†ç¡®å®šæ•°ç»„çš„é¡¹æ•°, ä½¿ç”¨åªè¯»å±æ€§count:<br><code><br>print(â€œThe shopping list contains (shoppingList.count) items.â€)<br>// Prints â€œThe shopping list contains 2 items.â€<br></code><br>ä½¿ç”¨å¸ƒå°”å±æ€§ isEmpty æ¥åˆ¤æ–­æ•°é‡å±æ€§æ˜¯å¦0:<br><code><br>if shoppingList.isEmpty {<br>    print(â€œThe shopping list is empty.â€)<br>} else {<br>    print(â€œThe shopping list is not empty.â€)<br>}<br>// Prints â€œThe shopping list is not empty.â€<br></code><br>é€šè¿‡è°ƒç”¨ append(<em>:) æ–¹æ³•ä½ å¯ä»¥åœ¨æ•°ç»„æœ€åæ·»åŠ æ–°é¡¹:<br><code><br>shoppingList.append(â€œFlourâ€)<br>// shoppingList now contains 3 items, and someone is making pancakes<br></code><br>æˆ–è€…, ä½¿ç”¨èµ‹å€¼è¿ç®— (+=) æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªç¬¦åˆçš„é¡¹:<br><code><br>shoppingList += [â€œBaking Powderâ€]<br>// shoppingList now contains 4 items<br>shoppingList += [â€œChocolate Spreadâ€, â€œCheeseâ€, â€œButterâ€]<br>// shoppingList ç°åœ¨åŒ…å« 7é¡¹<br></code><br>ç”¨ä¸‹æ ‡è¯­æ³•ä»æ•°ç»„ä¸­è·å–ä¸€ä¸ªå€¼, åœ¨æ•°ç»„åçš„æ–¹æ‹¬å·é‡Œä¼ å…¥ä½ æƒ³å¾—åˆ°å€¼çš„ç´¢å¼•:<br><code><br>var firstItem = shoppingList[0]<br>// firstItem is equal to â€œEggsâ€<br></code><br>å¤‡æ³¨<br><br>æ•°ç»„ç¬¬ä¸€é¡¹çš„ç´¢å¼•æ˜¯0,ä¸æ˜¯1ã€‚ Swift æ•°ç»„æ€»æ˜¯åŸºäº0å¼€å§‹ç´¢å¼•ã€‚<br><br>ä½ å¯ä»¥ä½¿ç”¨ä¸‹æ ‡è¯­æ³•å»æ”¹å˜ç»™å®šç´¢å¼•ä¸‹çš„å€¼:<br><code><br>shoppingList[0] = â€œSix eggsâ€<br>// ç¬¬ä¸€é¡¹ç°åœ¨æ˜¯ â€œSix eggsâ€ è€Œä¸æ˜¯ â€œEggsâ€<br></code><br>ä½ è¿˜å¯ä»¥é€šè¿‡ä¸‹æ ‡è¯­æ³•ä¸€æ¬¡æ”¹å˜ä¸€ä¸ªèŒƒå›´çš„å€¼, å°½ç®¡å–ä»£å€¼è·Ÿè¢«å–ä»£çš„é•¿åº¦ä¸åŒã€‚ ä¸‹é¢çš„ä¾‹å­ç”¨ â€œBananasâ€ å’Œ â€œApplesâ€ å–ä»£äº† â€œChocolate Spreadâ€, â€œCheeseâ€, å’Œ â€œButterâ€:<br><code><br>shoppingList[4â€¦6] = [â€œBananasâ€, â€œApplesâ€]<br>// shoppingList ç°åœ¨åŒ…å« 6é¡¹<br></code><br>å¤‡æ³¨<br><br>ä½ ä¸èƒ½ç”¨ä¸‹æ ‡è¯­æ³•æ·»åŠ æ–°çš„é¡¹åˆ°æ•°ç»„æœ€åã€‚<br><br>åœ¨ç‰¹å®šä½ç½®æ’å…¥æ–°é¡¹, è°ƒç”¨æ•°ç»„æ’å…¥æ–¹æ³• insert(</em>:at:):<br><code><br>shoppingList.insert(â€œMaple Syrupâ€, at: 0)<br>// shoppingList now contains 7 items<br>// â€œMaple Syrupâ€ is now the first item in the list<br></code><br>è°ƒç”¨ insert(<em>:at:) æ–¹æ³•åœ¨è´­ç‰©åˆ—è¡¨å¤´æ’å…¥ä¸€ä¸ªæ–°çš„é¡¹ â€œMaple Syrupâ€, ç”¨ç´¢å¼•0æ ‡æ˜ã€‚<br><br>ç±»ä¼¼çš„, ç§»é™¤ä¸€é¡¹ä½¿ç”¨ remove(at:) æ–¹æ³•ã€‚ è¿™ä¸ªæ–¹æ³•ç§»é™¤æŒ‡å®šç´¢å¼•çš„é¡¹ç„¶åè¿”å›è¿™ä¸ªç§»é™¤é¡¹ (å°½ç®¡ä½ å¯èƒ½æ— è§†è¿™ä¸ªè¿”å›å€¼):<br><code><br>let mapleSyrup = shoppingList.remove(at: 0)<br>// ä½äºç´¢å¼•0çš„é¡¹è¢«ç§»é™¤<br>// è´­ç‰©åˆ—è¡¨ç°åœ¨åŒ…å«6é¡¹, æ²¡æœ‰ Maple Syrup<br>// mapleSyrup å¸¸é‡ç°åœ¨ç­‰äºè¢«ç§»é™¤çš„ â€œMaple Syrupâ€ å­—ç¬¦ä¸²<br></code><br>å¤‡æ³¨<br><br>å¦‚æœè¶Šç•Œè®¿é—®æ•°ç»„çš„å€¼, ä½ ä¼šè§¦å‘è¿è¡Œæ—¶é”™è¯¯ã€‚ä½ å¯ä»¥ç”¨å®ƒè·Ÿæ•°ç»„ä¸ªæ•°å±æ€§å¯¹æ¯”æ¥åˆ¤æ–­ç´¢å¼•çš„æœ‰æ•ˆæ€§ã€‚é™¤äº†ä¸ªæ•°ä¸º0çš„æƒ…å†µ (æ„å‘³ç€æ•°ç»„æ˜¯ç©ºçš„), æœ€å¤§ç´¢å¼•å€¼é€šå¸¸æ˜¯æ•°ç»„ä¸ªæ•° - 1, å› ä¸ºæ•°ç»„æ˜¯ä»0å¼€å§‹è®¡æ•°çš„ã€‚<br><br>ä¸€ä¸ªæ•°æ®é¡¹è¢«ç§»é™¤æ•°ç»„ç©ºéš™å°±ä¼šé—­åˆ,æ‰€ä»¥ç´¢å¼• 0 çš„å€¼å†æ¬¡ç­‰äº â€œSix eggsâ€:<br><code><br>firstItem = shoppingList[0]<br>// firstItem ç°åœ¨ç­‰äº â€œSix eggsâ€<br></code><br>å¦‚æœä½ æƒ³ç§»é™¤æœ€åä¸€é¡¹, ä½¿ç”¨ removeLast() æ–¹æ³•è€Œä¸æ˜¯ remove(at:) æ–¹æ³•,è¿™æ ·å°±é¿å…éœ€è¦æŸ¥è¯¢æ•°ç»„çš„ä¸ªæ•°å±æ€§ã€‚å’Œ remove(at:) æ–¹æ³•ä¸€æ ·, removeLast() è¿”å›ç§»é™¤çš„é¡¹:<br><code><br>let apples = shoppingList.removeLast()<br>// æœ€åä¸€é¡¹è¢«ç§»é™¤<br>// è´­ç‰©åˆ—è¡¨ç°åœ¨åŒ…å«5é¡¹, æ²¡æœ‰è‹¹æœ<br>// apples å¸¸é‡ç°åœ¨ç­‰äºè¢«ç§»é™¤çš„ â€œApplesâ€ å­—ç¬¦ä¸²<br></code><br># éå†æ•°ç»„<br><br>ä½ å¯ä»¥ç”¨for-inå¾ªç¯æ¥éå†æ•°ç»„ä¸­çš„æ‰€æœ‰å€¼é›†:<br><code><br>for item in shoppingList {<br>    print(item)<br>}<br>// Six eggs<br>// Milk<br>// Flour<br>// Baking Powder<br>// Bananas<br></code><br>å¦‚æœéœ€è¦æ•°æ®é¡¹çš„å€¼å’Œæ•´æ•°ç´¢å¼•, ä½¿ç”¨ enumerated() æ–¹æ³•æ¥éå†æ•°ç»„ã€‚å¯¹äºæ•°ç»„ä¸­çš„æ¯ä¸€é¡¹, enumerated() æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…å«ç´¢å¼•å’Œå€¼çš„å…ƒç»„ã€‚ æ•´æ•°ä»¥0å¼€å§‹æ¯é¡¹é€’å¢; å¦‚æœä½ éå†æ•´ä¸ªæ•°ç»„, è¿™äº›æ•´æ•°åŒ¹é…æ•°æ®é¡¹çš„ç´¢å¼•ã€‚ä½ å¯ä»¥åˆ†è§£å…ƒç»„åˆ°ä¸´æ—¶çš„å¸¸é‡æˆ–è€…å˜é‡,æ¥ä½œä¸ºè¿­ä»£çš„éƒ¨åˆ†:<br><code><br>for (index, value) in shoppingList.enumerated() {<br>    print(â€œItem (index + 1): (value)â€)<br>}<br>// Item 1: Six eggs<br>// Item 2: Milk<br>// Item 3: Flour<br>// Item 4: Baking Powder<br>// Item 5: Bananas<br></code><br><br># é›†åˆ<br><br>é›†åˆæ— åºå­˜å‚¨åŒæ ·ç±»å‹çš„ä¸åŒå€¼ã€‚ å¦‚æœæ’åºä¸é‡è¦å¯ä»¥é€‰æ‹©ä½¿ç”¨é›†åˆä»£æ›¿æ•°ç»„, æˆ–è€…ä½ éœ€è¦ç¡®ä¿æ¯é¡¹åªå‡ºç°ä¸€æ¬¡ã€‚<br><br>å¤‡æ³¨<br><br>Swift çš„ Set ç±»å‹è·Ÿ Foundation çš„ NSSet ç±»æ¡¥æ¥ã€‚<br><br># é›†åˆç±»å‹çš„å“ˆå¸Œå€¼<br><br>é›†åˆé‡Œä¸€ä¸ªç±»å‹ä¸ºäº†å­˜å‚¨å°±å¿…é¡»å¯å“ˆå¸Œâ€”å°±æ˜¯è¯´, è¿™ä¸ªç±»å‹å¿…é¡»æä¾›ä¸€ä¸ªæ–¹å¼å»è®¡ç®—è‡ªå·±çš„å“ˆå¸Œå€¼ã€‚ ä¸€ä¸ªå“ˆå¸Œå€¼æ˜¯ä¸€ä¸ªæ•´å‹å€¼, è¿™å¯¹äºç›¸ç­‰çš„å¯¹è±¡éƒ½æ˜¯ä¸€æ ·çš„, å¦‚æœ if a == b, é‚£ä¹ˆ a.hashValue == b.hashValue.<br><br>æ‰€æœ‰ Swift çš„åŸºæœ¬ç±»å‹é»˜è®¤éƒ½æ˜¯å¯å“ˆå¸Œçš„ (æ¯”å¦‚ String, Int, Double, å’Œ Bool), å¯ä»¥è¢«ç”¨ä½œé›†åˆå€¼ç±»å‹æˆ–è€…å­—å…¸å»ºç±»å‹ã€‚ æšä¸¾case å€¼æ²¡æœ‰ç›¸åº”çš„å€¼é»˜è®¤ä¹Ÿæ˜¯å¯å“ˆå¸Œçš„ã€‚<br><br>å¤‡æ³¨<br><br>ä½ å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰ç±»å‹ä½œä¸ºé›†åˆå€¼ç±»å‹æˆ–è€…å­—å…¸å¥ç±»å‹,é€šè¿‡è®©å®ƒä»¬éµå®ˆSwift æ ‡å‡†åº“ä¸­çš„ Hashable åè®®ã€‚ ç¬¦åˆåè®®çš„ç±»å‹å¿…é¡»æä¾›ä¸€ä¸ªå¯è·å–çš„æ•´å½¢å±æ€§ hashValue. åœ¨ç›¸åŒç¨‹åºä¸­çš„ä¸åŒæ‰§è¡Œ,æˆ–è€…åœ¨ä¸åŒç¨‹åºä¸­, ç±»å‹çš„å“ˆå¸Œå±æ€§è¿”å›çš„å€¼ä¸è¦æ±‚ç›¸åŒã€‚<br><br>å› ä¸º Hashable åè®®ç¬¦åˆ Equatable, ç¬¦åˆç±»å‹å¿…é¡»æç­‰å·è¿ç®—ç¬¦ (==)çš„å®ç°ã€‚ Equatable åè®®è¦æ±‚ä»»ä½•ç¬¦åˆ==å®ç°çš„éƒ½æ˜¯ä¸€ä¸ªç›¸ç­‰å…³ç³»ã€‚ å°±æ˜¯è¯´, ==  çš„å®ç°å¿…é¡»æ»¡è¶³ä¸‹é¢çš„æ¡ä»¶, å¯¹äº a, b, å’Œ c æ‰€æœ‰å€¼:<br><br>a == a (è‡ªåæ€§)<br><br>a == b è¡¨ç¤º b == a (å¯¹ç§°æ€§)<br><br>a == b &amp;&amp; b == c è¡¨ç¤º a == c (ä¼ é€’æ€§)<br><br># é›†åˆç±»å‹è¯­æ³•<br><br>é›†åˆç±»å‹å†™ä½œ Set<element>, è¿™é‡Œ Element æ˜¯é›†åˆå…è®¸å­˜å‚¨çš„ç±»å‹ã€‚ è·Ÿæ•°ç»„ä¸åŒ, é›†åˆæ²¡æœ‰ç­‰ä»·çš„ç¼©å†™å½¢å¼ã€‚<br><br># åˆ›å»ºå’Œåˆå§‹åŒ–ç©ºé›†åˆ<br><br>ä½ å¯ä»¥é€šè¿‡ä½¿ç”¨åˆå§‹åŒ–å™¨è¯­æ³•åˆ›å»ºç‰¹å®šç±»å‹çš„ç©ºé›†åˆ:<br><code><br>var letters = Set<character>()<br>print(â€œletters is of type Set<character> with (letters.count) items.â€)<br>// æ‰“å° â€œletters is of type Set<character> with 0 items.â€<br></character></character></character></code><br>å¤‡æ³¨<br><br>letters å˜é‡çš„ç±»å‹æ¨æ–­ä¸º Set<character>, é€šè¿‡åˆå§‹åŒ–å™¨çš„ç±»å‹ã€‚<br><br>æˆ–è€…, å¦‚æœä¸Šä¸‹æ–‡å·²ç»æä¾›äº†ç±»å‹ä¿¡æ¯, æ¯”å¦‚ä¸€ä¸ªå‡½æ•°å‚æ•°æˆ–è€…ä¸€ä¸ªå·²ç»æŒ‡å®šç±»å‹çš„å˜é‡å’Œå¸¸é‡, ä½ å¯ä»¥ç”¨ä¸€ä¸ªç©ºçš„æ•°ç»„å­—é¢é‡æ¥åˆ›å»ºä¸€ä¸ªç©ºé›†åˆ:<br><code><br>letters.insert(â€œaâ€)<br>// letters ç°åœ¨åŒ…å«äº†ä¸€ä¸ªå­—ç¬¦ç±»å‹çš„å€¼<br>letters = []<br>// letters ç°åœ¨æ˜¯ä¸€ä¸ªç©ºé›†åˆ, ä½†æ˜¯ä¾ç„¶æ˜¯ Set<character> ç±»å‹<br></character></code><br># ç”¨æ•°ç»„å­—é¢é‡åˆ›å»ºé›†åˆ<br><br>ä½ å¯ä»¥ç”¨æ•°ç»„å­—é¢é‡åˆå§‹åŒ–ä¸€ä¸ªé›†åˆ, è¿™æ˜¯ä¸€ä¸ªé€Ÿå†™æ–¹å¼æ¥ç»™ä¸€ä¸ªé›†åˆèµ‹å€¼ã€‚<br><br>ä¸‹é¢çš„ä¾‹å­åˆ›å»ºä¸€ä¸ªå­˜å‚¨å­—ç¬¦ä¸²å€¼çš„é›†åˆ favoriteGenres:<br><code><br>var favoriteGenres: Set<string> = [â€œRockâ€, â€œClassicalâ€, â€œHip hopâ€]<br>// favoriteGenres æœ‰äº†ä¸‰ä¸ªåˆå§‹å€¼<br></string></code><br>favoriteGenres å˜é‡å£°æ˜æˆ â€œå­—ç¬¦ä¸²å€¼çš„é›†åˆâ€, å†™ä½œ Set<string>. å› ä¸ºè¿™ä¸ªé›†åˆæŒ‡å®šäº†ä¸€ä¸ªå­—ç¬¦ä¸²çš„å€¼ç±»å‹, å®ƒåªå…è®¸å­˜å‚¨å­—ç¬¦ä¸²å€¼, favoriteGenres é›†åˆç”¨ä¸‰ä¸ªå­—ç¬¦ä¸² (â€œRockâ€, â€œClassicalâ€, å’Œ â€œHip hopâ€)æ¥åˆå§‹åŒ–, å†™åœ¨ä¸€ä¸ªæ•°ç»„å­—é¢é‡é‡Œã€‚<br><br>å¤‡æ³¨<br><br>favoriteGenres é›†åˆå£°æ˜æˆä¸€ä¸ªå˜é‡è€Œä¸æ˜¯ä¸€ä¸ªå¸¸é‡, è¿™æ˜¯å› ä¸ºæ·»åŠ å’Œç§»é™¤çš„é¡¹åœ¨ä¸‹é¢çš„ç¤ºä¾‹é‡Œã€‚<br><br>é›†åˆé€šè¿‡æ•°ç»„å­—é¢é‡ä¸èƒ½æ¨æ–­å‡ºç±»å‹, æ‰€ä»¥ç±»å‹å¿…é¡»æ˜¾ç¤ºå£°æ˜ã€‚ ä¸è¿‡, ç”±äºSwiftçš„ç±»å‹æ¨æ–­, å¦‚æœæ•°ç»„å­—é¢é‡åŒ…å«çš„å€¼ç±»å‹ç›¸åŒ,ä½ å°±ä¸éœ€è¦å†™é›†åˆçš„ç±»å‹ã€‚favoriteGenres åˆå§‹åŒ–å¯ä»¥ç®€å†™å¦‚ä¸‹:<br><code><br>var favoriteGenres: Set = [â€œRockâ€, â€œClassicalâ€, â€œHip hopâ€]<br></code><br>å› ä¸ºæ•°ç»„å­—é¢é‡é‡Œçš„å€¼éƒ½æ˜¯åŒæ ·ç±»å‹, Swift å¯ä»¥æ¨æ–­ Set<string> ç”¨ä½œfavoriteGenres å˜é‡æ˜¯æ­£ç¡®çš„ç±»å‹ã€‚<br><br># è®¿é—®å’Œä¿®æ”¹é›†åˆ<br><br>ä½ å¯ä»¥é€šè¿‡é›†åˆçš„æ–¹æ³•å’Œå±æ€§æ¥è®¿é—®å’Œä¿®æ”¹å®ƒã€‚<br><br>ä¸ºäº†å¾—åˆ°é›†åˆçš„é¡¹æ•°, ä½¿ç”¨åªè¯»çš„ count å±æ€§:<br><code><br>print(â€œI have (favoriteGenres.count) favorite music genres.â€)<br>// æ‰“å° â€œI have 3 favorite music genres.â€<br></code><br>ä½¿ç”¨å¸ƒå°”å±æ€§ isEmpty å¿«é€Ÿåˆ¤æ–­ count å±æ€§æ˜¯å¦ç­‰äº 0:<br><code><br>if favoriteGenres.isEmpty {<br>    print(â€œAs far as music goes, Iâ€™m not picky.â€)<br>} else {<br>    print(â€œI have particular music preferences.â€)<br>}<br>// æ‰“å° â€œI have particular music preferences.â€<br></code><br>è°ƒç”¨é›†åˆçš„ insert(</string></string></character></element></em>:) æ–¹æ³•æ’å…¥ä¸€ä¸ªæ–°é¡¹:<br><code><br>favoriteGenres.insert(â€œJazzâ€)<br>// favoriteGenres ç°åœ¨åŒ…å« 4 é¡¹<br></code><br>ä½ å¯ä»¥ç”¨é›†åˆçš„ remove(<em>:) æ–¹æ³•ä»é›†åˆé‡Œç§»é™¤é¡¹, å¦‚æœå®ƒæ˜¯é›†åˆä¸€å‘˜çš„è¯, ç„¶åè¿”å›è¢«ç§»é™¤çš„é¡¹, å¦‚æœé›†åˆä¸åŒ…å«è¿™é¡¹å°±è¿”å›nilã€‚ æˆ–è€…, ç§»é™¤æ‰€æœ‰é¡¹å¯ä»¥ç”¨ removeAll() æ–¹æ³•ã€‚<br><code><br>if let removedGenre = favoriteGenres.remove(â€œRockâ€) {<br>    print(â€œ(removedGenre)? Iâ€™m over it.â€)<br>} else {<br>    print(â€œI never much cared for that.â€)<br>}<br>// æ‰“å° â€œRock? Iâ€™m over it.â€<br></code><br>æ£€æŸ¥é›†åˆæ˜¯å¦åŒ…å«ç‰¹å®šé¡¹, ç”¨ contains(</em>:) æ–¹æ³•ã€‚<br><code><br>if favoriteGenres.contains(â€œFunkâ€) {<br>    print(â€œI get up on the good foot.â€)<br>} else {<br>    print(â€œItâ€™s too funky in here.â€)<br>}<br>// æ‰“å° â€œItâ€™s too funky in here.â€<br></code><br># éå†é›†åˆ<br><br>ä½ å¯ä»¥ç”¨for-inå¾ªç¯éå†é›†åˆçš„å€¼ã€‚<br><code><br>for genre in favoriteGenres {<br>    print(â€œ(genre)â€)<br>}<br>// Jazz<br>// Hip hop<br>// Classical<br></code><br><br>Swift çš„é›†åˆç±»å‹æ˜¯æ— åºçš„ã€‚ä»¥ç‰¹å®šé¡ºåºå»éå†é›†åˆçš„å€¼, ä½¿ç”¨ sorted() æ–¹æ³•, è¿™ä¸ªæ–¹æ³•è¿”å›ä¸€ä¸ªå€¼æ•°ç»„,æŒ‰ç…§å°äºè¿ç®—ç¬¦æ’åºã€‚<br><code><br>for genre in favoriteGenres.sorted() {<br>    print(â€œ(genre)â€)<br>}<br>// Classical<br>// Hip hop<br>// Jazz<br></code><br># é›†åˆæ“ä½œ<br><br>ä½ å¯ä»¥æœ‰æ•ˆè¿›è¡ŒåŸºç¡€çš„é›†åˆæ“ä½œ, æ¯”å¦‚åˆå¹¶ä¸¤ä¸ªé›†åˆ, åˆ¤æ–­ä¸¤ä¸ªé›†åˆæ˜¯å¦æœ‰å…±åŒå€¼, æˆ–è€…åˆ¤è¯»ä¸¤ä¸ªé›†åˆæ˜¯å¦åŒ…å«æ‰€æœ‰,å‡ ä¸ª,æˆ–è€…æ²¡æœ‰ä»»ä½•ç›¸åŒå€¼ã€‚<br><br># åŸºæœ¬é›†åˆæ“ä½œ<br><br>ä¸‹é¢çš„å›¾æè¿°äº†ä¸¤ä¸ªé›†åˆa å’Œ b, å…±äº«åŒºåŸŸè¡¨ç¤ºé›†åˆæ“ä½œç»“æœã€‚<br><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/setVennDiagram_2x.png"><br></div><br>ç”¨ intersection(<em>:) æ–¹æ³•åˆ›å»ºäº¤é›†ã€‚<br>ç”¨ symmetricDifference(</em>:) æ–¹æ³•åˆ›å»ºäº¤é›†ä¹‹å¤–çš„é›†åˆã€‚<br>ç”¨ union(<em>:) æ–¹æ³•åˆ›å»ºå¹¶é›†ã€‚<br>ç”¨ subtracting(</em>:) æ–¹æ³•åˆ›å»ºå»æ‰æŒ‡å®šé›†åˆçš„é›†åˆã€‚<br><code><br>let oddDigits: Set = [1, 3, 5, 7, 9]<br>let evenDigits: Set = [0, 2, 4, 6, 8]<br>let singleDigitPrimeNumbers: Set = [2, 3, 5, 7]<br><br>oddDigits.union(evenDigits).sorted()<br>// [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]<br>oddDigits.intersection(evenDigits).sorted()<br>// []<br>oddDigits.subtracting(singleDigitPrimeNumbers).sorted()<br>// [1, 9]<br>oddDigits.symmetricDifference(singleDigitPrimeNumbers).sorted()<br>// [1, 2, 9]<br></code><br># é›†åˆæˆè¯­å’Œç­‰å¼<br><br>ä¸‹é¢çš„å›¾æè¿°äº†ä¸‰ä¸ªé›†åˆ a, b å’Œ c, é‡å åŒºåŸŸè¡¨ç¤ºé›†åˆå…±äº«çš„å…ƒç´ ã€‚ é›†åˆaæ˜¯é›†åˆbçš„è¶…é›†, å› ä¸ºaåŒ…å«bçš„æ‰€æœ‰å…ƒç´ ã€‚ ç›¸å, é›†åˆbæ˜¯é›†åˆaçš„å­é›†, å› ä¸ºbä¸­çš„å…ƒç´ éƒ½åŒ…å«åœ¨é›†åˆaä¸­ã€‚ é›†åˆbä¸é›†åˆcä¸ç›¸äº¤, å› ä¸ºå®ƒä»¬æ²¡æœ‰å…±åŒçš„å…ƒç´ ã€‚<br><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/setEulerDiagram_2x.png"><br></div><br>ç”¨ç›¸ç­‰è¿ç®—ç¬¦ (==) åˆ¤æ–­ä¸¤ä¸ªé›†åˆæ˜¯å¦æ‰€æœ‰å€¼éƒ½ç›¸åŒã€‚<br>ç”¨ isSubset(of:) æ–¹æ³•åˆ¤æ–­ä¸€ä¸ªé›†åˆæ˜¯å¦æ˜¯å¦å¤–ä¸€ä¸ªé›†åˆçš„å­—é›†ã€‚<br>ç”¨ isSuperset(of:) æ–¹æ³•åˆ¤æ–­ä¸€ä¸ªé›†åˆæ˜¯å¦æ˜¯å¦å¤–ä¸€ä¸ªé›†åˆçš„è¶…é›†ã€‚<br>ç”¨ isStrictSubset(of:) æˆ–è€… isStrictSuperset(of:) æ–¹æ³•åˆ¤æ–­ä¸€ä¸ªé›†åˆæ˜¯å¦æ˜¯ä¸€ä¸ªå­é›†æˆ–è€…è¶…é›†, ä½†æ˜¯ä¸ç­‰äºä¸€ä¸ªæŒ‡å®šçš„é›†åˆã€‚ç”¨ isDisjoint(with:) æ–¹æ³•åˆ¤æ–­æ˜¯å¦ä¸¤ä¸ªé›†åˆä¸ç›¸äº¤ã€‚<br><code><br>let houseAnimals: Set = [â€œğŸ¶â€, â€œğŸ±â€]<br>let farmAnimals: Set = [â€œğŸ®â€, â€œğŸ”â€, â€œğŸ‘â€, â€œğŸ¶â€, â€œğŸ±â€]<br>let cityAnimals: Set = [â€œğŸ¦â€, â€œğŸ­â€]<br><br>houseAnimals.isSubset(of: farmAnimals)<br>// true<br>farmAnimals.isSuperset(of: houseAnimals)<br>// true<br>farmAnimals.isDisjoint(with: cityAnimals)<br>// true<br></code><br># å­—å…¸<br><br>å­—å…¸æ— åºå­˜å‚¨åŒ¹é…çš„åŒç±»å‹çš„å¥å€¼ã€‚æ¯ä¸ªå€¼å¯¹åº”ä¸€ä¸ªå”¯ä¸€çš„å¥, å®ƒä½œä¸ºå€¼åœ¨å­—å…¸é‡Œçš„æ ‡è¯†ç¬¦ã€‚ è·Ÿæ•°ç»„é¡¹ä¸åŒ, å­—å…¸é‡Œçš„é¡¹æ˜¯æ— åºçš„ã€‚å¦‚æœåŸºäºæ ‡è¯†ç¬¦æŸ¥æ‰¾å€¼ä½ å¯ä»¥ç”¨å­—å…¸, å¾ˆåƒçœŸå®ä¸–ç•Œå­—å…¸çš„ç”¨æ³•ã€‚<br><br># å­—å…¸ç±»å‹é€Ÿè®°è¯­æ³•<br><br>Swift å­—å…¸ç±»å‹å®Œæ•´å†™æ³•æ˜¯ Dictionary<key, value="">, Key æ˜¯å¯ä»¥ç”¨ä½œå­—å…¸å€¼çš„å€¼ç±»å‹, Value æ˜¯å­—å…¸ä¸ºå¥å­˜å‚¨çš„å€¼ç±»å‹ã€‚<br><br>å¤‡æ³¨<br><br>å­—å…¸ Key ç±»å‹ä¸€å®šè¦ç¬¦åˆ Hashable åè®®, è·Ÿé›†åˆå€¼ç±»å‹ä¸€æ ·ã€‚<br><br>ä½ ä¹Ÿå¯ä»¥å­—å…¸ç±»å‹çš„ç®€å†™å½¢å¼ [Key: Value]. å°½ç®¡ä¸¤ä¸ªå½¢å¼åŠŸèƒ½ä¸€æ ·, ç®€å†™å½¢å¼ä¼˜å…ˆä½¿ç”¨å¹¶è´¯ç©¿æ•´ä¸ªæ•™ç¨‹ã€‚<br><br># åˆ›å»ºä¸€ä¸ªç©ºå­—å…¸<br><br>è·Ÿæ•°ç»„ä¸€æ ·, ä½ å¯ç”¨ç”¨åˆå§‹åŒ–è¯­æ³•åˆ›å»ºä¸€ä¸ªç‰¹å®šç±»å‹çš„å­—å…¸:<br><code><br>var namesOfIntegers = <a href="">Int: String</a><br>// namesOfIntegers is an empty [Int: String] dictionary<br></code><br>è¿™ä¸ªä¾‹å­å®šä¹‰äº†ä¸€ä¸ªç©ºå­—å…¸,ç±»å‹æ˜¯ [Int: String],ç”¨æ¥å­˜å‚¨äººç±»å¯è¯»çš„æ•´æ•°åå­—ã€‚å¥æ˜¯æ•´å½¢, å€¼æ˜¯å­—ç¬¦ä¸²ç±»å‹ã€‚<br><br>å¦‚æœä¸Šä¸‹æ–‡å·²ç»æä¾›äº†ç±»å‹ä¿¡æ¯, ä½ å¯ä»¥ç”¨ä¸€ä¸ªç©ºçš„å­—å…¸å­—é¢é‡æ¥åˆ›å»ºä¸€ä¸ªç©ºå­—å…¸, å†™ä½œ [:] (ä¸€å¯¹ä¸­æ‹¬å·ä¸­é—´ä¸€ä¸ªå†’å·):<br><code><br>namesOfIntegers[16] = â€œsixteenâ€<br>// namesOfIntegers ç°åœ¨åŒ…å« 1 key-value pair<br>namesOfIntegers = [:]<br>// namesOfIntegers å†æ¬¡æˆä¸ºç©º,ç±»å‹æ˜¯[Int: String]<br></code><br># ç”¨å­—é¢é‡åˆ›å»ºå­—å…¸<br><br>ä½ è¿˜å¯ä»¥ç”¨å­—é¢é‡æ¥åˆå§‹åŒ–ä¸€ä¸ªå­—å…¸, è·Ÿæ—©å‰æ•°ç»„å­—é¢é‡è¯­æ³•ç›¸ä¼¼ã€‚å­—å…¸å­—é¢é‡æ˜¯å®šä¹‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªé”®å€¼å¯¹é›†åˆçš„é€Ÿå†™æ–¹æ³•ã€‚<br><br>é”®å€¼å¯¹æ˜¯å¥å’Œå€¼çš„ç»„åˆã€‚ åœ¨ä¸€ä¸ªå­—å…¸å­—é¢é‡é‡Œ, å¥å’Œå€¼åœ¨é”®å€¼å¯¹é‡Œç”¨å†’å·åˆ†å¼€ã€‚ é”®å€¼å¯¹å†™ä½œä¸€ä¸ªåˆ—è¡¨, ç”¨é€—å·åˆ†å¼€, åŒ…å«åœ¨ä¸€å¯¹ä¸­æ‹¬å·é‡Œ:<br><code><br>[key 1: value 1, key 2: value 2, key 3: value 3]<br></code><br>ä¸‹é¢çš„ä¾‹å­åˆ›å»ºä¸€ä¸ªå­—å…¸æ¥å­˜å‚¨å›½é™…æœºåœºåå­—ã€‚åœ¨è¿™ä¸ªå­—å…¸é‡Œ, å¥æ˜¯ä¸‰ä¸ªå­—æ¯çš„å›½é™…èˆªç©ºå…¬å¸ç¼–ç , å€¼æ˜¯æœºåœºå:<br><code><br>var airports: [String: String] = [â€œYYZâ€: â€œToronto Pearsonâ€, â€œDUBâ€: â€œDublinâ€]<br></code><br>airports å­—å…¸ç±»å‹æ˜¯ [String: String], æ„æ€æ˜¯ â€œä¸€ä¸ªå­—å…¸å¥å€¼éƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹â€.<br><br>å¤‡æ³¨<br><br>airports å­—å…¸å£°æ˜æˆä¸€ä¸ªå˜é‡è€Œéå¸¸é‡, å› ä¸ºä¸‹é¢çš„ä¾‹å­éœ€è¦æ·»åŠ æ›´å¤šæœºåœºè¿›å»ã€‚<br><br>airports ç”¨ä¸¤ä¸ªé”®å€¼å¯¹å­—é¢é‡åˆå§‹åŒ–ã€‚ç¬¬ä¸€ä¸ªé”®å€¼å¯¹æœ‰ä¸€ä¸ªå¥ â€œYYZâ€ å’Œä¸€ä¸ªå€¼ â€œToronto Pearsonâ€. ç¬¬äºŒä¸ªé”®å€¼å¯¹æœ‰ä¸€ä¸ªå¥ â€œDUBâ€ å’Œä¸€ä¸ªå€¼â€Dublinâ€.<br><br>å­—é¢é‡åŒ…å«ä¸¤ä¸ª String: String å¯¹ã€‚ ç®€ç›´ç±»å‹åŒ¹é…æœºåœºç±»å‹çš„å˜é‡å£°æ˜ (ä¸€ä¸ªå­—å…¸åªæœ‰å­—ç¬¦ä¸²å¥å’Œå­—ç¬¦ä¸²å€¼), æ‰€ä»¥å­—é¢é‡èµ‹å€¼æ˜¯å…è®¸çš„,å¯ä»¥ç”¨æ¥åˆå§‹åŒ–æœºåœºå­—å…¸ã€‚<br><br>è·Ÿæ•°ç»„ä¸€æ ·, å¦‚æœä½ ç”¨ç›¸åŒç±»å‹çš„é”®å€¼å­—å…¸åˆå§‹åŒ–ï¼Œä½ å°±ä¸éœ€è¦å†™å‡ºå­—å…¸çš„å£°æ˜ç±»å‹ã€‚åˆå§‹åŒ–æ–¹æ³•å¯ä»¥ç®€å†™å¦‚ä¸‹:<br><code><br>var airports = [â€œYYZâ€: â€œToronto Pearsonâ€, â€œDUBâ€: â€œDublinâ€]<br></code><br>å› ä¸ºå­—é¢é‡çš„æ‰€æœ‰å¥ç±»å‹éƒ½æ˜¯ä¸€æ ·çš„, åŒæ ·æ‰€æœ‰çš„å€¼ä¹Ÿæ˜¯, Swift å¯ä»¥æ¨æ–­å‡ºæ¥ [String: String] æ˜¯æ­£ç¡®çš„ç±»å‹å£°æ˜ã€‚<br><br># è®¿é—®å’Œä¿®æ”¹å­—å…¸<br><br>ä½ å¯ä»¥é€šè¿‡å­—å…¸çš„æ–¹æ³•å’Œå±æ€§æ¥è®¿é—®å’Œä¿®æ”¹å®ƒ, æˆ–è€…ä½¿ç”¨ä¸‹æ ‡è¯­æ³•ã€‚<br><br>è·Ÿæ•°ç»„ä¸€æ ·, ä½¿ç”¨count å±æ€§è·å–å­—å…¸çš„é¡¹æ•°:<br><code><br>print(â€œThe airports dictionary contains (airports.count) items.â€)<br>// æ‰“å° â€œThe airports dictionary contains 2 items.â€<br></code><br>ç”¨ isEmpty å±æ€§åˆ¤æ–­count å±æ€§æ˜¯å¦ç­‰äº 0:<br><code><br>if airports.isEmpty {<br>    print(â€œThe airports dictionary is empty.â€)<br>} else {<br>    print(â€œThe airports dictionary is not empty.â€)<br>}<br>// æ‰“å° â€œThe airports dictionary is not empty.â€<br></code><br>ä½ å¯ä»¥ç”¨ä¸‹æ ‡è¯­æ³•å¾€å­—å…¸æ·»åŠ æ–°é¡¹ã€‚ ä½¿ç”¨å¯¹åº”çš„ç±»å‹çš„é”®ä½œä¸ºä¸‹æ ‡ç´¢å¼•, å¹¶èµ‹ä¸€ä¸ªå¯¹åº”çš„æ–°å€¼:<br><code><br>airports[â€œLHRâ€] = â€œLondonâ€<br>// airports ç°åœ¨åŒ…å« 3 é¡¹<br></code><br>ä½ å¯ä»¥ç”¨ä¸‹æ ‡è¯­æ³•æ”¹å˜æŒ‡å®šé”®å¯¹åº”çš„å€¼:<br><code><br>airports[â€œLHRâ€] = â€œLondon Heathrowâ€<br>// â€œLHRâ€ çš„å€¼å·²ç»å˜æˆâ€London Heathrowâ€<br></code><br>ä½œä¸ºä¸‹æ ‡çš„æ›¿ä»£æ–¹æ¡ˆ, ç”¨å­—å…¸çš„ updateValue(<em>:forKey:) æ–¹æ³•è®¾ç½®æˆ–è€…æ›´æ–°æŒ‡å®šé”®çš„å€¼ã€‚ è·Ÿä¸Šé¢ä¸‹æ ‡å®ä¾‹ä¸€æ ·,  updateValue(</em>:forKey:) æ–¹æ³•åœ¨é”®ä¸å­˜åœ¨æ—¶è®¾ç½®å€¼, å¦‚æœé”®å­˜åœ¨åˆ™è¿›è¡Œæ›´æ–°ã€‚å’Œä¸‹æ ‡ä¸åƒçš„æ˜¯, updateValue(<em>:forKey:) æ–¹æ³•åœ¨æ‰§è¡Œæ›´æ–°åè¿”å›è€çš„å€¼ã€‚ è¿™ä¸ªå¯ä»¥è®©ä½ çŸ¥é“æ›´æ–°æ˜¯å¦ç”Ÿæ•ˆã€‚<br><br>updateValue(</em>:forKey:) æ–¹æ³•è¿”å›å¯é€‰ç±»å‹çš„å€¼ã€‚å¯¹ä¸ªå­˜å‚¨å­—ç¬¦ä¸²å€¼çš„å­—å…¸æ¥è¯´, æ¯”å¦‚, è¿™ä¸ªæ–¹æ³•è¿”å› String?, æˆ–è€… â€œoptional Stringâ€. å¯é€‰å€¼åŒ…æ‹¬æœªæ›´æ–°å‰å­˜åœ¨çš„é”®å¯¹åº”çš„è€å€¼, å¦‚æœå€¼ä¸å­˜åœ¨åˆ™åŒ…æ‹¬nil:<br><code><br>if let oldValue = airports.updateValue(â€œDublin Airportâ€, forKey: â€œDUBâ€) {<br>    print(â€œThe old value for DUB was (oldValue).â€)<br>}<br>// æ‰“å° â€œThe old value for DUB was Dublin.â€<br></code><br>ä½ å¯ä»¥ç”¨ä¸‹æ ‡è¯­æ³•è·å–ç‰¹å®šé”®å¯¹åº”çš„å€¼ã€‚å› ä¸ºæœ‰å¯èƒ½å»è¯·æ±‚ä¸å­˜åœ¨å€¼çš„é”®, å­—å…¸çš„ä¸‹æ ‡å°±ä¼šè¿”å›ä¸€ä¸ªå¯é€‰å€¼ã€‚ å¦‚æœå­—å…¸åŒ…å«è¯·æ±‚é”®å¯¹åº”çš„å€¼, ä¸‹æ ‡å°±è¿”å›ä¸€ä¸ªå¯é€‰å€¼ï¼Œè¿™ä¸ªå€¼åŒ…å«è¿™ä¸ªé”®å¯¹åº”çš„å­˜åœ¨çš„å€¼ã€‚å¦åˆ™è¿”å› nil:<br><code><br>if let airportName = airports[â€œDUBâ€] {<br>    print(â€œThe name of the airport is (airportName).â€)<br>} else {<br>    print(â€œThat airport is not in the airports dictionary.â€)<br>}<br>// æ‰“å° â€œThe name of the airport is Dublin Airport.â€<br></code><br>ä½ å¯ä»¥é€šè¿‡æŠŠé”®å¯¹åº”çš„å€¼èµ‹ç©ºçš„æ–¹å¼,ç”¨ä¸‹æ ‡è¯­æ³•ä»å­—å…¸ç§»é™¤ä¸€ä¸ªé”®å€¼å¯¹:<br><code><br>airports[â€œAPLâ€] = â€œApple Internationalâ€<br>// â€œApple Internationalâ€ is not the real airport for APL, so delete it<br>airports[â€œAPLâ€] = nil<br>// APL ç°åœ¨å·²ç»ä»å­—å…¸ç§»é™¤<br></code><br>æˆ–è€…, ç”¨ removeValue(forKey:) è¿™ä¸ªæ–¹æ³•æ¥ç§»é™¤ã€‚ è¿™ä¸ªæ–¹æ³•ç§»é™¤çš„é”®å€¼å¯¹å¦‚æœå­˜åœ¨è¿”å›è¢«ç§»é™¤çš„å€¼,å¦åˆ™è¿”å›nil:<br><code><br>if let removedValue = airports.removeValue(forKey: â€œDUBâ€) {<br>    print(â€œThe removed airportâ€™s name is (removedValue).â€)<br>} else {<br>    print(â€œThe airports dictionary does not contain a value for DUB.â€)<br>}<br>// Prints â€œThe removed airportâ€™s name is Dublin Airport.â€<br></code><br># éå†å­—å…¸<br><br>ä½ ç”¨for-in å¾ªç¯æ¥éå†å­—å…¸ã€‚ å­—å…¸ä¸­çš„æ¯ä¸€é¡¹éƒ½ä»¥ (key, value) å…ƒç»„å½¢å¼è¿”å›, ä½ å¯ä»¥åˆ†è§£å…ƒç»„åˆ°ä¸´æ—¶çš„å˜é‡æˆ–è€…å¸¸é‡:<br><code><br>for (airportCode, airportName) in airports {<br>    print(â€œ(airportCode): (airportName)â€)<br>}<br>// YYZ: Toronto Pearson<br>// LHR: London Heathrow<br></code><br><br>ä½ å¯ä»¥é€šè¿‡è®¿é—®å­—å…¸çš„é”®å€¼å±æ€§æ¥è·å–é”®å€¼çš„é›†åˆ:<br><code><br>for airportCode in airports.keys {<br>    print(â€œAirport code: (airportCode)â€)<br>}<br>// Airport code: YYZ<br>// Airport code: LHR<br>for airportName in airports.values {<br>    print(â€œAirport name: (airportName)â€)<br>}<br>// Airport name: Toronto Pearson<br>// Airport name: London Heathrow<br></code><br>å¦‚æœä½ æƒ³ä½¿ç”¨å­—å…¸çš„é”®å€¼çš„æ•°ç»„å®ä¾‹, ç”¨é”®å€¼æ¥åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„æ•°ç»„:<br><code><br>let airportCodes = <a href="airports.keys">String</a><br>// airportCodes is [â€œYYZâ€, â€œLHRâ€]<br><br>let airportNames = <a href="airports.values">String</a><br>// airportNames æ˜¯ [â€œToronto Pearsonâ€, â€œLondon Heathrowâ€]<br></code><br>Swiftçš„å­—å…¸ç±»å‹æ— åºçš„ã€‚ ä¸ºäº†ç”¨ç‰¹å®šé¡ºåºå»éå†å­—å…¸çš„é”®å€¼, ç”¨è¿™ä¸ª sorted() æ–¹æ³•ã€‚<br><br># æ§åˆ¶æµ<br>Swift æä¾›äº†ä¸€ç³»åˆ—æ§åˆ¶æµè¯­å¥ã€‚ åŒ…æ‹¬ while å¾ªç¯æ¥æ‰§è¡Œå¤šæ¬¡ä»»åŠ¡; if, guard, é‡‘é¢ switch è¯­å¥æ¥å†ä¸åŒæ¡ä»¶è¿™äº›ä¸åŒä»£ç ; è¿˜æœ‰ break å’Œ continue æ¥è½¬ç§»æ§åˆ¶æµã€‚<br><br>Swift åŒæ—¶æä¾›äº† for-in å¾ªç¯ä½¿å¾—éå†æ•°ç»„, å­—å…¸, èŒƒå›´, å­—ç¬¦ä¸², å’Œå…¶ä»–åºåˆ—å˜å¾—å®¹æ˜“ã€‚<br><br>Swiftçš„ switch è¯­å¥æ¯”å¤šæ•°ç±»Cè¯­è¨€ç›¸åŒè¯­å¥æ›´åŠ é«˜æ•ˆæœ‰åŠ›ã€‚ å› ä¸ºSwift çš„ switch è¯­å¥çš„åˆ†æ”¯ä¸ä¼šè½åˆ°ä¸‹ä¸€åˆ†æ”¯, è¿™å°±é¿å…äº†Cå¸¸è§çš„é”™è¯¯ã€‚ åˆ†æ”¯å¯ä»¥åŒ¹é…ä¸åŒçš„æ¨¡å¼, åŒ…æ‹¬åŒºé—´åŒ¹é…, å…ƒç»„, è½¬æ¢æˆæŒ‡å®šç±»å‹ã€‚ switch åˆ†æ”¯åŒ¹é…çš„å€¼å¯ä»¥ç»‘å®šåˆ°ä¸´æ—¶çš„å˜é‡æˆ–è€…å¸¸é‡ã€‚æ¯ä¸ªåˆ†æ”¯å¯ä»¥ç”¨where æ—æ¥è¡¨è¾¾ç¬¦åˆåŒ¹é…æ¡ä»¶ã€‚<br><br># For-In å¾ªç¯<br><br>ä½ ä½¿ç”¨ for-in å¾ªç¯æ¥éå†åºåˆ—, æ¯”å¦‚æ•°å€¼èŒƒå›´, æ•°ç»„ä¸­çš„é¡¹, å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ã€‚<br><br>ä¸‹é¢çš„ä¾‹å­æ˜¯äº”å€ä¹˜æ³•è¡¨çš„å‰å‡ ä¸ªæ¡ç›®:<br><code><br>for index in 1â€¦5 {<br>    print(â€œ(index) times 5 is (index <em> 5)â€)<br>}<br>// 1 times 5 is 5<br>// 2 times 5 is 10<br>// 3 times 5 is 15<br>// 4 times 5 is 20<br>// 5 times 5 is 25<br></em></code><br>éå†çš„åºåˆ—æ˜¯1 åˆ° 5çš„æ•°å€¼èŒƒå›´, åŒ…æ‹¬1å’Œ5,ä½¿ç”¨é—­åˆåŒºé—´è¿ç®—ç¬¦ (â€¦)æåˆ°è¿‡ã€‚ç´¢å¼•å€¼è®¾ç½®ç»™ range (1)çš„ç¬¬ä¸€ä¸ªæ•°, ç„¶åå¾ªç¯ä½“ä¸­çš„è¯­å¥å°±ä¼šæ‰§è¡Œã€‚ è¿™ç§æƒ…å†µ, å¾ªç¯ä½“åªæœ‰ä¸€ä¸ªè¯­å¥, æ‰“å°å½“å‰ç´¢å¼•å€¼5çš„å€æ•°ã€‚ è¿™ä¸ªè¯­å¥æ‰§è¡Œå, ç´¢å¼•å€¼æ›´æ–°ä¸ºåŒ…å«åœ¨ range (2) ä¸­çš„ç¬¬äºŒä¸ªå€¼, print(<em>:separator:terminator:) å‡½æ•°å†æ¬¡è°ƒç”¨ã€‚ è¿™ä¸ªè¿‡ç¨‹ç›´åˆ°åŒºé—´ç»“æŸã€‚<br><br>ä¸Šé¢çš„ä¾‹å­, ç´¢å¼•å€¼æ˜¯å¸¸é‡è€Œä¸”è‡ªåŠ¨è®¾ç½®ã€‚ åƒè¿™æ ·, ç´¢å¼•åœ¨ä½¿ç”¨å‰ä¸å¿…å£°æ˜ã€‚ åœ¨å¾ªç¯å£°æ˜ä¸­éšå¼å£°æ˜, ä¸éœ€è¦letå…³é”®å­—ã€‚<br><br>å¦‚æœä½ ä¸éœ€è¦åºåˆ—ä¸­çš„æ‰€æœ‰å€¼, å¯ä»¥åœ¨å˜é‡åä½ç½®å¤„ä½¿ç”¨ä¸‹åˆ’çº¿æ¥å¿½ç•¥è¿™ä¸ªå€¼ã€‚<br><code><br>let base = 3<br>let power = 10<br>var answer = 1<br>for </code></em> in 1â€¦power {<br>    answer = base<br>}<br>print(â€œ(base) to the power of (power) is (answer)â€)<br>// æ‰“å° â€œ3 to the power of 10 is 59049â€<br></key,></code><br>ä¸Šé¢çš„ä¾‹å­è®¡ç®—ä¸€ä¸ªæ•°çš„å¹‚(è¿™ä¸ªä¾‹å­é‡Œ, 3 çš„10æ¬¡å¹‚)ã€‚ å®ƒä¹˜ä»¥ä¸€ä¸ªåˆå§‹å€¼ 1 (å°±æ˜¯ 3 çš„0æ¬¡å¹‚), åæ¬¡, ä½¿ç”¨ä¸€ä¸ªé—­åˆåŒºé—´,1å¼€å§‹10ç»“æŸã€‚ä¸‹åˆ’çº¿ç”¨åœ¨è¿™é‡Œ,ä½¿å¾—å•ä¸ªå€¼è¢«å¿½ç•¥åŒæ—¶ä¸ä¼šåœ¨éå†è¿‡ç¨‹ä¸­è®¿é—®å½“å‰å€¼ã€‚<br><br>ä½¿ç”¨ for-in å¾ªç¯æ¥éå†æ•°ç»„çš„é¡¹ã€‚<br><code><br>let names = [â€œAnnaâ€, â€œAlexâ€, â€œBrianâ€, â€œJackâ€]<br>for name in names {<br>    print(â€œHello, (name)!â€)<br>}<br>// Hello, Anna!<br>// Hello, Alex!<br>// Hello, Brian!<br>// Hello, Jack!<br></code><br>ä½ è¿˜å¯ä»¥éå†ä¸€ä¸ªå­—å…¸æ¥éå†å®ƒçš„é”®å€¼å¯¹ã€‚ å­—å…¸éå†æ—¶æ¯æ¬¡è¿”å›ä¸€ä¸ª (key, value) å…ƒç»„, ä½ å¯ä»¥åœ¨for-inå¾ªç¯ä¸­æ˜¾ç¤ºåˆ†è§£å…ƒç»„çš„å€¼ç»™å¸¸é‡èµ‹å€¼ã€‚è¿™é‡Œ, å­—å…¸çš„é”®åˆ†è§£ç»™animalName å¸¸é‡, å­—å…¸çš„å€¼åˆ†é…ç»™äº† legCount å¸¸é‡ã€‚<br><code><br>let numberOfLegs = [â€œspiderâ€: 8, â€œantâ€: 6, â€œcatâ€: 4]<br>for (animalName, legCount) in numberOfLegs {<br>    print(â€œ(animalName)s have (legCount) legsâ€)<br>}<br>// ants have 6 legs<br>// spiders have 8 legs<br>// cats have 4 legs<br></code><br>å­—å…¸é¡¹éå†çš„é¡ºåºä¸éœ€è¦å’Œæ’å…¥é¡ºåºä¸€è‡´ã€‚ å­—å…¸å†…å®¹æ˜¯æ— åºçš„, éå†æ—¶ä¸èƒ½ä¿è¯è·å–çš„é¡ºåºã€‚<br><br># While å¾ªç¯<br><br>while å¾ªç¯æ‰§è¡Œä¸€ç»„è¯­å¥,ç›´åˆ°æ¡ä»¶å¤±è´¥ã€‚ é¦–æ¬¡éå†å‰,éå†æ¬¡æ•°ä¸çŸ¥é“çš„æ—¶å€™ä½¿ç”¨è¿™ç§æ–¹å¼æ˜¯æœ€å¥½çš„ã€‚Swift æä¾›ä¸¤ç§ while å¾ªç¯:<br><br>while æ¯æ¬¡å¾ªç¯å‰è¯„ä¼°æ¡ä»¶ã€‚<br>repeat-while æ¯æ¬¡å¾ªç¯åè¯„ä¼°æ¡ä»¶ã€‚<br># While<br><br>while å¾ªç¯ä»è¯„ä¼°æ¡ä»¶å¼€å§‹ã€‚ å¦‚æœæ¡ä»¶æ˜¯çœŸçš„, ä¸€ç»„è¯­å¥ä¼šé‡å¤æ‰§è¡Œç›´åˆ°æ¡ä»¶å˜æˆå‡çš„ã€‚<br><br>è¿™æ˜¯while å¾ªç¯çš„åŸºæœ¬å½¢å¼:<br><code><br>while condition {<br>    statements<br>}<br></code><br>è¿™ä¸ªä¾‹å­æ˜¯ä¸ªè›‡ä¸æ¢¯å­çš„æ¸¸æˆ:<br><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/snakesAndLadders_2x.png"><br></div><br>æ¸¸æˆè§„åˆ™å¦‚ä¸‹:<br><br>æ£‹ç›˜æœ‰25ä¸ªæ–¹æ ¼, ç›®æ ‡æ˜¯å æ®æˆ–è€…è¶…è¿‡25ã€‚<br>æ¯æ¬¡, æ‘‡ä¸€ä¸ª6è¾¹çš„éª°å­ç„¶åç§»åŠ¨å¯¹åº”æ•°ç›®æ–¹æ ¼, æ²¿ç€ä¸Šå›¾çš„ç‚¹ç®­å¤´çš„æ°´å¹³è·¯å¾„ç§»åŠ¨ã€‚<br>å¦‚æœä½äºæ¢¯å­åº•éƒ¨, å¾€æ¢¯å­ä¸Šæ–¹ç§»åŠ¨ã€‚<br>å¦‚æœä½äºè›‡å¤´, å¾€è›‡ä¸‹æ–¹ç§»åŠ¨ã€‚<br>æ¸¸æˆæ£‹ç›˜ç”¨æ•´å½¢å€¼æ•°ç»„è¡¨ç¤ºã€‚å¤§å°åŸºäº finalSquare å¸¸é‡, ç”¨æ¥åˆå§‹åŒ–æ•°ç»„å¹¶ä¸”åˆ¤æ–­å–èƒœçš„æ¡ä»¶ã€‚ æ£‹ç›˜ç”¨26ä¸ª0å€¼åˆå§‹åŒ–, è€Œä¸æ˜¯25 (æ¯ä¸ªç´¢å¼•ä»0åˆ°25)ã€‚<br><code><br>let finalSquare = 25<br>var board = <a href="repeating: 0, count: finalSquare + 1" target="_blank" rel="external">Int</a><br></code><br>ä¸€äº›æ–¹æ ¼ä¼šä¸ºè›‡å’Œæ¢¯å­è®¾ç½®æ›´å¤šçš„æŒ‡å®šå€¼ã€‚æ¢¯å­æ–¹æ ¼æ˜¯æ­£æ•°,è›‡æ–¹æ ¼æ˜¯è´Ÿæ•°ã€‚<br><code><br>board[03] = +08; board[06] = +11; board[09] = +09; board[10] = +02<br>board[14] = -10; board[19] = -11; board[22] = -02; board[24] = -08<br></code><br>æ–¹æ ¼ 3 åŒ…å«äº†æ¢¯å­çš„åº•éƒ¨,å¯ä»¥çˆ¬åˆ°æ–¹æ ¼11ã€‚ ä¸ºäº†è¡¨ç¤ºè¿™ä¸ª, board[03] ç­‰äº +08, è¿™ç­‰äºæ•´æ•°å€¼8 (3å’Œ11çš„å·®å€¼) åŠ å· (+i) å’Œå‡å· (-i)ç›¸ç­‰, æ•°å€¼ä½äº10çš„ç”¨0å¡«å……,è¿™æ ·æ‰€ä»¥æ£‹ç›˜éƒ½è¢«å®šä¹‰äº†ã€‚<br><br>ç©å®¶å¼€å§‹æ–¹æ ¼æ˜¯ â€œæ–¹æ ¼0â€, é ç€æ£‹ç›˜çš„å·¦ä¸‹è§’ã€‚ ç¬¬ä¸€æ¬¡æ‘‡éª°å­æ€»æ˜¯è®©ç©å®¶è¿›å…¥æ£‹ç›˜ã€‚<br><code><br>var square = 0<br>var diceRoll = 0<br>while square &lt; finalSquare {<br>    // roll the dice<br>    diceRoll += 1<br>    if diceRoll == 7 { diceRoll = 1 }<br>    // move by the rolled amount<br>    square += diceRoll<br>    if square &lt; board.count {<br>        // if weâ€™re still on the board, move up or down for a snake or a ladder<br>        square += board[square]<br>    }<br>}<br>print(â€œGame over!â€)<br></code><br>ä¸Šé¢çš„ä¾‹å­ç”¨äº†ä¸€ä¸ªå¾ˆç®€å•æ–¹æ³•å»æ‘‡éª°å­ã€‚ ä¸ç”¨éšæœºæ•°, ç”¨ä¸€åˆå§‹å€¼ä¸º0çš„ diceRollã€‚ æ¯æ¬¡å¾ªç¯, diceRoll åŠ ä¸€ç„¶ååˆ¤æ–­å®ƒæ˜¯å¦è¿‡å¤§ã€‚ å½“è¿”å›å€¼ç­‰äº7, éª°å­å€¼è¿‡å¤§ç„¶åé‡ç½®ä¸º1ã€‚diceRoll å€¼æ€»æ˜¯ 1, 2, 3, 4, 5, 6, 1, 2 ç„¶åä¸åœå¾ªç¯ã€‚<br><br>æ‘‡å®Œç­›å­, å¾€å‰ç§»åŠ¨ diceRoll æ–¹æ ¼ã€‚ å¦‚æœç§»åŠ¨è¶…è¿‡25, æ¸¸æˆç»“æŸã€‚è€ƒè™‘è¾¹ç•Œå®‰å…¨ï¼Œåœ¨æ“ä½œæ–¹æ ¼çš„æ—¶å€™ã€‚<br><br>å¤‡æ³¨<br><br>æ²¡æœ‰è¿™ä¸ªåˆ¤æ–­, board[square] å¯èƒ½ä¼šè¶Šç•Œè®¿é—®æ£‹ç›˜æ•°ç»„çš„å€¼, è¿™ä¼šè§¦å‘ä¸€ä¸ªé”™è¯¯ã€‚ å¦‚æœæ–¹æ ¼ç­‰äº 26, ä»£ç ä¼šåˆ¤æ–­board[26] çš„å€¼, è¿™ä¼šè¶…è¿‡æ•°ç»„çš„å¤§å°ã€‚<br><br>å½“å‰while å¾ªç¯æ‰§è¡Œç„¶åç»“æŸ, ç„¶åå¾ªç¯çš„æ¡ä»¶ä¼šè¢«åˆ¤æ–­æ˜¯å¦å†æ¬¡æ‰§è¡Œã€‚å¦‚æœç©å®¶å·²ç»ç§»åŠ¨æˆ–è€…è¶…è¿‡25, å¾ªç¯çš„æ¡ä»¶å˜æˆå‡ç„¶åæ¸¸æˆå°±ç»“æŸã€‚<br><br>while å¾ªç¯é€‚åˆè¿™ä¸ªä¾‹å­, å› ä¸ºå¼€å§‹å¾ªç¯çš„æ—¶å€™æ¸¸æˆçš„é•¿åº¦å¹¶ä¸æ¸…æ¥šã€‚ ç›¸å, ä¸€ä¸ªç‰¹å®šæ¡ä»¶æ»¡è¶³åå¾ªç¯è¢«æ‰§è¡Œäº†ã€‚<br><br># Repeat-While<br><br>å¦å¤–ä¸€ç§whileå¾ªç¯çš„å˜ç§, å°±æ˜¯ repeat-while å¾ªç¯, å…ˆæ‰§è¡Œä¸€æ¬¡å¾ªç¯, ç„¶åå†è€ƒè™‘å¾ªç¯çš„æ¡ä»¶ã€‚ ç„¶åç»§ç»­æ‰§è¡Œç›´åˆ°æ¡ä»¶å˜æˆå‡ã€‚<br><br>å¤‡æ³¨<br><br>Swift é‡Œçš„ repeat-while å¾ªç¯ç±»ä¼¼å…¶ä»–è¯­è¨€é‡Œçš„ do-while å¾ªç¯ã€‚<br><br>è¿™é‡Œæ˜¯ repeat-while å¾ªç¯çš„åŸºæœ¬æ ·å¼:<br><code><br>repeat {<br>    statements<br>} while condition<br></code><br>è¿™é‡Œè¿˜æ˜¯è›‡ä¸æ¢¯å­çš„ä¾‹å­, ç”¨ repeat-while å¾ªç¯æ¥å†™è€Œä¸æ˜¯ while å¾ªç¯ã€‚ finalSquare, board, square, å’Œ diceRollçš„å€¼åˆå§‹åŒ–æ–¹å¼è·Ÿwhileå¾ªç¯ä¸€æ ·ã€‚<br><code><br>let finalSquare = 25<br>var board = <a href="repeating: 0, count: finalSquare + 1" target="_blank" rel="external">Int</a><br>board[03] = +08; board[06] = +11; board[09] = +09; board[10] = +02<br>board[14] = -10; board[19] = -11; board[22] = -02; board[24] = -08<br>var square = 0<br>var diceRoll = 0<br></code><br>è¿™ä¸ªæ¸¸æˆç‰ˆæœ¬, ç¬¬ä¸€æ­¥æ˜¯åˆ¤æ–­æ¢¯å­å’Œè›‡ã€‚ æ²¡æœ‰æ¢¯å­å¸¦ç€ç©å®¶ç›´æ¥å»æ–¹æ ¼25, å› ä¸ºä¸å¤ªå¯èƒ½é€šè¿‡çˆ¬æ¢¯å­å»èµ¢å¾—æ¸¸æˆã€‚å› æ­¤, åˆ¤æ–­æœ‰æ²¡æœ‰è›‡å’Œæ¢¯å­æ˜¯å¾ˆå®‰å…¨çš„ã€‚<br><br>æ¸¸æˆå¼€å§‹, ç©å®¶åœ¨ â€œsquare zeroâ€. board[0] æ€»æ˜¯ç­‰äº0æ²¡æœ‰å½±å“ã€‚<br><code><br>repeat {<br>    // move up or down for a snake or ladder<br>    square += board[square]<br>    // roll the dice<br>    diceRoll += 1<br>    if diceRoll == 7 { diceRoll = 1 }<br>    // move by the rolled amount<br>    square += diceRoll<br>} while square &lt; finalSquare<br>print(â€œGame over!â€)<br></code><br>è›‡ä¸æ¢¯å­åˆ¤æ–­å, æ‘‡åŠ¨ç­›å­ç©å®¶å¾€å‰ç§»åŠ¨ diceRoll æ–¹æ ¼ã€‚ å½“å‰å¾ªç¯æ‰§è¡Œç„¶åç»“æŸã€‚<br><br>å¾ªç¯æ¡ä»¶ (while square &lt; finalSquare) å’Œä»¥å‰ä¸€æ ·, ä¸è¿‡è¿™æ¬¡å¼€å§‹ä¸è¯„ä¼°,ç›´åˆ°ç¬¬ä¸€æ¬¡å¾ªç¯ç»“æŸæ‰è¯„ä¼°ã€‚repeat-while å¾ªç¯æ¯” while loop å¾ªç¯æ›´é€‚åˆè¿™ä¸ªæ¸¸æˆã€‚ä¸Šé¢çš„ repeat-while å¾ªç¯, å½“æ¡ä»¶ç¡®è®¤æ–¹æ ¼è¿˜åœ¨æ£‹ç›˜ä¸Šå, square += board[square] æ€»æ˜¯ç«‹å³æ‰§è¡Œã€‚ è¿™å°±ä¸éœ€è¦åƒä¹‹å‰é‚£æ ·åˆ¤æ–­æ•°ç»„è¾¹ç•Œã€‚<br><br># æ¡ä»¶è¯­å¥<br><br>åŸºäºç‰¹å®šæ¡ä»¶æ‰§è¡Œä¸åŒä»£ç ç‰‡æ®µç»å¸¸ç”¨åˆ°ã€‚ åœ¨ç¢°åˆ°é”™è¯¯æ—¶ä½ å¯èƒ½æƒ³è¿è¡Œé¢å¤–çš„ä»£ç ç‰‡æ®µ, æˆ–è€…åœ¨æ•°å€¼å˜å¾—å¤ªé«˜æˆ–è€…å¤ªä½çš„æ—¶å€™ä¹Ÿæ˜¯ã€‚ä¸ºäº†åšè¿™ä»¶äº‹, ä½ è®©éƒ¨åˆ†ä»£ç å¸¦æœ‰æ¡ä»¶æ€§ã€‚<br><br>Swift æä¾›ä¸¤ç§æ–¹å¼ç»™ä½ çš„ä»£ç æ·»åŠ æ¡ä»¶åˆ†æ”¯: if è¯­å¥å’Œ switch è¯­å¥ã€‚ä½ ç”¨ if è¯­å¥è¯„ä¼°æ¡ä»¶ä¼šæœ‰ä¸€äº›å¯èƒ½çš„ç»“æœã€‚ switch è¯­å¥åœ¨æ¯”è¾ƒå¤æ‚çš„å¤šä¸ªæ’åˆ—æ—¶å¾ˆæœ‰ç”¨, åœ¨æ¨¡å¼åŒ¹é…å¯ä»¥å¸®åŠ©é€‰æ‹©åˆé€‚ä»£ç åˆ†æ”¯æ‰§è¡Œçš„æƒ…å†µä¹Ÿæ˜¯ã€‚<br><br># If<br><br>æœ€ç®€å•çš„å½¢å¼, if è¯­å¥æœ‰ä¸€ä¸ªå•ä¸€æ¡ä»¶ã€‚ æ¡ä»¶ä¸ºçœŸæ‰§è¡Œä¸€ä¸ªè¯­å¥é›†åˆã€‚<br><code><br>var temperatureInFahrenheit = 30<br>if temperatureInFahrenheit &lt;= 32 {<br>    print(â€œItâ€™s very cold. Consider wearing a scarf.â€)<br>}<br>// æ‰“å° â€œItâ€™s very cold. Consider wearing a scarf.â€<br></code><br>ä¸Šé¢çš„ä¾‹å­åˆ¤æ–­æ–‡æ¡£æ˜¯å¦å°äºç­‰äºåæ°32åº¦ (å†°ç‚¹)ã€‚ å¦‚æœæ˜¯, æ‰“å°ä¸€æ¡ä¿¡æ¯ã€‚ å¦åˆ™, ä¸æ‰“å°æ¶ˆæ¯, ä»£ç åœ¨å¤§æ‹¬å·åç»§ç»­æ‰§è¡Œã€‚<br><br>if è¯­å¥è¿˜å¯ä»¥æä¾›ä¸€ä¸ªæ›¿ä»£è¯­å¥é›†åˆ, å°±æ˜¯ else å­—å¥, é’ˆå¯¹æ¡ä»¶æ˜¯å‡çš„æƒ…å†µã€‚ è¿™äº›è¯­å¥ç”¨else å…³é”®å­—è¡¨ç¤ºã€‚<br><code><br>temperatureInFahrenheit = 40<br>if temperatureInFahrenheit &lt;= 32 {<br>    print(â€œItâ€™s very cold. Consider wearing a scarf.â€)<br>} else {<br>    print(â€œItâ€™s not that cold. Wear a t-shirt.â€)<br>}<br>// æ‰“å° â€œItâ€™s not that cold. Wear a t-shirt.â€<br></code><br>ä¸¤ä¸ªåˆ†æ”¯ä¹‹ä¸€æ€»ä¼šæ‰§è¡Œã€‚ å› ä¸ºæ¸©åº¦å·²ç»å¢é•¿åˆ°åæ°40åº¦, è¿™ä¸å¤Ÿå†·åˆ°æˆ´å›´å·¾,å› æ­¤elseåˆ†æ”¯è¢«è§¦å‘äº†ã€‚<br><br>ä½ å¯ä»¥é“¾æ¥å¤šä¸ªifè¯­å¥æ¥è€ƒè™‘é¢å¤–çš„è¯­å¥ã€‚<br><code><br>temperatureInFahrenheit = 90<br>if temperatureInFahrenheit &lt;= 32 {<br>    print(â€œItâ€™s very cold. Consider wearing a scarf.â€)<br>} else if temperatureInFahrenheit &gt;= 86 {<br>    print(â€œItâ€™s really warm. Donâ€™t forget to wear sunscreen.â€)<br>} else {<br>    print(â€œItâ€™s not that cold. Wear a t-shirt.â€)<br>}<br>// æ‰“å° â€œItâ€™s really warm. Donâ€™t forget to wear sunscreen.â€<br></code><br>åœ¨è¿™ä¸ªåº“, é¢å¤–çš„ifè¯­å¥ç”¨æ¥å“åº”ç‰¹åˆ«æ¸©æš–çš„æ¸©åº¦ã€‚ æœ€åçš„elseè¯­å¥ä¿ç•™, å®ƒå“åº”æ—¢ä¸å¤ªçƒ­ä¹Ÿä¸å¤ªå†·çš„æƒ…å†µã€‚<br><br>æœ€åçš„elseè¯­å¥æ˜¯å¯é€‰çš„, ä¸è¿‡, å¦‚æœä¸éœ€è¦æ‰§è¡Œå¯ä»¥å»æ‰ã€‚<br><code><br>temperatureInFahrenheit = 72<br>if temperatureInFahrenheit &lt;= 32 {<br>    print(â€œItâ€™s very cold. Consider wearing a scarf.â€)<br>} else if temperatureInFahrenheit &gt;= 86 {<br>    print(â€œItâ€™s really warm. Donâ€™t forget to wear sunscreen.â€)<br>}<br></code><br>å› ä¸ºè¿™ä¸ªæ¸©åº¦æ—¢ä¸å¤ªå†·ä¹Ÿä¸å¤ªçƒ­,æ‰€ä»¥ä¸ä¼šè§¦å‘ifæˆ–è€…elseè¯­å¥,æ²¡æœ‰æ‰“å°ä¿¡æ¯ã€‚<br><br># Switch<br><br>switch è¯­å¥è®¾æƒ³ä¸€ä¸ªå€¼,ç„¶åè·Ÿä¸€äº›å¯èƒ½çš„åŒ¹é…æ¨¡å¼æ¯”è¾ƒã€‚ç„¶åæ‰§è¡Œåˆé€‚çš„ä»£ç , åŸºäºç¬¬ä¸€æ¬¡åŒ¹é…æˆåŠŸã€‚switch è¯­å¥æä¾›äº†ifè¯­å¥çš„æ›¿ä»£æ–¹æ³•æ¥å“åº”å¤šç§æ½œåœ¨çŠ¶æ€çš„æƒ…å†µã€‚<br><br>æœ€ç®€å•çš„å½¢å¼, ä¸€ä¸ª switch è¯­å¥ç”¨ä¸€ä¸ªå€¼è·Ÿä¸€ä¸ªæˆ–è€…å¤šä¸ªåŒç±»å‹çš„å€¼ç›¸æ¯”è¾ƒã€‚<br><code><br>switch some value to consider {<br>case value 1:<br>    respond to value 1<br>case value 2,<br>     value 3:<br>    respond to value 2 or 3<br>default:<br>    otherwise, do something else<br>}<br></code><br>æ¯ä¸ª switch è¯­å¥ç”±å¤šä¸ªcaseåˆ†æ”¯ç»„æˆ, æ¯ä¸ªåˆ†æ”¯ä»¥case å…³é”®å­—å¼€å§‹ã€‚ é™¤äº†è·ŸæŒ‡å®šå€¼æ¯”è¾ƒå¤–, Swift ä¸ºcaseåˆ†æ”¯æä¾›äº†æŒ‡å®šæ›´å¤æ‚åŒ¹é…æ¨¡å¼çš„æ–¹æ³•ã€‚è¿™äº›é€‰é¡¹æœ¬ç« åé¢ä¼šæè¿°ã€‚<br><br>è·Ÿifè¯­å¥ä½“å¾ˆåƒ, æ¯ä¸ª case æ˜¯ä»£ç æ‰§è¡Œçš„å•ç‹¬åˆ†æ”¯ã€‚ switch è¯­å¥å†³å®šæ˜¯å¦é€‰æ‹©è¿™ä¸ªåˆ†æ”¯ã€‚è¿™ä¸ªè¿‡ç¨‹å«åˆ†å‘ã€‚<br><br>æ¯ä¸ªswitch è¯­å¥åŠ¡å¿…æ˜¯è¯¦å°½çš„ã€‚ å°±æ˜¯è¯´, æ¯ä¸ªèƒ½æƒ³åˆ°çš„ç±»å‹å€¼éƒ½è¦caseåŒ¹é…ã€‚ ä¸ºæ¯ä¸ªå¯èƒ½å€¼éƒ½æä¾›caseæ˜¯ä¸åˆé€‚çš„ã€‚ä½ å¯ä»¥å®šä¹‰ä¸€ä¸ªé»˜è®¤caseè¦†ç›–æ²¡æœ‰æ˜¾ç¤ºå¤„ç†çš„å€¼ã€‚ é»˜è®¤caseä½¿ç”¨defaultå…³é”®å­—æŒ‡æ˜, å¿…é¡»æ€»æ˜¯å‡ºç°åœ¨æœ€åã€‚<br><br>è¿™ä¸ªä¾‹å­ä½¿ç”¨ä¸€ä¸ª switch è¯­å¥æ¥å‡ºå¤„ç†ä¸€ä¸ªå°å†™å­—æ¯someCharacter:<br><code><br>let someCharacter: Character = â€œzâ€<br>switch someCharacter {<br>case â€œaâ€:<br>    print(â€œThe first letter of the alphabetâ€)<br>case â€œzâ€:<br>    print(â€œThe last letter of the alphabetâ€)<br>default:<br>    print(â€œSome other characterâ€)<br>}<br>// æ‰“å° â€œThe last letter of the alphabetâ€<br></code><br>switch è¯­å¥ç¬¬ä¸€ä¸ªcaseåŒ¹é…è‹±æ–‡å­—æ¯è¡¨ç¬¬ä¸€ä¸ªå­—æ¯ a, ç¬¬äºŒä¸ªcaseåŒ¹é…æœ€åä¸€ä¸ªå­—æ¯ z. å› ä¸º switch è¯­å¥å¯¹äºæ¯ä¸ªå¯èƒ½çš„å­—ç¬¦éƒ½è¦æœ‰case, ä¸æ˜¯æ¯ä¸ªå­—æ¯è¡¨å­—ç¬¦éƒ½éœ€è¦ã€‚è¿™ä¸ªswitch è¯­å¥ä½¿ç”¨äº†ä¸€ä¸ªdefault case å»å¤„ç†a å’Œ zä¹‹å¤–çš„å…¶ä»–æ‰€æœ‰å­—æ¯ã€‚è¿™ä¿è¯äº†switchè¯­å¥çš„è¯¦ç»†æ€§ã€‚<br><br># ééšå¼ Fallthrough<br><br>å’ŒC ä¸ objective-C çš„switchè¯­å¥å¯¹æ¯”, Swift ä¸­çš„switchè¯­å¥ä¸ä¼š fall through caseåº•éƒ¨å¹¶ä¸”è·³åˆ°ä¸‹ä¸€ä¸ªcaseã€‚ ç›¸å, åœ¨ç¬¬ä¸€æ¬¡åŒ¹é…åˆ°caseåæ•´ä¸ªswitchè¯­å¥æ‰§è¡Œå°±å®Œæˆäº†ã€‚ä¸è¦æ±‚æ˜¾ç¤ºçš„breakè¯­å¥ã€‚ è¿™ä½¿å¾—switchè¯­å¥æ›´å®‰å…¨,æ›´å®¹æ˜“ä½¿ç”¨,è€Œä¸”é¿å…æ‰§è¡Œå¤šä¸ªcaseçš„é”™è¯¯ã€‚<br><br>å¤‡æ³¨<br><br>å°½ç®¡Swift ä¸è¦æ±‚break, ä½ ä»ç„¶å¯ä»¥åœ¨Swiftä¸­ä½¿ç”¨ã€‚ å…·ä½“å¯ä»¥å‚è§ Break in a Switch Statement.<br><br>case ä½“å¿…é¡»åŒ…å«è‡³å°‘ä¸€å¥å¯æ‰§è¡Œè¯­å¥ã€‚ä¸‹é¢çš„ä»£ç çš„æ— æ•ˆçš„, å› ä¸ºç¬¬ä¸€ä¸ªcaseæ˜¯ç©ºçš„:<br><code><br>let anotherCharacter: Character = â€œaâ€<br>switch anotherCharacter {<br>case â€œaâ€: // Invalid, the case has an empty body<br>case â€œAâ€:<br>    print(â€œThe letter Aâ€)<br>default:<br>    print(â€œNot the letter Aâ€)<br>}<br>// è¿™ä¼šæŠ¥ä¸€ä¸ªç¼–è¯‘æœŸé”™è¯¯<br></code><br>è·ŸCä¸­çš„switchè¯­å¥ä¸åŒ, è¿™ä¸ª switch è¯­å¥ä¸èƒ½åŒæ—¶åŒ¹é… â€œaâ€ å’Œ â€œAâ€. ç›¸å, å®ƒä¼šæŠ¥ä¸€ä¸ªç¼–è¯‘æœŸé”™è¯¯,å› ä¸ºcase â€œaâ€: æ²¡æœ‰ä»»ä½•å¯ä»¥æ‰§è¡Œçš„è¯­å¥ã€‚è¿™ä¸ªæ–¹æ³•é¿å…äº†çªç„¶ä»ä¸€ä¸ªcaseè·³å…¥å¦å¤–ä¸€ä¸ªcase, è®©ä»£ç æ„å›¾æ¸…æ™°å®‰å…¨ã€‚<br><br>å¦‚æœè¦ç”¨ä¸€ä¸ªcaseåŒæ—¶åŒ¹é…â€aâ€ å’Œ â€œAâ€, æŠŠè¿™ä¸¤ä¸ªå€¼åˆå¹¶åˆ°ä¸€ä¸ªcaseè¯­å¥, ç”¨é€—å·æŠŠå®ƒä»¬åˆ†å¼€ã€‚<br><code><br>let anotherCharacter: Character = â€œaâ€<br>switch anotherCharacter {<br>case â€œaâ€, â€œAâ€:<br>    print(â€œThe letter Aâ€)<br>default:<br>    print(â€œNot the letter Aâ€)<br>}<br>// Prints â€œThe letter Aâ€<br></code><br>ä¸ºäº†å¯è¯»æ€§, å¤åˆcaseä¹Ÿå¯ä»¥å†™ä½œå¤šè¡Œã€‚ å…·ä½“å‚è§ Compound Cases.<br><br>å¤‡æ³¨<br><br>ä¸ºäº†æ˜¾å¼fall through åˆ°æŸä¸ªcaseä¸‹é¢, ä½¿ç”¨ fallthrough å…³é”®å­—ã€‚<br><br># åŒºé—´åŒ¹é…<br><br>switch caseé‡Œé¢çš„å€¼å¯ä»¥åŒ…å«åœ¨åŒºé—´é‡Œåˆ¤æ–­ã€‚ è¿™ä¸ªä¾‹å­ä½¿ç”¨æ•°å­—åŒºé—´æ¥æä¾›ä¸€ä¸ªå¯¹ä»»ä½•æ•°å­—å¤§å°çš„è‡ªç„¶è¯­è¨€ç»Ÿè®¡ã€‚<br><code><br>let approximateCount = 62<br>let countedThings = â€œmoons orbiting Saturnâ€<br>var naturalCount: String<br>switch approximateCount {<br>case 0:<br>    naturalCount = â€œnoâ€<br>case 1..<5: naturalcount="a few" case="" 5..<12:="" 12..<100:="" 100..<1000:="" default:="" }="" print("there="" are="" \(naturalcount)="" \(countedthings).")="" prints="" "there="" dozens="" of="" moons="" orbiting="" saturn."="" <="" code=""><br>ä¸Šé¢çš„ä¾‹å­, approximateCount åœ¨switchè¯­å¥é‡Œä¼°ç®—ã€‚ æ¯ä¸ªcaseæŠŠè¿™ä¸ªå€¼è·Ÿä¸€ä¸ªæ•°å­—æˆ–è€…åŒºé—´è¿›è¡Œæ¯”è¾ƒã€‚å› ä¸º approximateCount å€¼è½åœ¨ 12 å’Œ 100ä¹‹é—´, naturalCount è¢«èµ‹å€¼ä¸º â€œdozens ofâ€, ç„¶åä»£ç æ‰§è¡Œè·³å‡ºswitchè¯­å¥ç»§ç»­æ‰§è¡Œã€‚<br><br># å…ƒç»„<br><br>ä½ å¯ä»¥åœ¨switchè¯­å¥ä¸­ä½¿ç”¨å…ƒç»„æµ‹è¯•å¤šå€¼ã€‚å…ƒç»„å…ƒç´ å¯ä»¥è·Ÿä¸€ä¸ªä¸åŒå€¼æˆ–è€…å€¼åŒºé—´è¿›è¡Œæµ‹è¯•ã€‚æˆ–è€…, ä½¿ç”¨é€šé…ä¸‹åˆ’çº¿ (<em>) å»åŒ¹é…å¯èƒ½çš„å€¼ã€‚<br><br>ä¸‹é¢çš„ä¾‹å­æœ‰ä¸€ä¸ª (x, y) ç‚¹, ç”¨ä¸€ä¸ªç®€å•çš„å…ƒç»„ç±»å‹ (Int, Int) è¡¨ç¤º, å¹¶ä¸”åœ¨ä¸‹é¢çš„å›¾è¡¨ä¸­æ ‡ç¤ºã€‚<br><code><br>let somePoint = (1, 1)<br>switch somePoint {<br>case (0, 0):<br>    print(â€œ(0, 0) is at the originâ€)<br>case (</code></em>, 0):<br>    print(â€œ((somePoint.0), 0) is on the x-axisâ€)<br>case (0, _):<br>    print(â€œ(0, (somePoint.1)) is on the y-axisâ€)<br>case (-2â€¦2, -2â€¦2):<br>    print(â€œ((somePoint.0), (somePoint.1)) is inside the boxâ€)<br>default:<br>    print(â€œ((somePoint.0), (somePoint.1)) is outside of the boxâ€)<br>}<br>// æ‰“å° â€œ(1, 1) is inside the boxâ€<br></5:></code><br><br><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/coordinateGraphSimple_2x.png"><br></div><br>switch è¯­å¥å†³å®šè¿™ä¸ªç‚¹æ˜¯å¦ä½äºåŸç‚¹ (0, 0), çº¢è‰²çš„ x-è½´, æ©™è‰² y-è½´, åœ¨è“è‰² 4-by-4 æ–¹å—é‡ŒåŸç‚¹åœ¨ä¸­å¿ƒ, æˆ–è€…åœ¨æ–¹å—ä¹‹å¤–ã€‚<br><br>è·Ÿ C ä¸åŒ, Swift å…è®¸å¤šä¸ªcase å»å¤„ç†ç›¸åŒçš„å€¼ã€‚ äº‹å®ä¸Š, (0, 0)ç‚¹å¯ä»¥æ»¡è¶³ä¾‹å­çš„å››ä¸ªcaseã€‚ä¸è¿‡, å¦‚æœå¤šä¸ªåŒ¹é…éƒ½å¯èƒ½, ç¬¬ä¸€ä¸ªåŒ¹é…ä¸Šçš„æ€»æ˜¯æ‰§è¡Œã€‚ (0, 0) ç‚¹é¦–å…ˆåŒ¹é…case (0, 0), å…¶ä»–æ‰€æœ‰åŒ¹é…çš„caseéƒ½ä¼šè¢«å¿½ç•¥ã€‚<br><br># å€¼ç»‘å®š<br><br>ä¸€ä¸ª switch case å¯ä»¥ç»‘å®šå€¼åˆ°ä¸´æ—¶çš„å¸¸é‡æˆ–è€…å˜é‡, ç”¨åœ¨case ä½“ä¸­ã€‚è¿™ä¸ªå°±æ˜¯å€¼ç»‘å®š, å› ä¸ºå€¼ç»‘å®šåˆ°case ä½“ä¸­çš„ä¸´æ—¶å¸¸é‡æˆ–è€…å˜é‡ä¸Šã€‚<br><br>ä¸‹é¢è¿™ä¸ªä¾‹å­æœ‰ä¸€ä¸ª(x, y) ç‚¹, æ˜¯å…ƒç»„ç±»å‹ (Int, Int), åœ¨ä¸‹é¢çš„å›¾è¡¨ä¸­æ ‡ç¤º:<br><code><br>let anotherPoint = (2, 0)<br>switch anotherPoint {<br>case (let x, 0):<br>    print(â€œon the x-axis with an x value of (x)â€)<br>case (0, let y):<br>    print(â€œon the y-axis with a y value of (y)â€)<br>case let (x, y):<br>    print(â€œsomewhere else at ((x), (y))â€)<br>}<br>// Prints â€œon the x-axis with an x value of 2â€<br></code><br><br><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/coordinateGraphMedium_2x.png"><br></div><br>switch è¯­å¥åˆ¤æ–­è¿™ä¸ªç‚¹æ˜¯åœ¨çº¢è‰²çš„ x-è½´, æ©™è‰²çš„ y-è½´, è¿˜æ˜¯å…¶ä»–ä»€ä¹ˆåœ°æ–¹ (ä¸åœ¨è½´ä¸Š)ã€‚<br><br>è¿™ä¸‰ä¸ª switch caseå£°æ˜äº†å ä½ç¬¦å¸¸é‡ x å’Œ y, ä¸´æ—¶å­˜æ”¾æ¥è‡ª anotherPoint çš„ä¸€ä¸ªæˆ–è€…ä¸¤ä¸ªå…ƒç»„å€¼ã€‚ç¬¬ä¸€ä¸ª case, case (let x, 0), åŒ¹é…ä»»ä½•yå€¼ä¸º0 ç„¶åæŠŠåæ ‡ç‚¹xçš„å€¼èµ‹ç»™ä¸´æ—¶å¸¸é‡ x. ç±»ä¼¼çš„, ç¬¬äºŒä¸ªcase, case (0, let y), åŒ¹é…ä»»ä½•xå€¼ä¸º0,ç„¶åæŠŠåæ ‡ç‚¹yå€¼èµ‹ç»™ä¸´æ—¶å¸¸é‡y.<br><br>ä¸´æ—¶å¸¸é‡å£°æ˜å, å®ƒä»¬å°±å¯ä»¥ç”¨åœ¨case ä½“ä¸­ã€‚åœ¨è¿™é‡Œ, å®ƒä»¬ç”¨æ¥æ‰“å°è¿™ä¸ªç‚¹çš„æ ‡ç¤ºã€‚<br><br>è¿™ä¸ª switch è¯­å¥æ²¡æœ‰é»˜è®¤çš„default case. æœ€åä¸€ä¸ªcase, case let (x, y), å£°æ˜äº†å¸¦æœ‰ä¸¤ä¸ªå ä½ç¬¦å¸¸é‡çš„å…ƒç»„,å®ƒå¯ä»¥åŒ¹é…ä»»ä½•å€¼ã€‚å› ä¸º anotherPoint æ€»æ˜¯ä¸¤ä¸ªå€¼çš„å…ƒç»„, è¿™ä¸ªcase åŒ¹é…æ‰€æœ‰å¯èƒ½çš„å‰©ä½™å€¼, æ‰€ä»¥é»˜è®¤çš„default case æ˜¯ä¸éœ€è¦çš„ã€‚<br><br># Where<br><br>ä¸€ä¸ª switch case å¯ä»¥ç”¨ where å­—å¥æ¥åˆ¤æ–­é¢å¤–çš„æ¡ä»¶ã€‚<br><br>ä¸‹é¢çš„ä¾‹å­åœ¨ä¸‹é¢çš„å›¾è¡¨ä¸­æ ‡ç¤ºä¸€ä¸ª(x, y) ç‚¹:<br><code><br>let yetAnotherPoint = (1, -1)<br>switch yetAnotherPoint {<br>case let (x, y) where x == y:<br>    print(â€œ((x), (y)) is on the line x == yâ€)<br>case let (x, y) where x == -y:<br>    print(â€œ((x), (y)) is on the line x == -yâ€)<br>case let (x, y):<br>    print(â€œ((x), (y)) is just some arbitrary pointâ€)<br>}<br>// æ‰“å° â€œ(1, -1) is on the line x == -yâ€<br></code><br><br><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/coordinateGraphComplex_2x.png"><br></div><br>switch è¯­å¥ç¡®å®šè¿™ä¸ªç‚¹æ˜¯å¦åœ¨x == yè¿™ä¸ªç»¿è‰²å¯¹è§’çº¿ä¸Š, æˆ–è€…æ˜¯x == -yè¿™ä¸ªç´«è‰²å¯¹è§’çº¿ä¸Š,æˆ–è€…ä¸¤è€…éƒ½ä¸åœ¨ã€‚<br><br>ä¸‰ä¸ª switch case éƒ½å£°æ˜äº†å ä½ç¬¦å¸¸é‡ x å’Œ y, ä¸´æ—¶æ¥å—æ¥è‡ª yetAnotherPoint ä¸¤ä¸ªå…ƒç»„å€¼ã€‚è¿™äº›å¸¸é‡ç”¨ä½œwhereå­—å¥çš„ä¸€éƒ¨åˆ†, å»åˆ›å»ºä¸€ä¸ªåŠ¨æ€çš„è¿‡æ»¤å™¨ã€‚case åŒ¹é…åæ ‡ç‚¹çš„å½“å‰å€¼,å¦‚æœwhereå­—å¥æ¡ä»¶ä¸ºçœŸçš„è¯ã€‚<br><br>å’Œå‰é¢ä¸€ä¸ªä¾‹å­ä¸€æ ·, æœ€åçš„case åŒ¹é…æ‰€æœ‰å‰©ä½™å€¼, ä¸å†éœ€è¦ default case<br><br># å¤åˆ Cases<br><br>å…±äº«ç›¸åŒä»£ç å—çš„å¤šä¸ªswitch case åˆ†æ”¯å¯ä»¥åˆå¹¶, å†™åœ¨caseåç”¨é€—å·åˆ†å¼€ã€‚å¦‚æœä»»ä½•æ¨¡å¼åŒ¹é…, è¿™ä¸ªcase å°±è¢«è®¤ä¸ºåŒ¹é…ã€‚å¦‚æœåˆ—è¡¨å¾ˆé•¿å¯ä»¥å†™ä½œå¤šè¡Œã€‚å¦‚ä¸‹ï¼š<br><code><br>let someCharacter: Character = â€œeâ€<br>switch someCharacter {<br>case â€œaâ€, â€œeâ€, â€œiâ€, â€œoâ€, â€œuâ€:<br>    print(â€œ(someCharacter) is a vowelâ€)<br>case â€œbâ€, â€œcâ€, â€œdâ€, â€œfâ€, â€œgâ€, â€œhâ€, â€œjâ€, â€œkâ€, â€œlâ€, â€œmâ€,<br>     â€œnâ€, â€œpâ€, â€œqâ€, â€œrâ€, â€œsâ€, â€œtâ€, â€œvâ€, â€œwâ€, â€œxâ€, â€œyâ€, â€œzâ€:<br>    print(â€œ(someCharacter) is a consonantâ€)<br>default:<br>    print(â€œ(someCharacter) is not a vowel or a consonantâ€)<br>}<br>// æ‰“å° â€œe is a vowelâ€<br></code><br>ç¬¬ä¸€ä¸ªcase åŒ¹é…è‹±æ–‡ä¸­äº”ä¸ªå°å†™å…ƒéŸ³å­—æ¯ã€‚ ç±»ä¼¼çš„, ç¬¬äºŒä¸ªcaseåŒ¹é…æ‰€æœ‰å°å†™è¾…éŸ³å­—æ¯ã€‚æœ€å, default case åŒ¹é…å…¶ä½™çš„å­—æ¯ã€‚<br><br>ç¬¦åˆ case å¯ä»¥åŒ…å«å€¼ç»‘å®šã€‚ ç¬¦åˆcaseæ‰€æœ‰å½¢å¼å¿…é¡»åŒ…æ‹¬ç›¸åŒçš„å€¼ç»‘å®šé›†åˆ, æ¯ä¸ªç»‘å®šå¿…é¡»è·å–ä¸€ä¸ªç›¸åŒç±»å‹çš„å€¼ã€‚è¿™ä¸ªç¡®ä¿, æ— è®ºå¤åˆcaseå“ªä¸ªéƒ¨åˆ†åŒ¹é…, case ä»£ç æ€»æ˜¯è®¿é—®ä¸€ä¸ªç»‘å®šå€¼,è€Œä¸”è¿™ä¸ªå€¼æ€»æœ‰ç›¸åŒç±»å‹ã€‚<br><code><br>let stillAnotherPoint = (9, 0)<br>switch stillAnotherPoint {<br>case (let distance, 0), (0, let distance):<br>    print(â€œOn an axis, (distance) from the originâ€)<br>default:<br>    print(â€œNot on an axisâ€)<br>}<br>// æ‰“å° â€œOn an axis, 9 from the originâ€<br></code><br>ä¸Šé¢çš„caseæœ‰ä¸¤ç§å½¢å¼: (let distance, 0) åŒ¹é…xè½´ä¸Šçš„ç‚¹, (0, let distance) åŒ¹é…yè½´ä¸Šç‚¹ã€‚ä¸¤ä¸ªå½¢å¼éƒ½ç»‘å®šäº†ä¸€ä¸ªè·ç¦»å€¼,ä¸¤ç§å½¢å¼ä¸‹è·ç¦»éƒ½æ˜¯æ•´å½¢,è¿™å°±æ„å‘³ç€caseä»£ç æ€»æ˜¯å¯ä»¥è®¿é—®è·ç¦»çš„å€¼ã€‚<br><br># æ§åˆ¶è½¬ç§»è¯­å¥<br><br>æ§åˆ¶è½¬ç§»è¯­å¥æ”¹å˜ä»£ç æ‰§è¡Œçš„é¡ºåº, é€šè¿‡è½¬ç§»æ§åˆ¶ä»ä¸€å—ä»£ç åˆ°å¦å¤–ä¸€å—ä»£ç ã€‚Swift æœ‰äº”ä¸ªæ§åˆ¶è½¬ç§»è¯­å¥:<br><br>continue<br>break<br>fallthrough<br>return<br>throw<br>continue, break, å’Œ fallthrough ä¸‹é¢æè¿°ã€‚return è¯­å¥åœ¨å‡½æ•°éƒ¨åˆ†æè¿°, throw è¯­å¥åœ¨ Propagating Errors Using Throwing Functions éƒ¨åˆ†æè¿°ã€‚<br><br># Continue<br><br>continue è¯­å¥å‘Šè¯‰å½“å‰å¾ªç¯åœæ­¢,ç„¶åå¼€å§‹ä¸‹ä¸€æ¬¡å¾ªç¯ã€‚å®ƒè¯´ â€œæˆ‘åœ¨å½“å‰å¾ªç¯è¿­ä»£â€ æ²¡æœ‰ç¦»å¼€å½“å‰çš„å¾ªç¯ã€‚<br><br>ä¸‹é¢çš„ä¾‹å­ä»ä¸€ä¸ªå°å†™å­—ç¬¦ä¸²ç§»é™¤æ‰€æœ‰çš„å…ƒéŸ³å­—æ¯å’Œç©ºæ ¼,æ¥åˆ›å»ºä¸€ä¸ªè°œè¯­:<br><code><br>let puzzleInput = â€œgreat minds think alikeâ€<br>var puzzleOutput = â€œâ€<br>let charactersToRemove: [Character] = [â€œaâ€, â€œeâ€, â€œiâ€, â€œoâ€, â€œuâ€, â€œ â€œ]<br>for character in puzzleInput.characters {<br>    if charactersToRemove.contains(character) {<br>        continue<br>    } else {<br>        puzzleOutput.append(character)<br>    }<br>}<br>print(puzzleOutput)<br>// æ‰“å° â€œgrtmndsthnklkâ€<br></code><br>ä¸Šé¢çš„ä»£ç é‡è§å…ƒéŸ³æˆ–è€…ç©ºæ ¼å°±ä¼šè°ƒç”¨ continue å…³é”®å­—, å½“å‰è¿­ä»£ç«‹å³ç»“æŸç„¶åè¿›å…¥ä¸‹ä¸€æ¬¡è¿­ä»£ã€‚<br><br># Break<br><br>break ç«‹å³ç»“æŸæ•´ä¸ªæ§åˆ¶æµè¯­å¥çš„æ‰§è¡Œã€‚break è¯­å¥å¯ä»¥ç”¨åœ¨ä¸€ä¸ª switch è¯­å¥æˆ–è€…å¾ªç¯è¯­å¥,å¦‚æœä½ æƒ³æ—©ç‚¹ç»“æŸæ‰§è¡Œçš„è¯ã€‚<br><br># Break åœ¨å¾ªç¯è¯­å¥<br><br>ç”¨åœ¨å¾ªç¯è¯­å¥æ—¶, break ç«‹å³ç»“æŸå¾ªç¯,ç„¶åè·³å‡ºå¾ªç¯æ‰€åœ¨çš„å¤§æ‹¬å·ã€‚<br><br># Break åœ¨Switch è¯­å¥<br><br>ç”¨åœ¨switch è¯­å¥æ—¶, break ç»ˆæ­¢ switch è¯­å¥çš„æ‰§è¡Œ,ç„¶åè·³å‡ºswitchè¯­å¥æ‰€åœ¨çš„å¤§æ‹¬å·ã€‚<br><br>è¿™ç§è¡Œä¸ºå¯ä»¥åœ¨switchè¯­å¥ä¸­ç”¨æ¥åŒ¹é…æˆ–è€…å¿½ç•¥ä¸€ä¸ªæˆ–è€…å¤šä¸ªcase. å› ä¸º Swift çš„ switch è¯­å¥æ˜¯è¯¦å°½çš„è€Œä¸”ä¸å…è®¸æœ‰ç©º case, æœ‰æ—¶å€™éœ€è¦æ•…æ„åŒ¹é…å’Œå¿½ç•¥ä¸€ä¸ªcase,ä¸ºäº†è®©ä½ çš„æ„å›¾æ˜æ˜¾ã€‚æ•´ä¸ªcaseå†™ä¸€ä¸ªbreakå°±å¯ä»¥å¿½ç•¥ã€‚å½“case åŒ¹é…æ—¶, case é‡Œçš„breakè¯­å¥ç«‹å³ç»ˆæ­¢switchè¯­å¥çš„æ‰§è¡Œã€‚<br><br><br>ä¸‹é¢çš„ä¾‹å­è½¬æ¢ä¸€ä¸ªå­—ç¬¦å€¼,ç„¶ååˆ¤æ–­å®ƒåœ¨å››ç§è¯­è¨€ä¹‹ä¸€æ˜¯å¦è¡¨ç¤ºä¸€ä¸ªæ•°å­—, å•ä¸ªswitch case è¦†ç›–äº†å¤šä¸ªå€¼ã€‚<br><code><br>let numberSymbol: Character = â€œä¸‰â€  // Chinese symbol for the number 3<br>var possibleIntegerValue: Int?<br>switch numberSymbol {<br>case â€œ1â€, â€œÙ¡â€, â€œä¸€â€, â€œà¹‘â€:<br>    possibleIntegerValue = 1<br>case â€œ2â€, â€œÙ¢â€, â€œäºŒâ€, â€œà¹’â€:<br>    possibleIntegerValue = 2<br>case â€œ3â€, â€œÙ£â€, â€œä¸‰â€, â€œà¹“â€:<br>    possibleIntegerValue = 3<br>case â€œ4â€, â€œÙ¤â€, â€œå››â€, â€œà¹”â€:<br>    possibleIntegerValue = 4<br>default:<br>    break<br>}<br>if let integerValue = possibleIntegerValue {<br>    print(â€œThe integer value of (numberSymbol) is (integerValue).â€)<br>} else {<br>    print(â€œAn integer value could not be found for (numberSymbol).â€)<br>}<br>// æ‰“å° â€œThe integer value of ä¸‰ is 3.â€<br></code><br>ä¸Šé¢çš„ä¾‹å­åˆ¤æ–­ numberSymbol æ˜¯ä¸æ˜¯æ‹‰ä¸è¯­, é˜¿æ‹‰ä¼¯è¯­, æ±‰è¯­, æˆ–è€…æ³°è¯­ä¸­çš„1åˆ°4ã€‚å¦‚æœåŒ¹é…åˆ°, switchä¸­çš„ä¸€ä¸ªcaseä¼šèµ‹å€¼ç»™å¯é€‰ç±»å‹å˜é‡ possibleIntegerValue ä¸€ä¸ªåˆé€‚çš„æ•´æ•°å€¼ã€‚<br><br>åœ¨ switch è¯­å¥æ‰§è¡Œå®Œæˆä¹‹å, ä¾‹å­ä¸­ä½¿ç”¨å¯é€‰ç»‘å®šå»åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦æ‰¾åˆ°ã€‚possibleIntegerValue å˜é‡æ˜¯ä¸€ä¸ªå¯é€‰ç±»å‹æœ‰ä¸€ä¸ªåˆå§‹å€¼nil, å¦‚æœå››ä¸ªcaseä¹‹ä¸€ç»™possibleIntegerValue è®¾ç½®äº†ä¸€ä¸ªå®é™…å€¼,è¿™ä¸ªå¯é€‰ç»‘å®šå°±æˆåŠŸäº†ã€‚<br><br>å› ä¸ºä¸å¯èƒ½åˆ—å‡ºæ‰€æœ‰çš„å¯èƒ½å­—ç¬¦, ä¸€ä¸ªé»˜è®¤çš„case ç”¨æ¥å¤„ç†å…¶ä»–æ²¡åŒ¹é…çš„å­—ç¬¦ã€‚é»˜è®¤caseä¸éœ€è¦åšä»»ä½•äº‹, æ‰€ä»¥å®ƒåªæœ‰ä¸€ä¸ªbreakè¯­å¥ã€‚å½“é»˜è®¤caseè¢«åŒ¹é…å, break è¯­å¥å°±ç»“æŸswitchè¯­å¥çš„æ‰§è¡Œn, ä»£ç å¼€å§‹ä» if let è¯­å¥å¤„ç»§ç»­æ‰§è¡Œã€‚<br><br># Fallthrough<br><br>Swift çš„ Switch è¯­å¥ä¸ä¼š fall through åˆ°ä¸‹ä¸€ä¸ªcaseã€‚ ç›¸å, åªæœ‰ç¬¬ä¸€ä¸ªåŒ¹é…åˆ°çš„caseè¯­å¥æ‰§è¡Œå®Œæˆ,æ•´ä¸ªswitchè¯­å¥å°±å®Œæˆäº†æ‰§è¡Œã€‚ä¸åŒçš„æ˜¯, C è¯­è¨€è¦æ±‚æ¯ä¸ªcaseåé¢éƒ½è¦åŠ ä¸Šbreak è¯­å¥,é˜²æ­¢ fallthrough. æ˜æ˜¾Swift æ›´åŠ ç®€æ´å’Œå®‰å…¨ã€‚<br><br>å¦‚æœä½ æƒ³è¦Cè¯­è¨€é‚£ç§æ•ˆæœçš„ fallthrough, ä½ å¯ä»¥é€‰æ‹©åœ¨caseåé¢åŠ ä¸Š fallthrough å…³é”®å­—ã€‚ ä¸‹é¢çš„ä¾‹å­ä½¿ç”¨fallthrough åˆ›å»ºä¸€ä¸ªæ•°å­—çš„æ–‡å­—æè¿°ã€‚<br><code><br>let integerToDescribe = 5<br>var description = â€œThe number (integerToDescribe) isâ€<br>switch integerToDescribe {<br>case 2, 3, 5, 7, 11, 13, 17, 19:<br>    description += â€œ a prime number, and alsoâ€<br>    fallthrough<br>default:<br>    description += â€œ an integer.â€<br>}<br>print(description)<br>// æ‰“å° â€œThe number 5 is a prime number, and also an integer.â€<br></code><br>ä¸Šä¾‹å£°æ˜äº†ä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡ description ,ç„¶åèµ‹äº†ä¸€ä¸ªåˆå§‹å€¼ã€‚åé¢çš„å‡½æ•°åœ¨switchè¯­å¥ä¸­ç”¨äº†è¿™ä¸ªå€¼ integerToDescribe. å¦‚æœ integerToDescribe çš„æ˜¯åˆ—è¡¨ä¸­çš„ä¸€ä¸ªç´ æ•°, å‡½æ•°å°±æŠŠä¸€æ®µæ–‡æœ¬æ·»åŠ åˆ° description çš„åé¢, å»å¤‡æ³¨è¯´è¿™ä¸ªæ•°å­—æ˜¯ç´ æ•°ã€‚ç„¶åç”¨äº†fallthrough å…³é”®å­—è¿›å…¥é»˜è®¤çš„case. é»˜è®¤çš„caseæ·»åŠ ä¸€æ®µé¢å¤–çš„æ–‡æœ¬åˆ° description ä¹‹å, ç„¶åswitchè¯­å¥å°±ç»“æŸäº†ã€‚<br><br>é™¤éintegerToDescribe çš„å€¼åœ¨å·²çŸ¥ç´ æ•°åˆ—è¡¨é‡Œ, å¦åˆ™ç¬¬ä¸€ä¸ªcaseå°±ä¸ä¼šåŒ¹é…ã€‚ å› ä¸ºæ²¡æœ‰å…¶ä»–case, integerToDescribe ä¼šè¢«é»˜è®¤çš„case åŒ¹é…ã€‚<br><br>switch è¯­å¥æ‰§è¡Œå®Œå, ä½¿ç”¨ print(_:separator:terminator:) å‡½æ•°æ‰“å°descriptionã€‚ è¿™ä¸ªä¾‹å­é‡Œ, æ•°å­—5å°±æ˜¯ä¸€ä¸ªç´ æ•°ã€‚<br><br># æ ‡ç­¾è¯­å¥<br><br>åœ¨ Swift é‡Œ, ä½ å¯ä»¥åœ¨å¾ªç¯å’Œæ¡ä»¶è¯­å¥ç§å†…åµŒå¾ªç¯å’Œæ¡ä»¶è¯­å¥,æ¥åˆ›å»ºæ›´å¤æ‚çš„æ§åˆ¶æµç»“æ„ã€‚ä¸è¿‡, å¾ªç¯å’Œæ¡ä»¶è¯­å¥éƒ½å¯ä»¥ä½¿ç”¨break è¯­å¥æ¥æå‰ç»“æŸæ‰§è¡Œã€‚å› æ­¤, æœ‰æ—¶å€™è¿™å¾ˆæœ‰ç”¨,å½“ä½ å†³å®šå“ªä¸ªå¾ªç¯æˆ–è€…æ¡ä»¶è¯­å¥è¦ç”¨breakæ¥ç»ˆæ­¢æ‰§è¡Œã€‚ç±»ä¼¼çš„, å¦‚æœä½ æœ‰å¤šä¸ªåµŒå¥—çš„å¾ªç¯, å®ƒä¹Ÿæ˜¯æœ‰ç”¨çš„,å¯ä»¥æ˜ç¡®å“ªä¸ªå¾ªç¯è¯­å¥ç»§ç»­æœ‰æ•ˆã€‚<br><br>ä¸ºäº†è¾¾åˆ°è¿™äº›ç›®çš„, ä½ å¯ä»¥ç”¨ä¸€ä¸ªè¯­å¥æ ‡ç­¾æ¥æ ‡è®°ä¸€ä¸ªå¾ªç¯æˆ–è€…æ¡ä»¶è¯­å¥ã€‚å¯¹äºæ¡ä»¶è¯­å¥, ä½ å¯ä»¥ä½¿ç”¨å¸¦ç€breakè¯­å¥çš„è¯­å¥æ ‡ç­¾æ¥ç»“æŸæ ‡ç­¾çš„è¯­å¥ã€‚å¯¹äºå¾ªç¯è¯­å¥, ä½ å¯ä»¥ç”¨å¸¦ç€breakæˆ–è€…continueçš„è¯­å¥æ ‡ç­¾æ¥ç»“æŸæˆ–è€…ç»§ç»­æ ‡ç­¾è¯­å¥çš„æ‰§è¡Œã€‚<br><br>ä¸€ä¸ªæ ‡ç­¾è¯­å¥é€šè¿‡æ”¾ç½®ä¸€ä¸ªæ ‡ç­¾æ¥æŒ‡ç¤º,æ ‡ç­¾æ”¾åœ¨ç›¸åŒè¡Œä½œä¸ºè¯­å¥çš„å…³é”®å­—ã€‚è·Ÿç€æ˜¯ä¸€ä¸ªå†’å·ã€‚ è¿™é‡Œæœ‰ä¸€ä¸ªwhileå¾ªç¯è¯­æ³•çš„ä¾‹å­, å¯¹äºæ‰€æœ‰çš„å¾ªç¯å’Œswitchè¯­å¥éƒ½æ˜¯ç›¸å½“çš„è§„åˆ™:<br><code><br>label name: while condition {<br>    statements<br>}<br></code><br>ä¸‹é¢çš„ä¾‹å­ä½¿ç”¨å¸¦ç€æ ‡ç­¾çš„breakå’Œcontinueè¯­å¥,è¿™æ¬¡æ¸¸æˆæœ‰äº†ä¸€ä¸ªé¢å¤–çš„è§„åˆ™:<br><br>æƒ³è¦èµ¢,ä½ å°±è¦ç™»ä¸Šæ–¹æ ¼25<br>å¦‚æœæ·éª°å­è®©ä½ è¶…è¿‡äº†æ–¹æ ¼25, ä½ å¿…é¡»é‡æ·,ç›´åˆ°æŠ•å‡ºèƒ½å¤Ÿç™»ä¸Šæ–¹æ ¼25çš„æ•°å­—ä¸ºæ­¢ã€‚<br><br>æ¸¸æˆçš„æ£‹ç›˜å’ŒåŸæ¥ä¸€æ ·ã€‚<br><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/snakesAndLadders_2x.png"><br></div>

<p>finalSquare, board, square, å’Œ diceRoll åˆå§‹åŒ–æ–¹å¼è·Ÿä»¥å‰ä¸€æ ·:<br><code><br>let finalSquare = 25<br>var board = <a href="repeating: 0, count: finalSquare + 1" target="_blank" rel="external">Int</a><br>board[03] = +08; board[06] = +11; board[09] = +09; board[10] = +02<br>board[14] = -10; board[19] = -11; board[22] = -02; board[24] = -08<br>var square = 0<br>var diceRoll = 0<br></code><br>è¿™ä¸ªç‰ˆæœ¬çš„æ¸¸æˆä½¿ç”¨äº†ä¸€ä¸ª while å¾ªç¯å’Œä¸€ä¸ªswitch è¯­å¥æ¥å®ç°æ¸¸æˆçš„é€»è¾‘ã€‚ while å¾ªç¯æœ‰ä¸€ä¸ªè¯­å¥æ ‡ç­¾ gameLoop ç”¨æ¥è¡¨ç¤ºå®ƒæ˜¯æ¸¸æˆçš„ä¸»è¦å¾ªç¯ã€‚</p>
<p>while å¾ªç¯çš„æ¡ä»¶æ˜¯æ˜¯ while square != finalSquare, å‘Šè¯‰ä½ å¿…é¡»ç™»ä¸Šæ–¹æ ¼25ã€‚<br><code><br>gameLoop: while square != finalSquare {<br>    diceRoll += 1<br>    if diceRoll == 7 { diceRoll = 1 }<br>    switch square + diceRoll {<br>    case finalSquare:<br>        // diceRoll will move us to the final square, so the game is over<br>        break gameLoop<br>    case let newSquare where newSquare &gt; finalSquare:<br>        // diceRoll will move us beyond the final square, so roll again<br>        continue gameLoop<br>    default:<br>        // this is a valid move, so find out its effect<br>        square += diceRoll<br>        square += board[square]<br>    }<br>}<br>print(â€œGame over!â€)<br></code><br>æ¯æ¬¡å¾ªç¯å¼€å§‹æ‘‡è‰²å­ã€‚ å¾ªç¯ä½¿ç”¨äº†ä¸€ä¸ªswitchè¯­å¥æ¥è€ƒè™‘ç§»åŠ¨çš„ç»“æœå’Œæ˜¯å¦å…è®¸ç§»åŠ¨,è€Œä¸æ˜¯ç«‹å³ç”¨çš„ç©å®¶çš„ä½ç½®:</p>
<p>å¦‚æœæ‘‡è‰²å­ä½¿å¾—ç©å®¶ç§»åŠ¨åˆ°æœ€åçš„æ–¹æ ¼,é‚£ä¹ˆæ¸¸æˆå°±ç»“æŸäº†ã€‚break gameLoop è¯­å¥è½¬ç§»æ§åˆ¶åˆ°æ•´ä¸ªå¾ªç¯çš„å¤–é¢çš„ç¬¬ä¸€è¡Œä»£ç , ç»“æŸæ¸¸æˆã€‚<br>å¦‚æœæ‘‡è‰²å­ä½¿å¾—ç©å®¶è¶…å‡ºäº†æœ€åçš„æ–¹æ ¼, é‚£ä¹ˆç§»åŠ¨æ— æ•ˆ,ç©å®¶éœ€è¦é‡æ–°æ‘‡è‰²å­ã€‚continue gameLoop è¯­å¥ç»“æŸå½“å‰çš„è¿­ä»£ç„¶åå¼€å§‹ä¸‹ä¸€æ¬¡è¿­ä»£ã€‚<br>å…¶ä»–æ‰€æœ‰æƒ…å†µ, æ‘‡è‰²å­éƒ½æ˜¯æœ‰æ•ˆçš„ç§»åŠ¨ã€‚ ç©å®¶å¾€å‰ç§»åŠ¨ diceRoll æ–¹æ ¼, æ¸¸æˆé€»è¾‘æ£€æŸ¥æ‰€æœ‰çš„è›‡ä¸æ¢¯å­ã€‚ å¾ªç¯ç»“æŸ, æ§åˆ¶è¿”å›æ¡ä»¶åˆ¤æ–­,å†³å®šæ˜¯å¦éœ€è¦å†æ¥ä¸€æ¬¡ã€‚<br>å¤‡æ³¨</p>
<p>å¦‚æœbreak è¯­å¥ä¸ä½¿ç”¨ gameLoop æ ‡ç­¾, å®ƒåªä¼šè·³å‡ºswitch è¯­å¥,è€Œä¸ä¼šè·³å‡ºwhile è¯­å¥ã€‚ä½¿ç”¨ gameLoop æ ‡ç­¾æ¸…æ¥šçŸ¥é“è¦ç»ˆæ­¢å“ªä¸ªæ§åˆ¶è¯­å¥ã€‚</p>
<p>ä¸æ˜¯å¿…é¡»ç”¨ gameLoop æ ‡ç­¾,å½“è°ƒç”¨ continue gameLoop æ¥è·³åˆ°ä¸‹ä¸€æ¬¡å¾ªç¯è¿­ä»£ã€‚æ¸¸æˆé‡Œåªæœ‰ä¸€ä¸ªå¾ªç¯ã€‚continue è¯­å¥å½±å“å“ªä¸ªå¾ªç¯æ˜¯å¾ˆæ¸…æ¥šçš„ã€‚ä¸è¿‡, ä½¿ç”¨ gameLoop æ ‡ç­¾ä¹Ÿæ²¡æœ‰åå¤„ã€‚è¿™æ ·åšæ˜¯ä¸ºäº†å’Œbreak æ ‡ç­¾ä½¿ç”¨ä¸€è‡´,å¹¶ä¸”è®©é€»è¾‘æ›´åŠ è½»æ˜“é˜…è¯»å’Œç†è§£ã€‚</p>
<h1 id="å°½æ—©é€€å‡º"><a href="#å°½æ—©é€€å‡º" class="headerlink" title="å°½æ—©é€€å‡º"></a>å°½æ—©é€€å‡º</h1><p>guard è¯­å¥, å¾ˆåƒ if è¯­å¥, æ ¹æ®è¡¨è¾¾å¼å¸ƒå°”å€¼æ‰§è¡Œè¯­å¥ã€‚ ä½¿ç”¨guard è¯­å¥è¦æ±‚æ¡ä»¶å¿…é¡»ä¸ºçœŸã€‚å’Œ if è¯­å¥ä¸åŒ, guard è¯­å¥æ€»æœ‰ä¸€ä¸ªelse å­—å¥â€”å¦‚æœæ¡ä»¶æ˜¯å‡ else ä¼šæ‰§è¡Œã€‚<br><code><br>func greet(person: [String: String]) {<br>    guard let name = person[â€œnameâ€] else {<br>        return<br>    }</code></p>
<pre><code>print(&quot;Hello \(name)!&quot;)

guard let location = person[&quot;location&quot;] else {
    print(&quot;I hope the weather is nice near you.&quot;)
    return
}

print(&quot;I hope the weather is nice in \(location).&quot;)
</code></pre><p>}</p>
<p>greet(person: [â€œnameâ€: â€œJohnâ€])<br>// æ‰“å° â€œHello John!â€<br>// æ‰“å° â€œI hope the weather is nice near you.â€<br>greet(person: [â€œnameâ€: â€œJaneâ€, â€œlocationâ€: â€œCupertinoâ€])<br>// æ‰“å° â€œHello Jane!â€<br>// æ‰“å° â€œI hope the weather is nice in Cupertino.â€<br><br>å¦‚æœ guard è¯­å¥çš„æ¡ä»¶æ»¡è¶³, ä»£ç ç»§ç»­åœ¨guard è¯­å¥çš„å¤§æ‹¬å·åæ‰§è¡Œã€‚æ‰€æœ‰å˜é‡æˆ–è€…å¸¸é‡ä½¿ç”¨ä¸€ä¸ªå¯é€‰ç»‘å®šèµ‹å€¼,å®ƒä»¬ä½œä¸ºæ¡ä»¶çš„ä¸€éƒ¨åˆ†ã€‚<br>å¦‚æœæ¡ä»¶æ²¡æœ‰æ»¡è¶³, else åˆ†æ”¯ä¼šæ‰§è¡Œã€‚è¿™ä¸ªåˆ†æ”¯è½¬ç§»æ§åˆ¶è·³å‡ºguard è¯­å¥æ‰€åœ¨çš„ä»£ç å—ã€‚å¯ä»¥ä½¿ç”¨æ§åˆ¶è½¬ç§»è¯­å¥ return, break, continue, æˆ–è€… throw, æˆ–è€…ä¹Ÿå¯ä»¥è°ƒç”¨ä¸è¿”å›çš„å‡½æ•°æˆ–è€…æ–¹æ³•, æ¯”å¦‚ fatalError(_:file:line:).</p>
<p>è·Ÿ if è¯­å¥åšåŒæ ·çš„åˆ¤æ–­æ¯”è¾ƒ,ä½¿ç”¨ guard è¯­å¥ä¸ºäº†æé«˜ä»£ç çš„å¯è¯»æ€§ã€‚å®ƒè®©ä½ å¯ä»¥å†™é€šå¸¸ä¸åœ¨else å¿«æ‰§è¡Œçš„ä»£ç , åŒæ—¶è®©ä½ ä¿æŒä»£ç ,æ¥å¤„ç†è¿æ³•è¦æ±‚çš„è¦æ±‚ã€‚</p>
<h1 id="åˆ¤æ–­-API-å¯ç”¨æ€§"><a href="#åˆ¤æ–­-API-å¯ç”¨æ€§" class="headerlink" title="åˆ¤æ–­ API å¯ç”¨æ€§"></a>åˆ¤æ–­ API å¯ç”¨æ€§</h1><p>Swift æ”¯æŒåˆ¤æ–­ API çš„æœ‰æ•ˆæ€§, è¿™æ ·å¯ä»¥ä¿è¯ä½ ä¸ä¼šåœ¨ç»™å®šè®¾å¤‡ä¸Šä½¿ç”¨ä¸å¯ç”¨çš„APIã€‚</p>
<p>ç¼–è¯‘å™¨ä½¿ç”¨SDKä¸­çš„æœ‰æ•ˆæ€§ä¿¡æ¯æ¥åˆ¤æ–­ä½ ä»£ç ä¸­çš„æ‰€æœ‰APIã€‚ å¦‚æœä½ ä½¿ç”¨ä¸å¯ç”¨çš„API,Swift ä¼šæŠ¥ä¸€ä¸ªç¼–è¯‘é”™è¯¯ã€‚</p>
<p>åœ¨ifæˆ–è€…guardè¯­å¥ä¸­ä½¿ç”¨ä¸€ä¸ªå¯ç”¨æ€§æ¡ä»¶å»æ‰§è¡Œä¸€å—ä»£ç , å–å†³äºä½ ç”¨çš„APIæ˜¯å¦è¿è¡Œæ—¶å¯ç”¨ã€‚ä¸€æ—¦ç¼–è¯‘å™¨éªŒè¯APIåœ¨ä»£ç å—å¯ä»¥ç”¨,å®ƒå°±ä¼šç”¨è¿™äº›ä¿¡æ¯ã€‚<br><code><br>if #available(iOS 10, macOS 10.12, <em>) {<br>    // Use iOS 10 APIs on iOS, and use macOS 10.12 APIs on macOS<br>} else {<br>    // Fall back to earlier iOS and macOS APIs<br>}<br></em></code><br>ä¸Šé¢çš„å¯ç”¨æ€§æ¡ä»¶æŒ‡å‡º, å¯¹äºiOS, if è¯­å¥åªèƒ½åœ¨ iOS 10 å’Œä»¥åçš„ç‰ˆæœ¬ä¸Šæ‰§è¡Œ; å¯¹äº macOS, åªèƒ½ç”¨åœ¨ macOS 10.12 å’Œä»¥åçš„ç‰ˆæœ¬ã€‚ æœ€åä¸€ä¸ªå‚æ•°, , æ˜¯éœ€è¦çš„,ç”¨æ¥æŒ‡å®šå…¶ä»–å¹³å°ã€‚if è¯­å¥æ‰§è¡Œåœ¨ä½ æŒ‡å®šçš„æœ€å°éƒ¨ç½²è®¾å¤‡ä¸Šã€‚</p>
<p>ä¸€èˆ¬å½¢å¼ä¸­, å¯ç”¨æ€§æ¡ä»¶å¸¦ç€ä¸€åˆ—å¹³å°åå’Œç‰ˆæœ¬å·ã€‚å¹³å°åä¾‹å¦‚ iOS, macOS, watchOS, å’Œ tvOSâ€”å®Œæ•´åˆ—è¡¨, é™¤äº†æŒ‡å®šå¤§ç‰ˆæœ¬å·æ¯”å¦‚ iOS 8, ä½ è¿˜å¯ä»¥æŒ‡å®šå°ç‰ˆæœ¬å·æ¯”å¦‚ iOS 8.3 å’Œ macOS 10.10.3.<br><code><br>if #available(platform name version, â€¦, *) {<br>    statements to execute if the APIs are available<br>} else {<br>    fallback statements to execute if the APIs are unavailable<br>}<br></code></p>
<h1 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h1><p>å‡½æ•°åŒ…å«æ‰§è¡Œç‰¹å®šä»»åŠ¡çš„ä»£ç å—ã€‚ä½ ç»™å‡ºä¸€ä¸ªå‡½æ•°åæ¥è¡¨æ˜å®ƒæ˜¯åšä»€ä¹ˆçš„, éœ€è¦æ—¶ä½¿ç”¨å‡½æ•°åæ¥è°ƒç”¨ã€‚</p>
<p>Swift ç»Ÿä¸€çš„å‡½æ•°è¯­æ³•æ˜¯å¾ˆçµæ´»çš„, å¯ä»¥åƒCè¯­è¨€ä¸€æ ·æ²¡æœ‰å‚æ•°å,ä¹Ÿå¯ä»¥åƒobjective-Cä¸€æ ·å¸¦æœ‰åç§°å’Œå‚æ•°æ ‡ç­¾ã€‚å‚æ•°å¯ä»¥æä¾›é»˜è®¤å€¼ç»™ç®€å•çš„å‡½æ•°è°ƒç”¨,åŒæ—¶å¯ä»¥ä½œä¸ºè¾“å…¥è¾“å‡ºå‚æ•°ä¼ å…¥ã€‚ä¸€æ—¦å‡½æ•°è°ƒç”¨å°±ä¼šä¿®æ”¹ä¼ å…¥çš„å˜é‡ã€‚</p>
<p>Swift ä¸­çš„å‡½æ•°éƒ½æœ‰ç±»å‹, ç”±å‚æ•°ç±»å‹å’Œè¿”å›ç±»å‹ç»„æˆã€‚ä½ å¯ä»¥åƒä½¿ç”¨å…¶ä»–ç±»å‹ä¸€æ ·ä½¿ç”¨è¿™ä¸ªç±»å‹, è¿™ä¸ªè®©ä¼ é€’å‡½æ•°ä½œä¸ºå‚æ•°å˜å¾—å®¹æ˜“, ä¹Ÿå¯ä»¥ä»å‡½æ•°è¿”å›å‡½æ•°ã€‚ å‡½æ•°å¯ä»¥å†™åœ¨å…¶ä»–å‡½æ•°é‡Œ, åœ¨ä¸€ä¸ªå†…åµŒå‡½æ•°èŒƒå›´å°è£…å“Ÿæœ‰ç”¨çš„åŠŸèƒ½ã€‚</p>
<h1 id="å®šä¹‰å’Œè°ƒç”¨å‡½æ•°"><a href="#å®šä¹‰å’Œè°ƒç”¨å‡½æ•°" class="headerlink" title="å®šä¹‰å’Œè°ƒç”¨å‡½æ•°"></a>å®šä¹‰å’Œè°ƒç”¨å‡½æ•°</h1><p>å½“ä½ å®šä¹‰ä¸€ä¸ªå‡½æ•°æ—¶, ä½ å¯ä»¥å®šä¹‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªå‘½å, å‡½æ•°çš„ç±»å‹å€¼ä½œä¸ºè¾“å…¥, ä¹Ÿå°±æ˜¯å‚æ•°ã€‚ä½ è¿˜å¯ä»¥å®šä¹‰ä¸€ä¸ªå€¼ç±»å‹,å‡½æ•°æ‰§è¡Œå®Œä¼ å›å€¼ã€‚ä¹Ÿå°±æ˜¯è¿”å›å€¼ã€‚</p>
<p>æ¯ä¸ªå‡½æ•°éƒ½æœ‰åå­—, ç”¨æ¥æè¿°å‡½æ•°æ‰§è¡Œçš„ä»»åŠ¡ã€‚ ä¸ºäº†ä½¿ç”¨ä¸€ä¸ªå‡½æ•°, ä½ é€šè¿‡åå­—è°ƒç”¨å‡½æ•°,ä¼ ç»™å®ƒè¾“å…¥å€¼ (å‚æ•°) åŒ¹é…å‡½æ•°å‚æ•°çš„ç±»å‹ã€‚å‡½æ•°å‚æ•°æŒ‰ç…§ç›¸åŒé¡ºåºæä¾›ã€‚</p>
<p>ä¸‹é¢ä¾‹å­é‡Œçš„å‡½æ•°å« greet(person:), å› ä¸ºå®ƒåšçš„äº‹æƒ…â€”å®ƒè¾“å…¥ä¸€ä¸ªäººçš„åå­—ç„¶åè¿”å›ä¸€ä¸ªé—®å€™ã€‚ä¸ºäº†å®Œæˆè¿™ä¸ª, ä½ å®šä¹‰ä¸€ä¸ªè¾“å…¥å‚æ•°â€”ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹ personâ€”ç„¶åè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹, å®ƒåŒ…å«äº†å¯¹è¿™ä¸ªäººé—®å€™è¯­ã€‚<br><code><br>func greet(person: String) -&gt; String {<br>    let greeting = â€œHello, â€œ + person + â€œ!â€<br>    return greeting<br>}<br></code><br>æ‰€æœ‰ä¿¡æ¯éƒ½åœ¨å‡½æ•°é‡Œ, å‰ç¼€æ˜¯func å…³é”®å­—ã€‚å‡½æ•°çš„è¿”å›ç±»å‹ç”¨è¿”å›ç®­å¤´-&gt; (è¿å­—ç¬¦è·Ÿç€ä¸€ä¸ªå³æ–¹å‘ç®­å¤´), ç®­å¤´åæ˜¯è¿”å›çš„ç±»å‹åã€‚</p>
<p>å®šä¹‰æè¿°äº†å‡½æ•°çš„åŠŸèƒ½, å¸Œæœ›æ¥æ”¶çš„å‚æ•°, æ‰§è¡Œå®Œæˆè¿”å›çš„å€¼ã€‚ å®šä¹‰ä½¿å¾—å‡½æ•°åœ¨ä»£ç å„å¤„å¯ä»¥æ¸…æ™°æ˜ç¡®çš„è°ƒç”¨:<br><code><br>print(greet(person: â€œAnnaâ€))<br>// Prints â€œHello, Anna!â€<br>print(greet(person: â€œBrianâ€))<br>// Prints â€œHello, Brian!â€<br></code><br>åœ¨person æ ‡ç­¾åå‡ºå…¥ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹,è°ƒç”¨ greet(person:) å‡½æ•°, æ¯”å¦‚ greet(person: â€œAnnaâ€). å› ä¸ºè¿™ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹, greet(person:) å¯ä»¥è¢« print(_:separator:terminator:) å‡½æ•°è°ƒç”¨å»æ‰“å°è¿”å›å€¼ã€‚</p>
<p>å¤‡æ³¨</p>
<p>print(_:separator:terminator:) å‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°æ²¡æœ‰æ ‡ç­¾, å…¶ä»–å‚æ•°æ˜¯å¯é€‰çš„,å› ä¸ºä»–ä»¬æœ‰é»˜è®¤å€¼ã€‚è¿™äº›å‡½æ•°è¯­æ³•çš„å˜åŒ–åœ¨ä¸‹é¢å‡½æ•°å‚æ•°æ ‡ç­¾ã€å‚æ•°åå’Œé»˜è®¤å‚æ•°å€¼ä¸­æè¿°ã€‚</p>
<p>greet(person:) å‡½æ•°ä½“å…ˆæ˜¯å®šä¹‰äº†ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²å¸¸é‡ greeting,ç„¶åè®¾ç½®ä¸€ä¸ªç®€å•çš„é—®å€™ä¿¡æ¯ã€‚ç„¶å greeting ä½œä¸ºè¿”å›å€¼ä¼ å‡ºã€‚å‡½æ•°ç»“æŸæ‰§è¡Œç„¶åè¿”å›greeting çš„å½“å‰å€¼ã€‚</p>
<p>ä½ å¯ä»¥è¾“å…¥ä¸åŒå€¼å¤šæ¬¡è°ƒç”¨ greet(person:) å‡½æ•°ã€‚ä¸Šé¢çš„ä¾‹å­å±•ç¤ºäº†è¾“å…¥â€Annaâ€ å’Œ â€œBrianâ€ å‘ç”Ÿäº†ä»€ä¹ˆã€‚å‡½æ•°è¿”å›äº†å®šåˆ¶çš„é—®å€™è¯­ã€‚</p>
<p>ä¸ºäº†è®©å‡½æ•°ä½“å˜çŸ­, ä½ å¯ä»¥åˆå¹¶ä¿¡æ¯åˆ›å»ºå’Œè¿”å›è¯­å¥åˆ°ä¸€è¡Œä»£ç :<br><code><br>func greetAgain(person: String) -&gt; String {<br>    return â€œHello again, â€œ + person + â€œ!â€<br>}<br>print(greetAgain(person: â€œAnnaâ€))<br>// æ‰“å° â€œHello again, Anna!â€<br></code></p>
<h1 id="å‡½æ•°å‚æ•°å’Œè¿”å›å€¼"><a href="#å‡½æ•°å‚æ•°å’Œè¿”å›å€¼" class="headerlink" title="å‡½æ•°å‚æ•°å’Œè¿”å›å€¼"></a>å‡½æ•°å‚æ•°å’Œè¿”å›å€¼</h1><p>Swift ä¸­å‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼éå¸¸çµæ´»ã€‚ ä½ å¯ä»¥å®šä¹‰ä»»ä½•,ä»å¸¦æœ‰ä¸å…·åå‚æ•°çš„ç®€å•å·¥å…·å‡½æ•°åˆ°å…·æœ‰è¡¨è¾¾å¼å‚æ•°åå’Œä¸åŒå‚æ•°é€‰é¡¹çš„å¤æ‚å‡½æ•°ã€‚</p>
<h1 id="æ²¡æœ‰å‚æ•°çš„å‡½æ•°"><a href="#æ²¡æœ‰å‚æ•°çš„å‡½æ•°" class="headerlink" title="æ²¡æœ‰å‚æ•°çš„å‡½æ•°"></a>æ²¡æœ‰å‚æ•°çš„å‡½æ•°</h1><p>å‡½æ•°ä¸è¦æ±‚æœ‰è¾“å…¥å‚æ•°ã€‚ è¿™é‡Œæœ‰ä¸ªæ²¡æœ‰è¾“å…¥å‚æ•°çš„å‡½æ•°, è°ƒç”¨çš„æ—¶å€™æ€»æ˜¯è¿”å›ç›¸åŒå­—ç¬¦ä¸²ä¿¡æ¯:<br><code><br>func sayHelloWorld() -&gt; String {<br>    return â€œhello, worldâ€<br>}<br>print(sayHelloWorld())<br>// æ‰“å° â€œhello, worldâ€<br></code><br>å‡½æ•°å®šä¹‰æ˜¯è¿˜æ˜¯éœ€è¦å†å‡½æ•°åååŠ æ‹¬å·, å°½ç®¡å®ƒæ²¡æœ‰ä»»ä½•å‚æ•°ã€‚å‡½æ•°è°ƒç”¨çš„æ—¶å€™å‡½æ•°ååé¢è¿˜æ˜¯è·Ÿç€ä¸€å †æ‹¬å·ã€‚</p>
<h1 id="å¤šä¸ªå‚æ•°çš„å‡½æ•°"><a href="#å¤šä¸ªå‚æ•°çš„å‡½æ•°" class="headerlink" title="å¤šä¸ªå‚æ•°çš„å‡½æ•°"></a>å¤šä¸ªå‚æ•°çš„å‡½æ•°</h1><p>å‡½æ•°å¯ä»¥æœ‰å¤šä¸ªè¾“å…¥å‚æ•°, å†™åœ¨å‡½æ•°çš„æ‹¬å·é‡Œ, ç”¨é€—å·åˆ†å¼€ã€‚</p>
<p>è¿™ä¸ªå‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°,ä¸€ä¸ªäººåå’Œæ˜¯å¦ä»–ä»¬å·²ç»è¢«é—®å€™è¿‡ã€‚ç„¶åè¿”å›å¯¹è¿™ä¸ªäººçš„é—®å€™è¯­:<br><code><br>func greet(person: String, alreadyGreeted: Bool) -&gt; String {<br>    if alreadyGreeted {<br>        return greetAgain(person: person)<br>    } else {<br>        return greet(person: person)<br>    }<br>}<br>print(greet(person: â€œTimâ€, alreadyGreeted: true))<br>// æ‰“å° â€œHello again, Tim!â€<br></code><br>ä½ è°ƒç”¨ greet(person:alreadyGreeted:) å‡½æ•°,ä¼ å…¥ä¸¤ä¸ªå‚æ•°,ä¸€ä¸ªæ˜¯å¸¦æœ‰personæ ‡ç­¾çš„å­—ç¬¦ä¸²å€¼,ä¸€ä¸ªæ˜¯å¸¦æœ‰alreadyGreetedæ ‡ç­¾çš„å¸ƒå°”å€¼ã€‚ç”¨é€—å·åˆ†å¼€ã€‚æ³¨æ„è¿™ä¸ªå‡½æ•°è·Ÿä¸Šé¢çš„ greet(person:) å‡½æ•°ä¸åŒã€‚ å°½ç®¡ä¸¤ä¸ªå‡½æ•°åå­—ä¸€æ ·,  greet(person:alreadyGreeted:) å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°è€Œ greet(person:) å‡½æ•°åªæœ‰ä¸€ä¸ªå‚æ•°ã€‚</p>
<h1 id="æ²¡æœ‰è¿”å›å€¼çš„å‡½æ•°"><a href="#æ²¡æœ‰è¿”å›å€¼çš„å‡½æ•°" class="headerlink" title="æ²¡æœ‰è¿”å›å€¼çš„å‡½æ•°"></a>æ²¡æœ‰è¿”å›å€¼çš„å‡½æ•°</h1><p>å‡½æ•°ä¸è¦æ±‚å¿…é¡»æœ‰è¿”å›å€¼ã€‚ è¿™é‡Œæœ‰ä¸ªç‰ˆæœ¬çš„ greet(person:) å‡½æ•°, å®ƒæ‰“å°è‡ªå·±çš„å­—ç¬¦ä¸²è€Œä¸æ˜¯è¿”å›å­—ç¬¦ä¸²:<br><code><br>func greet(person: String) {<br>    print(â€œHello, (person)!â€)<br>}<br>greet(person: â€œDaveâ€)<br>// æ‰“å° â€œHello, Dave!â€<br></code><br>å› ä¸ºä¸éœ€è¦è¿”å›ä¸€ä¸ªå€¼, æ‰€ä»¥å‡½æ•°å®šä¹‰æ²¡æœ‰è¿”å›ç®­å¤´ (-&gt;) æˆ–è€…ä¸€ä¸ªè¿”å›å€¼ã€‚</p>
<p>å¤‡æ³¨</p>
<p>ä¸¥æ ¼æ¥è¯´, è¿™ä¸ªç‰ˆæœ¬çš„ greet(person:) å‡½æ•°ä¾ç„¶è¿”å›ä¸€ä¸ªå€¼, å°½ç®¡è¿”å›å€¼æ²¡æœ‰å®šä¹‰ã€‚å‡½æ•°æ²¡æœ‰è¿”å›å€¼æ˜¯è¿”å›äº†ä¸€ä¸ªç‰¹æ®Šçš„ç±»å‹ Void. å°±æ˜¯ä¸€ä¸ªç®€å•çš„ç©ºå…ƒç»„, å†™ä½œ ().</p>
<p>å‡½æ•°è°ƒç”¨çš„æ—¶å€™è¿”å›å€¼è¢«å¿½ç•¥:<br><code><br>func printAndCount(string: String) -&gt; Int {<br>    print(string)<br>    return string.characters.count<br>}<br>func printWithoutCounting(string: String) {<br>    let _ = printAndCount(string: string)<br>}<br>printAndCount(string: â€œhello, worldâ€)<br>// æ‰“å° â€œhello, worldâ€ and returns a value of 12<br>printWithoutCounting(string: â€œhello, worldâ€)<br>// æ‰“å° â€œhello, worldâ€ but does not return a value<br></code><br>ç¬¬ä¸€ä¸ªå‡½æ•°, printAndCount(string:), æ‰“å°ä¸€ä¸ªå­—ç¬¦ä¸², ç„¶åè¿”å›å®ƒçš„å­—ç¬¦æ•°ã€‚ ç¬¬äºŒä¸ªå‡½æ•°, printWithoutCounting(string:), è°ƒç”¨ç¬¬ä¸€ä¸ªå‡½æ•°, ä¸è¿‡å¿½ç•¥äº†å®ƒçš„è¿”å›å€¼ã€‚ä¸€æ—¦ç¬¬äºŒä¸ªå‡½æ•°è¢«è°ƒç”¨, ä¾ç„¶ç”±ç¬¬ä¸€ä¸ªå‡½æ•°æ‰“å°ä¿¡æ¯,ä½†æ˜¯ä¸ç”¨è¿”å›å€¼ã€‚</p>
<p>å¤‡æ³¨</p>
<p>è¿”å›å€¼å¯ä»¥å¿½ç•¥, ä½†æ˜¯å¦‚æœå‡½æ•°è¯´è¦è¿”å›å€¼å°±ä¸€ç›´è¦è¿™ä¹ˆåšã€‚å¸¦æœ‰è¿”å›å€¼çš„å‡½æ•°ç¦æ­¢æ§åˆ¶æµè·³å‡ºå‡½æ•°åº•éƒ¨,å¦‚æœæ²¡æœ‰è¿”å›ä¸€ä¸ªå€¼çš„è¯ã€‚å¦‚æœåšæŒè¿™ä¹ˆåšä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚</p>
<h1 id="å¸¦æœ‰å¤šè¿”å›å€¼çš„å‡½æ•°"><a href="#å¸¦æœ‰å¤šè¿”å›å€¼çš„å‡½æ•°" class="headerlink" title="å¸¦æœ‰å¤šè¿”å›å€¼çš„å‡½æ•°"></a>å¸¦æœ‰å¤šè¿”å›å€¼çš„å‡½æ•°</h1><p>ä½ å¯ä»¥ç”¨å…ƒç»„åšä¸ºå‡½æ•°çš„è¿”å›å€¼,æ¥å®ç°è¿”å›å¤šä¸ªå€¼ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªå‡½æ•° minMax(array:), ç”¨æ¥èŒ¶ç›…æ•´å½¢æ•°ç»„é‡Œé¢çš„æœ€å°å€¼å’Œæœ€å¤§å€¼:<br><code><br>func minMax(array: [Int]) -&gt; (min: Int, max: Int) {<br>    var currentMin = array[0]<br>    var currentMax = array[0]<br>    for value in array[1..<array.count] {="" if="" value="" <="" currentmin="" }="" else=""> currentMax {<br>            currentMax = value<br>        }<br>    }<br>    return (currentMin, currentMax)<br>}<br></array.count]></code><br>minMax(array:) å‡½æ•°è¿”å›åŒ…å«ä¸¤ä¸ªæ•´æ•°å€¼çš„å…ƒç»„ã€‚è¿™äº›å€¼ç”¨æœ€å°å’Œæœ€å¤§æ ‡ç­¾è¡¨æ˜,è¿™ä¸ªå¯ä»¥åœ¨æŸ¥è¯¢å‡½æ•°è¿”å›å€¼çš„æ—¶å€™é€šè¿‡åå­—è®¿é—®å®ƒä»¬ã€‚</p>
<p>minMax(array:) å‡½æ•°ä½“å¼€å§‹æ—¶è®¾ç½®ä¸¤ä¸ªå˜é‡currentMin å’Œ currentMaxå€¼ä¸ºæ•°ç»„ç¬¬ä¸€é¡¹çš„å€¼ã€‚ç„¶åå‡½æ•°å¼€å§‹éå†å‰©ä¸‹çš„å€¼,ç„¶åé‡å¤å’Œ currentMin å’Œ currentMax å€¼è¿›è¡Œå¤§å°æ¯”è¾ƒã€‚ æœ€å, æœ€å¤§å€¼å’Œæœ€å°å€¼ä½œä¸ºä¸€ä¸ªå…ƒç»„è¿”å›ã€‚</p>
<p>å› ä¸ºå…ƒç»„çš„æˆå‘˜å€¼ä½œä¸ºå‡½æ•°è¿”å›å€¼è¢«å‘½å, æ‰€ä»¥å¯ä»¥ç‚¹è¯­æ³•æ¥è®¿é—®æœ€å¤§å€¼å’Œæœ€å°å€¼:<br><code><br>let bounds = minMax(array: [8, -6, 2, 109, 3, 71])<br>print(â€œmin is (bounds.min) and max is (bounds.max)â€)<br>// æ‰“å° â€œmin is -6 and max is 109â€<br></code><br>æ³¨æ„å‡½æ•°è¿”å›å…ƒç»„æ—¶,å…ƒç»„çš„æˆå‘˜ä¸éœ€è¦å‘½å, å› ä¸ºå®ƒä»¬çš„åå­—ä½œä¸ºå‡½æ•°è¿”å›ç±»å‹å·²ç»è¢«æŒ‡å®šäº†ã€‚</p>
<h1 id="å¯é€‰å…ƒç»„è¿”å›ç±»å‹"><a href="#å¯é€‰å…ƒç»„è¿”å›ç±»å‹" class="headerlink" title="å¯é€‰å…ƒç»„è¿”å›ç±»å‹"></a>å¯é€‰å…ƒç»„è¿”å›ç±»å‹</h1><p>å¦‚æœå‡½æ•°è¿”å›çš„å…ƒç»„ç±»å‹æœ‰å¯èƒ½ä¸å­˜åœ¨å€¼,ä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå¯é€‰å…ƒç»„è¿”å›ç±»å‹æ¥ååº”æ•´ä¸ªå…ƒç»„å¯èƒ½ä¸ºnilã€‚ä¸€ä¸ªå¯é€‰å…ƒç»„è¿”å›ç±»å‹æ‹¬å·åé¢è·Ÿç€ä¸€ä¸ªé—®å·, æ¯”å¦‚ (Int, Int)? æˆ–è€… (String, Int, Bool)?.</p>
<p>å¤‡æ³¨</p>
<p>å¯é€‰å…ƒç»„ç±»å‹æ¯”å¦‚s (Int, Int)? ä¸åŒäºå…ƒç»„ä¸­åŒ…å«å¯é€‰ç±»å‹æ¯”å¦‚ (Int?, Int?). æœ‰ä¸€ä¸ªå¯é€‰å…ƒç»„ç±»å‹, æ•´ä¸ªå…ƒç»„éƒ½æ˜¯å¯é€‰çš„, ä¸å•å•æ˜¯å…ƒç»„é‡Œçš„å€¼ã€‚</p>
<p>minMax(array:) å‡½æ•°è¿”å›çš„å…ƒç»„åŒ…å«ä¸¤ä¸ªæ•´æ•°å€¼ã€‚ ç„¶è€Œ, å‡½æ•°ä¸ä¼šå¯¹ä¼ å…¥çš„æ•°ç»„åšä»»ä½•å®‰å…¨æ£€æŸ¥ã€‚ å¦‚æœæ•°ç»„åŒ…å«ç©ºæ•°ç»„, minMax(array:) å‡½æ•°, ä¸Šé¢å®šä¹‰çš„, å°è¯•è®¿é—® array[0] ä¼šè§¦å‘è¿è¡Œæ—¶é”™è¯¯ã€‚</p>
<p>ä¸ºäº†å¤„ç†è¿™ç§æƒ…å†µ, minMax(array:) å‡½æ•°è¿”å›å€¼å†™æˆå¯é€‰å…ƒç»„è¿”å›ç±»å‹,å¦‚æœæ•°ç»„ä¸ºç©ºåˆ™è¿”å›nil:<br><code><br>func minMax(array: [Int]) -&gt; (min: Int, max: Int)? {<br>    if array.isEmpty { return nil }<br>    var currentMin = array[0]<br>    var currentMax = array[0]<br>    for value in array[1..<array.count] {="" if="" value="" <="" currentmin="" }="" else=""> currentMax {<br>            currentMax = value<br>        }<br>    }<br>    return (currentMin, currentMax)<br>}<br></array.count]></code><br>ä½ å¯ä»¥ç”¨ä¸€ä¸ªå¯é€‰ç»‘å®šæ¥åˆ¤æ–­, è¿™ä¸ªç‰ˆæœ¬çš„ minMax(array:) å‡½æ•°æ˜¯è¿”å›ä¸€ä¸ªå®é™…å…ƒç»„å€¼è¿˜æ˜¯nil:<br><code><br>if let bounds = minMax(array: [8, -6, 2, 109, 3, 71]) {<br>    print(â€œmin is (bounds.min) and max is (bounds.max)â€)<br>}<br>// æ‰“å° â€œmin is -6 and max is 109â€<br></code></p>
<h1 id="å‡½æ•°å‚æ•°æ ‡ç­¾å’Œå‚æ•°å"><a href="#å‡½æ•°å‚æ•°æ ‡ç­¾å’Œå‚æ•°å" class="headerlink" title="å‡½æ•°å‚æ•°æ ‡ç­¾å’Œå‚æ•°å"></a>å‡½æ•°å‚æ•°æ ‡ç­¾å’Œå‚æ•°å</h1><p>æ¯ä¸ªå‡½æ•°å‚æ•°æ—¢æœ‰å‚æ•°æ ‡ç­¾ä¹Ÿæœ‰å‚æ•°åã€‚å‚æ•°æ ‡ç­¾åœ¨è°ƒç”¨å‡½æ•°æ—¶ä½¿ç”¨; å‡½æ•°ä¸­çš„æ¯ä¸ªå‚æ•°è°ƒç”¨æ—¶ä½¿ç”¨å®ƒä»¬çš„æ ‡ç­¾ã€‚ å‚æ•°åç”¨äºå‡½æ•°çš„å®ç°ã€‚ é»˜è®¤æƒ…å†µ, å‚æ•°ä½¿ç”¨å‚æ•°åä½œä¸ºæ ‡ç­¾ã€‚<br><code><br>func someFunction(firstParameterName: Int, secondParameterName: Int) {<br>    // In the function body, firstParameterName and secondParameterName<br>    // refer to the argument values for the first and second parameters.<br>}</code></p>
<p>someFunction(firstParameterName: 1, secondParameterName: 2)<br><br>æ‰€æœ‰å‚æ•°åå¿…é¡»å”¯ä¸€ã€‚ å°½ç®¡å¤šä¸ªå‚æ•°å¯èƒ½æœ‰ç›¸åŒçš„æ ‡ç­¾, å”¯ä¸€çš„å‚æ•°æ ‡ç­¾ä¼šè®©ä½ çš„ä»£ç æ›´æœ‰å¯è¯»æ€§ã€‚</p>
<h1 id="æŒ‡å®šå‚æ•°æ ‡ç­¾"><a href="#æŒ‡å®šå‚æ•°æ ‡ç­¾" class="headerlink" title="æŒ‡å®šå‚æ•°æ ‡ç­¾"></a>æŒ‡å®šå‚æ•°æ ‡ç­¾</h1><p>å‚æ•°æ ‡ç­¾å†™åœ¨å‚æ•°åä¹‹å‰, ç”¨ç©ºæ ¼åˆ†å¼€:<br><code><br>func someFunction(argumentLabel parameterName: Int) {<br>    // In the function body, parameterName refers to the argument value<br>    // for that parameter.<br>}<br></code><br>è¿™é‡Œæœ‰ä¸€ä¸ª greet(person:) å‡½æ•°çš„å˜ç§,æ¥å—ä¸€ä¸ªäººåå’Œå®¶ä¹¡ç„¶åè¿”å›ä¸€ä¸ªé—®å€™:<br><code><br>func greet(person: String, from hometown: String) -&gt; String {<br>    return â€œHello (person)!  Glad you could visit from (hometown).â€<br>}<br>print(greet(person: â€œBillâ€, from: â€œCupertinoâ€))<br>// æ‰“å° â€œHello Bill!  Glad you could visit from Cupertino.â€<br></code><br>å‚æ•°æ ‡ç­¾çš„ä½¿ç”¨å…è®¸å‡½æ•°ç”¨è¡¨è¾¾æ–¹å¼è°ƒç”¨, åƒå¥å­ä¸€æ ·ã€‚</p>
<h1 id="çœç•¥å‚æ•°æ ‡ç­¾"><a href="#çœç•¥å‚æ•°æ ‡ç­¾" class="headerlink" title="çœç•¥å‚æ•°æ ‡ç­¾"></a>çœç•¥å‚æ•°æ ‡ç­¾</h1><p>å¦‚æœä½ ä¸æƒ³è¦å‚æ•°æ ‡ç­¾, å†™ä¸€ä¸ªä¸‹åˆ’çº¿ä»£æ›¿æ˜¾å¼çš„å‚æ•°æ ‡ç­¾ã€‚<br><code><br>func someFunction(_ firstParameterName: Int, secondParameterName: Int) {<br>    // In the function body, firstParameterName and secondParameterName<br>    // refer to the argument values for the first and second parameters.<br>}<br>someFunction(1, secondParameterName: 2)<br></code><br>å¦‚æœä¸€ä¸ªå‚æ•°æœ‰å‚æ•°æ ‡ç­¾, é‚£ä¹ˆè°ƒç”¨å‡½æ•°çš„æ—¶å€™å‚æ•°å¿…é¡»å¸¦ä¸Šæ ‡ç­¾ã€‚</p>
<h1 id="é»˜è®¤å‚æ•°å€¼"><a href="#é»˜è®¤å‚æ•°å€¼" class="headerlink" title="é»˜è®¤å‚æ•°å€¼"></a>é»˜è®¤å‚æ•°å€¼</h1><p>ä½ å¯ä»¥ç»™å‡½æ•°å‚æ•°èµ‹ä¸€ä¸ªé»˜è®¤å€¼,å†™åœ¨ç±»å‹çš„åé¢ã€‚å¦‚æœå®šä¹‰äº†é»˜è®¤å€¼, è°ƒç”¨å‡½æ•°æ—¶ä½ å°±å¯ä»¥å¿½ç•¥è¿™ä¸ªå‚æ•°ã€‚<br><code><br>func someFunction(parameterWithoutDefault: Int, parameterWithDefault: Int = 12) {<br>    // If you omit the second argument when calling this function, then<br>    // the value of parameterWithDefault is 12 inside the function body.<br>}<br>someFunction(parameterWithoutDefault: 3, parameterWithDefault: 6) // parameterWithDefault is 6<br>someFunction(parameterWithoutDefault: 4) // parameterWithDefault is 12<br></code><br>æ²¡æœ‰é»˜è®¤å€¼çš„å‚æ•°æ”¾åœ¨å‡½æ•°å‚æ•°åˆ—è¡¨å‰, å¸¦æœ‰é»˜è®¤å€¼çš„æ”¾åœ¨åé¢ã€‚æ²¡æœ‰é»˜è®¤å€¼çš„å‚æ•°é€šå¸¸æ›´é‡è¦â€”é¦–å…ˆå†™å®ƒä»¬æ›´å®¹æ˜“çŸ¥é“ç›¸åŒçš„å‡½æ•°è¢«è°ƒç”¨, ä¸ç”¨ç®¡é»˜è®¤å‚æ•°æ˜¯å¦è¢«å¿½ç•¥ã€‚</p>
<h1 id="å¯å˜å‚æ•°"><a href="#å¯å˜å‚æ•°" class="headerlink" title="å¯å˜å‚æ•°"></a>å¯å˜å‚æ•°</h1><p>å¯å˜å‚æ•°æ¥å—é›¶ä¸ªæˆ–è€…å¤šä¸ªæŒ‡å®šç±»å‹çš„å€¼ã€‚ä½ ç”¨å¯å˜å‚æ•°æŒ‡å®šå‡½æ•°è°ƒç”¨æ—¶å¯ä»¥ä¼ å…¥ä¸åŒä¸ªæ•°çš„è¾“å…¥å€¼ã€‚å¯å˜å‚æ•°å†™æ³•æ˜¯åœ¨å‚æ•°ç±»å‹ååå†™ä¸‰ä¸ªç‚¹ã€‚</p>
<p>ä¼ å…¥å¯å˜å‚æ•°çš„å€¼åœ¨å‡½æ•°ä½“ä¸­ä½œä¸ºå¯¹åº”ç±»å‹çš„æ•°ç»„æ˜¯å¯ç”¨çš„ã€‚ ä¾‹å¦‚, å¸¦æœ‰æ•°å­—åçš„å¯å˜å‚æ•°å’Œ Doubleâ€¦ åœ¨å‡½æ•°ä¸­ä½œä¸ºå¸¸é‡æ•°ç»„ [Double]æ˜¯å¯ç”¨çš„ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­è®¡ç®—ä»»æ„é•¿åº¦çš„æ•°å­—çš„å¹³å‡æ•°:<br><code><br>func arithmeticMean(_ numbers: Doubleâ€¦) -&gt; Double {<br>    var total: Double = 0<br>    for number in numbers {<br>        total += number<br>    }<br>    return total / Double(numbers.count)<br>}<br>arithmeticMean(1, 2, 3, 4, 5)<br>// returns 3.0, which is the arithmetic mean of these five numbers<br>arithmeticMean(3, 8.25, 18.75)<br>// returns 10.0, which is the arithmetic mean of these three numbers<br></code><br>å¤‡æ³¨</p>
<p>ä¸€ä¸ªå‡½æ•°æœ€å¤šæœ‰ä¸€ä¸ªå¯å˜å‚æ•°ã€‚</p>
<h1 id="è¾“å…¥è¾“å‡ºå‚æ•°"><a href="#è¾“å…¥è¾“å‡ºå‚æ•°" class="headerlink" title="è¾“å…¥è¾“å‡ºå‚æ•°"></a>è¾“å…¥è¾“å‡ºå‚æ•°</h1><p>å‡½æ•°å‚æ•°é»˜è®¤æ˜¯å¸¸é‡ã€‚ å°è¯•æ”¹å˜ä¼šå¯¼è‡´ç¼–è¯‘æœŸé”™è¯¯ã€‚è¿™å°±æ„å‘³ç€ä½ ä¸èƒ½é”™è¯¯çš„æ”¹å˜å‚æ•°å€¼ã€‚å¦‚æœä½ æƒ³å‡½æ•°æ”¹å˜å‚æ•°å€¼, æƒ³è¦è¿™äº›æ”¹å˜æŒç»­åˆ°å‡½æ•°è°ƒç”¨ç»“æŸ, ä½ å¯ä»¥å®šä¹‰è¾“å…¥è¾“å‡ºå‚æ•°æ¥ä»£æ›¿ã€‚</p>
<p>é€šè¿‡æŠŠ in-out å…³é”®å­—å†™åœ¨å‚æ•°ç±»å‹å‰é¢æ¥å†™ä¸€ä¸ªè¾“å…¥è¾“å‡ºå‚æ•°ã€‚ è¾“å…¥è¾“å‡ºå‚æ•°æœ‰ä¸€ä¸ªä¼ å…¥å‡½æ•°çš„å€¼, ä¼šè¢«å‡½æ•°ä¿®æ”¹, ç„¶åä¼ å‡ºå‡½æ•°å–ä»£åŸæœ‰çš„å€¼ã€‚ è¯¦æƒ…è¯·å‚ç…§ In-Out Parameters.</p>
<p>ä½ å¯ä»¥åªä¼ å…¥ä¸€ä¸ªå˜é‡ä½œä¸ºè¾“å…¥è¾“å‡ºå‚æ•°ã€‚ ä½ ä¸èƒ½ä¼ å…¥ä¸€ä¸ªå¸¸é‡æˆ–è€…å­—é¢å€¼ä½œä¸ºå‚æ•°, å› ä¸ºå¸¸é‡å’Œå­—é¢é‡ä¸èƒ½æ”¹å˜ã€‚å½“ä½ ä½¿ç”¨å®ƒä½œä¸ºè¾“å…¥è¾“å‡ºå‚æ•°æ—¶,ä½ å¯ä»¥ç›´æ¥åœ¨å˜é‡åå‰åŠ ä¸Š (&amp;), æ¥è¡¨ç¤ºå®ƒå¯ä»¥è¢«å‡½æ•°æ”¹å˜ã€‚</p>
<p>å¤‡æ³¨</p>
<p>è¾“å…¥è¾“å‡ºå‚æ•°ä¸èƒ½æœ‰é»˜è®¤å€¼, å¯å˜å‚æ•°ä¸èƒ½æ ‡è®°ä¸ºè¾“å…¥è¾“å‡ºçš„ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªå‡½æ•° swapTwoInts(<em>:</em>:), æœ‰ä¸¤ä¸ªè¾“å…¥è¾“å‡ºæ•´å½¢å‚æ•° a å’Œ b:<br><code><br>func swapTwoInts(<em> a: inout Int, </em> b: inout Int) {<br>    let temporaryA = a<br>    a = b<br>    b = temporaryA<br>}<br></code><br>swapTwoInts(<em>:</em>:) å‡½æ•°ç®€å•çš„äº¤æ¢aå’Œbçš„å€¼,è¿™ä¸ªå‡½æ•°é€šè¿‡æŠŠaçš„å€¼å­˜å‚¨åˆ°ä¸€ä¸ªä¸´æ—¶çš„å¸¸é‡temporaryA æ¥å®ç°äº¤æ¢, æŠŠbçš„å€¼èµ‹ç»™a, ç„¶åæŠŠ temporaryA çš„å€¼èµ‹ç»™b.</p>
<p>ä½ å¯ä»¥è°ƒç”¨ swapTwoInts(<em>:</em>:) å‡½æ•°äº¤æ¢ä¸¤ä¸ªæ•´å½¢å˜é‡çš„å€¼ã€‚ æ³¨æ„ someInt å’Œ anotherInt åœ¨ä¼ ç»™å‡½æ•°çš„æ—¶å€™å‰é¢éƒ½åŠ ä¸Šäº† &amp;:<br><code><br>var someInt = 3<br>var anotherInt = 107<br>swapTwoInts(&amp;someInt, &amp;anotherInt)<br>print(â€œsomeInt is now (someInt), and anotherInt is now (anotherInt)â€)<br>// æ‰“å° â€œsomeInt is now 107, and anotherInt is now 3â€<br></code><br>ä¸Šé¢ä¾‹å­å±•ç¤º someInt å’Œ anotherInt çš„åŸå§‹å€¼è¢« swapTwoInts(<em>:</em>:) å‡½æ•°æ”¹å˜, å°½ç®¡å®ƒä»¬å®šä¹‰åœ¨å‡½æ•°ä¹‹å¤–ã€‚</p>
<p>å¤‡æ³¨</p>
<p>è¾“å…¥è¾“å‡ºå‚æ•°ä¸å‡½æ•°è¿”å›å€¼ä¸ä¸€æ ·ã€‚swapTwoInts æ²¡æœ‰å®šä¹‰ä¸€ä¸ªè¿”å›å€¼æˆ–è€…è¿”å›ä¸€ä¸ªå€¼ã€‚ä½†æ˜¯å®ƒä¾ç„¶æ”¹å˜äº† someInt å’Œ anotherInt çš„å€¼ã€‚ è¾“å…¥è¾“å‡ºå‚æ•°æ˜¯å‡½æ•°å½±å“å¤–éƒ¨çš„ä¸€ç§å¤‡é€‰æ–¹å¼ã€‚</p>
<h1 id="å‡½æ•°ç±»å‹"><a href="#å‡½æ•°ç±»å‹" class="headerlink" title="å‡½æ•°ç±»å‹"></a>å‡½æ•°ç±»å‹</h1><p>æ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ªæŒ‡å®šçš„å‡½æ•°ç±»å‹, ç”±å‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹ç»„æˆã€‚</p>
<p>ä¾‹å¦‚:<br><code><br>func addTwoInts(<em> a: Int, </em> b: Int) -&gt; Int {<br>    return a + b<br>}<br>func multiplyTwoInts(<em> a: Int, </em> b: Int) -&gt; Int {<br>    return a * b<br>}<br></code><br>è¿™ä¸ªä¾‹å­å®šä¹‰äº†ä¸¤ä¸ªç®€å•çš„æ•°å­¦å‡½æ•° addTwoInts å’Œ multiplyTwoInts. ä¸¤ä¸ªå‡½æ•°éƒ½æ¥å—ä¸¤ä¸ªæ•´å½¢å€¼, ç„¶åè¿”å›ä¸€ä¸ªæ•´å½¢å€¼, æ‰§è¡Œåˆé€‚çš„æ•°å­¦è¿ç®—ä¼šå¾—å‡ºè¿™ä¸ªç»“æœã€‚</p>
<p>ä¸¤ä¸ªå‡½æ•°çš„ç±»å‹éƒ½æ˜¯(Int, Int) -&gt; Int. å¯ä»¥è§£è¯»ä¸º:</p>
<p>â€œä¸€ä¸ªå‡½æ•°ç±»å‹æœ‰ä¸¤ä¸ªå‚æ•°, ä¸¤ä¸ªéƒ½æ˜¯æ•´æ•°ç±»å‹t, ç„¶åè¿”å›ä¸€ä¸ªæ•´å½¢å€¼â€</p>
<p>è¿™é‡Œæœ‰å¦å¤–ä¸€ä¸ªä¾‹å­, ä¸€ä¸ªæ²¡æœ‰å‚æ•°å’Œè¿”å›å€¼çš„å‡½æ•°:<br><code><br>func printHelloWorld() {<br>    print(â€œhello, worldâ€)<br>}<br></code><br>è¿™ä¸ªå‡½æ•°ç±»å‹æ˜¯ () -&gt; Void, æˆ–è€… â€œä¸€ä¸ªå‡½æ•°æ²¡æœ‰å‚æ•°,è¿”å› Void.â€</p>
<h1 id="ä½¿ç”¨å‡½æ•°ç±»å‹"><a href="#ä½¿ç”¨å‡½æ•°ç±»å‹" class="headerlink" title="ä½¿ç”¨å‡½æ•°ç±»å‹"></a>ä½¿ç”¨å‡½æ•°ç±»å‹</h1><p>ä½¿ç”¨å‡½æ•°ç±»å‹è·ŸSwiftä¸­å…¶ä»–ç±»å‹å¾ˆåƒã€‚ä¾‹å¦‚, ä½ å¯ä»¥å®šä¹‰ä¸€ä¸ªå‡½æ•°çš„å¸¸é‡æˆ–è€…å˜é‡,ç„¶åæŠŠä¸€ä¸ªå‡½æ•°èµ‹å€¼ç»™è¿™ä¸ªå˜é‡:<br><code><br>var mathFunction: (Int, Int) -&gt; Int = addTwoInts<br></code><br>è¿™æ®µä»£ç å¯ä»¥è§£è¯»ä¸º:</p>
<p>â€œå®šä¹‰ä¸€ä¸ªå˜é‡ mathFunction, å¸¦æœ‰ä¸¤ä¸ªæ•´å½¢å€¼çš„å‡½æ•°ç±»å‹, ç„¶åè¿”å›ä¸€ä¸ªæ•´å½¢å€¼ã€‚â€™ è°ƒç”¨å‡½æ•° addTwoInts ç»™è¿™ä¸ªå˜é‡è®¾ç½®å€¼ã€‚â€</p>
<p>addTwoInts(<em>:</em>:) å‡½æ•°å’Œ mathFunction å˜é‡ä¸€æ ·æœ‰ç›¸åŒçš„ç±»å‹, æ‰€æœ‰èµ‹å€¼æ˜¯å…è®¸çš„ã€‚</p>
<p>ä½ ç°åœ¨å¯ä»¥ä½¿ç”¨ mathFunction åå­—è°ƒç”¨èµ‹å€¼å‡½æ•°:<br><code><br>print(â€œResult: (mathFunction(2, 3))â€)<br>// æ‰“å° â€œResult: 5â€<br></code><br>æœ‰ç›¸åŒåŒ¹é…ç±»å‹çš„ä¸åŒå‡½æ•°ä¹Ÿå¯ä»¥èµ‹å€¼ç»™ç›¸åŒçš„å˜é‡, å’Œéå‡½æ•°ç±»å‹ä¸€æ ·:<br><code><br>mathFunction = multiplyTwoInts<br>print(â€œResult: (mathFunction(2, 3))â€)<br>// æ‰“å° â€œResult: 6â€<br></code><br>å…¶ä»–ä»»ä½•ç±»å‹, å½“ä½ æŠŠå‡½æ•°èµ‹å€¼ç»™ä¸€ä¸ªå¸¸é‡æˆ–è€…å˜é‡æ—¶,ä½ å¯ä»¥ç•™ç»™ Swift å»æ¨æ–­å‡½æ•°ç±»å‹:<br><code><br>let anotherMathFunction = addTwoInts<br>// anotherMathFunction is inferred to be of type (Int, Int) -&gt; Int<br></code></p>
<h1 id="å‡½æ•°ç±»å‹ä½œä¸ºå‚æ•°ç±»å‹"><a href="#å‡½æ•°ç±»å‹ä½œä¸ºå‚æ•°ç±»å‹" class="headerlink" title="å‡½æ•°ç±»å‹ä½œä¸ºå‚æ•°ç±»å‹"></a>å‡½æ•°ç±»å‹ä½œä¸ºå‚æ•°ç±»å‹</h1><p>ä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå‡½æ•°ç±»å‹æ¯”å¦‚ (Int, Int) -&gt; Int ä½œä¸ºå¦å¤–ä¸€ä¸ªå‡½æ•°çš„å‚æ•°ã€‚å½“å‡½æ•°è°ƒç”¨çš„æ—¶å€™,ä½ å¯ä»¥æŠŠå‡½æ•°å®ç°çš„ä¸€éƒ¨åˆ†ç•™ç»™è°ƒç”¨è€…ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸ªä¸€ä¸ªä¾‹å­æ‰“å°ä¸Šé¢æ•°å­¦å‡½æ•°çš„ç»“æœ:<br><code><br>func printMathResult(<em> mathFunction: (Int, Int) -&gt; Int, </em> a: Int, <em> b: Int) {<br>    print(â€œResult: (mathFunction(a, b))â€)<br>}<br>printMathResult(addTwoInts, 3, 5)<br>// æ‰“å° â€œResult: 8â€<br></em></code><br>è¿™ä¸ªä¾‹å­å®šä¹‰äº†ä¸€ä¸ªå‡½æ•° printMathResult(:<em>:</em>:), æœ‰ä¸‰ä¸ªå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ mathFunction, ç±»å‹ (Int, Int) -&gt; Int. ä½ å¯ä»¥ä¼ é€’ä»»ä½•è¿™ç§ç±»å‹çš„å‡½æ•°ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ã€‚ ç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ a å’Œ b, éƒ½æ˜¯æ•´å‹, ç”¨æ¥ä½œä¸ºæ•°å­¦å‡½æ•°çš„è¾“å…¥å€¼ã€‚</p>
<p>å½“ printMathResult(<em>:</em>:<em>:) è°ƒç”¨æ—¶, ä¼ å…¥ addTwoInts(</em>:_:) å‡½æ•°, å’Œæ•´æ•° 3 å’Œ 5. è°ƒç”¨æä¾›çš„å‡½æ•°, ç„¶åæ‰“å°ç»“æœ 8.</p>
<p>printMathResult(<em>:</em>:<em>:) ä»»åŠ¡å°±æ˜¯æ‰“å°ç‰¹å®šç±»å‹æ•°å­¦å‡½æ•°çš„ç»“æœã€‚å®ƒä¸å…³å¿ƒå‡½æ•°çš„å®é™…å®ç°â€”å®ƒåªå…³å¿ƒå‡½æ•°ç±»å‹æ˜¯å¦æ­£ç¡®ã€‚ è¿™ä½¿å¾— printMathResult(</em>:<em>:</em>:) ä»¥ä¸€ç§ç±»å‹å®‰å…¨çš„æ–¹å¼æ”¾æ‰‹ä¸€äº›åŠŸèƒ½ç»™å‡½æ•°çš„è°ƒç”¨è€…ã€‚</p>
<h1 id="å‡½æ•°ç±»å‹å’Œè¿”å›å€¼"><a href="#å‡½æ•°ç±»å‹å’Œè¿”å›å€¼" class="headerlink" title="å‡½æ•°ç±»å‹å’Œè¿”å›å€¼"></a>å‡½æ•°ç±»å‹å’Œè¿”å›å€¼</h1><p>ä½ å¯ä»¥ç”¨ä¸€ä¸ªå‡½æ•°ç±»å‹ä½œä¸ºå¦å¤–ä¸€ä¸ªå‡½æ•°çš„è¿”å›ç±»å‹ã€‚æŠŠä¸€ä¸ªå®Œæ•´çš„å‡½æ•°ç±»å‹å†™åœ¨è¿”å›ç®­å¤´åé¢å°±å¯ä»¥äº†ã€‚</p>
<p>ä¸‹ä¸€ä¸ªä¾‹å­å®šä¹‰äº†ä¸¤ä¸ªç®€å•çš„å‡½æ•° stepForward(<em>:) å’Œ stepBackward(</em>:). stepForward(<em>:) å‡½æ•°è¿”å›ä¸€ä¸ªæ¯”è¾“å…¥å€¼å¤§ä¸€çš„å€¼, stepBackward(</em>:) å‡½æ•°è¿”å›ä¸€ä¸ªæ¯”è¾“å…¥å€¼å°ä¸€çš„å€¼ã€‚ä¸¤ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ªç±»å‹ (Int) -&gt; Int:<br><code><br>func stepForward(<em> input: Int) -&gt; Int {<br>    return input + 1<br>}<br>func stepBackward(</em> input: Int) -&gt; Int {<br>    return input - 1<br>}<br></code><br>è¿™é‡Œæœ‰ä¸€ä¸ªå‡½æ•° chooseStepFunction(backward:), è¿”å›ç±»å‹æ˜¯ (Int) -&gt; Int. chooseStepFunction(backward:) å‡½æ•°åŸºäºä¸€ä¸ªå¸ƒå°”å‚æ•°backward æ¥è¿”å› stepForward(<em>:) å‡½æ•°æˆ– stepBackward(</em>:) å‡½æ•°:<br><code><br>func chooseStepFunction(backward: Bool) -&gt; (Int) -&gt; Int {<br>    return backward ? stepBackward : stepForward<br>}<br></code><br>ç°åœ¨ä½ å¯ä»¥ä½¿ç”¨ chooseStepFunction(backward:) å»è·å–ä¸€ä¸ªå‡½æ•°, ç„¶åå¾€å‰èµ°æˆ–è€…å¾€åèµ°:<br><code><br>var currentValue = 3<br>let moveNearerToZero = chooseStepFunction(backward: currentValue &gt; 0)<br>// moveNearerToZero è°ƒç”¨ stepBackward() å‡½æ•°<br></code><br>å‰é¢çš„ä¾‹å­å†³å®šæ˜¯å¦éœ€è¦ä¸€ä¸ªè´Ÿæ•°æˆ–è€…æ­£æ•°æ­¥å»ç§»åŠ¨currentValue ,è®©å®ƒé€æ¸è¶‹è¿‘äº0. currentValue æœ‰ä¸ªåˆå§‹å€¼3, æ„å‘³ç€ currentValue &gt; 0 è¿”å›çœŸ, chooseStepFunction(backward:) ä¼šè¿”å› stepBackward(_:) å‡½æ•°ã€‚ å¼•ç”¨çš„è¿”å›å‡½æ•°å­˜å‚¨åœ¨ä¸€ä¸ªå¸¸é‡ moveNearerToZero.</p>
<p>moveNearerToZero æŒ‡å‘æ°å½“çš„å‡½æ•°, å®ƒå¯ä»¥ç”¨æ¥è®¡æ­¥åˆ°0:<br><code><br>print(â€œCounting to zero:â€)<br>// Counting to zero:<br>while currentValue != 0 {<br>    print(â€œ(currentValue)â€¦ â€œ)<br>    currentValue = moveNearerToZero(currentValue)<br>}<br>print(â€œzero!â€)<br>// 3â€¦<br>// 2â€¦<br>// 1â€¦<br>// zero!<br></code></p>
<h1 id="åµŒå¥—å‡½æ•°"><a href="#åµŒå¥—å‡½æ•°" class="headerlink" title="åµŒå¥—å‡½æ•°"></a>åµŒå¥—å‡½æ•°</h1><p>åˆ°ç›®å‰ä¸ºæ­¢,ä½ åœ¨æœ¬ç« çœ‹è§çš„å‡½æ•°éƒ½æ˜¯å…¨å±€çš„ç¤ºä¾‹, å®ƒä»¬å®šä¹‰åœ¨å…¨å±€èŒƒå›´ã€‚ä½ ä¹Ÿå¯ä»¥åœ¨å…¶ä»–å‡½æ•°ä½“å†…å®šä¹‰å‡½æ•°,è¿™å°±æ˜¯åµŒå¥—å‡½æ•°ã€‚</p>
<p>åµŒå¥—å‡½æ•°é»˜è®¤å¯¹å¤–ç•Œéšè—, ä½†æ˜¯å¯¹äºå®ƒä»¬çš„å°é—­å‡½æ•°ä¾ç„¶å¯ä»¥ä½¿ç”¨ã€‚å°é—­å‡½æ•°å¯ä»¥è¿”å›ä¸€ä¸ªåµŒå¥—å‡½æ•°, å¹¶å…è®¸å®ƒç»™å¤–éƒ¨ä½¿ç”¨ã€‚</p>
<p>ä½ å¯ä»¥é‡å†™ä¸Šé¢çš„ chooseStepFunction(backward:) ä¾‹å­æ¥ä½¿ç”¨å’Œè¿”å›åµŒå¥—å‡½æ•°:<br><code><br>func chooseStepFunction(backward: Bool) -&gt; (Int) -&gt; Int {<br>    func stepForward(input: Int) -&gt; Int { return input + 1 }<br>    func stepBackward(input: Int) -&gt; Int { return input - 1 }<br>    return backward ? stepBackward : stepForward<br>}<br>var currentValue = -4<br>let moveNearerToZero = chooseStepFunction(backward: currentValue &gt; 0)<br>// moveNearerToZero now refers to the nested stepForward() function<br>while currentValue != 0 {<br>    print(â€œ(currentValue)â€¦ â€œ)<br>    currentValue = moveNearerToZero(currentValue)<br>}<br>print(â€œzero!â€)<br>// -4â€¦<br>// -3â€¦<br>// -2â€¦<br>// -1â€¦<br>// zero!<br></code></p>
<h1 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h1><p>é—­åŒ…æ˜¯è‡ªåŒ…å«çš„åŠŸèƒ½å—,å¯ä»¥ä¼ é€’å’Œç”¨åœ¨ä»£ç ä¸­ã€‚Swift ä¸­çš„é—­åŒ…å’ŒC å’Œ Objective-C ä¸­çš„ç›¸ä¼¼ã€‚</p>
<p>é—­åŒ…å¯ä»¥æ•è·å’Œå­˜å‚¨ä¸Šä¸‹æ–‡å®šä¹‰çš„ä»»ä½•å¸¸é‡å’Œå˜é‡çš„å¼•ç”¨ã€‚è¿™å°±æ˜¯å…³é—­äº†å¸¸é‡å’Œå˜é‡ã€‚Swift æ›¿ä½ å¤„ç†é—­åŒ…çš„æ‰€æœ‰å†…å­˜ç®¡ç†ã€‚</p>
<p>å¤‡æ³¨</p>
<p>å¦‚æœä¸ç†Ÿæ‚‰é—­åŒ…çš„æ¦‚å¿µä¸ç”¨æ‹…å¿ƒã€‚ ä¸‹é¢ä¼šè¯¦ç»†æè¿°ã€‚</p>
<p>å…¨å±€å’ŒåµŒå¥—å‡½æ•°å®é™…ä¸Šæ˜¯ä¸€ç§ç‰¹æ®Šçš„é—­åŒ…ã€‚é—­åŒ…é€šå¸¸æ˜¯ä¸‹é¢ä¸‰ç§å½¢å¼ä¹‹ä¸€:</p>
<p>å…¨å±€å‡½æ•°æ˜¯é—­åŒ…,æ²¡æœ‰åå­—ä¹Ÿä¸æ•è·ä»»ä½•å€¼ã€‚<br>åµŒå¥—å‡½æ•°æ˜¯é—­åŒ…,æœ‰ä¸€ä¸ªåå­—ä¹Ÿå¯ä»¥ä»å°é—­å‡½æ•°ä¸­æ•è·å€¼ã€‚<br>é—­åŒ…è¡¨è¾¾å¼æ˜¯åŒ¿åé—­åŒ…,ä½¿ç”¨è½»é‡çº§è¯­æ³•ä¹¦å†™,å¯ä»¥æ•è·ä¸Šä¸‹æ–‡çš„å€¼ã€‚<br>Swift çš„é—­åŒ…è¡¨è¾¾å¼æœ‰ä¸€ä¸ªæ¸…æ¥šæ¸…æ™°çš„é£æ ¼, é¼“åŠ±ç®€æ´,æ•´é½çš„è¯­æ³•ä¼˜åŒ–ã€‚è¿™äº›ä¼˜åŒ–åŒ…æ‹¬:</p>
<p>ä»ä¸Šä¸‹æ–‡æ¨æ–­å‚æ•°å’Œè¿”å›å€¼çš„ç±»å‹<br>ä»å•ä¸ªè¡¨è¾¾å¼é—­åŒ…éšå¼è¿”å›<br>ç®€çº¦å‚æ•°å<br>å°¾éƒ¨é—­åŒ…è¯­æ³•</p>
<h1 id="é—­åŒ…è¡¨è¾¾å¼"><a href="#é—­åŒ…è¡¨è¾¾å¼" class="headerlink" title="é—­åŒ…è¡¨è¾¾å¼"></a>é—­åŒ…è¡¨è¾¾å¼</h1><p>åµŒå¥—å‡½æ•°, æ˜¯ä¸€ä¸ªæ–¹ä¾¿çš„å‘½åæ–¹æ³•,ä¹Ÿæ˜¯åœ¨è¾ƒå¤§å‡½æ•°ä¸­å®šä¹‰è‡ªåŒ…å«ä»£ç å—çš„æ–¹å¼ã€‚ä¸è¿‡, æœ‰æ—¶å€™å†™ä¸€ä¸ªæ›´çŸ­çš„ç‰ˆæœ¬å¾ˆæœ‰ç”¨, å®ƒå¾ˆåƒå‡½æ•°ä½†æ˜¯æ²¡æœ‰å®Œæ•´çš„å£°æ˜å’Œåå­—ã€‚å‡½æ•°ä½œä¸ºå‚æ•°çš„æ—¶å€™è¿™ä¸ªå°¤å…¶æœ‰ç”¨ã€‚</p>
<p>é—­åŒ…è¡¨è¾¾å¼æ˜¯å†…è”é—­åŒ…çš„ä¸€ç§ç®€å†™ã€‚ é—­åŒ…è¡¨è¾¾å¼æä¾›ä¸€äº›è¯­æ³•ä¼˜åŒ–,ä»¥æ›´çŸ­çš„æ ·å¼ä¹¦å†™é—­åŒ…,ä½†ä¸å¤±æ¸…æ™°å’Œç›®çš„æ€§ã€‚ä¸‹é¢çš„é—­åŒ…å®ä¾‹é€šè¿‡ç²¾ç‚¼ä¸€ä¸ªæ’åºå‡½æ•°æ¥å±•ç¤ºè¿™äº›ä¼˜åŒ–, æ¯ä¸ªè¡¨è¾¾å¼åŠŸèƒ½ä¸€æ ·,åªæ˜¯æ›´ç®€æ´ã€‚</p>
<h1 id="æ’åºå‡½æ•°"><a href="#æ’åºå‡½æ•°" class="headerlink" title="æ’åºå‡½æ•°"></a>æ’åºå‡½æ•°</h1><p>Swift æ ‡å‡†åº“æä¾›äº†ä¸€ä¸ªæ–¹æ³• sorted(by:), å¯¹å·²çŸ¥ç±»å‹æ•°ç»„å€¼è¿›è¡Œæ’åº, åŸºäºä½ æä¾›çš„æ’åºé—­åŒ…è¾“å‡ºã€‚ä¸€æ—¦æ’åºå®Œæˆ, sorted(by:) æ–¹æ³•å°±ä¼šè¿”å›ä¸€ä¸ªè·Ÿæ—§æ•°ç»„ç›¸åŒç±»å‹ç›¸åŒå¤§å°çš„æ–°æ•°ç»„, æ•°ç»„å…ƒç´ æŒ‰ç…§æ­£ç¡®çš„é¡ºåºã€‚åŸæ¥çš„æ•°ç»„å¹¶æ²¡æœ‰è¢«æ’åºæ–¹æ³•æ”¹å˜ã€‚</p>
<p>ä¸‹é¢çš„é—­åŒ…è¡¨è¾¾å¼ä½¿ç”¨ sorted(by:) æ–¹æ³•æŒ‰ç…§å­—æ¯è¡¨å€’åºæ’åˆ—ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ã€‚è¿™æ˜¯è¦æ’åºçš„åŸæ¥çš„æ•°ç»„:<br><code><br>let names = [â€œChrisâ€, â€œAlexâ€, â€œEwaâ€, â€œBarryâ€, â€œDaniellaâ€]<br></code><br>sorted(by:) æ–¹æ³•æ¥å—å¸¦æœ‰ä¸¤ä¸ªç›¸åŒç±»å‹å‚æ•°çš„é—­åŒ…,ä½œä¸ºæ•°ç»„çš„å†…å®¹ã€‚ç„¶åè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼,æ¥è¯´æ˜æ’åºåç¬¬ä¸€ä¸ªå€¼æ˜¯å‡ºç°åœ¨ç¬¬äºŒä¸ªå€¼çš„å‰é¢è¿˜æ˜¯åé¢ã€‚</p>
<p>è¿™ä¸ªä¾‹å­æ˜¯æ’åºä¸€ä¸ªå­—ç¬¦ä¸²å€¼çš„æ•°ç»„, æ‰€ä»¥æ’åºé—­åŒ…éœ€è¦æ˜¯ä¸€ä¸ªå‡½æ•°ç±»å‹ (String, String) -&gt; Bool.</p>
<p>æä¾›æ’åºé—­åŒ…çš„ä¸€ä¸ªæ–¹å¼æ˜¯å†™ä¸€ä¸ªæ­£ç¡®ç±»å‹çš„å‡½æ•°, ç„¶åæŠŠå®ƒä½œä¸ºå‚æ•°ä¼ ç»™ sorted(by:) æ–¹æ³•:<br><code><br>func backward(<em> s1: String, </em> s2: String) -&gt; Bool {<br>    return s1 &gt; s2<br>}</code></p>
<p>var reversedNames = names.sorted(by: backward)<br>// reversedNames is equal to [â€œEwaâ€, â€œDaniellaâ€, â€œChrisâ€, â€œBarryâ€, â€œAlexâ€]<br><br>å¦‚æœç¬¬ä¸€ä¸ªå­—ç¬¦ä¸² (s1) å¤§äºç¬¬äºŒä¸ªå­—ç¬¦ä¸² (s2), backward(<em>:</em>:) å‡½æ•°è¿”å›çœŸ, è¡¨æ˜åœ¨æ’åºåæ•°ç»„ä¸­ s1 åº”è¯¥å‡ºç°åœ¨ s2 å‰é¢ã€‚ å¯¹äºå­—ç¬¦ä¸²ä¸­å­—ç¬¦, â€œå¤§äºâ€ æ„æ€æ˜¯ â€œå­—æ¯è¡¨ä¸­å‡ºç°è¾ƒæ™šâ€ã€‚ ä¹Ÿå°±è¯´å­—æ¯ â€œBâ€ å¤§äºå­—æ¯ â€œAâ€, å­—ç¬¦ä¸²â€Tomâ€ å¤§äºå­—ç¬¦ä¸² â€œTimâ€. è¿™æ˜¯æä¾›äº†ä¸€ä¸ªå­—æ¯è¡¨çš„å€’åº, â€œBarryâ€ æ’åœ¨ â€œAlexâ€å‰é¢, ç­‰ç­‰ã€‚</p>
<p>ä¸è¿‡, è¿™ç§å†™æ³•å¾ˆå†—é•¿,å®ƒæœ¬è´¨ä¸Šæ˜¯ä¸ªå•ä¸€è¡¨è¾¾å¼å‡½æ•° (a &gt; b). è¿™ä¸ªä¾‹å­é‡Œ, å†™æˆå†…è”æ’åºé—­åŒ…æ›´å¯å–, ä½¿ç”¨é—­åŒ…è¡¨è¾¾å¼è¯­æ³•ã€‚</p>
<h1 id="é—­åŒ…è¡¨è¾¾å¼è¯­æ³•"><a href="#é—­åŒ…è¡¨è¾¾å¼è¯­æ³•" class="headerlink" title="é—­åŒ…è¡¨è¾¾å¼è¯­æ³•"></a>é—­åŒ…è¡¨è¾¾å¼è¯­æ³•</h1><p>é—­åŒ…è¡¨è¾¾å¼ä¸€èˆ¬æ˜¯ä¸‹é¢è¿™ç§å½¢å¼:<br><code><br>{ (parameters) -&gt; return type in<br>    statements<br>}<br></code><br>é—­åŒ…è¡¨è¾¾å¼è¯­æ³•å‚æ•°å¯ä»¥æ˜¯è¾“å…¥è¾“å‡ºå‚æ•°, ä½†æ˜¯å®ƒä»¬ä¸èƒ½æœ‰é»˜è®¤å€¼ã€‚ å¦‚æœä½ å‘½åå¯å˜å‚æ•°,é‚£ä¹ˆå¯å˜å‚æ•°ä¹Ÿæ˜¯å¯ä»¥ç”¨çš„ã€‚å…ƒç»„ä¹Ÿå¯ä»¥ç”¨ä½œå‚æ•°å’Œè¿”å›ç±»å‹ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†ä¹‹å‰ backward(<em>:</em>:) å‡½æ•°çš„é—­åŒ…è¡¨è¾¾å¼ç‰ˆæœ¬:<br><code><br>reversedNames = names.sorted(by: { (s1: String, s2: String) -&gt; Bool in<br>    return s1 &gt; s2<br>})<br></code><br>å†…è”é—­åŒ…çš„å‚æ•°å’Œè¿”å›ç±»å‹å£°æ˜è·Ÿbackward(<em>:</em>:)å‡½æ•°çš„å£°æ˜ä¸€æ ·ã€‚ä¸¤ç§æƒ…å†µä¸‹, å®ƒå†™ä½œ (s1: String, s2: String) -&gt; Bool. ä¸è¿‡, å¯¹äºå†…è”é—­åŒ…è¡¨è¾¾å¼, å‚æ•°å’Œè¿”å›ç±»å‹éƒ½å†™ä½œèŠ±æ‹¬å·é‡Œ,è€Œä¸æ˜¯å¤–éƒ¨ã€‚</p>
<p>é—­åŒ…ä½“ä»¥å…³é”®å­—in å¼€å§‹ã€‚è¿™ä¸ªå…³é”®è¯çš„æ„æ€æ˜¯é—­åŒ…å‚æ•°å’Œè¿”å›ç±»å‹çš„å®šä¹‰å®Œæˆäº†, é—­åŒ…ä½“å¼€å§‹äº†ã€‚</p>
<p>å› ä¸ºé—­åŒ…ä½“å¤ªçŸ­, å®ƒç”šè‡³å¯ä»¥å†™æˆä¸€è¡Œ:<br><code><br>reversedNames = names.sorted(by: { (s1: String, s2: String) -&gt; Bool in return s1 &gt; s2 } )</code><br>è¿™ä¸ªè¯´æ˜ sorted(by:) æ–¹æ³•è°ƒç”¨è¿˜æ˜¯ä¸€æ ·çš„ã€‚ä¸€å¯¹æ‹¬å·åŒ…æ‹¬æ–¹æ³•çš„æ‰€æœ‰å‚æ•°ã€‚ åªä¸è¿‡,ç°åœ¨å‚æ•°åœ¨ä¸€ä¸ªå†…è”é—­åŒ…é‡Œã€‚</p>
<h1 id="æ ¹æ®ä¸Šä¸‹æ–‡æ¨æ–­ç±»å‹"><a href="#æ ¹æ®ä¸Šä¸‹æ–‡æ¨æ–­ç±»å‹" class="headerlink" title="æ ¹æ®ä¸Šä¸‹æ–‡æ¨æ–­ç±»å‹"></a>æ ¹æ®ä¸Šä¸‹æ–‡æ¨æ–­ç±»å‹</h1><p>ç”±äºæ’åºé—­åŒ…ä½œä¸ºå‚æ•°ä¼ ç»™å‡½æ•°, Swift å¯ä»¥æ¨æ–­å®ƒçš„å‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹ã€‚sorted(by:) æ–¹æ³•è¢«å­—ç¬¦ä¸²æ•°ç»„è°ƒç”¨, æ‰€ä»¥å®ƒçš„å‚æ•°ç±»å‹æ˜¯ä¸€ä¸ªå‡½æ•°ç±»å‹ (String, String) -&gt; Bool. è¿™å°±æ˜¯è¯´ (String, String) å’Œ Bool ç±»å‹æ— éœ€å†™å‡ºæ¥ä½œä¸ºé—­åŒ…è¡¨è¾¾å¼å®šä¹‰çš„ä¸€éƒ¨åˆ†ã€‚å› ä¸ºæ‰€æœ‰çš„ç±»å‹éƒ½å¯ä»¥æ¨æ–­, è¿”å›ç®­å¤´ (-&gt;) å’Œå‚æ•°åå­—å¤–çš„æ‹¬å·éƒ½å¯ä»¥è¢«å¿½ç•¥:<br><code><br>reversedNames = names.sorted(by: { s1, s2 in return s1 &gt; s2 } )</code><br>å½“æŠŠé—­åŒ…ä¼ ç»™ä¸€ä¸ªå‡½æ•°æˆ–è€…æ–¹æ³•ä½œä¸ºå†…è”é—­åŒ…è¡¨è¾¾å¼æ—¶,æ€»æ˜¯å¯èƒ½è¦æ¨æ–­å‚æ•°ç±»å‹å’Œè¿”å›ç±»å‹ã€‚ç»“æœæ˜¯, ä¸€æ—¦è¿™ä¸ªé—­åŒ…ç”¨ä½œå‡½æ•°æˆ–è€…æ–¹æ³•å‚æ•°,ä½ å°±ä¸éœ€è¦ç”¨å®Œæ•´çš„å½¢å¼ä¹¦å†™å†…è”é—­åŒ…ã€‚</p>
<p>å°½ç®¡å¦‚æ­¤, å¦‚æœä½ æƒ³ä½ ä¾ç„¶å¯ä»¥æ˜¾å¼è¯´æ˜ç±»å‹, å¦‚æœå¯ä»¥é¿å…ä»£ç çš„äºŒä¹‰æ€§,è¿™æ ·åšæ˜¯é¼“åŠ±çš„ã€‚sorted(by:) æ–¹æ³•è¿™ç§æƒ…å†µ, é—­åŒ…çš„ç›®çš„å¾ˆæ¸…æ™°,å°±æ˜¯æ’åºã€‚è¯»è€…å‡è®¾è¿™ä¸ªé—­åŒ…å¯èƒ½ä½œç”¨äºå­—ç¬¦ä¸²å€¼æ˜¯å®‰å…¨çš„ã€‚å› ä¸ºå®ƒå¸®åŠ©å­—ç¬¦ä¸²æ•°ç»„çš„æ’åºã€‚</p>
<h1 id="ä»å•ä¸€è¡¨è¾¾å¼é—­åŒ…éšå¼è¿”å›"><a href="#ä»å•ä¸€è¡¨è¾¾å¼é—­åŒ…éšå¼è¿”å›" class="headerlink" title="ä»å•ä¸€è¡¨è¾¾å¼é—­åŒ…éšå¼è¿”å›"></a>ä»å•ä¸€è¡¨è¾¾å¼é—­åŒ…éšå¼è¿”å›</h1><p>é€šè¿‡å¿½ç•¥å£°æ˜çš„è¿”å›å…³é”®å­—,å•ä¸€è¡¨è¾¾å¼é—­åŒ…å¯ä»¥éšå¼è¿”å›å®ƒä»¬å•ä¸€è¡¨è¾¾å¼çš„ç»“æœ, å°±åƒå‰ä¸€ä¸ªä¾‹å­çš„ç‰ˆæœ¬:<br><code><br>reversedNames = names.sorted(by: { s1, s2 in s1 &gt; s2 } )</code><br>è¿™é‡Œ, sorted(by:) å‡½æ•°çš„æ–¹æ³•å‚æ•°æ¸…æ™°è¡¨æ˜é—­åŒ…è¦è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚å› ä¸ºé—­åŒ…ä½“åŒ…å«äº†å•ä¸€è¡¨è¾¾å¼(s1 &gt; s2) ,è€Œä¸”è¿”å›å€¼æ˜¯å¸ƒå°”å€¼, è¿™é‡Œæ²¡æœ‰äºŒä¹‰æ€§, è€Œä¸”è¿”å›å€¼å¯ä»¥å¿½ç•¥ã€‚</p>
<h1 id="é€Ÿè®°å‚æ•°å"><a href="#é€Ÿè®°å‚æ•°å" class="headerlink" title="é€Ÿè®°å‚æ•°å"></a>é€Ÿè®°å‚æ•°å</h1><p>Swift è‡ªåŠ¨æä¾›é€Ÿè®°å‚æ•°åç»™å†…è”é—­åŒ…, å¯ä»¥ç”¨ $0, $1, $2, æ¥è°ƒç”¨é—­åŒ…å‚æ•°å€¼</p>
<p>å¦‚æœä½ åœ¨é—­åŒ…è¡¨è¾¾å¼ä½¿ç”¨è¿™äº›é€Ÿè®°å‚æ•°å, ä½ å¯ä»¥å¿½ç•¥é—­åŒ…å®šä¹‰çš„å‚æ•°åˆ—è¡¨å’Œä¸ªæ•°,ç„¶åé€Ÿè®°å‚æ•°åç±»å‹ä¼šè¢«æœŸæœ›çš„å‡½æ•°ç±»å‹æ¨æ–­å‡ºæ¥ã€‚ å…³é”®å­—in ä¹Ÿå¯ä»¥è¢«å¿½ç•¥, å› ä¸ºé—­åŒ…è¡¨è¾¾å¼ç”±å®ƒçš„æ•´ä¸ªåŒ…ä½“ç»„æˆã€‚<br><code><br>reversedNames = names.sorted(by: { $0 &gt; $1 } )</code><br>è¿™é‡Œ, $0 å’Œ $1 è°ƒç”¨é—­åŒ…çš„ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªå­—ç¬¦ä¸²å‚æ•°ã€‚</p>
<h1 id="è¿ç®—ç¬¦æ–¹æ³•"><a href="#è¿ç®—ç¬¦æ–¹æ³•" class="headerlink" title="è¿ç®—ç¬¦æ–¹æ³•"></a>è¿ç®—ç¬¦æ–¹æ³•</h1><p>è¿™é‡Œå…¶å®æœ‰ä¸€ä¸ªæ›´çŸ­çš„æ–¹å¼å»å†™ä¸Šé¢çš„é—­åŒ…ã€‚ Swift çš„å­—ç¬¦ä¸²ç±»å‹å®šä¹‰äº†å®ƒç‰¹æœ‰çš„å¤§äºå·çš„å®ç°, æ˜¯å¸¦æœ‰ä¸¤ä¸ªå­—ç¬¦ä¸²ç±»å‹å‚æ•°çš„æ–¹æ³•,ç„¶åè¿”å›ä¸€ä¸ªå¸ƒå°”ç±»å‹ã€‚è¿™å¾ˆç¬¦åˆ the sorted(by:) æ–¹æ³•çš„ç±»å‹éœ€è¦ã€‚å› æ­¤, ä½ å¯ä»¥ç®€å•çš„ä¼ å…¥å¤§äºå·, ç„¶å Swift ä¼šæ¨æ–­ä½ æƒ³è¦ç”¨å®ƒçš„å­—ç¬¦ä¸²ç‰¹æœ‰çš„å®ç°:<br><code><br>reversedNames = names.sorted(by: &gt;)</code></p>
<h1 id="å°¾é—­åŒ…"><a href="#å°¾é—­åŒ…" class="headerlink" title="å°¾é—­åŒ…"></a>å°¾é—­åŒ…</h1><p>å¦‚æœä½ éœ€è¦ä¼ ç»™å‡½æ•°ä¸€ä¸ªé—­åŒ…è¡¨è¾¾å¼ä½œä¸ºæœ€åçš„å‚æ•°å¹¶ä¸”é—­åŒ…è¡¨è¾¾å¼å¾ˆé•¿çš„è¯, ç”¨å°¾é—­åŒ…ä»£æ›¿æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚å°¾é—­åŒ…å†™åœ¨å‡½æ•°è°ƒç”¨çš„æ‹¬å·åé¢, å°½ç®¡å®ƒä¾ç„¶æ˜¯å‡½æ•°çš„ä¸€ä¸ªå‚æ•°ã€‚ å½“ä½ ä½¿ç”¨å°¾é—­åŒ…è¯­æ³•æ—¶, ä½œä¸ºå‡½æ•°è°ƒç”¨éƒ¨åˆ†,ä½ ä¸è¦ç»™é—­åŒ…å†™å‚æ•°æ ‡ç­¾ã€‚<br><code><br>func someFunctionThatTakesAClosure(closure: () -&gt; Void) {<br>    // function body goes here<br>}</code></p>
<p>// ä¸ä½¿ç”¨å°¾é—­åŒ…è°ƒç”¨å‡½æ•°:</p>
<p>someFunctionThatTakesAClosure(closure: {<br>    // closureâ€™s body goes here<br>})</p>
<p>// ä½¿ç”¨å°¾é—­åŒ…è°ƒç”¨å‡½æ•°:</p>
<p>someFunctionThatTakesAClosure() {<br>    // trailing closureâ€™s body goes here<br>}<br><br>å­—ç¬¦ä¸²æ’åºé—­åŒ…ä¹Ÿå¯ä»¥ä½¿ç”¨å°¾é—­åŒ…:<br><code><br>reversedNames = names.sorted() { $0 &gt; $1 }</code><br>å¦‚æœé—­åŒ…è¡¨è¾¾å¼æ˜¯ä½œä¸ºå‡½æ•°æˆ–è€…æ–¹æ³•çš„å”¯ä¸€å‚æ•°,å¹¶ä¸”ä½ ä½¿ç”¨è¿™ä¸ªè¡¨è¾¾å¼ä½œä¸ºå°¾é—­åŒ…çš„è¯, ä½ è°ƒç”¨è¿™ä¸ªå‡½æ•°çš„æ—¶å€™å¯ä»¥ä¸ç”¨åœ¨å‡½æ•°ååå†™æ‹¬å·:<br><code><br>reversedNames = names.sorted { $0 &gt; $1 }</code><br>å½“é—­åŒ…å¤ªé•¿æ— æ³•å†™æˆå†…è”å•è¡Œçš„æ—¶å€™, ä½¿ç”¨å°¾é—­åŒ…æ˜¯æœ€æœ‰ç”¨çš„ã€‚æœ‰ä¸€ä¸ªä¾‹å­, Swift æ•°ç»„ç±»å‹æœ‰ä¸ªæ–¹æ³• map(_:) ,å¸¦æœ‰ä¸€ä¸ªé—­åŒ…è¡¨è¾¾å¼ä½œä¸ºå®ƒçš„å•ä¸€å‚æ•°ã€‚æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹éƒ½ä¼šè°ƒç”¨å®ƒä¸€æ¬¡, ä¸ºæ¯é¡¹è¿”å›ä¸€ä¸ªæ›¿ä»£æ˜ å°„å€¼ (å¯èƒ½æ˜¯å…¶ä»–ç±»å‹)ã€‚æ˜ å°„çš„æ€§è´¨å’Œè¿”å›å€¼çš„ç±»å‹ç”±é—­åŒ…å†³å®šã€‚</p>
<p>å¯¹æ¯ä¸ªæ•°ç»„å…ƒç´ åº”ç”¨æä¾›çš„é—­åŒ…å, map(_:) æ–¹æ³•è¿”å›åŒ…å«æ–°çš„æ˜ å°„å€¼çš„æ–°æ•°ç»„, å’ŒåŸæœ‰æ•°ç»„å¯¹åº”å€¼çš„é¡ºåºä¸€è‡´ã€‚</p>
<p>è¿™é‡Œå±•ç¤ºä½¿ç”¨å¸¦å°¾é—­åŒ…çš„ map(_:) æ–¹æ³•å¦‚ä½•æŠŠæ•´å‹å€¼æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²å€¼æ•°ç»„ã€‚æ•°ç»„ [16, 58, 510] ç”¨æ¥åˆ›å»ºæ–°æ•°ç»„ [â€œOneSixâ€, â€œFiveEightâ€, â€œFiveOneZeroâ€]:<br><code><br>let digitNames = [<br>    0: â€œZeroâ€, 1: â€œOneâ€, 2: â€œTwoâ€,   3: â€œThreeâ€, 4: â€œFourâ€,<br>    5: â€œFiveâ€, 6: â€œSixâ€, 7: â€œSevenâ€, 8: â€œEightâ€, 9: â€œNineâ€<br>]<br>let numbers = [16, 58, 510]</code><br>ä¸Šé¢çš„ä»£ç åˆ›å»ºäº†ä¸€ä¸ªå­—å…¸,åœ¨æ•´æ•°å­—å’Œè‹±æ–‡åä¹‹é—´å»ºç«‹è¿ç¥ã€‚åŒæ—¶å®šä¹‰äº†ä¸€ä¸ªæ•´æ•°æ•°ç»„, å‡†å¤‡è½¬æ¢ä¸ºå­—ç¬¦ä¸²æ•°ç»„ã€‚</p>
<p>ç°åœ¨ä½ å¯ä»¥ç”¨è¿™ä¸ªæ•°å­—æ•°ç»„æ¥åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„, æŠŠé—­åŒ…è¡¨è¾¾å¼ä½œä¸ºå°¾é—­åŒ…ä¼ å…¥æ•°ç»„çš„ map(<em>:) æ–¹æ³•å³å¯:<br><code><br>let strings = numbers.map {<br>    (number) -&gt; String in<br>    var number = number<br>    var output = â€œâ€<br>    repeat {<br>        output = digitNames[number % 10]! + output<br>        number /= 10<br>    } while number &gt; 0<br>    return output<br>}<br>// strings is inferred to be of type [String]<br>// its value is [â€œOneSixâ€, â€œFiveEightâ€, â€œFiveOneZeroâ€]<br></code><br>æ•°ç»„æ¯ä¸ªå…ƒç´ è°ƒç”¨ä¸€æ¬¡ map(</em>:) æ–¹æ³•ã€‚ ä½ ä¸éœ€è¦æŒ‡å®šé—­åŒ…è¾“å…¥å‚æ•°çš„ç±»å‹, number, å› ä¸ºè¿™ä¸ªå€¼å¯ä»¥è¢«æ¨æ–­å‡ºæ¥ã€‚</p>
<p>è¿™ä¸ªä¾‹å­é‡Œ, å˜é‡ number ç”¨é—­åŒ…çš„ number å‚æ•°å€¼æ¥åˆå§‹åŒ–, æ‰€ä»¥è¿™ä¸ªå€¼å¯ä»¥åœ¨é—­åŒ…ä¸­ä¿®æ”¹ã€‚ (å‡½æ•°å’Œé—­åŒ…çš„å‚æ•°æ€»æ˜¯å¸¸é‡çš„) é—­åŒ…è¡¨è¾¾å¼æŒ‡å®šäº†ä¸€ä¸ªå­—ç¬¦ä¸²è¿”å›å€¼ç±»å‹, æ¥è¯´æ˜å­˜å‚¨åœ¨æ˜ å°„è¾“å‡ºæ•°ç»„ä¸­çš„ç±»å‹ã€‚</p>
<p>æ¯æ¬¡è°ƒç”¨é—­åŒ…è¡¨è¾¾å¼åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸² output. å®ƒä½¿ç”¨ä½™æ•°è¿ç®—ç¬¦ç»“ç®—æ•°å­—çš„æœ€åä¸€ä½ (number % 10), ç„¶åç”¨è¿™ä¸ªä½å»å­—å…¸ä¸­æŸ¥æ‰¾å¯¹åº”çš„å­—ç¬¦ä¸²ã€‚è¿™ä¸ªé—­åŒ…å¯ä»¥ç”¨æ¥åˆ›å»ºä»»ä½•å¤§äº0æ•°å­—çš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚</p>
<p>å¤‡æ³¨</p>
<p>è°ƒç”¨å­—å…¸ä¸‹æ ‡åé¢è·Ÿç€æ„Ÿå¹å· (!), å› ä¸ºå­—å…¸ä¸‹æ ‡è¿”å›ä¸€ä¸ªå¯é€‰å€¼æ¥è¡¨ç¤ºå¦‚æœé”®ä¸å­˜åœ¨æŸ¥æ‰¾å°±ä¼šå¤±è´¥ã€‚ä¸Šé¢çš„ä¾‹å­é‡Œ, å¯ä»¥ä¿è¯æ¯æ¬¡èƒ½æ‰¾åˆ°æœ‰æ•ˆçš„ä¸‹æ ‡é”®, æ‰€ä»¥æ„Ÿå¹å·ç”¨æ¥å¼ºåˆ¶è§£åŒ…å­˜åœ¨çš„å€¼ã€‚</p>
<p>ä»å­—å…¸è·å–çš„å­—ç¬¦ä¸²ä¼šåŠ åˆ° output å‰, æœ‰æ•ˆçš„å»ºç«‹äº†å€’åºçš„æ•°å­—å­—ç¬¦ä¸²ç‰ˆæœ¬ã€‚</p>
<p>ç„¶åæ•°å­—å˜é‡é™¤ä»¥10, å› ä¸ºå®ƒæ˜¯ä¸€ä¸ªæ•´æ•°, å› ä¸ºå–æ•´æ•°å€, æ‰€ä»¥ 16 å˜æˆ 1, 58 å˜æˆ 5, 510 å˜æˆ 51.</p>
<p>è¿™ä¸ªè¿‡ç¨‹ç›´åˆ°nubmerç­‰äº0, è¿™æ—¶é—­åŒ…è¿”å›è¾“å‡ºå­—ç¬¦ä¸², ç„¶åé€šè¿‡ map(_:) æ–¹æ³•æ·»åŠ åˆ°æ•°ç»„ã€‚</p>
<p>ä¸Šä¾‹å°¾é—­åŒ…è¯­æ³•çš„ä½¿ç”¨,å®Œæ•´å°è£…äº†é—­åŒ…çš„åŠŸèƒ½ã€‚ä¸è¦æŠŠæ•´ä¸ªé—­åŒ…åŒ…å«åœ¨ map(_:) æ–¹æ³•çš„method å¤–é¢æ‹¬å¼§é‡Œã€‚</p>
<h1 id="æ•è·å€¼"><a href="#æ•è·å€¼" class="headerlink" title="æ•è·å€¼"></a>æ•è·å€¼</h1><p>é—­åŒ…å¯ä»¥åœ¨å…¶å®šä¹‰çš„ä¸Šä¸‹æ–‡ä¸­æ•è·å¸¸é‡å’Œå˜é‡å€¼ã€‚é—­åŒ…å¯ä»¥åœ¨åŒ…ä½“å†…è°ƒç”¨å’Œä¿®æ”¹è¿™äº›å¸¸é‡å’Œå˜é‡å€¼, å³ä½¿å®šä¹‰å¸¸é‡å’Œå˜é‡çš„åŸæ¥çš„èŒƒå›´ä¸å­˜åœ¨äº†ã€‚</p>
<p>åœ¨ Swift ä¸­, å¯ä»¥æ•è·å€¼çš„æœ€ç®€å•çš„é—­åŒ…å½¢å¼æ˜¯ä¸€ä¸ªå†…åµŒå‡½æ•°, å†™åœ¨å¦å¤–ä¸€ä¸ªå‡½æ•°ä½“å†…ã€‚ å†…åµŒå‡½æ•°å¯ä»¥æ•è·å®ƒå¤–éƒ¨å‡½æ•°çš„ä»»ä½•å‚æ•°,è€Œä¸”å¯ä»¥æ•è·å®šä¹‰åœ¨å¤–éƒ¨å‡½æ•°çš„ä»»ä½•å¸¸é‡å’Œå˜é‡ã€‚</p>
<p>è¿™é‡Œæœ‰å‡½æ•°å®ä¾‹ makeIncrementer, åŒ…å«äº†ä¸€ä¸ªå†…åµŒå‡½æ•° incrementer. å†…åµŒå‡½æ•°ä»å®ƒçš„ä¸Šä¸‹æ–‡ incrementer() æ•è·ä¸¤ä¸ªå€¼, runningTotal å’Œ amount. æ•è·è¿™ä¸¤ä¸ªå€¼ä»¥å, incrementer è¢« makeIncrementer ä½œä¸ºé—­åŒ…è¿”å›, è¿™ä¸ªé—­åŒ…æ¯æ¬¡è°ƒç”¨æ—¶ä¼šæŠŠ runningTotal å¢åŠ  amount.<br><code><br>func makeIncrementer(forIncrement amount: Int) -&gt; () -&gt; Int {<br>    var runningTotal = 0<br>    func incrementer() -&gt; Int {<br>        runningTotal += amount<br>        return runningTotal<br>    }<br>    return incrementer<br>}</code><br>makeIncrementer çš„è¿”å›ç±»å‹æ˜¯ () -&gt; Int. æ„æ€å°±æ˜¯è¿”å›ä¸€ä¸ªå‡½æ•°, è€Œä¸æ˜¯ä¸€ä¸ªç®€å•å€¼ã€‚è¿”å›çš„å‡½æ•°æ²¡æœ‰å‚æ•°, æ¯æ¬¡è°ƒç”¨æœ‰ä¸€ä¸ªæ•´å‹å€¼ã€‚</p>
<p>makeIncrementer(forIncrement:) å‡½æ•°å®šä¹‰äº†ä¸€ä¸ªæ•´å‹å˜é‡ runningTotal, ç”¨æ¥ä¿å­˜incrementer è¿”å›çš„å¢åŠ çš„æ€»æ­¥æ•°ã€‚è¿™ä¸ªå˜é‡åˆå§‹åŒ–å€¼æ˜¯ 0.</p>
<p>makeIncrementer(forIncrement:) æœ‰ä¸€ä¸ªæ•´å‹å‚æ•°å¸¦æœ‰forIncrement æ ‡ç­¾, å’Œä¸€ä¸ªå˜é‡å amount. è¿™ä¸ªå‚æ•°ä¼ ç»™æŒ‡å®š runningTotal åº”è¯¥å¢åŠ å¤šå°‘æ­¥æ•°ã€‚makeIncrementer å®šä¹‰äº†ä¸€ä¸ªå†…åµŒå‡½æ•°incrementer, ç”¨æ¥æ‰§è¡Œå®é™…çš„é€’å¢æ“ä½œã€‚ è¿™ä¸ªå‡½æ•°ç®€å•æŠŠ amount åŠ åˆ° runningTotal ä¸Šå»ç„¶åè¿”å›ç»“æœã€‚</p>
<p>å•ç‹¬æ‹¿å‡ºæ¥, å†…åµŒå‡½æ•° incrementer() ä¸å¤ªå¯»å¸¸:<br><code><br>func incrementer() -&gt; Int {<br>    runningTotal += amount<br>    return runningTotal<br>}</code><br>incrementer() å‡½æ•°æ²¡æœ‰ä»»ä½•å‚æ•°, ç„¶è€Œå®ƒä»å‡½æ•°ä½“å†…éƒ¨è°ƒç”¨runningTotal å’Œ amountã€‚ å®ƒä»åŒ…å›´å®ƒçš„å‡½æ•°é‡Œæ•è· runningTotal å’Œ amount. å¼•ç”¨æ•è·ç¡®ä¿ runningTotal å’Œ amount åœ¨è°ƒç”¨ makeIncrementer ç»“æŸåä¸ä¼šæ¶ˆå¤±, ä¹Ÿç¡®ä¿äº† runningTotal åœ¨ä¸‹ä¸€æ¬¡è°ƒç”¨ incrementer å‡½æ•°æ—¶ä¾ç„¶æœ‰æ•ˆã€‚</p>
<p>å¤‡æ³¨</p>
<p>ä½œä¸ºä¸€ä¸ªä¼˜åŒ–, å¦‚æœé—­åŒ…ä¿®æ”¹ä¸€ä¸ªå€¼, è€Œä¸”é—­åŒ…åˆ›å»ºåè¿™ä¸ªå€¼æ²¡æœ‰æ”¹å˜çš„è¯,Swift å¯èƒ½ä¼šä¸ä¼šæ•è·å’Œä¿å­˜è¿™ä¸ªå€¼çš„å‰¯æœ¬ã€‚</p>
<p>Swift åŒæ—¶å¤„ç†äº†å˜é‡é‡Šæ”¾åçš„æ‰€æœ‰çš„å†…å­˜ç®¡ç†ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸€ä¸ª makeIncrementer æ´»åŠ¨çš„ä¾‹å­:<br><code><br>let incrementByTen = makeIncrementer(forIncrement: 10)</code><br>è¿™ä¸ªä¾‹å­è®¾ç½®äº†ä¸€ä¸ªå¸¸é‡ incrementByTen,å®ƒè°ƒç”¨å¢é‡å™¨å‡½æ•°,è¿™ä¸ªå‡½æ•°æ¯æ¬¡è°ƒç”¨æŠŠ runningTotal å˜é‡åŠ 10. å¤šæ¬¡è°ƒç”¨æ•ˆæœå¦‚ä¸‹:<br><code><br>incrementByTen()<br>// returns a value of 10<br>incrementByTen()<br>// returns a value of 20<br>incrementByTen()<br>// returns a value of 30<br></code><br>å¦‚æœä½ å†åˆ›å»ºä¸€ä¸ªå¢é‡å™¨, å®ƒä¼šæœ‰è‡ªå·±æ–°çš„å•ç‹¬çš„runningTotal å˜é‡:<br><code><br>let incrementBySeven = makeIncrementer(forIncrement: 7)<br>incrementBySeven()<br>// returns a value of 7<br></code><br>è°ƒç”¨åŸå…ˆçš„å¢é‡å™¨(incrementByTen) ç»§ç»­å¢åŠ å®ƒçš„ runningTotal å˜é‡, ä¸ä¼šå½±å“ incrementBySeven æ•è·çš„å˜é‡:<br><code><br>incrementByTen()<br>// returns a value of 40</code><br>å¤‡æ³¨</p>
<p>å¦‚æœä½ æŠŠé—­åŒ…èµ‹å€¼ç»™ä¸€ä¸ªç±»å®ä¾‹çš„å±æ€§, ç„¶åé—­åŒ…ä¼šé€šè¿‡å¼•ç”¨è¿™ä¸ªå®ä¾‹æˆ–è€…å®ƒçš„æˆå‘˜æ¥æ•è·è¿™ä¸ªå®ä¾‹ã€‚ä½ å°†åœ¨é—­åŒ…å’Œå®ä¾‹ä¹‹é—´å»ºç«‹ä¸€ä¸ªå¼ºå¼•ç”¨å¾ªç¯ã€‚ Swift ä½¿ç”¨æ•è·åˆ—è¡¨æ¥æ‰“ç ´è¿™ç§å¼ºå¼•ç”¨å¾ªç¯ã€‚</p>
<h1 id="é—­åŒ…æ˜¯å¼•ç”¨ç±»å‹"><a href="#é—­åŒ…æ˜¯å¼•ç”¨ç±»å‹" class="headerlink" title="é—­åŒ…æ˜¯å¼•ç”¨ç±»å‹"></a>é—­åŒ…æ˜¯å¼•ç”¨ç±»å‹</h1><p>ä¸Šé¢çš„ä¾‹å­, incrementBySeven å’Œ incrementByTen éƒ½æ˜¯å¸¸é‡, ä½†æ˜¯è¿™äº›å¸¸é‡å¼•ç”¨çš„é—­åŒ…ä¾ç„¶å¯ä»¥æ”¹å˜å®ƒä»¬å·²ç»æ•è·çš„ runningTotal å˜é‡ã€‚ è¿™æ˜¯å› ä¸ºå‡½æ•°å’Œé—­åŒ…æ˜¯å¼•ç”¨ç±»å‹ã€‚</p>
<p>æ¯å½“ä½ èµ‹å€¼å‡½æ•°æˆ–è€…é—­åŒ…ç»™ä¸€ä¸ªå¸¸é‡æˆ–è€…å˜é‡, å®é™…ä¸Šä½ æ˜¯è®¾ç½®å¸¸é‡æˆ–è€…å˜é‡å»å¼•ç”¨å‡½æ•°æˆ–è€…é—­åŒ…ã€‚ä¸Šé¢çš„ä¾‹å­, incrementByTen å¼•ç”¨çš„é—­åŒ…é€‰æ‹©æ˜¯å¸¸é‡, è€Œä¸æ˜¯é—­åŒ…æœ¬èº«çš„å†…å®¹ã€‚</p>
<p>è¿™ä¹Ÿæ„å‘³ç€å¦‚æœä½ æŠŠä¸€ä¸ªé—­åŒ…èµ‹å€¼ç»™ä¸¤ä¸ªä¸åŒçš„å¸¸é‡æˆ–è€…å˜é‡,å®ƒä»¬å¼•ç”¨çš„æ˜¯ç›¸åŒçš„é—­åŒ…:<br><code><br>let alsoIncrementByTen = incrementByTen<br>alsoIncrementByTen()<br>// returns a value of 50<br></code></p>
<h1 id="é€ƒç¦»é—­åŒ…"><a href="#é€ƒç¦»é—­åŒ…" class="headerlink" title="é€ƒç¦»é—­åŒ…"></a>é€ƒç¦»é—­åŒ…</h1><p>é—­åŒ…è¢«ä¼ ç»™å‡½æ•°ä½œä¸ºå‚æ•°çš„äº‹æ®è¯´ä¼šé€ƒç¦», ä½†æ˜¯ä¼šåœ¨å‡½æ•°è¿”å›æ—¶è°ƒç”¨ã€‚ ä¸€æ—¦ä½ å®šä¹‰å¸¦æœ‰é—­åŒ…ä½œä¸ºå‚æ•°çš„å‡½æ•°, ä½ å¯ä»¥åœ¨å‚æ•°ç±»å‹å‰ä¹¦å†™ @escaping æ¥è¡¨ç¤ºè¿™ä¸ªé—­åŒ…å…è®¸é€ƒç¦»ã€‚</p>
<p>é—­åŒ…é€ƒç¦»çš„æ–¹å¼ä¹‹ä¸€æ˜¯,é€šè¿‡å­˜å‚¨åœ¨å®šä¹‰åœ¨å‡½æ•°å¤–éƒ¨çš„å˜é‡ä¸­ã€‚ä½œä¸ºä¸€ä¸ªä¾‹å­, å¾ˆå¤šå‡½æ•°ç”¨é—­åŒ…å‚æ•°ä½œä¸ºä¸€ä¸ªå®Œæˆå¤„ç†å™¨æ¥å¼‚æ­¥å·¥ä½œã€‚ ä»»åŠ¡å¼€å§‹æ—¶å‡½æ•°è¿”å›, ä½†æ˜¯å‡½æ•°å®Œæˆä¹‹å‰é—­åŒ…ä¸ä¼šè°ƒç”¨â€”è¿™ä¸ªé—­åŒ…éœ€è¦é€ƒç¦», åé¢å†è°ƒç”¨ã€‚ä¾‹å¦‚:<br><code><br>var completionHandlers: [() -&gt; Void] = []<br>func someFunctionWithEscapingClosure(completionHandler: @escaping () -&gt; Void) {<br>    completionHandlers.append(completionHandler)<br>}<br></code><br>someFunctionWithEscapingClosure(_:) å‡½æ•°æ¥å—ä¸€ä¸ªé—­åŒ…ä½œä¸ºå‚æ•°,å¹¶ä¸”æŠŠå®ƒæ·»åŠ åˆ°å¤–éƒ¨å®šä¹‰çš„æ•°ç»„ã€‚å¦‚æœä½ ä¸æŠŠè¿™ä¸ªå‚æ•°æ ‡è®°ä¸º @escaping, ä½ ä¼šæ”¶åˆ°ä¸€ä¸ªç¼–è¯‘é”™è¯¯ã€‚</p>
<p>æ ‡è®° @escaping æ„æ€æ˜¯ä½ å¿…é¡»åœ¨é—­åŒ…é‡Œæ˜¾å¼å¼•ç”¨selfã€‚ä¾‹å¦‚, ä¸‹é¢çš„ä»£ç , ä¼ ç»™ someFunctionWithEscapingClosure(<em>:) çš„é—­åŒ…æ˜¯ä¸€ä¸ªé€ƒç¦»é—­åŒ…, æ„æ€æ˜¯éœ€è¦æ˜¾å¼å¼•ç”¨selfã€‚ ç›¸å, ä¼ ç»™ someFunctionWithNonescapingClosure(</em>:) çš„é—­åŒ…æ˜¯éé€ƒç¦»çš„, æ„æ€æ˜¯å¯ä»¥éšå¼å¼•ç”¨self.<br><code><br>func someFunctionWithNonescapingClosure(closure: () -&gt; Void) {<br>    closure()<br>}</code></p>
<p>class SomeClass {<br>    var x = 10<br>    func doSomething() {<br>        someFunctionWithEscapingClosure { self.x = 100 }<br>        someFunctionWithNonescapingClosure { x = 200 }<br>    }<br>}</p>
<p>let instance = SomeClass()<br>instance.doSomething()<br>print(instance.x)<br>// Prints â€œ200â€</p>
<p>completionHandlers.first?()<br>print(instance.x)<br>// Prints â€œ100â€<br></p>
<h1 id="è‡ªåŠ¨é—­åŒ…"><a href="#è‡ªåŠ¨é—­åŒ…" class="headerlink" title="è‡ªåŠ¨é—­åŒ…"></a>è‡ªåŠ¨é—­åŒ…</h1><p>è‡ªåŠ¨é—­åŒ…æ˜¯è‡ªåŠ¨åˆ›å»ºçš„é—­åŒ…, å®ƒåŒ…å«äº†ä½œä¸ºå‚æ•°ä¼ å…¥å‡½æ•°çš„è¡¨è¾¾å¼ã€‚å®ƒæ²¡æœ‰ä»»ä½•å‚æ•°, å¹¶ä¸”è¢«è°ƒç”¨æ—¶, å®ƒä¼šè¿”å›è¡¨è¾¾å¼çš„å€¼ã€‚ è¿™ä¸ªè¯­æ³•ä¾¿åˆ©è®©ä½ å¯ä»¥å¿½ç•¥å‡½æ•°å‚æ•°çš„èŠ±æ‹¬å·,åªè¦å†™ä¸€ä¸ªæ­£å¸¸çš„è¡¨è¾¾å¼æ›¿ä»£æ˜¾å¼çš„é—­åŒ…ã€‚</p>
<p>è°ƒç”¨å¸¦æœ‰è‡ªåŠ¨é—­åŒ…çš„å‡½æ•°å¾ˆå¸¸è§, ä½†æ˜¯å®ç°é‚£ç§å‡½æ•°å´ä¸å¸¸è§ã€‚ä¾‹å¦‚, assert(condition:message:file:line:) å‡½æ•°ä¸ºå®ƒçš„ condition å’Œ message å‚æ•°å¸¦äº†ä¸€ä¸ªè‡ªåŠ¨é—­åŒ…; å®ƒçš„condition å‚æ•°åªåœ¨è°ƒè¯•æ¨¡å¼æ‰§è¡Œ, message å‚æ•°åˆ™åœ¨ condition æ˜¯å‡çš„æ—¶å€™æ‰§è¡Œã€‚</p>
<p>è‡ªåŠ¨é—­åŒ…è®©ä½ å»¶è¿Ÿæ‰§è¡Œ, ç›´åˆ°ä½ è°ƒç”¨é—­åŒ…å†…éƒ¨ä»£ç æ‰ä¼šè¿è¡Œã€‚å»¶è¿Ÿä½œç”¨å¯¹äºè¾¹ç•Œå½±å“å’Œæ˜‚è´µè®¡ç®—ä»£ç å¾ˆæœ‰ç”¨, å› ä¸ºå®ƒå¯ä»¥è®©æ§åˆ¶ä»£ç ä»€ä¹ˆæ—¶å€™æ‰§è¡Œã€‚ ä¸‹é¢çš„ä»£ç å±•ç¤ºé—­åŒ…çš„å»¶è¿Ÿæ‰§è¡Œã€‚<br><code><br>var customersInLine = [â€œChrisâ€, â€œAlexâ€, â€œEwaâ€, â€œBarryâ€, â€œDaniellaâ€]<br>print(customersInLine.count)<br>// Prints â€œ5â€</code></p>
<p>let customerProvider = { customersInLine.remove(at: 0) }<br>print(customersInLine.count)<br>// Prints â€œ5â€</p>
<p>print(â€œNow serving (customerProvider())!â€)<br>// Prints â€œNow serving Chris!â€<br>print(customersInLine.count)<br>// Prints â€œ4â€<br><br>å°½ç®¡ customersInLine æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ è¢«é—­åŒ…å†…çš„ä»£ç ç»™ç§»é™¤äº†, ä½†æ˜¯ç›´åˆ°è¿™ä¸ªé—­åŒ…å®é™…è¢«è°ƒç”¨,æ•°ç»„çš„å…ƒç´ æ‰ä¼šè¢«ç§»é™¤ã€‚å¦‚æœé—­åŒ…æ°¸ä¸è°ƒç”¨, é—­åŒ…å†…çš„è¡¨è¾¾å¼æ°¸è¿œä¸ä¼šæ‰§è¡Œ, ä¹Ÿå°±æ˜¯è¯´æ•°ç»„å…ƒç´ æ°¸ä¸ä¼šè¢«ç§»é™¤ã€‚æ³¨æ„ customerProvider ç±»å‹ä¸æ˜¯ String è€Œæ˜¯ () -&gt; Stringâ€”ä¸å¸¦å‚æ•°çš„å‡½æ•°åªæ˜¯è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p>
<p>å½“ä½ æŠŠé—­åŒ…ä¼ ç»™å‡½æ•°æ—¶,ä½ ä¼šå¾—åˆ°ç›¸åŒçš„å»¶è¿Ÿæ‰§è¡Œæ•ˆæœã€‚<br><code><br>// customersInLine is [â€œAlexâ€, â€œEwaâ€, â€œBarryâ€, â€œDaniellaâ€]<br>func serve(customer customerProvider: () -&gt; String) {<br>    print(â€œNow serving (customerProvider())!â€)<br>}<br>serve(customer: { customersInLine.remove(at: 0) } )<br>// Prints â€œNow serving Alex!â€<br></code><br>serve(customer:) å‡½æ•°æœ‰ä¸€ä¸ªæ˜¾å¼é—­åŒ…ç”¨æˆ·è¿”å›ä¸€ä¸ªç”¨æˆ·åã€‚ ä¸‹é¢ç‰ˆæœ¬çš„ serve(customer:) åšäº†ç›¸åŒçš„æ“ä½œ,ä¸è¿‡, ä¸æ˜¯æ¥å—ä¸€ä¸ªæ˜¾å¼é—­åŒ…, è€Œæ˜¯åœ¨å‚æ•°ç±»å‹å‰ç”¨äº† @autoclosure å±æ€§ã€‚ ç°åœ¨ä½ å¯ä»¥è°ƒç”¨è¿™ä¸ªå‡½æ•°,å¥½åƒä»–æ˜¯å¸¦æœ‰ä¸€ä¸ªString å‚æ•°è€Œä¸æ˜¯ä¸€ä¸ªé—­åŒ…ã€‚è¿™ä¸ªå‚æ•°ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºé—­åŒ…,å› ä¸º customerProvider å‚æ•°ç±»å‹å·²ç»æ ‡è®°ä¸º @autoclosure .<br><code><br>// customersInLine is [â€œEwaâ€, â€œBarryâ€, â€œDaniellaâ€]<br>func serve(customer customerProvider: @autoclosure () -&gt; String) {<br>    print(â€œNow serving (customerProvider())!â€)<br>}<br>serve(customer: customersInLine.remove(at: 0))<br>// æ‰“å° â€œNow serving Ewa!â€<br></code><br>å¤‡æ³¨</p>
<p>è¿‡åº¦ä½¿ç”¨è‡ªåŠ¨é—­åŒ…ä¼šè®©ä½ çš„ä»£ç å¾ˆéš¾ç†è§£ã€‚ ä¸Šä¸‹æ–‡å’Œå‡½æ•°åå­—åº”è¯¥è®©äººçŸ¥é“æ‰§è¡Œæ¨è¿Ÿäº†ã€‚</p>
<p>å¦‚æœä½ æƒ³è®©è‡ªåŠ¨é—­åŒ…å¯ä»¥é€ƒç¦», åŒæ—¶ä½¿ç”¨ @autoclosure å’Œ @escaping å±æ€§ã€‚<br><code><br>// customersInLine is [â€œBarryâ€, â€œDaniellaâ€]<br>var customerProviders: [() -&gt; String] = []<br>func collectCustomerProviders(_ customerProvider: @autoclosure @escaping () -&gt; String) {<br>    customerProviders.append(customerProvider)<br>}<br>collectCustomerProviders(customersInLine.remove(at: 0))<br>collectCustomerProviders(customersInLine.remove(at: 0))</code></p>
<p>print(â€œCollected (customerProviders.count) closures.â€)<br>// Prints â€œCollected 2 closures.â€<br>for customerProvider in customerProviders {<br>    print(â€œNow serving (customerProvider())!â€)<br>}<br>// æ‰“å° â€œNow serving Barry!â€<br>// æ‰“å° â€œNow serving Daniella!â€<br><br>ä¸Šé¢çš„ä»£ç , ä¸æ˜¯è°ƒç”¨ä½œä¸º customerProvider å‚æ•°çš„é—­åŒ…, collectCustomerProviders(_:) å‡½æ•°æ·»åŠ é—­åŒ…åˆ° customerProviders æ•°ç»„ã€‚ æ•°ç»„åœ¨å‡½æ•°å¤–éƒ¨å£°æ˜, æ„å‘³ç€å‡½æ•°è¿”å›åæ•°ç»„ä¸­çš„é—­åŒ…ä¼šæ‰§è¡Œã€‚ ç»“æœå°±æ˜¯, customerProvider å‚æ•°å€¼å¿…é¡»è¢«å…è®¸é€ƒç¦»å‡½æ•°èŒƒå›´ã€‚</p>
<h1 id="æšä¸¾"><a href="#æšä¸¾" class="headerlink" title="æšä¸¾"></a>æšä¸¾</h1><p>ä¸€ä¸ªæšä¸¾å®šä¹‰ä¸€ç»„ç›¸å…³çš„å¸¸è§ç±»å‹çš„å€¼, è®©ä½ åœ¨ä»£ç ä¸­ç”¨ä¸€ä¸ªç±»å‹å®‰å…¨çš„æ–¹å¼å·¥ä½œã€‚</p>
<p>å¦‚æœä½ ç†Ÿæ‚‰ C, ä½ å°±ä¼šçŸ¥é“ C æšä¸¾ä¼šç»™ç›¸å…³çš„åå­—èµ‹å€¼ä¸€ç»„æ•´å‹å€¼ã€‚ Swift ä¸­çš„ æšä¸¾æ›´åŠ çµæ´», ä¸éœ€è¦ç»™æ¯ä¸ªæšä¸¾åˆ†æ”¯èµ‹å€¼ã€‚ å¦‚æœæä¾›ä¸€ä¸ªå€¼ ( â€œrawâ€ å€¼), è¿™ä¸ªå€¼å¯ä»¥æ˜¯å­—ç¬¦ä¸²,å­—ç¬¦,æˆ–è€…ä»»æ„ä¸€ä¸ªæ•´å‹æˆ–è€…æµ®ç‚¹å‹çš„å€¼ã€‚</p>
<p>å¦å¤–, æšä¸¾çš„ä¸åŒåˆ†æ”¯å¯ä»¥æŒ‡å®šä»»ä½•ç±»å‹å¯¹åº”å€¼ã€‚å¾ˆåƒå…¶ä»–è¯­è¨€çš„ unions æˆ–è€… variants. ä½ å¯ä»¥å®šä¹‰ä¸€ä¸ªå¸¸è§çš„ç›¸å…³çš„caseé›†åˆæ¥ä½œä¸ºæšä¸¾çš„ä¸€éƒ¨åˆ†ã€‚æ¯éƒ¨åˆ†éƒ½æœ‰ç›¸åº”çš„å€¼å¯¹åº”å®ƒä»¬ã€‚</p>
<p>Swift çš„æšä¸¾æ˜¯ç¬¬ä¸€ç­‰ç±»å‹ã€‚å®ƒä»¬é‡‡ç”¨ä¼ ç»Ÿä¸Šåªæœ‰ç±»æ‰æ”¯æŒçš„å¤šç§ç‰¹æ€§, ä¾‹å¦‚è®¡ç®—å±æ€§æ¥æä¾›å…³äºæšä¸¾å½“å‰å€¼çš„é¢å¤–ä¿¡æ¯, å®ä¾‹æ–¹æ³•æ¥æä¾›æœ‰å…³æšä¸¾è¡¨ç¤ºå€¼çš„åŠŸèƒ½ã€‚æšä¸¾è¿˜å¯ä»¥ç”¨åˆå§‹åŒ–æ¥å®šä¹‰åˆå§‹åŒ–å€¼; å¯ä»¥æ‰©å¤§å®ƒä»¬åŸæœ‰å®ç°çš„åŠŸèƒ½; å¹¶ä¸”å¯ä»¥éµå®ˆåè®®å»æä¾›æ ‡å‡†åŠŸèƒ½ã€‚</p>
<h1 id="æšä¸¾è¯­æ³•"><a href="#æšä¸¾è¯­æ³•" class="headerlink" title="æšä¸¾è¯­æ³•"></a>æšä¸¾è¯­æ³•</h1><p>ç”¨enumå…³é”®å­—å¼•å…¥æšä¸¾,åœ¨å¤§æ‹¬å·ä¸­å®šä¹‰æ•´ä¸ªæšä¸¾:<br><code><br>enum SomeEnumeration {<br>    // enumeration definition goes here<br>}</code><br>è¿™é‡Œæœ‰ä¸ªæŒ‡å—è€…å››ä¸ªæ–¹ä½çš„ä¾‹å­:<br><code><br>enum CompassPoint {<br>    case north<br>    case south<br>    case east<br>    case west<br>}</code><br>å®šä¹‰åœ¨æšä¸¾ä¸­çš„å€¼å°±æ˜¯æšä¸¾case (æ¯”å¦‚ north, south, east, and west) ä½ å¯ä»¥ç”¨case å…³é”®ä¹‹æ¥å¼•å…¥æ–°çš„æšä¸¾case.</p>
<p>å¤‡æ³¨</p>
<p>ä¸åƒ C å’Œ Objective-C, Swift æšä¸¾caseåˆ›å»ºæ—¶ä¸è®¾ä¸€ä¸ªé»˜è®¤çš„æ•´æ•°å€¼ã€‚ä¸Šé¢çš„ CompassPoint ä¾‹å­, north, south, east å’Œ west ä¸ä¼šéšå¼ç­‰äº 0, 1, 2 å’Œ 3. ç›¸å, ä¸åŒçš„æšä¸¾case åœ¨å³æ–¹éƒ½æœ‰å€¼t, æœ‰ä¸€ä¸ªæ˜¾å¼å®šä¹‰çš„ CompassPoint ç±»å‹ã€‚</p>
<p>å¤šä¸ªcaseå¯ä»¥å‡ºç°åœ¨ä¸€è¡Œ,ç”¨é€—å·åˆ†å¼€:<br><code><br>enum Planet {<br>    case mercury, venus, earth, mars, jupiter, saturn, uranus, neptune<br>}</code><br>æ¯ä¸ªæšä¸¾å®šä¹‰å®šä¹‰äº†ä¸€ä¸ªå…¨æ–°çš„ç±»å‹ã€‚ åƒSwiftä¸­çš„å…¶ä»–ç±»å‹ä¸€æ ·,å®ƒä»¬çš„åå­— (æ¯”å¦‚ CompassPoint å’Œ Planet) åº”è¯¥ä»¥å¤§å†™å­—æ¯å¼€å§‹ã€‚ ç”¨å•æ•°åè€Œä¸æ˜¯å¤æ•°å:<br><code><br>var directionToHead = CompassPoint.west</code><br>directionToHead ç±»å‹åœ¨åˆå§‹åŒ–æ—¶æ¨æ–­ç±»å‹ã€‚åªè¦ directionToHead å£°æ˜ä¸º CompassPoint, ä½ å¯ä»¥ç”¨ä¸€ä¸ªçŸ­çš„ç‚¹è¯­æ³•æ¥ç»™å®ƒè®¾ç½®ä¸€ä¸ªä¸åŒçš„ CompassPoint å€¼:<br><code><br>directionToHead = .east</code><br>directionToHead ç±»å‹å·²ç»çŸ¥é“äº†, æ‰€ä»¥è®¾ç½®å€¼çš„æ—¶å€™å¯ä»¥ä¸¢æ‰ç±»å‹äº†ã€‚ä½¿ç”¨æ˜¾å¼ç±»å‹æšä¸¾å€¼æ—¶è¿™ä¸ªä¼šè®©ä»£ç é«˜åº¦å¯è¯»ã€‚</p>
<h1 id="ç”¨Switchè¯­å¥åŒ¹é…æšä¸¾å€¼"><a href="#ç”¨Switchè¯­å¥åŒ¹é…æšä¸¾å€¼" class="headerlink" title="ç”¨Switchè¯­å¥åŒ¹é…æšä¸¾å€¼"></a>ç”¨Switchè¯­å¥åŒ¹é…æšä¸¾å€¼</h1><p>ä½ å¯ä»¥ç”¨ä¸€ä¸ªswitchè¯­å¥æ¥åŒ¹é…å•ä¸ªæšä¸¾å€¼:<br><code><br>directionToHead = .south<br>switch directionToHead {<br>case .north:<br>    print(â€œLots of planets have a northâ€)<br>case .south:<br>    print(â€œWatch out for penguinsâ€)<br>case .east:<br>    print(â€œWhere the sun risesâ€)<br>case .west:<br>    print(â€œWhere the skies are blueâ€)<br>}<br>// æ‰“å° â€œWatch out for penguinsâ€<br></code><br>ä½ å¯ä»¥è¿™æ ·è§£è¯»ä»£ç :</p>
<p>â€œè€ƒå¯Ÿ directionToHead çš„å€¼ã€‚ç­‰äº .north, æ‰“å° â€œLots of planets have a northâ€. ç­‰äº .south, æ‰“å° â€œWatch out for penguinsâ€.â€</p>
<p>â€¦ç­‰ç­‰ã€‚</p>
<p>æ§åˆ¶æµé‡Œæè¿°è¿‡, switch è¯­å¥è€ƒå¯Ÿæšä¸¾case æ—¶ä¸€å®šè¦è¯¦å°½ã€‚ å¦‚æœ .west case å¿½ç•¥æ‰, ä»£ç ä¼šç¼–è¯‘ä¸è¿‡, å› ä¸ºå®ƒæ²¡æœ‰å®Œæ•´è€ƒå¯Ÿ CompassPoint æ‰€æœ‰case. è¦æ±‚è¯¦å°½ä¿è¯æšä¸¾caseä¸ä¼šè¢«ç–å¿½æ‰ã€‚</p>
<p>å¦‚æœæä¾›æ‰€æœ‰çš„case ä¸åˆé€‚, ä½ å¯ä»¥æä¾›ä¸€ä¸ªé»˜è®¤caseæ¥è¦†ç›–æ²¡æœ‰æ˜¾å¼æŒ‡æ˜çš„case:<br><code><br>let somePlanet = Planet.earth<br>switch somePlanet {<br>case .earth:<br>    print(â€œMostly harmlessâ€)<br>default:<br>    print(â€œNot a safe place for humansâ€)<br>}<br>// æ‰“å° â€œMostly harmlessâ€<br></code></p>
<h1 id="å…³è”å€¼"><a href="#å…³è”å€¼" class="headerlink" title="å…³è”å€¼"></a>å…³è”å€¼</h1><p>ä¸Šéƒ¨åˆ†å®ä¾‹å±•ç¤ºæšä¸¾caseæ˜¯ä¸€ä¸ªå®šä¹‰å€¼ï¼ˆç±»å‹å€¼ï¼‰ã€‚ ä½ å¯ä»¥æŠŠä¸€ä¸ªå¸¸é‡æˆ–è€…å˜é‡è®¾ç½®æˆ Planet.earth, ç„¶åç¨æ™šå†åˆ¤æ–­è¿™ä¸ªå€¼ã€‚ ä¸è¿‡, æœ‰æ—¶å€™å­˜å‚¨å…¶ä»–ç±»å‹çš„å¯¹åº”å€¼æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚è¿™è®©ä½ å¯ä»¥éšç€caseå­˜å‚¨å…¶ä»–è‡ªå®šä¹‰ä¿¡æ¯ã€‚</p>
<p>ä½ å¯ä»¥å®šä¹‰ Swift æšä¸¾æ¥å­˜å‚¨ç»™å®šç±»å‹çš„å¯¹åº”å€¼, å¦‚æœéœ€è¦æ¯ä¸ªcaseçš„å€¼ç±»å‹å¯ä»¥ä¸åŒã€‚æšä¸¾å’Œå…¶ä»–è¯­è¨€çš„å¯è¾¨è¯†è”åˆï¼Œæ ‡ç­¾è”åˆæˆ–è€…å˜ä½“å¾ˆç±»ä¼¼ã€‚</p>
<p>ä¾‹å¦‚, å‡è®¾åº“å­˜è·Ÿè¸ªç³»ç»Ÿéœ€è¦ç”¨ä¸¤ç§ä¸åŒç±»å‹çš„æ¡å½¢ç æ¥è¿½è¸ªäº§å“ã€‚ä¸€äº›äº§å“ç”¨UPCæ ¼å¼æ ‡è®°ä¸º 1D æ¡å½¢ç , è¿™äº›ä½¿ç”¨æ•°å­— 0 åˆ° 9. æ¯ä¸ªæ¡å½¢ç æœ‰ä¸€ä¸ªâ€œæ•°å­—ç³»ç»Ÿâ€ ä½, åé¢æ˜¯5ä¸ª â€œåˆ¶é€ å•†ç â€ ä½ç„¶åæ˜¯5ä¸ªâ€œäº§å“ç â€ä½ã€‚ æœ€åæ˜¯â€œæ ¡éªŒâ€ ä½æ¥æ ¡éªŒæ‰«ç æ­£ç¡®æ€§:</p>
<div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/barcode_UPC_2x.png"><br></div><br>å…¶ä»–äº§å“ç”¨äºŒç»´ç æ ‡è®°, å®ƒä½¿ç”¨ä»»æ„çš„ ISO 8859-1 å­—ç¬¦å¹¶ä¸”å¯ä»¥ç¼–ç 2953ä¸ªå­—ç¬¦é•¿åº¦:<br><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/barcode_QR_2x.png"><br></div><br>è¿™å°±æ–¹ä¾¿åº“å­˜è·Ÿè¸ªç³»ç»Ÿèƒ½å¤Ÿç”¨å››ä¸ªæ•´æ•°å…ƒç»„å­˜å‚¨ UPC æ¡å½¢ç , ç”¨ä¸€ä¸ªä»»æ„é•¿åº¦çš„å­—ç¬¦ä¸²å­˜å‚¨äºŒç»´ç ã€‚<br><br>åœ¨ Swift é‡Œ, æšä¸¾å®šä¹‰ä¸¤ç§ç±»å‹æ¡å½¢ç å¯èƒ½å¦‚ä¸‹æ‰€ç¤º:<br><code><br>enum Barcode {<br>    case upc(Int, Int, Int, Int)<br>    case qrCode(String)<br>}</code><br>å¯ä»¥è¿™æ ·è§£è¯»:<br><br>â€œå®šä¹‰ä¸€ä¸ªæšä¸¾ç±»å‹ Barcode, æœ‰ä¸€ä¸ªupdçš„å€¼å¯¹åº” (Int, Int, Int, Int)ç±»å‹, å’Œä¸€ä¸ª qrCode å€¼å¯¹åº” String ç±»å‹ã€‚â€<br><br>å®šä¹‰æ²¡æœ‰æä¾›ä»»ä½•å®é™…çš„ Int æˆ–è€… String å€¼â€”å®ƒä»…ä»…å®šä¹‰äº†å¯¹åº”å€¼çš„ç±»å‹ã€‚<br><br>æ–°çš„æ¡å½¢ç å¯ä»¥ç”¨ä»»ä½•ä¸€ä¸ªç±»å‹æ¥åˆ›å»º:<br><code><br>var productBarcode = Barcode.upc(8, 85909, 51226, 3)</code><br>è¿™ä¸ªä¾‹å­åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å˜é‡ productBarcode ç„¶åç”¨ä¸€ä¸ªå…ƒç»„å€¼(8, 85909, 51226, 3)èµ‹ç»™å®ƒä¸€ä¸ª Barcode.upcå€¼ã€‚<br><br>ç›¸åŒçš„äº§å“å¯ä»¥æŒ‡å®šä¸€ä¸ªä¸åŒçš„äºŒç»´ç ç±»å‹:<br><code><br>productBarcode = .qrCode(â€œABCDEFGHIJKLMNOPâ€)</code><br>è¿™æ—¶å€™, åŸå…ˆçš„ Barcode.upc å’Œå®ƒçš„æ•´æ•°å€¼è¢«æ–°çš„ Barcode.qrCode å’Œå®ƒçš„å­—ç¬¦ä¸²å€¼å–ä»£ã€‚ç±»å‹çš„å¸¸é‡æˆ–è€…å˜é‡å¯ä»¥å­˜å‚¨ .upc æˆ–è€… .qrCode (å¸¦ç€å¯¹åº”çš„å€¼), ä¸è¿‡åœ¨ç»™å®šæ—¶é—´å®ƒä»¬åªèƒ½å­˜å‚¨å…¶ä¸­ä¹‹ä¸€ã€‚<br><br>å¯ä»¥ç”¨ä¸€ä¸ªswitchè¯­å¥åˆ¤æ–­ä¸åŒçš„æ¡å½¢ç ç±»å‹ã€‚ è¿™æ¬¡, æ— è®ºå¦‚ä½•, å¯¹åº”çš„å€¼è¢«æå–ä½œä¸ºswitchè¯­å¥çš„éƒ¨åˆ†ã€‚æå–çš„å€¼ä½œä¸ºå¸¸é‡æˆ–è€…å˜é‡åœ¨switchè¯­å¥çš„caseä¸­ä½¿ç”¨:<br><code><br>switch productBarcode {<br>case .upc(let numberSystem, let manufacturer, let product, let check):<br>    print(â€œUPC: (numberSystem), (manufacturer), (product), (check).â€)<br>case .qrCode(let productCode):<br>    print(â€œQR code: (productCode).â€)<br>}<br>// æ‰“å° â€œQR code: ABCDEFGHIJKLMNOP.â€<br></code><br>å¦‚æœä¸€ä¸ªcaseçš„æ‰€æœ‰å¯¹åº”å€¼éƒ½æå–æˆå¸¸é‡æˆ–è€…å˜é‡, æˆ–è€…éƒ½æå–æˆå˜é‡, ä½ å¯ä»¥åœ¨è¿™ä¸ªcase åå­—å‰å•ç‹¬æ”¾ä¸€ä¸ªlet æˆ–è€… var, ä¸ºç®€æ´æ€§è€ƒè™‘:<br><code><br>switch productBarcode {<br>case let .upc(numberSystem, manufacturer, product, check):<br>    print(â€œUPC : (numberSystem), (manufacturer), (product), (check).â€)<br>case let .qrCode(productCode):<br>    print(â€œQR code: (productCode).â€)<br>}<br>// æ‰“å° â€œQR code: ABCDEFGHIJKLMNOP.â€<br></code><br># Raw Values<br><br>Associated Values ä¸­çš„æ¡å½¢ç ä¾‹å­å±•ç¤ºæšä¸¾caseå¦‚ä½•å£°æ˜å®ƒä»¬å­˜å‚¨çš„ä¸åŒç±»å‹çš„å¯¹åº”å€¼ã€‚ä½œä¸ºå…³è”å€¼çš„æ›¿ä»£æ–¹å¼, æšä¸¾case å¯ä»¥å¡«å……é»˜è®¤å€¼ (raw values), å®ƒä»¬éƒ½æ˜¯ç›¸åŒçš„ç±»å‹ã€‚<br><br>è¿™é‡Œæœ‰ä¸ªä¾‹å­,åœ¨æŒ‡å®šçš„æšä¸¾case æ—å­˜å‚¨ raw ASCII å€¼:<br><code><br>enum ASCIIControlCharacter: Character {<br>    case tab = â€œ\tâ€<br>    case lineFeed = â€œ\nâ€<br>    case carriageReturn = â€œ\râ€<br>}<br></code><br>è¿™é‡Œ, æšä¸¾ ASCIIControlCharacter çš„raw å€¼å®šä¹‰ä¸ºå­—ç¬¦ç±»å‹, è®¾æˆæˆä¸€äº›æ¯”è¾ƒå¸¸è§çš„ ASCII æ§åˆ¶å­—ç¬¦ã€‚<br><br>Raw å€¼å¯ä»¥æ˜¯å­—ç¬¦ä¸², å­—ç¬¦, æˆ–è€…ä»»æ„æ•´å‹æˆ–è€…æµ®ç‚¹å‹æ•°å­—ç±»å‹ã€‚ æ¯ä¸ªraw å€¼åœ¨æšä¸¾å£°æ˜é‡Œå¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚<br><br>å¤‡æ³¨<br><br>Raw å€¼ä½œä¸ºå¯¹åº”å€¼æ˜¯ä¸ç›¸åŒçš„ã€‚Raw å€¼ç”¨æ¥åœ¨é¦–æ¬¡å£°æ˜æšä¸¾æ—¶å¡«å……å€¼, å°±åƒä¸Šé¢ä¸‰ä¸ª ASCII ç ã€‚ç‰¹å®šcase çš„raw å€¼æ€»æ˜¯ç›¸åŒçš„ã€‚åŸºäºæšä¸¾caseä¹‹ä¸€åˆ›å»ºä¸€ä¸ªæ–°çš„å¸¸é‡æˆ–è€…å˜é‡æ—¶è®¾ç½®å…³è”å€¼, æ¯æ¬¡è®¾ç½®éƒ½å¯ä»¥ä¸åŒã€‚<br><br># éšå¼èµ‹ Raw å€¼<br><br>ä½¿ç”¨å­˜å‚¨æ•´å‹æˆ–è€…å­—ç¬¦ä¸²ç±»å‹çš„rawå€¼æ—¶, ä½ ä¸éœ€è¦æ˜¾å¼ä¸ºæ¯ä¸ªcaseæŒ‡å®šä¸€ä¸ªraw å€¼ã€‚å¦‚æœä½ ä¸è®¾ç½®, Swift ä¼šä¸ºä½ è‡ªåŠ¨æŒ‡å®šå€¼ã€‚<br><br>ä¾‹å¦‚, å½“æ•´å‹ç”¨ä½œraw å€¼æ—¶, æ¯ä¸ªcase çš„éšå¼å€¼æ¯”å‰ä¸€ä¸ªcaseå¤šä¸€ã€‚å¦‚æœç¬¬ä¸€ä¸ªcaseæ²¡æœ‰è®¾ç½®å€¼, å®ƒçš„å€¼æ˜¯0.<br><br>ä¸‹é¢çš„æšä¸¾æ˜¯æ—©æœŸ Planet æšä¸¾çš„ç»†åŒ–ç‰ˆæœ¬, å¸¦æœ‰æ•´æ•° raw å€¼æ¥ä»£è¡¨è·ç¦»æ¯ä¸ªæ˜Ÿçƒè·ç¦»å¤ªé˜³çš„é¡ºåº:<br><code><br>enum Planet: Int {<br>    case mercury = 1, venus, earth, mars, jupiter, saturn, uranus, neptune<br>}</code><br>ä¸Šé¢çš„ä¾‹å­, Planet.mercuryæœ‰ä¸ªæ˜¾å¼çš„raw å€¼1, Planet.venus æœ‰ä¸ªæ˜¾å¼çš„å€¼ 2, ä»¥æ­¤ç±»æ¨ã€‚<br><br>å­—ç¬¦ä¸²ç”¨ä½œraw å€¼æ—¶, æ¯ä¸ªcaseçš„éšå¼å€¼æ˜¯case åå­—çš„æ–‡æœ¬å­—ç¬¦ä¸²ã€‚<br><br>ä¸‹é¢çš„æšä¸¾æ˜¯æ—©æœŸ CompassPoint æšä¸¾çš„ç»†åŒ–ç‰ˆæœ¬, ä½¿ç”¨å­—ç¬¦ä¸²raw å€¼è¡¨ç¤ºæ¯ä¸ªæ–¹å‘çš„åå­—:<br><code><br>enum CompassPoint: String {<br>    case north, south, east, west<br>}</code><br>ä¸Šé¢çš„ä¾‹å­, CompassPoint.south æœ‰ä¸ªéšå¼çš„raw å€¼ â€œsouthâ€, ä»¥æ­¤ç±»æ¨ã€‚<br><br>ä½¿ç”¨ rawValue å±æ€§æ¥è®¿é—®æšä¸¾caseçš„raw å€¼:<br><code><br>let earthsOrder = Planet.earth.rawValue<br>// earthsOrder is 3<br><br>let sunsetDirection = CompassPoint.west.rawValue<br>// sunsetDirection is â€œwestâ€<br></code><br># ç”¨ Raw å€¼åˆå§‹åŒ–<br><br>å¦‚æœä½ ç”¨raw-å€¼ç±»å‹å®šä¹‰ä¸€ä¸ªæšä¸¾, æšä¸¾è‡ªåŠ¨å¾—åˆ°ä¸€ä¸ªåˆå§‹åŒ–æ–¹æ³•, è¿™ä¸ªåˆå§‹åŒ–æ–¹æ³•æœ‰ä¸€ä¸ªrawå€¼ç±»å‹ (å‚æ•° rawValue) å¹¶ä¸”è¿”å›ä¸€ä¸ªæšä¸¾caseæˆ–è€…nil. ä½ å¯ä»¥ç”¨è¿™ä¸ªåˆå§‹åŒ–æ–¹æ³•è¯•ç€åˆ›å»ºæ–°çš„æšä¸¾å®ä¾‹ã€‚<br><br>è¿™ä¸ªä¾‹å­ç”¨raw å€¼7æ ‡è¯† Uranus :<br><code><br>let possiblePlanet = Planet(rawValue: 7)<br>// possiblePlanet æ˜¯ Planet?ç±»å‹å¹¶ä¸”ç­‰äºPlanet.uranus<br></code><br>ä¸æ˜¯æ‰€æœ‰çš„æ•´æ•°å€¼éƒ½èƒ½æ‰¾åˆ°ä¸€ä¸ªå¯¹åº”çš„æ˜Ÿçƒ, ä¸è¿‡ã€‚ å› ä¸ºå¦‚æ­¤, raw å€¼åˆå§‹åŒ–æ–¹æ³•æ€»æ˜¯è¿”å›ä¸€ä¸ªå¯é€‰çš„æšä¸¾case. ä¸Šé¢çš„ä¾‹å­, possiblePlanet æ˜¯Planet?ç±»å‹, æˆ–è€… â€œå¯é€‰çš„ Planet.â€<br><br>å¤‡æ³¨<br><br>raw å€¼åˆå§‹åŒ–æ–¹æ³•æ˜¯çµæ´»çš„, å› ä¸ºä¸æ˜¯æ¯ä¸ªraw å€¼éƒ½ä¼šè¿”å›ä¸€ä¸ªæšä¸¾case.<br><br>å¦‚æœå°è¯•æŸ¥æ‰¾ä½ç½®æ˜¯11çš„æ˜Ÿçƒ, rawå€¼åˆå§‹åŒ–æ–¹æ³•è¿”å›çš„ Planet å€¼ä¸ºnil:<br><code><br>let positionToFind = 11<br>if let somePlanet = Planet(rawValue: positionToFind) {<br>    switch somePlanet {<br>    case .earth:<br>        print(â€œMostly harmlessâ€)<br>    default:<br>        print(â€œNot a safe place for humansâ€)<br>    }<br>} else {<br>    print(â€œThere isnâ€™t a planet at position (positionToFind)â€)<br>}<br>// æ‰“å° â€œThere isnâ€™t a planet at position 11â€<br></code><br>è¿™ä¸ªä¾‹å­ä½¿ç”¨å¯é€‰ç»‘å®šè®¿é—®rawå€¼æ˜¯11çš„æ˜Ÿçƒã€‚ è¯­å¥ <code>if let somePlanet = Planet(rawValue: 11) </code>åˆ›å»ºäº†ä¸€ä¸ªå¯é€‰çš„ Planet, ç„¶åè®¾ç½® somePlanet å€¼ä¸ºè¿™ä¸ªå¯é€‰ç»‘å®šçš„ Planet. è¿™ç§æƒ…å†µ, ä¸å¯èƒ½è·å–åˆ°ä½ç½®æ˜¯11çš„æ˜Ÿçƒ, æ‰€æœ‰elseåˆ†æ”¯è¢«æ‰§è¡Œäº†ã€‚<br><br># é€’å½’æšä¸¾<br><br>é€’å½’æšä¸¾æ˜¯è¿™æ ·ä¸€ç§æšä¸¾,å®ƒæœ‰å¦å¤–ä¸€ä¸ªæšä¸¾çš„å®ä¾‹,è¿™ä¸ªå®ä¾‹ä½œä¸ºä¸€ä¸ªæˆ–è€…å¤šä¸ªcaseçš„å…³è”å€¼ã€‚é€šè¿‡åœ¨æšä¸¾case å‰ä¹¦å†™indirect æ¥æ ‡æ˜æšä¸¾æ˜¯é€’å½’çš„ã€‚å‘Šè¯‰ç¼–è¯‘å™¨æ’å…¥å¿…è¦çš„é—´æ¥å±‚ã€‚<br><br>ä¾‹å¦‚, è¿™é‡Œæœ‰ä¸€ä¸ªæšä¸¾å­˜å‚¨äº†ç®€å•çš„ç®—æœ¯è¡¨è¾¾å¼:<br><code><br>enum ArithmeticExpression {<br>    case number(Int)<br>    indirect case addition(ArithmeticExpression, ArithmeticExpression)<br>    indirect case multiplication(ArithmeticExpression, ArithmeticExpression)<br>}<br></code><br>ä½ ä¹Ÿå¯ä»¥åœ¨æšä¸¾å¼€å§‹å†™ indirect, æ¥ä¿è¯æ‰€æœ‰éœ€è¦çš„æšä¸¾case æ˜¯é—´æ¥çš„:<br><code><br>indirect enum ArithmeticExpression {<br>    case number(Int)<br>    case addition(ArithmeticExpression, ArithmeticExpression)<br>    case multiplication(ArithmeticExpression, ArithmeticExpression)<br>}<br></code><br>è¿™ä¸ªæšä¸¾å¯ä»¥å­˜å‚¨ä¸‰ç§ç®—æœ¯è¡¨è¾¾å¼: ä¸€ä¸ªç®€å•æ•°å­—, ä¸¤ä¸ªè¡¨è¾¾å¼ç›¸åŠ , ä¸¤ä¸ªè¡¨è¾¾å¼ç›¸ä¹˜ã€‚ åŠ æ³•å’Œä¹˜æ³•åˆ†æ”¯å¯¹åº”å€¼ä¹Ÿæ˜¯ç®—æœ¯è¡¨è¾¾å¼â€”å†…åµŒè¡¨è¾¾å¼ã€‚ ä¾‹å¦‚, è¡¨è¾¾å¼ (5 + 4) <em> 2 ä¹˜æ³•å³è¾¹æœ‰ä¸€ä¸ªæ•°å­—,ä¹˜æ³•å·¦è¾¹æœ‰ä¸€ä¸ªè¡¨è¾¾å¼ã€‚ å› ä¸ºæ•°æ®æ˜¯åµŒå¥—çš„, æšä¸¾å­˜å‚¨è¿™ä¸ªæ•°æ®ä¹Ÿéœ€è¦æ”¯æŒåµŒå¥—â€”æ„æ€å°±æ˜¯è¯´æšä¸¾éœ€è¦é€’å½’ã€‚ ä¸‹é¢çš„ä»£ç å±•ç¤ºä¸º(5 + 4) </em> 2åˆ›å»ºäº†ä¸€ä¸ªé€’å½’æšä¸¾ ArithmeticExpression :<br><code><br>let five = ArithmeticExpression.number(5)<br>let four = ArithmeticExpression.number(4)<br>let sum = ArithmeticExpression.addition(five, four)<br>let product = ArithmeticExpression.multiplication(sum, ArithmeticExpression.number(2))<br></code><br>é€’å½’å‡½æ•°ç›´æ¥ä½¿ç”¨å…·æœ‰é€’å½’ç»“æ„çš„æ•°æ®ã€‚ä¾‹å¦‚, è¿™é‡Œæœ‰ä¸ªå‡½æ•°æ‰§è¡Œä¸€ä¸ªç®—æœ¯è¡¨è¾¾å¼:<br><code><br>func evaluate(_ expression: ArithmeticExpression) -&gt; Int {<br>    switch expression {<br>    case let .number(value):<br>        return value<br>    case let .addition(left, right):<br>        return evaluate(left) + evaluate(right)<br>    case let .multiplication(left, right):<br>        return evaluate(left) <em> evaluate(right)<br>    }<br>}<br><br>print(evaluate(product))<br>// æ‰“å° â€œ18â€<br></em></code><br>è¿™ä¸ªå‡½æ•°é€šè¿‡è¿”å›å…³è”å€¼æ‰§è¡Œä¸€ä¸ªç®€å•çš„æ•°å­—ã€‚å®ƒæ‰§è¡Œä¸€ä¸ªåŠ æ³•å’Œä¸€ä¸ªä¹˜æ³•,æ‰§è¡Œå·¦è¾¹çš„è¡¨è¾¾å¼å’Œå³è¾¹çš„è¡¨è¾¾å¼,ç„¶åç›¸åŠ æˆ–è€…ç›¸ä¹˜å®ƒä»¬ã€‚<br><br># ç±»å’Œç»“æ„ä½“<br>ç±»å’Œç»“æ„ä½“æ˜¯é€šç”¨çš„,çµæ´»çš„ç»“æ„, æˆä¸ºä½ ç¨‹åºä»£ç çš„æ„å»ºå—ã€‚é€šè¿‡å¯¹å¸¸é‡,å˜é‡,å‡½æ•°ä½¿ç”¨ç›¸åŒçš„è¯­æ³•,ä½ å®šä¹‰å±æ€§å’Œæ–¹æ³•æ¥ç»™ç±»å’Œç»“æ„ä½“æ·»åŠ åŠŸèƒ½<br><br>è·Ÿå…¶ä»–è¯­è¨€ä¸ä¸€æ ·, Swift ä¸è¦ä½ ç»™ç±»å’Œç»“æ„ä½“åˆ›å»ºå•ç‹¬çš„æ¥å£å’Œå®ç°æ–‡ä»¶ã€‚åœ¨ Swifté‡Œ, ä½ åœ¨ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­å®šä¹‰ç±»å’Œç»“æ„ä½“ã€‚ è¿™äº›ç±»å’Œç»“æ„çš„å¯¹å¤–æ¥å£å¯¹äºå…¶ä»–ä»£ç æ˜¯è‡ªåŠ¨å¯ç”¨çš„ã€‚<br><br>å¤‡æ³¨<br><br>ç±»çš„å®ä¾‹ä¸€èˆ¬è®¤ä¸ºæ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚ ä¸è¿‡, Swift çš„ç±»å’Œç»“æ„ä½“åœ¨åŠŸèƒ½ä¸Šæ¯”å…¶ä»–è¯­è¨€æ›´åŠ æ¥è¿‘, è¿™ç§æè¿°çš„åŠŸèƒ½å³å¯ç”¨åœ¨ç±»çš„å®ä¾‹ä¹Ÿå¯ä»¥ç”¨åœ¨ç»“æ„ä½“çš„å®ä¾‹ä¸Šã€‚å› ä¸ºå¦‚æ­¤, æ›´å¤šé€šç”¨æœ¯è¯­å®ä¾‹è¢«ä½¿ç”¨äº†ã€‚<br><br># æ¯”è¾ƒç±»å’Œç»“æ„ä½“<br><br>åœ¨Swifté‡Œç±»å’Œç»“æ„ä½“æœ‰å¾ˆå¤šç›¸åŒçš„åœ°æ–¹,å®ƒä»¬éƒ½å¯ä»¥:<br><br>å®šä¹‰å±æ€§æ¥å­˜å‚¨å€¼<br>å®šä¹‰å‡½æ•°æä¾›åŠŸèƒ½<br>å®šä¹‰ä¸‹æ ‡,æä¾›ä¸‹æ ‡è¯­æ³•è®¿é—®å€¼<br>å®šä¹‰åˆå§‹åŒ–æ–¹æ³•æ¥è®¾å®šåˆå§‹çŠ¶æ€<br>æ‰©å±•é»˜è®¤å®ç°çš„åŠŸèƒ½<br>éµå®ˆåè®®æä¾›ç‰¹å®šç±»å‹çš„æ ‡å‡†åŠŸèƒ½<br><br>ç±»å…·å¤‡ç»“æ„ä½“æ²¡æœ‰çš„é¢å¤–èƒ½åŠ›:<br><br>ç»§æ‰¿,è®©ä¸€ä¸ªç±»ç»§æ‰¿å¦å¤–ä¸€ä¸ªç±»çš„ç‰¹å¾ã€‚<br>ç±»å‹è½¬æ¢,ç±»å‹è½¬æ¢è®©ä½ å¯ä»¥åœ¨è¿è¡Œæ˜¯åˆ¤æ–­å’Œè§£é‡Šç±»çš„å®ä¾‹ã€‚<br>ææ„å™¨å¯ä»¥é‡Šæ”¾ç±»å®ä¾‹åˆ†é…çš„ä»»ä½•èµ„æºã€‚<br>å¼•ç”¨è®¡æ•°å…è®¸å¯¹ç±»å®ä¾‹çš„å¤šæ¬¡å¼•ç”¨ã€‚<br><br>å¤‡æ³¨<br><br>ç»“æ„ä½“ä¼ å€¼æ—¶éƒ½æ˜¯æ‹·è´,å®ƒä¸ä½¿ç”¨å¼•ç”¨è®¡æ•°ã€‚<br><br># å®šä¹‰è¯­æ³•<br><br>ç±»å’Œç»“æ„ä½“æœ‰ç›¸åŒçš„å®šä¹‰è¯­æ³•ã€‚ ä½¿ç”¨class å…³é”®å­—å¼•å…¥ç±»,ä½¿ç”¨structå…³é”®å­—å¼•å…¥ç»“æ„ä½“ã€‚ä¸¤è€…éƒ½æŠŠå…¨éƒ¨å®šä¹‰æ”¾åœ¨ä¸€å †å¤§æ‹¬å·å†…:<br><code><br>class SomeClass {<br>// class definition goes here<br>}<br>struct SomeStructure {<br>// structure definition goes here<br>}</code><br>å¤‡æ³¨<br><br>ä¸€æ—¦ä½ å®šä¹‰äº†ä¸€ä¸ªæ–°çš„ç±»æˆ–è€…ç»“æ„ä½“, ä½ å°±æœ‰æ•ˆå®šä¹‰äº†ä¸€ä¸ªå…¨æ–°çš„Swiftç±»å‹ã€‚ç»™ä¸€ä¸ªå¤§å†™é©¼å³°å¼å‘½å (æ¯”å¦‚ SomeClass å’Œ SomeStructure here) æ¥åŒ¹é…æ ‡å‡† Swift ç±»å‹å¤§å†™ã€‚(æ¯”å¦‚ String, Int, å’Œ Bool). ç›¸å, å±æ€§å’Œæ–¹æ³•æ€»æ˜¯å°å†™é©¼å³°å¼å‘½å (æ¯”å¦‚ frameRate å’Œ incrementCount)<br><br>è¿™é‡Œæœ‰ä¸€ä¸ªç»“æ„ä½“å’Œä¸€ä¸ªç±»å®šä¹‰çš„ä¾‹å­:<br><code><br>struct Resolution {<br>var width = 0<br>var height = 0<br>}<br>class VideoMode {<br>var resolution = Resolution()<br>var interlaced = false<br>var frameRate = 0.0<br>var name: String?<br>}</code><br>ä¸Šé¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªæ–°çš„ç»“æ„ä½“ Resolution, æè¿°ä¸€ä¸ªåŸºäºåƒç´ çš„æ˜¾ç¤ºå™¨è§£å†³æ–¹æ¡ˆã€‚ è¿™ä¸ªç»“æ„ä½“æœ‰ä¸¤ä¸ªå­˜å‚¨å±æ€§ width å’Œ height. å­˜å‚¨å±æ€§æ˜¯å¸¸é‡æˆ–è€…å˜é‡,æ†ç»‘å­˜å‚¨ä½œä¸ºç±»æˆ–è€…ç»“æ„ä½“çš„ä¸€éƒ¨åˆ†ã€‚è¿™ä¸¤ä¸ªå±æ€§å› ä¸ºåˆå§‹å€¼ä¸º0è€Œè¢«æ¨æ–­ä¸ºæ•´å‹ã€‚<br><br>ä¸Šé¢çš„ä¾‹å­åŒæ—¶å®šä¹‰äº†ä¸€ä¸ªæ–°ç±» VideoMode, æ¥æè¿°ä¸€ä¸ªæŒ‡å®šçš„è§†é¢‘æ¨¡å¼ç”¨æ¥è§†é¢‘æ˜¾ç¤ºã€‚ è¿™ä¸ªç±»æœ‰å››ä¸ªå˜é‡å­˜å‚¨å±æ€§ã€‚ ç¬¬ä¸€ä¸ªæ˜¯ resolution, ç”¨ä¸€ä¸ªæ–°çš„ Resolution ç»“æ„ä½“å®ä¾‹æ¥åˆå§‹åŒ–, æ¨æ–­ä¸º Resolution å±æ€§ç±»å‹ã€‚ å…¶ä»–ä¸‰ä¸ªå±æ€§, æ–°çš„ VideoMode å®ä¾‹å°†ä¼šç”¨ä¸€ä¸ªè®¾ç½®ä¸ºfalseçš„äº¤é”™è®¾ç½®æ¥åˆå§‹åŒ– (æ„æ€æ˜¯ â€œéäº¤é”™è§†é¢‘â€), ä¸€ä¸ªå›æ”¾å¸§ç‡æ˜¯ 0.0, ä¸€ä¸ªå¯é€‰å­—ç¬¦ä¸² name. name å±æ€§è‡ªåŠ¨å¾—åˆ°é»˜è®¤å€¼nil, æˆ–è€… â€œæ²¡æœ‰åå­—å€¼â€, å› ä¸ºå®ƒæ˜¯ä¸€ä¸ªå¯é€‰ç±»å‹ã€‚<br><br># ç±»å’Œç»“æ„ä½“å®ä¾‹<br><br>Resolution ç»“æ„ä½“å®šä¹‰å’Œ VideoMode ç±»å®šä¹‰ä»…ä»…æè¿°äº†ä¸€ä¸ª Resolution æˆ–è€… VideoMode çœ‹èµ·æ¥æ˜¯ä»€ä¹ˆæ ·å­ã€‚ ä»–ä»¬æ²¡æœ‰æè¿°ä¸€ä¸ªæŒ‡å®šçš„ resolution æˆ–è€…video mode. ä¸ºäº†å®ç°è¿™ä¸ª, ä½ éœ€è¦åˆ›å»ºç»“æ„ä½“æˆ–è€…ç±»çš„å®ä¾‹ã€‚<br><br>ç»“æ„ä½“å’Œç±»å®ä¾‹çš„åˆ›å»ºè¯­æ³•éå¸¸ç›¸ä¼¼:<br><code><br>let someResolution = Resolution()<br>let someVideoMode = VideoMode()</code><br>ç»“æ„ä½“å’Œç±»éƒ½ä½¿ç”¨åˆå§‹åŒ–æ–¹æ³•åˆ›å»ºå®ä¾‹ã€‚ æœ€ç®€å•çš„åˆå§‹åŒ–è¯­æ³•å°±æ˜¯ä½¿ç”¨ç±»æˆ–è€…ç»“æ„çš„ç±»å‹ååé¢è·Ÿç€ä¸€ä¸ªç©ºçš„æ‹¬å·, æ¯”å¦‚ Resolution() å’Œ VideoMode(). è¿™ä¸ªåˆ›å»ºäº†ç±»æˆ–è€…ç»“æ„ä½“çš„å®ä¾‹,ç»™æ‰€æœ‰å±æ€§è®¾ç½®é»˜è®¤å€¼ã€‚<br><br># è®¿é—®å±æ€§<br><br>ä½ å¯ä»¥ç”¨ç‚¹è¯­æ³•è®¿é—®å®ä¾‹çš„å±æ€§ã€‚ åœ¨ç‚¹è¯­æ³•ä¸­, å±æ€§åè·Ÿç€å®ä¾‹å, ç”¨ç‚¹åˆ†å¼€ (.), æ²¡æœ‰ä»»ä½•ç©ºæ ¼:<br><code><br>print(â€œThe width of someResolution is (someResolution.width)â€)<br>// æ‰“å° â€œThe width of someResolution is 0â€<br></code><br>åœ¨è¿™ä¸ªä¾‹å­é‡Œ, someResolution.width è°ƒç”¨ someResolution çš„å®½åº¦å±æ€§, ç„¶åè¿”å›å®ƒçš„é»˜è®¤å€¼0.<br><br>ä½ å¯ä»¥è·å–å­å±æ€§, æ¯”å¦‚ width å±æ€§å°±æ˜¯ VideoMode ä¸­çš„resolution çš„å±æ€§:<br><code><br>print(â€œThe width of someVideoMode is (someVideoMode.resolution.width)â€)<br>// æ‰“å° â€œThe width of someVideoMode is 0â€<br></code><br>ä½ è¿˜å¯ä»¥ç”¨ç‚¹è¯­æ³•ä¸ºå˜é‡å±æ€§æŒ‡å®šæ–°å€¼:<br><code><br>someVideoMode.resolution.width = 1280<br>print(â€œThe width of someVideoMode is now (someVideoMode.resolution.width)â€)<br>// æ‰“å° â€œThe width of someVideoMode is now 1280â€<br></code><br>å¤‡æ³¨<br><br>è·Ÿ Objective-C ä¸åŒ, Swift è®©ä½ å¯ä»¥ç›´æ¥è®¾ç½®ç»“æ„ä½“å±æ€§çš„å­å±æ€§ã€‚ ä¸Šé¢æœ€åä¸€ä¸ªä¾‹å­, someVideoMode å±æ€§resolutionçš„å­å±æ€§width å°±æ˜¯ç›´æ¥è®¾ç½®çš„, æ— éœ€ä½ æŠŠæ•´ä¸ªresolution å±æ€§è®¾ç½®æˆæ–°å€¼ã€‚<br><br># ç»“æ„ä½“ç±»å‹æˆå‘˜åˆå§‹åŒ–æ–¹æ³•<br><br>æ‰€æœ‰çš„ç»“æ„ä½“éƒ½æœ‰ä¸€ä¸ªè‡ªåŠ¨äº§ç”Ÿçš„æˆå‘˜åˆå§‹åŒ–æ–¹æ³•, ä½ å¯ä»¥ç”¨æ¥åˆå§‹åŒ–æ–°çš„ç»“æ„ä½“å®ä¾‹çš„æˆå‘˜å±æ€§ã€‚ æ–°å®ä¾‹å±æ€§çš„åˆå§‹å€¼å¯ä»¥æ ¹æ®åå­—ä¼ å…¥æˆå‘˜åˆå§‹åŒ–æ–¹æ³•:<br><code><br>let vga = Resolution(width: 640, height: 480)</code><br>è·Ÿç»“æ„ä½“ä¸åŒ, ç±»å®ä¾‹ä¸ä¼šæ¥å—ä¸€ä¸ªé»˜è®¤çš„æˆå‘˜åˆå§‹åŒ–æ–¹æ³•ã€‚<br><br># ç»“æ„ä½“å’Œæšä¸¾æ˜¯å€¼ç±»å‹<br><br>å€¼ç±»å‹æŒ‡çš„æ˜¯èµ‹ç»™å˜é‡æˆ–è€…å¸¸é‡çš„æ—¶å€™ä¼šè¿›è¡Œæ‹·è´çš„ç±»å‹, æˆ–è€…åœ¨ä¼ ç»™å‡½æ•°ä½¿ç”¨çš„æ—¶å€™ã€‚<br><br>é€šè¿‡å‰é¢çš„ç« èŠ‚,ä½ å®é™…ä¸Šå·²ç»å¹¿æ³›ä½¿ç”¨äº†å€¼ç±»å‹ã€‚ äº‹å®ä¸Š, æ‰€æœ‰Swift çš„åŸºç¡€ç±»å‹â€”æ•´å‹, æµ®ç‚¹æ•°, å¸ƒå°”ç±»å‹, å­—ç¬¦ä¸²ç±»å‹, æ•°ç»„å’Œå­—å…¸éƒ½æ˜¯å€¼ç±»å‹, èƒŒåéƒ½æ˜¯ç”¨ç»“æ„ä½“å®ç°ã€‚<br><br>Swift ä¸­æ‰€æœ‰çš„ç»“æ„ä½“å’Œæšä¸¾éƒ½æ˜¯å€¼ç±»å‹ã€‚æ„æ€å°±æ˜¯ä½ åˆ›å»ºçš„ä»»ä½•ç»“æ„ä½“å’Œæšä¸¾â€”ä»»ä½•å®ƒä»¬ä½œä¸ºå±æ€§çš„å€¼ç±»å‹â€”å½“å®ƒä»¬åœ¨ä½ çš„ä»£ç ä¸­ä¼ é€’æ—¶æ€»æ˜¯æ‹·è´çš„ã€‚<br><br>çœ‹ä¸€ä¸‹è¿™ä¸ªä¾‹å­, ä½¿ç”¨äº†å‰ä¸€ä¸ªä¾‹å­ä¸­çš„ Resolution ç»“æ„ä½“:<br><code><br>let hd = Resolution(width: 1920, height: 1080)<br>var cinema = hd</code><br>è¿™ä¸ªä¾‹å­å®šä¹‰äº†ä¸€ä¸ªå¸¸é‡ hd ç„¶åç”¨åˆå§‹åŒ–æ–¹æ³•èµ‹å€¼ç»™å®ƒã€‚<br><br>ç„¶åå£°æ˜ä¸€ä¸ªå˜é‡ cinema å¹¶ä¸”æŠŠhd çš„å½“å‰å€¼èµ‹ç»™å®ƒã€‚å› ä¸º Resolution æ˜¯ä¸€ä¸ªç»“æ„ä½“, å­˜åœ¨å®ä¾‹çš„æ‹·è´å°±åˆ›å»ºäº†ã€‚æ–°çš„æ‹·è´èµ‹å€¼ç»™ cinema. å°½ç®¡ hd å’Œ cinema ç°åœ¨æœ‰äº†ç›¸åŒçš„å®½å’Œé«˜, å®ƒä»¬èƒŒåæ˜¯å®Œå…¨ä¸åŒçš„ä¸¤ä¸ªå®ä¾‹ã€‚<br><br>ä¸‹ä¸€æ­¥, cinema å®½åº¦å±æ€§ä¿®æ”¹ä¸º2Kæ ‡å‡†çš„å®½åº¦,ç”¨äºæ•°å­—ç”µå½±é¡¹ç›®(2048 åƒç´ å®½å’Œ 1080 åƒç´ é«˜):<br><code><br>cinema.width = 2048<br>æ£€æŸ¥cinemaçš„å®½åº¦å±æ€§,æ˜¾ç¤ºå®ƒçš„ç¡®è¢«ä¿®æ”¹ä¸º 2048:<br><br>print(â€œcinema is now (cinema.width) pixels wideâ€)<br>// æ‰“å° â€œcinema is now 2048 pixels wideâ€<br><br>ä¸è¿‡, åŸæ¥hd çš„å®½åº¦å±æ€§ä¾ç„¶æ˜¯æ—§å€¼ 1920:<br><br>print(â€œhd is still (hd.width) pixels wideâ€)<br>// æ‰“å° â€œhd is still 1920 pixels wideâ€<br></code><br>ä¸€æ—¦cinemaèµ‹å€¼ä¸ºhdçš„å€¼, å­˜å‚¨åœ¨hdä¸­çš„å€¼å°±ä¼šæ‹·è´åˆ°æ–°çš„cinemaå®ä¾‹ã€‚ æœ€åçš„ç»“æœæ˜¯ä¸¤ä¸ªå®Œå…¨ç‹¬ç«‹çš„å®ä¾‹, æ­£å¥½éƒ½åŒ…å«ç›¸åŒçš„æ•°å€¼ã€‚ å› ä¸ºå®ƒä»¬æ˜¯å•ç‹¬çš„å®ä¾‹, è®¾ç½®cinema çš„å®½åº¦ä¸º 2048 å¹¶ä¸å½±å“ hd çš„å®½åº¦ã€‚<br><br>ç›¸åŒçš„è¡Œä¸ºé€‚ç”¨äºæšä¸¾:<br><code><br>enum CompassPoint {<br>case north, south, east, west<br>}<br>var currentDirection = CompassPoint.west<br>let rememberedDirection = currentDirection<br>currentDirection = .east<br>if rememberedDirection == .west {<br>print(â€œThe remembered direction is still .westâ€)<br>}<br>// æ‰“å° â€œThe remembered direction is still .westâ€<br></code><br>å½“ rememberedDirection è¢«èµ‹å€¼ä¸º currentDirectionçš„å€¼æ—¶, å®é™…ä¸Šè®¾ç½®çš„æ˜¯ä¸€ä¸ªå€¼çš„æ‹·è´ã€‚ æ”¹å˜ currentDirection çš„å€¼ä¹‹åä¸ä¼šå½±å“åŸå…ˆå­˜å‚¨åœ¨rememberedDirection ä¸­çš„å€¼ã€‚<br><br># ç±»æ˜¯å¼•ç”¨ç±»å‹<br><br>è·Ÿå€¼ç±»å‹ä¸åŒ, å®ƒä»¬èµ‹å€¼ç»™å˜é‡æˆ–è€…å¸¸é‡çš„æ—¶å€™ä¸ä¼šå‘ç”Ÿæ‹·è´, ä¼ é€’ç»™å‡½æ•°ä¹Ÿä¸€æ ·ã€‚ ç›¸å¯¹ä¸€ä¸ªæ‹·è´, ç”¨çš„æ˜¯å¼•ç”¨å·²ç»å­˜åœ¨çš„å®ä¾‹ã€‚<br><br>è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­, ä½¿ç”¨ä¸Šé¢å®šä¹‰çš„ VideoMode ç±»:<br><code><br>let tenEighty = VideoMode()<br>tenEighty.resolution = hd<br>tenEighty.interlaced = true<br>tenEighty.name = â€œ1080iâ€<br>tenEighty.frameRate = 25.0<br></code><br>è¿™ä¸ªä¾‹å­å£°æ˜äº†ä¸€ä¸ªæ–°çš„å˜é‡ tenEighty å¹¶ä¸”æŠŠä¸€ä¸ªæ–°çš„VideoMode å®ä¾‹èµ‹å€¼ç»™å®ƒã€‚è§†é¢‘æ¨¡å¼è¿˜æ˜¯ç”¨çš„19020ä¹˜ä»¥1080 çš„HD çš„æ‹·è´ã€‚å®ƒè®¾ç½®æˆäº¤é”™çš„,ç»™äº†ä¸€ä¸ªåå­— â€œ1080iâ€. æœ€å, è®¾ç½®äº†25 å¸§æ¯ç§’çš„å¸§é€Ÿã€‚<br><br>ä¸‹ä¸€æ­¥, tenEighty èµ‹å€¼ç»™ä¸€ä¸ªæ–°çš„å¸¸é‡ alsoTenEighty, ç„¶åæ”¹å˜ alsoTenEighty å¸§é€Ÿ:<br><code><br>let alsoTenEighty = tenEighty<br>alsoTenEighty.frameRate = 30.0<br></code><br>å› ä¸ºç±»æ˜¯å¼•ç”¨ç±»å‹, tenEighty å’Œ alsoTenEighty å®é™…ä¸Šå¼•ç”¨çš„æ˜¯ç›¸åŒçš„ VideoMode å®ä¾‹ã€‚å®ƒä»¬ä¸è¿‡æ˜¯åŒä¸€ä¸ªå®ä¾‹çš„ä¸¤ä¸ªä¸åŒçš„åå­—ã€‚<br><br>æŸ¥çœ‹tenEighty çš„å¸§é€Ÿå±æ€§, æ˜¾ç¤ºå®ƒå˜æˆäº†æ–°çš„å¸§é€Ÿç‡ 30.0:<br><code><br>print(â€œThe frameRate property of tenEighty is now (tenEighty.frameRate)â€)<br>// æ‰“å° â€œThe frameRate property of tenEighty is now 30.0â€</code><br>æ³¨æ„ tenEighty å’Œ alsoTenEighty å£°æ˜æˆå¸¸é‡è€Œä¸æ˜¯å˜é‡ã€‚ ä¸è¿‡, ä½ ä»ç„¶å¯ä»¥æ”¹å˜ tenEighty.frameRate å’Œ alsoTenEighty.frameRate, å› ä¸º tenEighty å’Œ alsoTenEighty å¸¸é‡çš„å€¼å®é™…æ²¡æœ‰æ”¹å˜ã€‚ tenEighty å’Œ alsoTenEighty å®ƒä»¬ä¸ä¿å­˜ VideoMode å®ä¾‹, èƒŒåå®ƒä»¬éƒ½æ˜¯å¼•ç”¨ä¸€ä¸ª VideoMode å®ä¾‹ã€‚ æ˜¯VideoMode ä¸‹é¢çš„ frameRate å±æ€§è¢«æ”¹å˜äº†, ä¸æ˜¯å¼•ç”¨VideoMode çš„å¸¸é‡å€¼è¢«æ”¹å˜ã€‚<br><br># ç­‰å·è¿ç®—ç¬¦<br><br>å› ä¸ºç±»æ˜¯å¼•ç”¨ç±»å‹, èƒŒåå¯èƒ½æ˜¯å¤šä¸ªå¸¸é‡æˆ–å˜é‡å¼•ç”¨åŒä¸€ä¸ªç±»å®ä¾‹ã€‚ (ç»“æ„ä½“å’Œæšä¸¾ä¸æ˜¯è¿™æ ·, å› ä¸ºå®ƒä»¬èµ‹å€¼ç»™å¸¸é‡æˆ–è€…å˜é‡,æˆ–è€…ä¼ ç»™å‡½æ•°æ€»æ˜¯æ‹·è´çš„)<br><br>æœ‰æ—¶å€™,æ‰¾å‡ºä¸¤ä¸ªå¸¸é‡æˆ–è€…å˜é‡æ˜¯å¦å¼•ç”¨åŒä¸€ä¸ªç±»å®ä¾‹æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚ä¸ºäº†å®ç°è¿™ä¸ª, Swift æä¾›äº†ä¸¤ä¸ªç­‰å·è¿ç®—ç¬¦:<br><code><br>ç›¸åŒ (===)<br>ä¸ç›¸åŒ (!==)</code><br>ç”¨è¿™ä¸¤ä¸ªè¿ç®—ç¬¦å»åˆ¤æ–­ä¸¤ä¸ªå¸¸é‡æˆ–è€…å˜é‡æ˜¯å¦å¼•ç”¨åŒä¸€ä¸ªå®ä¾‹:<br><code><br>if tenEighty === alsoTenEighty {<br>print(â€œtenEighty and alsoTenEighty refer to the same VideoMode instance.â€)<br>}</code><br>// æ‰“å° â€œtenEighty and alsoTenEighty refer to the same VideoMode instance.â€<br>æ³¨æ„â€œç›¸åŒâ€ (ç”¨ä¸‰ä¸ªç­‰å·è¡¨ç¤º) è·Ÿâ€œç­‰äºâ€ (ç”¨ä¸¤ä¸ªç­‰å·è¡¨ç¤º)è¿˜ä¸åŒ:<br><br>â€œç›¸åŒâ€ æ„æ€æ˜¯ä¸¤ä¸ªç±»å®ä¾‹å¸¸é‡æˆ–è€…å˜é‡å¼•ç”¨ç›¸åŒçš„ç±»å®ä¾‹ã€‚<br>â€œç­‰äºâ€ æ„æ€æ˜¯ä¸¤ä¸ªå®ä¾‹å€¼ç›¸ç­‰, ä¸€äº›â€œç­‰äºâ€çš„ç›¸å…³æ„æ€, ç”±ç±»å‹è®¾è®¡è€…å®šä¹‰ã€‚<br>å½“ä½ è‡ªå®šä¹‰ç±»å’Œç»“æ„ä½“æ—¶, ä½ æœ‰è´£ä»»å†³å®šä¸¤ä¸ªå®ä¾‹â€œç­‰äºâ€åœ¨ç¬¦åˆæ¡ä»¶ã€‚å®ç°â€œç­‰äºâ€ and â€œä¸ç­‰äºâ€ è¿ç®—ç¬¦çš„è¿‡ç¨‹åœ¨ç­‰äºè¿ç®—ç¬¦ä¸­æè¿°ã€‚<br><br># æŒ‡é’ˆ<br><br>å¦‚æœä½ ç†Ÿæ‚‰ C, C++, æˆ–è€… Objective-C, ä½ å¯èƒ½ä¼šçŸ¥é“è¿™äº›è¯­è¨€ä½¿ç”¨æŒ‡é’ˆæ¥æŒ‡å‘å†…å­˜åœ°å€ã€‚ Swift çš„å¸¸é‡æˆ–è€…å˜é‡,å¼•ç”¨ä¸€ä¸ªå®ä¾‹å¾ˆåƒCè¯­è¨€çš„æŒ‡é’ˆ, ä½†æ˜¯ä¸ä¼šç›´æ¥æŒ‡å‘å†…å­˜åœ°å€, å¹¶ä¸”ä¸éœ€è¦ä½ ä¹¦å†™ ()æ¥è¡¨æ˜ä½ è¦åˆ›å»ºä¸€ä¸ªå¼•ç”¨ã€‚ ç›¸å, è¿™äº›å¼•ç”¨å’ŒSwift ä¸­çš„å…¶ä»–ä»»ä½•å¸¸é‡æˆ–è€…å˜é‡çš„å®šä¹‰å¾ˆåƒã€‚<br><br># åœ¨ç±»ä¸ç»“æ„ä½“ä¸­é€‰æ‹©<br><br>ä½ å¯ä»¥åœ¨ä½ çš„ä»£ç å—ä¸­åŒæ—¶ä½¿ç”¨ç±»å’Œç»“æ„ä½“æ¥å®šä¹‰è‡ªå®šä¹‰æ•°æ®ç±»å‹ã€‚<br><br>ä¸è¿‡, ç»“æ„ä½“å®ä¾‹æ€»æ˜¯ç”¨å€¼ä¼ é€’, è€Œç±»æ€»æ˜¯ä½¿ç”¨å¼•ç”¨ä¼ é€’ã€‚è¿™å°±æ„å‘³ç€å®ƒä»¬é€‚ç”¨äºä¸åŒçš„ä»»åŠ¡ç§ç±»ã€‚åœ¨ä½ éœ€è¦è€ƒè™‘æ•°æ®æ„å»ºå’ŒåŠŸèƒ½æ—¶, è§‰å¾—æ˜¯å¦æ¯ä¸€ä¸ªæ•°æ®æ„å»ºåº”è¯¥é€‰ç”¨ç±»è¿˜æ˜¯ç»“æ„ä½“ã€‚<br><br>ä¸€ä¸ªé€šç”¨çš„æŒ‡å¯¼æ˜¯, ä¸‹é¢ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ¡ä»¶ç¬¦åˆæ—¶è€ƒè™‘ä½¿ç”¨ä¸€ä¸ªç»“æ„ä½“:<br><br>ç»“æ„ä½“çš„ä¸»è¦ç›®çš„æ˜¯å°è£…ä¸€äº›ç›¸å…³çš„ç®€å•æ•°æ®å€¼ã€‚<br>ä¼ é€’ç»“æ„ä½“å®ä¾‹æ˜¯æ‹·è´è€Œéå¼•ç”¨ã€‚<br>ç»“æ„ä½“å­˜å‚¨çš„ä»»æ„å±æ€§ä¹Ÿæ˜¯å€¼ç±»å‹, è¿™äº›å±æ€§æœŸæœ›æ˜¯æ‹·è´è€Œéå¼•ç”¨ä½¿ç”¨ã€‚<br>ç»“æ„ä½“ä¸éœ€è¦ç»§æ‰¿å…¶ä»–å­˜åœ¨ç±»å‹çš„å±æ€§æˆ–è€…è¡Œä¸ºã€‚<br>é€‚åˆç»“æ„ä½“çš„å¥½ä¾‹å­:<br><br>å‡ ä½•å½¢çŠ¶çš„å¤§å°, å¯èƒ½è¦å°è£…ä¸€ä¸ªå®½åº¦å±æ€§å’Œä¸€ä¸ªé«˜åº¦å±æ€§, ä¸¤è€…éƒ½æ˜¯æµ®ç‚¹å‹ã€‚<br>ä½¿ç”¨ä¸€ä¸ªç³»åˆ—çš„èŒƒå›´, å¯èƒ½å°è£…ä¸€ä¸ªèµ·ç‚¹å±æ€§å’Œä¸€ä¸ªé•¿åº¦å±æ€§, ä¸¤è€…éƒ½æ˜¯æ•´å‹ã€‚<br>3Dåæ ‡ç³»çš„ç‚¹, å¯èƒ½è¦å°è£… x, y å’Œ z å±æ€§, æ¯ä¸ªéƒ½æ˜¯æµ®ç‚¹å‹ã€‚<br>å…¶ä»–æƒ…å†µ, å®šä¹‰ä¸€ä¸ªç±», ç„¶ååˆ›å»ºç±»çš„å®ä¾‹ç”¨æ¥ç®¡ç†å’Œä¼ é€’å¼•ç”¨ã€‚ åœ¨å®è·µä¸­, æ„æ€è‡ªå®šä¹‰æ•°æ®æ„å»ºä½¿ç”¨ç±»è€Œä¸æ˜¯ç»“æ„ä½“ã€‚<br><br># å­—ç¬¦ä¸²,æ•°ç»„å’Œå­—å…¸çš„èµ‹å€¼å’Œæ‹·è´è¡Œä¸º<br><br>åœ¨ Swift ä¸­, ä¸€äº›åŸºæœ¬çš„æ•°æ®ç±»å‹åƒString, Array, å’Œ Dictionary éƒ½æ˜¯ç”¨ç»“æ„ä½“å®ç°çš„ã€‚ è¿™å°±æ„å‘³ç€ä¾‹å¦‚å­—ç¬¦ä¸²,æ•°ç»„å’Œå­—å…¸åœ¨èµ‹å€¼ç»™å¸¸é‡æˆ–è€…å˜é‡æ—¶,ä¹Ÿæ˜¯è¢«æ‹·è´çš„, ä¼ é€’ç»™å‡½æ•°æˆ–è€…æ–¹æ³•æ—¶ä¹Ÿä¸€æ ·ã€‚<br><br>è¿™ä¸ªè¡Œä¸ºä¸åŒäº Foundation: NSString, NSArray, å’Œ NSDictionary, å®ƒä»¬æ˜¯ç”¨ç±»å®ç°çš„ã€‚å­—ç¬¦ä¸²,æ•°ç»„å’Œå­—å…¸åœ¨ Foundation ä¸­èµ‹å€¼æ—¶ç”¨çš„å¼•ç”¨è€Œéæ‹·è´ã€‚<br><br>å¤‡æ³¨<br><br>ä¸Šé¢æè¿°çš„æ‹·è´ã€‚ åœ¨ä½ çš„ä»£ç é‡Œè¿™ç§è¡Œä¸ºä¼¼ä¹æ€»æ˜¯å‘ç”Ÿã€‚ ç„¶è€Œ, Swift åªæœ‰åœ¨çœŸæ­£éœ€è¦è¿™ä¹ˆåšçš„æ—¶å€™æ‰è¿›è¡Œå®é™…çš„æ‹·è´ã€‚ Swiftç®¡ç†æ‰€æœ‰çš„å€¼æ‹·è´æ¥ç¡®ä¿æ€§èƒ½æœ€ä¼˜, æ‰€ä»¥ä½ ä¸åº”é¿å…èµ‹å€¼æ¥æŠ¢å è¿™ç§ä¼˜åŒ–ã€‚<br><br># å±æ€§<br>å±æ€§å…³è”ç‰¹å®šçš„ç±»,ç»“æ„ä½“æˆ–è€…æšä¸¾çš„å€¼ã€‚ å­˜å‚¨å±æ€§ä½œä¸ºå®ä¾‹çš„ä¸€éƒ¨åˆ†ç”¨æ¥å­˜å‚¨å¸¸é‡æˆ–è€…å˜é‡çš„å€¼, è€Œè®¡ç®—å±æ€§ç”¨æ¥è®¡ç®—ä¸€ä¸ªå€¼ã€‚ è®¡ç®—å±æ€§ç”±ç±»,ç»“æ„ä½“å’Œæšä¸¾æä¾›ã€‚ å­˜å‚¨å±æ€§ä»…ç”±ç±»å’Œç»“æ„ä½“æä¾›ã€‚<br><br>å­˜å‚¨å’Œè®¡ç®—å±æ€§é€šå¸¸å…³è”ç‰¹å®šç±»å‹çš„å®ä¾‹ã€‚ ä¸è¿‡, å±æ€§ä¹Ÿå¯ä»¥ç®¡ç†ç±»å‹æœ¬èº«ã€‚ æ¯”å¦‚ç±»å‹å±æ€§ã€‚<br><br>å¦å¤–, ä½ å¯ä»¥å®šä¹‰è§‚å¯Ÿè€…æ¥ç›‘è§†å±æ€§å€¼çš„æ”¹å˜, è‡ªå®šä¹‰å“åº”çš„è¡Œä¸ºã€‚ å±æ€§è§‚å¯Ÿè€…å¯ä»¥æ·»åŠ åˆ°ä½ å®šä¹‰çš„å­˜å‚¨å±æ€§, ä¹Ÿå¯ä»¥æ˜¯å­ç±»é›†æˆçˆ¶ç±»çš„å±æ€§ã€‚<br><br># å­˜å‚¨å±æ€§<br><br>æœ€ç®€å•çš„å½¢å¼, ä¸€ä¸ªå­˜å‚¨å±æ€§æ˜¯ä½œä¸ºç‰¹å®šç±»å’Œç»“æ„ä½“çš„å¸¸é‡æˆ–è€…å˜é‡ã€‚ å­˜å‚¨å±æ€§æ—¢å¯ä»¥æ˜¯å˜é‡ä¹Ÿå¯ä»¥æ˜¯å¸¸é‡ã€‚<br><br>ä½ å¯ä»¥æä¾›ä¸€ä¸ªé»˜è®¤å€¼ä½œä¸ºå­˜å‚¨å±æ€§å®šä¹‰çš„ä¸€éƒ¨åˆ†ã€‚ä½ ä¹Ÿå¯ä»¥åœ¨åˆå§‹åŒ–æ—¶æ”¹å˜å®ƒçš„åˆå§‹å€¼ã€‚å¯¹äºå¸¸é‡å­˜å‚¨å±æ€§ä¹Ÿæ˜¯å¦‚æ­¤ã€‚<br><br>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªç»“æ„ä½“ FixedLengthRange, æè¿°äº†ä¸€ä¸ªæ•´å‹çš„èŒƒå›´, å®ƒæœ‰ä¸€ä¸ªé•¿åº¦ä¸€æ—¦åˆ›å»ºå°±ä¸å¯ä¿®æ”¹:<br><code><br>struct FixedLengthRange {<br>var firstValue: Int<br>let length: Int<br>}<br>var rangeOfThreeItems = FixedLengthRange(firstValue: 0, length: 3)<br>// the range represents integer values 0, 1, and 2<br>rangeOfThreeItems.firstValue = 6<br>// the range now represents integer values 6, 7, and 8<br></code><br>FixedLengthRange å®ä¾‹æœ‰ä¸€ä¸ªå˜é‡å­˜å‚¨å±æ€§ firstValue å’Œä¸€ä¸ªå¸¸é‡å­˜å‚¨å±æ€§ length. ä¸Šé¢è¿™ä¸ªä¾‹å­, length åœ¨æ–°å®ä¾‹åˆ›å»ºæ—¶åˆå§‹åŒ–è€Œåä¸å¯ä¿®æ”¹, å› ä¸ºå®ƒæ˜¯ä¸€ä¸ªå¸¸é‡å±æ€§ã€‚<br><br># å¸¸é‡ç»“æ„ä½“çš„å­˜å‚¨å±æ€§<br><br>å¦‚æœä½ åˆ›å»ºä¸€ä¸ªç»“æ„ä½“å®ä¾‹å¹¶æŠŠå®ƒèµ‹å€¼ç»™ä¸€ä¸ªå¸¸é‡, ä½ å°±ä¸èƒ½ä¿®æ”¹è¿™ä¸ªå®ä¾‹çš„å±æ€§, å³ä½¿å®ƒä»¬å®šä¹‰æˆå˜é‡å±æ€§:<br><code><br>let rangeOfFourItems = FixedLengthRange(firstValue: 0, length: 4)<br>// this range represents integer values 0, 1, 2, and 3<br>rangeOfFourItems.firstValue = 6<br>// è¿™é‡Œä¼šæŠ¥é”™, å³ä½¿ firstValue æ˜¯å˜é‡å±æ€§<br></code><br>å› ä¸ºrangeOfFourItems å£°æ˜æˆä¸€ä¸ªå¸¸é‡, æ‰€ä»¥ä¸èƒ½ä¿®æ”¹ firstValue å±æ€§, å³ä½¿ firstValue æ˜¯ä¸€ä¸ªå˜é‡å±æ€§ã€‚<br><br>è¿™ä¸ªè¡Œä¸ºæ˜¯å› ä¸ºç»“æ„ä½“æ˜¯å€¼ç±»å‹ã€‚ ä¸€ä¸ªå€¼ç±»å‹çš„å®ä¾‹è¢«æ ‡è®°ä¸ºå¸¸é‡, é‚£ä¹ˆå®ƒæ‰€æœ‰çš„å±æ€§ä¹Ÿå˜æˆäº†å¸¸é‡ã€‚<br><br>å¯¹äºç±»æ¥è¯´ä¸æ˜¯è¿™æ ·, ç±»æ˜¯å¼•ç”¨ç±»å‹ã€‚ å¦‚æœä½ æŠŠç±»å®ä¾‹èµ‹å€¼ç»™ä¸€ä¸ªå¸¸é‡, ä½ ä¾ç„¶å¯ä»¥ä¿®æ”¹ç±»çš„å˜é‡å±æ€§ã€‚<br><br># å»¶è¿Ÿå­˜å‚¨å±æ€§<br><br>å»¶è¿Ÿå­˜å‚¨å±æ€§çš„åˆå§‹å€¼åœ¨é¦–æ¬¡ä½¿ç”¨æ—¶æ‰ä¼šè®¡ç®—ã€‚æ ‡ç¤ºå»¶è¿Ÿå­˜å‚¨å±æ€§é€šè¿‡åœ¨å£°æ˜å‰ä¹¦å†™ lazy ä¿®é¥°ç¬¦å®ç°ã€‚<br><br>å¤‡æ³¨<br><br>ä½ åº”è¯¥æ€»æ˜¯æŠŠå»¶è¿Ÿå±æ€§å£°æ˜æˆå˜é‡, å› ä¸ºå®ƒçš„åˆå§‹å€¼å¯èƒ½åœ¨å®ä¾‹åˆå§‹åŒ–å®Œæˆåæ‰è·å–åˆ°ã€‚Constant properties must always have a value before initialization completes, and therefore cannot be declared as lazy.<br><br>å»¶è¿Ÿå±æ€§åœ¨åˆå§‹åŒ–å€¼éœ€è¦ä¾èµ–å¤–éƒ¨å› ç´ æ—¶å¾ˆæœ‰ç”¨,å®ƒä»¬çš„å€¼ç›´åˆ°å®ä¾‹åˆå§‹åŒ–å®Œæˆåæ‰çŸ¥é“ã€‚ å½“å±æ€§åˆå§‹å€¼éœ€è¦å¤æ‚å’Œå¤§é‡è®¡ç®—æ—¶ï¼Œå»¶è¿Ÿå±æ€§éœ€è¦æ—¶å†æ‰§è¡ŒåŠ è½½ä¹Ÿéå¸¸æœ‰ç”¨ã€‚<br><br>ä¸‹é¢çš„ä¾‹å­ä½¿ç”¨ä¸€ä¸ªå»¶è¿Ÿå­˜å‚¨å±æ€§æ¥é¿å…ä¸€ä¸ªå¤åˆç±»çš„ä¸å¿…è¦çš„åˆå§‹åŒ–ã€‚è¿™ä¸ªä¾‹å­å®šä¹‰äº†ä¸¤ä¸ªç±» DataImporter å’Œ DataManager, ä¸¤ä¸ªéƒ½æ²¡æœ‰å®Œæ•´æ˜¾ç¤º:<br><code><br>class DataImporter {<br>/<em><br>DataImporter is a class to import data from an external file.<br>The class is assumed to take a non-trivial amount of time to initialize.
</em>/<br>var fileName = â€œdata.txtâ€<br>// the DataImporter class would provide data importing functionality here<br>}<br><br>class DataManager {<br>lazy var importer = DataImporter()<br>var data = <a href="">String</a><br>// the DataManager class would provide data management functionality here<br>}<br><br>let manager = DataManager()<br>manager.data.append(â€œSome dataâ€)<br>manager.data.append(â€œSome more dataâ€)<br>// the DataImporter instance for the importer property has not yet been created<br></code><br>DataManager ç±»æœ‰ä¸€ä¸ªå­˜å‚¨å±æ€§ data, ç”¨ä¸€ä¸ªæ–°çš„,ç©ºçš„å­—ç¬¦ä¸²æ•°ç»„åˆå§‹åŒ–ã€‚ å°½ç®¡å®ƒå…¶ä½™çš„åŠŸèƒ½æ²¡æœ‰æ˜¾ç¤º, DataManager ç±»çš„ç›®çš„æ˜¯ç®¡ç†å’Œæä¾›å¯¹å­—ç¬¦ä¸²æ•°æ®æ•°ç»„çš„è®¿é—®ã€‚<br><br>ç±»çš„éƒ¨åˆ†åŠŸèƒ½æ˜¯å¯ä»¥ä»æ–‡ä»¶å¯¼å…¥æ•°æ®ã€‚ è¿™ä¸ªåŠŸèƒ½ç”± DataImporter ç±»æä¾›, å‡è®¾åˆå§‹åŒ–æ—¶é—´å¾®ä¸è¶³é“ã€‚ è¿™æ˜¯å› ä¸ºå½“DataImporterå®ä¾‹è¢«åˆå§‹åŒ–æ—¶, DataImporter å®ä¾‹éœ€è¦è¯»å–æ–‡ä»¶å†…å®¹åˆ°å†…å­˜ã€‚<br><br>DataManager å®ä¾‹åœ¨æ²¡æœ‰ä»»ä½•æ–‡ä»¶è¾“å…¥çš„æƒ…å†µä¸‹ç®¡ç†æ•°æ®ä¹Ÿæ˜¯æœ‰å¯èƒ½çš„, æ‰€ä»¥ DataManager åˆ›å»ºæ—¶ä¸éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„ DataImporter å®ä¾‹ã€‚ ç›¸å, çœŸæ­£éœ€è¦ä½¿ç”¨DataImporterçš„æ—¶å€™å†åˆ›å»ºæ›´æœ‰æ„ä¹‰ã€‚<br><br>å› ä¸ºå®ƒæ ‡è®°äº†lazy ä¿®é¥°ç¬¦, DataImporter å®ä¾‹åªä¼šåœ¨ importer å±æ€§é¦–æ¬¡è¢«è®¿é—®çš„æ—¶å€™åˆ›å»º, æ¯”å¦‚å½“å®ƒçš„ fileName å±æ€§éœ€è¦çš„æ—¶å€™:<br><code><br>print(manager.importer.fileName)<br>// the DataImporter instance for the importer property has now been created<br>// æ‰“å° â€œdata.txtâ€<br></code><br>å¤‡æ³¨<br><br>å¦‚æœlazy æ ‡ç¤ºçš„å±æ€§è¢«å¤šçº¿ç¨‹åŒæ—¶è®¿é—®å¹¶ä¸”è¿™ä¸ªå±æ€§è¿˜æœªåˆå§‹åŒ–, ä¸èƒ½ä¿è¯è¿™ä¸ªå±æ€§åªä¼šåˆå§‹åŒ–ä¸€æ¬¡ã€‚<br><br># å­˜å‚¨å±æ€§å’Œå®ä¾‹å˜é‡<br><br>å¦‚æœä½ ç†Ÿæ‚‰ Objective-C, ä½ å¯èƒ½äº†è§£å®ƒæä¾›äº†ä¸¤ç§æ–¹å¼æ¥å­˜å‚¨å€¼å’Œå¼•ç”¨ã€‚ é™¤äº†å±æ€§, ä½ å¯ä»¥ä½¿ç”¨å®ä¾‹å˜é‡ä½œä¸ºå±æ€§çš„åå¤‡æ¥å­˜å‚¨å€¼ã€‚<br><br>Swift æŠŠè¿™äº›æ¦‚å¿µç»“åˆåˆ°å•ç‹¬çš„å±æ€§å£°æ˜ã€‚ ä¸€ä¸ª Swift å±æ€§æ²¡æœ‰ç›¸åº”çš„å®ä¾‹å˜é‡, å±æ€§çš„åå¤‡å­˜å‚¨ä¸èƒ½ç›´æ¥è®¿é—®ã€‚ è¿™ä¸ªæ–¹æ³•é¿å…äº†åœ¨ä¸åŒä¸Šä¸‹æ–‡è®¿é—®å€¼çš„æ··ä¹±å¹¶ä¸”æŠŠå±æ€§çš„å£°æ˜ç®€åŒ–åˆ°å•ç‹¬æ˜ç¡®çš„è¯­å¥ã€‚æ‰€æœ‰çš„å±æ€§ä¿¡æ¯â€”åŒ…æ‹¬å®ƒçš„åå­—, ç±»å‹, å’Œå†…å­˜ç®¡ç†ç‰¹æ€§â€”ä½œä¸ºç±»å‹å®šä¹‰çš„éƒ¨åˆ†å®šä¹‰åœ¨å•ç‹¬çš„ä½ç½®ã€‚<br><br># è®¡ç®—å±æ€§<br><br>é™¤äº†å­˜å‚¨å±æ€§, ç±», ç»“æ„ä½“, å’Œæšä¸¾è¿˜å¯ä»¥å®šä¹‰è®¡ç®—å±æ€§, è®¡ç®—å±æ€§ä¸å­˜å‚¨å€¼ã€‚ç›¸å, å®ƒä»¬æä¾›äº†ä¸€ä¸ª getter å’Œä¸€ä¸ªå¯é€‰çš„ setter æ–¹æ³•æ¥ç®€ä»‹è·å–æˆ–è€…è®¾å®šå…¶ä»–å±æ€§å’Œå€¼ã€‚<br><code><br>struct Point {<br>var x = 0.0, y = 0.0<br>}<br>struct Size {<br>var width = 0.0, height = 0.0<br>}<br>struct Rect {<br>var origin = Point()<br>var size = Size()<br>var center: Point {<br>get {<br>let centerX = origin.x + (size.width / 2)<br>let centerY = origin.y + (size.height / 2)<br>return Point(x: centerX, y: centerY)<br>}<br>set(newCenter) {<br>origin.x = newCenter.x - (size.width / 2)<br>origin.y = newCenter.y - (size.height / 2)<br>}<br>}<br>}<br>var square = Rect(origin: Point(x: 0.0, y: 0.0),<br>size: Size(width: 10.0, height: 10.0))<br>let initialSquareCenter = square.center<br>square.center = Point(x: 15.0, y: 15.0)<br>print(â€œsquare.origin is now at ((square.origin.x), (square.origin.y))â€)<br>// æ‰“å° â€œsquare.origin is now at (10.0, 10.0)â€<br></code><br>è¿™ä¸ªä¾‹å­å®šä¹‰äº†ä¸‰ä¸ªç»“æ„ä½“ä½¿ç”¨å‡ ä½•å½¢çŠ¶:<br><br>Point å°è£…äº†ä¸€ä¸ªç‚¹çš„xå’Œyåæ ‡ã€‚<br>Size å°è£…äº†ä¸€ä¸ªå®½åº¦å’Œé«˜åº¦ã€‚<br>Rect ç”¨ä¸€ä¸ªåŸç‚¹å’Œå¤§å°å®šä¹‰äº†ä¸€ä¸ªçŸ©å½¢ã€‚<br>Rect ç»“æ„ä½“ä¹Ÿæä¾›äº†ä¸€ä¸ªè®¡ç®—å±æ€§ center. ä¸€ä¸ªRect çš„å½“å‰ä¸­å¿ƒä½ç½®æ€»æ˜¯å–å†³äºå®ƒçš„åŸç‚¹å’Œå¤§å°ã€‚æ‰€ä»¥ä½ ä¸éœ€è¦æ˜¾ç¤ºå­˜å‚¨ä¸­å¿ƒçš„å€¼ã€‚ ç›¸å, Rect ä¸ºè®¡ç®—centerè‡ªå®šä¹‰äº† getter å’Œ setter æ–¹æ³•ã€‚ç¡®ä¿ä½ åƒä½¿ç”¨çœŸæ­£çš„å­˜å‚¨å±æ€§ä¸€æ ·ä½¿ç”¨çŸ©å½¢çš„ä¸­å¿ƒã€‚<br><br>å‰é¢çš„ä¾‹å­åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ Rect å˜é‡ square. square åŸç‚¹åˆå§‹åŒ–ä¸º (0, 0), å®½åº¦å’Œé«˜åº¦éƒ½æ˜¯ 10. è¿™ä¸ªæ­£æ–¹å½¢åœ¨ä¸‹é¢çš„å›¾è¡¨é‡Œç”¨è“è‰²æ­£æ–¹å½¢è¡¨ç¤ºã€‚<br><br>square å˜é‡çš„ center å±æ€§é€šè¿‡ç‚¹è¯­æ³•è®¿é—®, è¿™ä¸ªå¯¼è‡´ getter æ–¹æ³•è¢«è°ƒç”¨, æ¥è·å–å½“å‰å±æ€§å€¼ã€‚ ç›¸æ¯”è¿”å›å­˜åœ¨çš„å€¼, getter å®é™…ä¸Šè®¡ç®—å¹¶è¿”å›ä¸€ä¸ªæ–°çš„ Point æ¥è¡¨ç¤ºæ­£æ–¹å½¢çš„ä¸­å¿ƒã€‚ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°, getter æ­£ç¡®è¿”å›äº†ä¸­å¿ƒç‚¹ (5, 5).<br><br>center å±æ€§ç„¶åè¢«è®¾ç½®æˆæ–°å€¼ (15, 15), è¿™ä¼šæŠŠæ­£æ–¹å½¢å¾€å³ä¸Šæ–¹ç§»åŠ¨, å¦‚ä¸‹å›¾ä¸­çš„æ©™è‰²æ­£æ–¹å½¢ã€‚ è®¾ç½® center å±æ€§ä¼šè°ƒç”¨ setter æ–¹æ³•, è¿™ä¸ªä¼šä¿®æ”¹åŸç‚¹å±æ€§çš„xå’Œyå€¼, ç„¶åç§»åŠ¨æ­£æ–¹å½¢åˆ°æ–°çš„ä½ç½®ã€‚<br><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/computedProperties_2x.png"><br></div><br># Setter ç®€åŒ–å£°æ˜<br><br>å¦‚æœä¸€ä¸ªè®¡ç®—å±æ€§çš„ setter æ²¡æœ‰å®šä¹‰è®¾ç½®ç”¨çš„æ–°å€¼å, é»˜è®¤çš„åå­— newValue ä¼šè¢«ä½¿ç”¨ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªRect ç»“æ„ä½“çš„æ›¿ä»£ç‰ˆæœ¬, ä½¿ç”¨äº†è¿™ç§ç®€åŒ–ç¬¦å·:<br><code><br>struct AlternativeRect {<br>var origin = Point()<br>var size = Size()<br>var center: Point {<br>get {<br>let centerX = origin.x + (size.width / 2)<br>let centerY = origin.y + (size.height / 2)<br>return Point(x: centerX, y: centerY)<br>}<br>set {<br>origin.x = newValue.x - (size.width / 2)<br>origin.y = newValue.y - (size.height / 2)<br>}<br>}<br>}<br></code><br># åªè¯»è®¡ç®—å±æ€§<br><br>åªæœ‰getter æ²¡æœ‰ setter çš„è®¡ç®—å±æ€§å°±æ˜¯äººä»¬æ‰€è¯´çš„åªè¯»è®¡ç®—å±æ€§ã€‚ä¸€ä¸ªåªè¯»è®¡ç®—å±æ€§æ€»æ˜¯è¿”å›ä¸€ä¸ªå€¼, å¯ä»¥é€šè¿‡ç‚¹è¯­æ³•è®¿é—®, ä½†æ˜¯ä¸å¯ä»¥è®¾ç½®ä¸ºå…¶ä»–å€¼ã€‚<br><br>å¤‡æ³¨<br><br>ä½ å¿…é¡»æŠŠè®¡ç®—å±æ€§åŒ…å«åªè¯»è®¡ç®—å±æ€§å£°æ˜ä¸ºå˜é‡, å› ä¸ºå®ƒä»¬çš„å€¼æ˜¯ä¸å›ºå®šçš„ã€‚let å…³é”®å­—åªæœ‰ç”¨äºå¸¸é‡å±æ€§, è¡¨æ˜å®ƒä»¬ä¸€æ—¦åˆå§‹åŒ–å°±ä¸èƒ½å†æ›´æ”¹ã€‚<br><br>å»æ‰ get å…³é”®å­—å’Œå®ƒçš„æ‹¬å·,ä½ å¯ä»¥ç®€åŒ–ä¸€ä¸ªåªè¯»è®¡ç®—å±æ€§çš„å£°æ˜:<br><code><br>struct Cuboid {<br>var width = 0.0, height = 0.0, depth = 0.0<br>var volume: Double {<br>return width <em> height </em> depth<br>}<br>}<br>let fourByFiveByTwo = Cuboid(width: 4.0, height: 5.0, depth: 2.0)<br>print(â€œthe volume of fourByFiveByTwo is (fourByFiveByTwo.volume)â€)<br>// æ‰“å° â€œthe volume of fourByFiveByTwo is 40.0â€<br></code><br>è¿™ä¸ªä¾‹å­å®šä¹‰äº†ä¸€ä¸ªæ–°çš„ç»“æ„ä½“ Cuboid, è¡¨ç¤ºä¸€ä¸ªä¸‰ç»´é•¿æ–¹ä½“, å…·æœ‰ width, height, å’Œ depth å±æ€§ã€‚ è¿™ä¸ªç»“æ„ä½“åŒæ—¶æœ‰ä¸€ä¸ªåªè¯»è®¡ç®—å±æ€§ volume, ç”¨æ¥è®¡ç®—å’Œè¿”å›é•¿æ–¹ä½“çš„ä½“ç§¯ã€‚ è®¾ç½®ä½“ç§¯æ˜¯æ²¡æœ‰æ„ä¹‰çš„, å› ä¸ºç‰¹å®šä½“ç§¯å€¼ç”¨å“ªäº›é•¿å®½é«˜æ˜¯ä¸æ¸…æ¥šçš„ã€‚ å°½ç®¡å¦‚æ­¤, ç»™å¤–éƒ¨ç”¨æˆ·æä¾›ä¸€ä¸ªåªè¯»è®¡ç®—å±æ€§æ¥å¾—åˆ°ç«‹æ–¹ä½“çš„è®¡ç®—åçš„ä½“ç§¯è¿˜æ˜¯æœ‰ç”¨çš„ã€‚<br><br># å±æ€§è§‚å¯Ÿè€…<br><br>å±æ€§è§‚å¯Ÿè€…è§‚å¯Ÿå¹¶å“åº”ä¸€ä¸ªå±æ€§å€¼çš„å˜åŒ–ã€‚ æ¯æ¬¡å±æ€§å€¼è®¾ç½®éƒ½ä¼šè°ƒç”¨å±æ€§è§‚å¯Ÿè€…, å³ä½¿æ–°å€¼å’Œå±æ€§å½“å‰å€¼ä¸€æ ·ä¹Ÿä¼šè°ƒç”¨ã€‚<br><br>ä½ å¯ä»¥ç»™ä»»ä½•ä½ å®šä¹‰çš„å­˜å‚¨å±æ€§æ·»åŠ è§‚å¯Ÿè€…, é™¤äº†å»¶è¿ŸåŠ è½½çš„å­˜å‚¨å±æ€§ã€‚ ä½ ä¹Ÿå¯ä»¥ç»™ä¸€ä¸ªç»§æ‰¿æ¥çš„å±æ€§æ·»åŠ è§‚å¯Ÿè€…,åªéœ€è¦åœ¨å­ç±»é‡å†™è¿™ä¸ªå±æ€§å³å¯ã€‚ä½ ä¸éœ€è¦ç»™ä¸€ä¸ªéé‡å†™çš„è®¡ç®—å±æ€§æ·»åŠ å±æ€§è§‚å¯Ÿè€…, å› ä¸ºä½ å¯ä»¥åœ¨å®ƒä»¬çš„setter æ–¹æ³•é‡Œè§‚å¯Ÿå’Œå“åº”å˜åŒ–ã€‚<br><br>ä½ å¯ä»¥é€‰æ‹©å®šä¹‰è¿™äº›å±æ€§è§‚å¯Ÿè€…ä¹‹ä¸€æˆ–å…¨éƒ¨:<br><br>willSet åœ¨å€¼å­˜å‚¨å‰è°ƒç”¨ã€‚<br>didSet åœ¨æ–°å€¼å­˜å‚¨åç«‹å³è°ƒç”¨ã€‚<br>å¦‚æœä½ å®ç°ä¸€ä¸ª willSet è§‚å¯Ÿè€…, å®ƒä¼šä»¥å¸¸é‡å‚æ•°å½¢å¼ä¼ é€’æ–°å±æ€§çš„å€¼ã€‚ ä½ å¯ä»¥ç®€åŒ–å‚æ•°åä½œä¸º willSet çš„å®ç°éƒ¨åˆ†ã€‚ å¦‚æœä½ åœ¨å®ç°ä¸­ä¸å†™å‚æ•°åå’Œæ‹¬å·, å‚æ•°åé»˜è®¤æ˜¯ newValue.<br><br>ç±»ä¼¼çš„, å¦‚æœä½ å®ç° didSet è§‚å¯Ÿè€…, å®ƒåŒ…å«æ—§çš„å±æ€§å€¼ä½œä¸ºå¸¸é‡äº§ç”Ÿä¼ é€’ã€‚ ä½ å¯ä»¥å‘½åè¿™ä¸ªå‚æ•°æˆ–è€…ä½¿ç”¨é»˜è®¤å‚æ•°å oldValue. å¦‚æœä½ åœ¨å®ƒè‡ªå·±çš„didset è§‚å¯Ÿè€…é‡Œç»™è¿™ä¸ªå±æ€§è®¾ç½®å€¼, ä½ èµ‹ç»™å®ƒçš„æ–°å€¼ä¼šæ›¿æ¢åˆšåˆšè®¾ç½®çš„å€¼ã€‚<br><br>å¤‡æ³¨<br><br>çˆ¶ç±»åˆå§‹åŒ–æ–¹æ³•è°ƒç”¨å, çˆ¶ç±»å±æ€§çš„ willSet å’Œ didSet è§‚å¯Ÿè€…åœ¨å­ç±»åˆå§‹åŒ–å±æ€§çš„æ—¶å€™è°ƒç”¨ã€‚ åœ¨çˆ¶ç±»åˆå§‹åŒ–è°ƒç”¨ä¹‹å‰, å½“ä¸€ä¸ªç±»è®¾ç½®å®ƒè‡ªå·±çš„å±æ€§æ—¶å®ƒä»¬ä¸ä¼šå†è¢«è°ƒç”¨ã€‚<br><br>è¿™é‡Œæœ‰ä¸€ä¸ª willSet å’Œ didSet çš„ä¾‹å­ã€‚ ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªæ–°ç±» StepCounter, ç”¨æ¥è®¡ç®—ä¸€ä¸ªäººèµ°è·¯çš„æ€»æ­¥æ•°ã€‚ è¿™ä¸ªç±»ç”¨åœ¨è¾“å…¥æ•°æ®æˆ–è€…å…¶ä»–è®°å½•ä¸€ä¸ªäººæ—¥å¸¸é”»ç‚¼çš„è®¡æ­¥å™¨ã€‚<br><code><br>class StepCounter {<br>var totalSteps: Int = 0 {<br>willSet(newTotalSteps) {<br>print(â€œAbout to set totalSteps to (newTotalSteps)â€)<br>}<br>didSet {<br>if totalSteps &gt; oldValue  {<br>print(â€œAdded (totalSteps - oldValue) stepsâ€)<br>}<br>}<br>}<br>}<br>let stepCounter = StepCounter()<br>stepCounter.totalSteps = 200<br>// About to set totalSteps to 200<br>// Added 200 steps<br>stepCounter.totalSteps = 360<br>// About to set totalSteps to 360<br>// Added 160 steps<br>stepCounter.totalSteps = 896<br>// About to set totalSteps to 896<br>// Added 536 steps<br></code><br>StepCounter ç±»å£°æ˜äº†ä¸€ä¸ªæ•´å‹ totalSteps. è¿™æ˜¯ä¸€ä¸ªå­˜å‚¨å±æ€§,å¸¦æœ‰ willSet å’Œ didSet è§‚å¯Ÿè€…ã€‚<br><br>totalSteps å±æ€§è®¾ç½®æ–°å€¼çš„æ—¶å€™ willSet å’Œ didSet è§‚å¯Ÿè€…ä¼šè°ƒç”¨ã€‚å³ä½¿è¿™ä¸ªæ–°å€¼è·Ÿå½“å‰å€¼ä¸€æ ·, ä¹Ÿä¼šè°ƒç”¨ã€‚<br><br>è¿™ä¸ªä¾‹å­ willSet è§‚å¯Ÿå€¼ä½¿ç”¨ä¸€ä¸ªè‡ªå®šä¹‰çš„å‚æ•° newTotalSteps æ¥æ›´æ–°å€¼ã€‚åœ¨è¿™ä¸ªä¾‹å­é‡Œ, å®ƒç®€å•æ‰“å°å°†è¦è®¾ç½®çš„å€¼ã€‚<br><br>didSet è§‚å¯Ÿè€…åœ¨ totalSteps å€¼æ›´æ–°åè°ƒç”¨ã€‚å®ƒæ¯”è¾ƒ totalSteps çš„æ–°æ—§å€¼ã€‚å¦‚æœæ€»æ­¥æ•°å¢åŠ äº†, æ‰“å°å¢åŠ æ­¥æ•°çš„ä¿¡æ¯ã€‚didSet è§‚å¯Ÿè€…æ²¡æœ‰æä¾›ä¸€ä¸ªè‡ªå®šä¹‰å‚æ•°å, ç”¨çš„æ˜¯and the default name of oldValue is used instead.<br><br>å¤‡æ³¨<br><br>ä½ å¦‚æœä¼ é€’ä¸€ä¸ªå¸¦æœ‰è§‚å¯Ÿè€…çš„å±æ€§ç»™å‡½æ•°ä½œä¸ºè¾“å…¥è¾“å‡ºå‚æ•°çš„è¯, willSet å’Œ didSet è§‚å¯Ÿè€…æ€»ä¼šè¢«è°ƒç”¨ã€‚è¿™æ˜¯å› ä¸ºè¾“å…¥è¾“å‡ºå‚æ•°çš„å†…å­˜èµ‹å€¼æ¨¡å‹: å‡½æ•°ç»“å°¾è¿™ä¸ªå€¼æ€»ä¼šå†™å›å±æ€§ã€‚<br><br># å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡<br><br>ä¸Šè¿°æè¿°çš„è®¡ç®—å’Œè§‚å¯Ÿå±æ€§çš„èƒ½åŠ›ä¹Ÿå¯ä»¥ç”¨äºå…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡ã€‚å…¨å±€å˜é‡å®šä¹‰åœ¨å‡½æ•°,æ–¹æ³•,é—­åŒ…æˆ–è€…ç±»å‹ä¸Šä¸‹æ–‡ä¹‹å¤–ã€‚å±€éƒ¨å˜é‡åˆ™æ˜¯å®šä¹‰åœ¨å‡½æ•°,æ–¹æ³•æˆ–è€…é—­åŒ…ä¸Šä¸‹æ–‡å†…ã€‚<br><br>å‰é¢ç« èŠ‚é‡åˆ°çš„å…¨å±€å’Œå±€éƒ¨å˜é‡éƒ½æ˜¯å­˜å‚¨å˜é‡ã€‚ å­˜å‚¨å˜é‡å¾ˆåƒå­˜å‚¨å±æ€§, æä¾›ç‰¹å®šç±»å‹å€¼çš„å­˜å‚¨å¹¶ä¸”å…è®¸å€¼çš„è®¾ç½®å’Œè·å–ã€‚<br><br>ä¸è¿‡, ä¸è¿‡ä½ å¯ä»¥åœ¨å…¨å±€è·å–å±€éƒ¨èŒƒå›´,å®šä¹‰è®¡ç®—å˜é‡,ä¸ºå­˜å‚¨å˜é‡å®šä¹‰è§‚å¯Ÿè€…ã€‚è®¡ç®—å˜é‡è®¡ç®—å®ƒä»¬çš„å€¼, è€Œéå­˜å‚¨å®ƒ, å®ƒä»¬å’Œè®¡ç®—å±æ€§å†™æ³•ä¸€æ ·ã€‚<br><br>å¤‡æ³¨<br><br>Global å¸¸é‡å’Œå˜é‡æ€»æ˜¯å»¶è¿Ÿè®¡ç®—, è·Ÿå»¶è¿Ÿçš„å­˜å‚¨å±æ€§ç±»ä¼¼æ–¹å¼ã€‚ä½†æ˜¯å’Œå»¶è¿Ÿå­˜å‚¨å±æ€§ä¸åŒçš„æ˜¯, å…¨å±€å¸¸é‡å’Œå˜é‡ä¸éœ€è¦æ ‡è®° lazy ä¿®é¥°ç¬¦ã€‚<br><br>å±€éƒ¨å¸¸é‡å’Œå˜é‡ä¸èƒ½æ˜¯å»¶è¿Ÿè®¡ç®—çš„ã€‚<br><br># ç±»å‹å±æ€§<br><br>Instance å±æ€§å±äºç‰¹å®šç±»å‹çš„å®ä¾‹ã€‚ æ¯æ¬¡ä½ åˆ›å»ºè¿™ç§ç±»å‹çš„å®ä¾‹, å®ƒéƒ½æœ‰è‡ªå·±ä¸€ç»„å±æ€§å€¼, å’Œå…¶ä»–å®ä¾‹åŒºåˆ†å¼€æ¥ã€‚<br><br>ä½ è¿˜å¯ä»¥å®šä¹‰ç±»å‹è‡ªå·±çš„å±æ€§, è€Œä¸æ˜¯è¿™ç§ç±»å‹å®ä¾‹çš„å±æ€§ã€‚è¿™é‡Œåªä¼šæœ‰è¿™äº›å±æ€§ä¸€ä¸ªæ‹·è´, ä¸ç®¡ä½ åˆ›å»ºå¤šå°‘é‚£ç§ç±»å‹çš„å®ä¾‹ã€‚è¿™äº›å±æ€§å°±æ˜¯ç±»å‹å±æ€§ã€‚<br><br>å®šä¹‰æŸç§ç±»å‹å®ä¾‹çš„é€šç”¨å€¼æ—¶ç±»å‹å±æ€§å¾ˆæœ‰ç”¨, æ¯”å¦‚å¸¸é‡å±æ€§æ‰€æœ‰å®ä¾‹éƒ½å¯ä»¥ç”¨ (åƒCé‡Œé¢çš„é™æ€å¸¸é‡), æˆ–è€…å˜é‡å±æ€§ç”¨æ¥å­˜å‚¨é‚£ç§ç±»å‹çš„é€šç”¨å€¼ (æƒ³Cé‡Œé¢çš„é™æ€å˜é‡).<br><br>å­˜å‚¨ç±»å‹å±æ€§å¯ä»¥æ˜¯å¸¸é‡æˆ–è€…å˜é‡ã€‚è®¡ç®—ç±»å‹å±æ€§æ€»æ˜¯å˜é‡, å’Œè®¡ç®—å®ä¾‹å±æ€§ä¸€æ ·ã€‚<br><br>å¤‡æ³¨<br><br>è·Ÿå­˜å‚¨å®ä¾‹å±æ€§ä¸åŒ, ä½ å¿…é¡»ç»™å­˜å‚¨ç±»å‹å±æ€§ä¸€ä¸ªé»˜è®¤å€¼ã€‚è¿™æ˜¯å› ä¸ºç±»å‹æœ¬èº«æ²¡æœ‰åˆå§‹åŒ–æ–¹æ³•, ä¸èƒ½åœ¨åˆå§‹åŒ–æ—¶ç»™å­˜å‚¨ç±»å‹å±æ€§æŒ‡å®šä¸€ä¸ªåˆå§‹å€¼ã€‚<br><br>å­˜å‚¨ç±»å‹å±æ€§é¦–æ¬¡è®¿é—®æ—¶æ˜¯å»¶è¿Ÿåˆå§‹åŒ–çš„ã€‚å®ƒä»¬ä¿è¯åªè¿›è¡Œä¸€æ¬¡åˆå§‹åŒ–, å³ä½¿è¢«å¤šçº¿ç¨‹åŒæ—¶è®¿é—®, å®ƒä»¬ä¸éœ€è¦ç”¨lazy ä¿®é¥°ç¬¦æ ‡è®°ã€‚<br><br># ç±»å‹å±æ€§è¯­æ³•<br><br>åœ¨ C å’Œ Objective-C ä¸­, ä½ å®šä¹‰é™æ€å¸¸é‡å’Œå˜é‡ä½œä¸ºå…¨å±€é™æ€å˜é‡ã€‚ åœ¨ Swift é‡Œ, ç±»å‹å±æ€§å†™ä½œç±»å‹å®šä¹‰çš„ä¸€éƒ¨åˆ†, åœ¨ç±»å‹å¤–éƒ¨çš„å¤§æ‹¬å·é‡Œ, å¹¶ä¸”æ¯ç§ç±»å‹å±æ€§æ˜¾å¼å±€é™äºå®ƒæ”¯æŒçš„ç±»å‹ã€‚<br><br>ç”¨staticå…³é”®å­—å®šä¹‰ç±»å‹å±æ€§ã€‚ å¯¹äºç±»çš„è®¡ç®—ç±»å‹å±æ€§, ä½ å¯ä»¥ç”¨ class å…³é”®å­—å»å…è®¸å­ç±»é‡å†™çˆ¶ç±»çš„å®ç°ã€‚ä¸‹é¢çš„ä¾‹å­å±•ç¤ºå­˜å‚¨å’Œè®¡ç®—ç±»å‹å±æ€§çš„è¯­æ³•:<br><code><br>struct SomeStructure {<br>static var storedTypeProperty = â€œSome value.â€<br>static var computedTypeProperty: Int {<br>return 1<br>}<br>}<br>enum SomeEnumeration {<br>static var storedTypeProperty = â€œSome value.â€<br>static var computedTypeProperty: Int {<br>return 6<br>}<br>}<br>class SomeClass {<br>static var storedTypeProperty = â€œSome value.â€<br>static var computedTypeProperty: Int {<br>return 27<br>}<br>class var overrideableComputedTypeProperty: Int {<br>return 107<br>}<br>}<br></code><br>å¤‡æ³¨<br><br>ä¸Šé¢çš„ä¾‹å­æ˜¯åªè¯»ç±»å‹çš„è®¡ç®—å±æ€§, ä¸è¿‡ä½ è¦å¯ä»¥å®šä¹‰è¯»å†™ç±»å‹çš„è®¡ç®—å±æ€§ã€‚<br><br># æŸ¥è¯¢å’Œè®¾ç½®ç±»å‹å±æ€§<br><br>ç±»å‹æŸ¥è¯¢å’Œè®¾ç½®ä½¿ç”¨ç‚¹è¯­æ³•, è·Ÿå®ä¾‹å±æ€§å¾ˆåƒã€‚ä¸è¿‡, ç±»ä¼¼å±æ€§ä½¿ç”¨ç±»å‹æŸ¥è¯¢å’Œè®¾ç½®, ä¸æ˜¯ä½¿ç”¨ç±»å‹çš„å®ä¾‹ã€‚ ä¾‹å¦‚:<br><code><br>print(SomeStructure.storedTypeProperty)<br>// Prints â€œSome value.â€<br>SomeStructure.storedTypeProperty = â€œAnother value.â€<br>print(SomeStructure.storedTypeProperty)<br>// Prints â€œAnother value.â€<br>print(SomeEnumeration.computedTypeProperty)<br>// Prints â€œ6â€<br>print(SomeClass.computedTypeProperty)<br>// Prints â€œ27â€<br></code><br>ä¸‹é¢çš„ä¾‹å­ç”¨äº†ä¸¤ä¸ªå­˜å‚¨å±æ€§ä½œä¸ºç»“æ„ä½“çš„ä¸€éƒ¨åˆ†, å¯¹å¤šä¸ªéŸ³è½¨æ¨¡æ‹Ÿäº†ä¸€ä¸ªéŸ³é¢‘æ°´å¹³è®¡ã€‚æ¯ä¸ªéŸ³è½¨æœ‰ä¸€ä¸ªåœ¨0å’Œ10ä¹‹é—´çš„æ•´æ•°éŸ³é¢‘æ°´å¹³ã€‚<br><br>ä¸‹é¢å›¾å±•ç¤ºäº†ä¸¤ä¸ªéŸ³è½¨æ€æ ·åˆæˆä¸€ä¸ªç«‹ä½“éŸ³é¢‘æ°´å¹³è®¡ã€‚å½“ä¸€ä¸ªéŸ³è½¨çš„éŸ³é¢‘æ°´å¹³æ˜¯0æ—¶, é‚£ä¸ªéŸ³è½¨çš„æ²¡æœ‰ç¯ä¼šäº®ã€‚ å½“è¿™ä¸ªéŸ³é¢‘æ°´å¹³æ˜¯10æ—¶, é‚£ä¸ªéŸ³è½¨çš„ç¯å…¨éƒ¨ç‚¹äº®ã€‚ è¿™ä¸ªå›¾ä¸­, å·¦è¾¹éŸ³è½¨å½“å‰æ°´å¹³å€¼æ˜¯ 9, å³è¾¹éŸ³è½¨å½“å‰æ°´å¹³æ˜¯ 7:<br><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/staticPropertiesVUMeter_2x.png"><br></div><br>ä¸Šé¢æè¿°çš„éŸ³è½¨ç”¨ AudioChannel ç»“æ„ä½“çš„å®ä¾‹è¡¨ç¤º:<br><code><br>struct AudioChannel {<br>static let thresholdLevel = 10<br>static var maxInputLevelForAllChannels = 0<br>var currentLevel: Int = 0 {<br>didSet {<br>if currentLevel &gt; AudioChannel.thresholdLevel {<br>// cap the new audio level to the threshold level<br>currentLevel = AudioChannel.thresholdLevel<br>}<br>if currentLevel &gt; AudioChannel.maxInputLevelForAllChannels {<br>// store this as the new overall maximum input level<br>AudioChannel.maxInputLevelForAllChannels = currentLevel<br>}<br>}<br>}<br>}<br></code><br>AudioChannel ç»“æ„ä½“å®šä¹‰äº†ä¸¤ä¸ªå­˜å‚¨ç±»å‹å±æ€§æ¥æ”¯æŒå®ƒçš„åŠŸèƒ½ã€‚ ç¬¬ä¸€ä¸ªæ˜¯ thresholdLevel, å®šä¹‰äº†éŸ³é¢‘æ°´å¹³æœ€å¤§é˜ˆå€¼ã€‚å¯¹äºæ‰€æœ‰AudioChannel å®ä¾‹è¿™æ˜¯ä¸€ä¸ªå¸¸é‡å€¼10. å¦‚æœéŸ³é¢‘ä¿¡å·é‡åˆ°å¤§äº10çš„å€¼, å®ƒå°é¡¶å°±æ˜¯é˜ˆå€¼ã€‚<br><br>ç¬¬äºŒä¸ªç±»å‹å±æ€§æ˜¯ä¸€ä¸ªå˜é‡å­˜å‚¨å±æ€§ maxInputLevelForAllChannels. è¿™ä¸ªä¿æŒè¿½è¸ª AudioChannel å®ä¾‹æ¥æ”¶çš„æœ€å¤§è¾“å…¥å€¼ã€‚ å®ƒçš„åˆå§‹å€¼æ˜¯ 0.<br><br>AudioChannel ç»“æ„ä½“åŒæ—¶å®šä¹‰äº†ä¸€ä¸ªå­˜å‚¨å®ä¾‹å±æ€§currentLevel, ç”¨æ¥è¡¨ç¤º0åˆ°10ä¹‹é—´çš„éŸ³è½¨å½“å‰éŸ³é¢‘æ°´å¹³ã€‚<br><br>currentLevel å±æ€§æœ‰ä¸€ä¸ªdidSet å±æ€§è§‚å¯Ÿè€…æ¥åˆ¤æ–­ currentLevel è®¾ç½®æ—¶çš„å€¼ã€‚è¿™ä¸ªè§‚å¯Ÿè€…æ‰§è¡Œä¸¤ä¸ªåˆ¤æ–­:<br><br>å¦‚æœæ–°å€¼å¤§äºé˜ˆå€¼, currentLevel å°é¡¶å€¼å°±æ˜¯é˜ˆå€¼ã€‚<br>å¦‚æœæ–°å€¼(è¿˜æ²¡æœ‰å°é¡¶) å¤§äºä¹‹å‰ AudioChannel å®ä¾‹æ¥æ”¶çš„å€¼, å±æ€§è§‚å¯Ÿè€…æŠŠæ–°çš„ currentLevel å€¼å­˜å‚¨åˆ° maxInputLevelForAllChannels ç±»å‹å±æ€§ä¸­ã€‚<br>å¤‡æ³¨<br><br>ç¬¬ä¸€ä¸ªåˆ¤æ–­, didSet è§‚å¯Ÿå€¼æŠŠ currentLevel è®¾ç½®æˆä¸€ä¸ªä¸åŒå€¼ã€‚è¿™ä¸ªä¸ä¼šå¯¼è‡´è§‚å¯Ÿè€…è¢«å†æ¬¡è°ƒç”¨ã€‚<br><br>ä½ å¯ä»¥ç”¨ AudioChannel ç»“æ„ä½“åˆ›å»ºä¸¤ä¸ªæ–°çš„éŸ³è½¨ leftChannel å’Œ rightChannel, æ¥è¡¨ç¤ºè¿™ä¸ªéŸ³é¢‘æ°´å¹³æ˜¯ä¸€ä¸ªç«‹ä½“å£°ç³»ç»Ÿ:<br><code><br>var leftChannel = AudioChannel()<br>var rightChannel = AudioChannel()<br>If you set the currentLevel of the left channel to 7, you can see that the maxInputLevelForAllChannels type property is updated to equal 7:<br><br>leftChannel.currentLevel = 7<br>print(leftChannel.currentLevel)<br>// Prints â€œ7â€<br>print(AudioChannel.maxInputLevelForAllChannels)<br>// Prints â€œ7â€<br>If you try to set the currentLevel of the right channel to 11, you can see that the right channelâ€™s currentLevel property is capped to the maximum value of 10, and the maxInputLevelForAllChannels type property is updated to equal 10:<br><br>rightChannel.currentLevel = 11<br>print(rightChannel.currentLevel)<br>// Prints â€œ10â€<br>print(AudioChannel.maxInputLevelForAllChannels)<br>// Prints â€œ10â€<br></code><br># æ–¹æ³•<br>æ–¹æ³•æ˜¯å¯¹åº”ç‰¹å®šç±»å‹çš„å‡½æ•°ã€‚ç±»,ç»“æ„ä½“å’Œæšä¸¾éƒ½å¯ä»¥å®šä¹‰å®ä¾‹æ–¹æ³•, å°è£…äº†ç‰¹å®šçš„ä»»åŠ¡å’ŒåŠŸèƒ½ç”¨äºç»™å®šç±»å‹çš„å®ä¾‹ã€‚ç±», ç»“æ„ä½“å’Œæšä¸¾ä¹Ÿå¯ä»¥å®šä¹‰ç±»å‹æ–¹æ³•, å®ƒä»¬å¯¹åº”ç±»å‹æœ¬èº«ã€‚ç±»å‹æ–¹æ³•å¾ˆåƒ Objective-C ä¸­çš„ç±»æ–¹æ³•ã€‚<br><br>ç»“æ„ä½“ä¸æšä¸¾å¯ä»¥å®šä¹‰æ–¹æ³•,æ˜¯Swift ä¸ C å’Œ Objective-Cä¹‹é—´ä¸€ä¸ªå·¨å¤§çš„åŒºåˆ«ã€‚åœ¨Objective-C, åªæœ‰ç±»å¯ä»¥å®šä¹‰æ–¹æ³•ã€‚åœ¨ Swift, ä½ å¯ä»¥é€‰æ‹©æ˜¯å¦å®šä¹‰ä¸€ä¸ªç±»,ç»“æ„ä½“æˆ–è€…æšä¸¾, å¹¶ä¸”å¯ä»¥çµæ´»å®šä¹‰ä½ åˆ›å»ºç±»å‹ä¸‹çš„æ–¹æ³•ã€‚<br><br># å®ä¾‹æ–¹æ³•<br><br>å®ä¾‹æ–¹æ³•å±äºç‰¹å®šç±»,ç»“æ„ä½“æˆ–è€…æšä¸¾å®ä¾‹çš„å‡½æ•°ã€‚æˆ–è€…æä¾›æ–¹å¼è®¿é—®å’Œä¿®æ”¹å®ä¾‹çš„å±æ€§,æˆ–è€…æä¾›å®ä¾‹ç›®çš„ç›¸å…³çš„åŠŸèƒ½ã€‚å®ä¾‹æ–¹æ³•å’Œå‡½æ•°è¯­æ³•ä¸€æ ·ã€‚<br><br>åœ¨å®ƒæ‰€å±çš„ç±»å‹å¼€é—­æ‹¬å·é‡Œä¹¦å†™ä¸€ä¸ªå®ä¾‹æ–¹æ³•ã€‚ ä¸€ä¸ªå®ä¾‹æ–¹æ³•å¯ä»¥éšå¼è®¿é—®è¿™ä¸ªç±»å‹æ‰€æœ‰å…¶ä»–çš„å®ä¾‹æ–¹æ³•å’Œå±æ€§ã€‚ä¸€ä¸ªå®ä¾‹æ–¹æ³•åªèƒ½è¢«å®ƒå±äºçš„ç±»å‹è°ƒç”¨ã€‚ æ²¡æœ‰å®ä¾‹ä¸èƒ½å•ç‹¬è°ƒç”¨ã€‚<br><br>è¿™é‡Œæœ‰ä¸ªä¾‹å­,å®šä¹‰äº†ä¸€ä¸ªç®€å•çš„ç±» Counter , æ¥è®¡ç®—ä¸€ä¸ªè¡Œä¸ºçš„æ¬¡æ•°:<br><code><br>class Counter {<br>    var count = 0<br>    func increment() {<br>        count += 1<br>    }<br>    func increment(by amount: Int) {<br>        count += amount<br>    }<br>    func reset() {<br>        count = 0<br>    }<br>}<br></code><br>Counter ç±»å®šä¹‰äº†ä¸‰ä¸ªå®ä¾‹æ–¹æ³•:<br><br>increment() æŠŠè®¡æ•°å™¨åŠ 1.<br>increment(by: Int) æŠŠè®¡æ•°å™¨å¢åŠ æŒ‡å®šæ•´æ•°ã€‚<br>reset() é‡ç½®è®¡æ•°å™¨ä¸º0<br>Counter ç±»åŒæ—¶å£°æ˜äº†ä¸€ä¸ªå˜é‡å±æ€§, count, æ¥è·Ÿè¸ªå½“å‰è®¡æ­¥å™¨çš„å€¼ã€‚<br><br>è°ƒç”¨å®ä¾‹æ–¹æ³•è·Ÿå±æ€§ä¸€æ ·ä½¿ç”¨ç‚¹è¯­æ³•:<br><code><br>let counter = Counter()<br>// the initial counter value is 0<br>counter.increment()<br>// the counterâ€™s value is now 1<br>counter.increment(by: 5)<br>// the counterâ€™s value is now 6<br>counter.reset()<br>// the counterâ€™s value is now 0<br></code><br>Function å‚æ•°å¯ä»¥ç”¨ä¸€ä¸ªåå­—å’Œä¸€ä¸ªå‚æ•°æ ‡ç­¾ã€‚<br><br># self å±æ€§<br><br>æ¯ä¸ªç±»å‹çš„å®ä¾‹éƒ½æœ‰ä¸€ä¸ªéšå¼çš„å±æ€§ self, ç­‰äºå®ä¾‹è‡ªå·±ã€‚ ä½ å¯ä»¥ç”¨åœ¨å®ä¾‹æ–¹æ³•å†…å¼•ç”¨å½“å‰å®ä¾‹ã€‚<br><br>The increment() method in the example above could have been written like this:<br><code><br>func increment() {<br>    self.count += 1<br>}</code><br>åœ¨å®è·µä¸­, ä½ ä¸éœ€è¦ç»å¸¸åœ¨ä»£ç ä¸­å†™self. å¦‚æœä¸æ˜¾ç¤ºä¹¦å†™ self, ä¸€æ—¦ä½ åœ¨ä¸€ä¸ªæ–¹æ³•é‡Œä½¿ç”¨äº†å·²çŸ¥çš„å±æ€§æˆ–è€…æ–¹æ³•å, Swift å°±ä¼šå‡è®¾ä½ å¼•ç”¨çš„æ˜¯å½“å‰å®ä¾‹çš„å±æ€§æˆ–è€…æ–¹æ³•ã€‚è¿™ä¸ªå‡è®¾åœ¨Counterä¸‰ä¸ªå®ä¾‹æ–¹æ³•ä¸­countè¢«è¯æ˜äº†ã€‚<br><br>è¿™ä¸ªè§„åˆ™çš„ä¾‹å¤–æƒ…å†µæ˜¯, ä¸€ä¸ªå®ä¾‹æ–¹æ³•çš„å‚æ•°åå’Œå®ä¾‹çš„å±æ€§åä¸€æ ·ã€‚è¿™ç§æƒ…å†µä¸‹, å‚æ•°ä¼˜å…ˆ, æœ‰å¿…è¦ç”¨æ›´æœ‰æ•ˆçš„æ–¹å¼è°ƒç”¨å±æ€§ã€‚ç”¨self å±æ€§æ¥åŒºåˆ†å‚æ•°åå’Œå±æ€§åã€‚<br><br>è¿™é‡Œ, self é¿å…ä¸€ä¸ªæ–¹æ³•å‚æ•°å« x ä¸ä¸€ä¸ªå®ä¾‹å±æ€§å« x çš„æ··ä¹±:<br><code><br>struct Point {<br>    var x = 0.0, y = 0.0<br>    func isToTheRightOf(x: Double) -&gt; Bool {<br>        return self.x &gt; x<br>    }<br>}<br>let somePoint = Point(x: 4.0, y: 5.0)<br>if somePoint.isToTheRightOf(x: 1.0) {<br>    print(â€œThis point is to the right of the line where x == 1.0â€)<br>}<br>// æ‰“å° â€œThis point is to the right of the line where x == 1.0â€<br></code><br>ä¸å¸¦self å‰ç¼€, Swift ä¼šå‡è®¾ä¸¤ä¸ª x éƒ½æ˜¯å¼•ç”¨æ–¹æ³•çš„å‚æ•° x.<br><br># åœ¨å®ä¾‹æ–¹æ³•ä¸­ä¿®æ”¹å€¼ç±»å‹<br><br>ç»“æ„ä½“å’Œæšä¸¾æ˜¯å€¼ç±»å‹ã€‚é»˜è®¤æƒ…å†µä¸‹, å€¼ç±»å‹çš„å±æ€§ä¸èƒ½åœ¨å®ä¾‹æ–¹æ³•å†…éƒ¨ä¿®æ”¹ã€‚<br><br>ä¸è¿‡, å¦‚æœä½ éœ€è¦å†ç‰¹å®šæ–¹æ³•ä¸­ä¿®æ”¹ç»“æ„ä½“å’Œæšä¸¾çš„å±æ€§, ä½ å¯ä»¥é€‰æ‹©è¿™ä¸ªæ–¹æ³•çš„å˜å¼‚è¡Œä¸ºã€‚æ–¹æ³•å°±å¯ä»¥åœ¨å†…éƒ¨å˜å¼‚å®ƒçš„å±æ€§, æ–¹æ³•ç»“æŸåè¿™ä¸ªç§æ”¹å˜ä¼šå†™å›å…ˆå‰çš„ç»“æ„ä½“ã€‚è¿™ä¸ªæ–¹æ³•ä¹Ÿå¯ä»¥ç»™éšå¼çš„selfå±æ€§æŒ‡å®šä¸€ä¸ªå®Œå…¨å…¨æ–°çš„å®ä¾‹, æ–¹æ³•ç»“æŸåè¿™ä¸ªæ–°å€¼ä¼šæ›¿ä»£åŸå…ˆå­˜åœ¨çš„ã€‚<br><br>å¯ä»¥åœ¨æ–¹æ³•çš„func å…³é”®å­—å‰åŠ ä¸Š mutating å…³é”®å­—æ¥å®ç°è¿™ä¸ªè¡Œä¸º:<br><code><br>struct Point {<br>    var x = 0.0, y = 0.0<br>    mutating func moveBy(x deltaX: Double, y deltaY: Double) {<br>        x += deltaX<br>        y += deltaY<br>    }<br>}<br>var somePoint = Point(x: 1.0, y: 1.0)<br>somePoint.moveBy(x: 2.0, y: 3.0)<br>print(â€œThe point is now at ((somePoint.x), (somePoint.y))â€)<br>// æ‰“å° â€œThe point is now at (3.0, 4.0)â€<br></code><br>Point ç»“æ„ä½“å®šä¹‰äº†ä¸€ä¸ªå˜å¼‚æ–¹æ³• moveBy(x:y:), ä½¿ç”¨ä¸€ä¸ªç‰¹å®šæ•°é‡ç§»åŠ¨ä¸€ä¸ªç‚¹ã€‚ä¸æ˜¯è¿”å›ä¸€ä¸ªæ–°çš„ç‚¹, è¿™ä¸ªæ–¹æ³•å®é™…ä¸Šä¿®æ”¹äº†è¿™ä¸ªç‚¹ã€‚mutating å…³é”®å­—åŠ åœ¨å®šä¹‰æ˜¯ä¸ºäº†ä¿è¯å®ƒå¯ä»¥ä¿®æ”¹è‡ªå·±çš„å±æ€§ã€‚<br><br>æ³¨æ„ä½ ä¸èƒ½ç”¨ç»“æ„ä½“ç±»å‹çš„å¸¸é‡æ¥è°ƒç”¨å˜å¼‚æ–¹æ³•, å› ä¸ºå®ƒçš„å±æ€§ä¸èƒ½æ”¹å˜, å³ä½¿å®ƒä»¬æ˜¯å˜é‡å±æ€§:<br><code><br>let fixedPoint = Point(x: 3.0, y: 3.0)<br>fixedPoint.moveBy(x: 2.0, y: 3.0)<br>// è¿™ä¼šæŠ¥ä¸€ä¸ªé”™è¯¯<br></code><br># åœ¨å˜å¼‚æ–¹æ³•é‡Œèµ‹å€¼ç»™self<br><br>å˜å¼‚æ–¹æ³•å¯ä»¥æŠŠä¸€ä¸ªå…¨æ–°çš„å®ä¾‹èµ‹ç»™éšå¼ self å±æ€§ã€‚ä¸Šé¢çš„ Point ä¾‹å­å¯ä»¥ç”¨ä¸‹é¢çš„å†™æ³•ä»£æ›¿:<br><code><br>struct Point {<br>    var x = 0.0, y = 0.0<br>    mutating func moveBy(x deltaX: Double, y deltaY: Double) {<br>        self = Point(x: x + deltaX, y: y + deltaY)<br>    }<br>}</code><br>è¿™ä¸ªç‰ˆæœ¬çš„å˜å¼‚ moveBy(x:y:) æ–¹æ³•åˆ›å»ºäº†ä¸€ä¸ªå…¨æ–°çš„ç»“æ„ä½“,å®ƒçš„xå’Œyçš„å€¼è¢«è®¾ç½®ä¸ºç›®æ ‡ä½ç½®ã€‚è°ƒç”¨è¿™ä¸ªç‰ˆæœ¬çš„ç»“æœå’Œæ—©å‰ç‰ˆæœ¬æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚<br><br>æšä¸¾çš„å˜å¼‚æ–¹æ³•å¯ä»¥æŠŠéšå¼selfå±æ€§è®¾ç½®ä¸ºä¸€ä¸ªä¸åŒçš„case:<br><code><br>enum TriStateSwitch {<br>    case off, low, high<br>    mutating func next() {<br>        switch self {<br>        case .off:<br>            self = .low<br>        case .low:<br>            self = .high<br>        case .high:<br>            self = .off<br>        }<br>    }<br>}<br>var ovenLight = TriStateSwitch.low<br>ovenLight.next()<br>// ovenLight is now equal to .high<br>ovenLight.next()<br>// ovenLight is now equal to .off<br></code><br>è¿™ä¸ªä¾‹å­å®šä¹‰äº†ä¸‰è”å¼€å…³çš„æšä¸¾ã€‚ æ¯æ¬¡è°ƒç”¨ next() æ–¹æ³•è¿™ä¸ªå¼€å…³å°±åœ¨ä¸‰ç§ä¸åŒçš„çŠ¶æ€ä¸‹å¾ªç¯ã€‚<br><br># ç±»å‹æ–¹æ³•<br><br>å®ä¾‹æ–¹æ³•, å¦‚ä¸Šæ‰€è¿°, æ˜¯ç‰¹å®šç±»å‹å®ä¾‹è°ƒç”¨çš„æ–¹æ³•ã€‚ ä½ ä¹Ÿå¯ä»¥å®šä¹‰ç±»å‹æœ¬èº«è°ƒç”¨çš„æ–¹æ³•ã€‚è¿™äº›æ–¹æ³•ç§°ä¸ºç±»å‹æ–¹æ³•ã€‚åœ¨æ–¹æ³•çš„func å…³é”®å­—å‰åŠ ä¸Šstatic å…³é”®æ¥æ ‡ç¤ºç±»å‹æ–¹æ³•ã€‚ç±»å¯ä»¥ç”¨class å…³é”®å­—æ¥å…è®¸å­ç±»è¦†ç›–çˆ¶ç±»çš„æ–¹æ³•å®ç°ã€‚<br><br>å¤‡æ³¨<br><br>åœ¨ Objective-C ä¸­, ä½ åªèƒ½ç»™ç±»å®šä¹‰ç±»å‹çº§åˆ«çš„æ–¹æ³•ã€‚ è€Œåœ¨ Swift é‡Œ, ä½ å¯ä»¥ç»™ç±»,ç»“æ„ä½“å’Œæšä¸¾éƒ½å®šä¹‰ç±»å‹çº§åˆ«çš„æ–¹æ³•ã€‚æ¯ä¸ªç±»å‹æ–¹æ³•ä»…é™äºå®ƒæ”¯æŒçš„ç±»å‹ä½¿ç”¨ã€‚<br><br>ç±»å‹æ–¹æ³•ä½¿ç”¨ç‚¹è¯­æ³•è°ƒç”¨, å’Œå®ä¾‹æ–¹æ³•ä¸€æ ·ã€‚ ä¸è¿‡, ä½ ä½¿ç”¨ç±»å‹è°ƒç”¨æ–¹æ³•è€Œä¸æ˜¯ç±»å‹çš„å®ä¾‹ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªç±»,å±•ç¤ºåœ¨ä¸€ä¸ªç±»å¦‚ä½•è°ƒç”¨ç±»å‹æ–¹æ³•:<br><code><br>class SomeClass {<br>    class func someTypeMethod() {<br>        // type method implementation goes here<br>    }<br>}<br>SomeClass.someTypeMethod()<br></code><br>åœ¨ç±»å‹æ–¹æ³•çš„å‡½æ•°ä½“ä¸­, éšå¼selfå±æ€§è°ƒç”¨ç±»å‹è‡ªå·±è€Œéç±»å‹çš„å®ä¾‹ã€‚ è¿™å°±æ„å‘³ç€ä½ å¯ä»¥ç”¨selfå±æ€§æ¥æ¶ˆé™¤ç±»å‹å±æ€§å’Œç±»å‹æ–¹æ³•å‚æ•°ä¹‹é—´çš„æ­§ä¹‰, è·Ÿå¤„ç†å®ä¾‹å±æ€§å’Œå®ä¾‹æ–¹æ³•å‚æ•°ä¸€æ ·ã€‚<br><br>æ›´ä¸€èˆ¬çš„æ˜¯, ç”¨åœ¨ç±»å‹æ–¹æ³•å†…çš„ä»»ä½•ä¸åˆé€‚çš„æ–¹æ³•å’Œå±æ€§åå°†ä¼šå¼•ç”¨å…¶ä»–ç±»å‹çº§åˆ«çš„æ–¹æ³•å’Œå±æ€§ã€‚ä¸€ä¸ªç±»å‹æ–¹æ³•å¯ä»¥ç”¨å…¶ä»–æ–¹æ³•åè°ƒç”¨å¦å¤–ä¸€ä¸ªç±»å‹æ–¹æ³•, ä¸éœ€è¦å†å‰é¢åŠ ä¸Šç±»å‹åã€‚ç›¸ä¼¼çš„, ç»“æ„ä½“å’Œæšä¸¾çš„ç±»å‹æ–¹æ³•å¯ä»¥ç”¨ç±»å‹å±æ€§åè®¿é—®ç±»å‹å±æ€§ã€‚<br><br>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªç»“æ„ä½“ LevelTracker, ç”¨æ¥è·Ÿè¸ªç©å®¶é€šè¿‡æ¸¸æˆä¸åŒçº§åˆ«æˆ–è€…é˜¶æ®µçš„è¿‡ç¨‹ã€‚å®ƒæ˜¯ä¸€ä¸ªå•äººæ¸¸æˆ, ä½†æ˜¯å¯ä»¥åœ¨å•æœºä¸Šå­˜å‚¨å¤šä¸ªç©å®¶çš„ä¿¡æ¯ã€‚<br><br>ç¬¬ä¸€æ¬¡ç©æ¸¸æˆæ—¶æ‰€æœ‰æ¸¸æˆçš„å…³éƒ½æ˜¯é”å®šçš„ (é™¤äº†ç¬¬ä¸€å…³)ã€‚ æ¯å½“ç©å®¶å®Œæˆä¸€å…³, è¿™ä¸€å…³åœ¨è®¾å¤‡ä¸Šå¯¹æ‰€æœ‰ç©å®¶æ‰“å¼€ã€‚LevelTracker ç»“æ„ä½“ä½¿ç”¨ç±»å‹å±æ€§å’Œæ–¹æ³•æ¥è·Ÿè¸ªå“ªäº›å…³å·²ç»æ‰“å¼€äº†ã€‚å®ƒåŒæ—¶è·Ÿè¸ªå•ä¸ªç©å®¶æ‰€åœ¨çš„å½“å‰å…³ã€‚<br><code><br>struct LevelTracker {<br>    static var highestUnlockedLevel = 1<br>    var currentLevel = 1<br><br>    static func unlock(<em> level: Int) {<br>        if level &gt; highestUnlockedLevel { highestUnlockedLevel = level }<br>    }<br><br>    static func isUnlocked(</em> level: Int) -&gt; Bool {<br>        return level &lt;= highestUnlockedLevel<br>    }<br><br>    @discardableResult<br>    mutating func advance(to level: Int) -&gt; Bool {<br>        if LevelTracker.isUnlocked(level) {<br>            currentLevel = level<br>            return true<br>        } else {<br>            return false<br>        }<br>    }<br>}</code><br>LevelTracker ç»“æ„ä½“ä¿æŒè®°å½•ä»»ä½•ç©å®¶å·²ç»æ‰“å¼€çš„æœ€é«˜å…³ã€‚è¿™ä¸ªå€¼å­˜å‚¨åœ¨ç±»å‹å±æ€§ highestUnlockedLevel.<br><br>LevelTracker åŒæ—¶å®šä¹‰äº†ä¸¤ä¸ªç±»å‹æ–¹æ³•æ¥ä½¿ç”¨highestUnlockedLevel å±æ€§ã€‚ç¬¬ä¸€ä¸ªç±»å‹æ–¹æ³•æ˜¯ unlock(<em>:), ä¸€æ—¦æ–°çš„å…³é€šè¿‡äº†å°±æ›´æ–° highestUnlockedLevel çš„å€¼ã€‚ç¬¬äºŒä¸ªæ˜¯ä¾¿åˆ©ç±»å‹æ–¹æ³• isUnlocked(</em>:), å¦‚æœç‰¹å®šå…³å·²ç»é€šè¿‡å°±è¿”å›çœŸã€‚ (æ³¨æ„,è¿™ä¸¤ä¸ªæ–¹æ³•è®¿é—® highestUnlockedLevel ç±»å‹å±æ€§éœ€è¦å†™æˆ LevelTracker.highestUnlockedLevel.)<br><br>é™¤äº†å®ƒçš„ç±»å‹å±æ€§å’Œæ–¹æ³•, LevelTracker è¿˜è·Ÿè¸ªäº†ä¸ªä½“ç©å®¶é€šè¿‡è¿™ä¸ªæ¸¸æˆçš„è¿‡ç¨‹ã€‚å®ƒç”¨ä¸€ä¸ªå®ä¾‹å±æ€§ currentLevel æ¥è·Ÿä¸­ç©å®¶å½“å‰æ­£åœ¨ç©çš„å…³ã€‚<br><br>ä¸ºäº†å¸®åŠ©ç®¡ç† currentLevel å±æ€§, LevelTracker å®šä¹‰äº†ä¸€ä¸ªå®ä¾‹æ–¹æ³• advance(to:). åœ¨æ›´æ–°currentLevelçš„å€¼ä¹‹å‰, è¿™ä¸ªæ–¹æ³•ä¼šåˆ¤æ–­è¯·æ±‚çš„å…³æ˜¯å¦æ‰“å¼€ã€‚advance(to:) æ–¹æ³•è¿”å›å¸ƒå°”å€¼æ˜¯å¦å¯ä»¥è®¾ç½®currentLevel. å› ä¸ºè°ƒç”¨ advance(to:) æ–¹æ³•å»å¿½ç•¥è¿™ä¸ªè¿”å›å€¼æ˜¯ä¸éœ€è¦ä¸€ä¸ªé”™è¯¯, è¿™ä¸ªå‡½æ•°è¢«æ ‡è®°ä¸º @discardableResult å±æ€§ã€‚<br><br>LevelTracker ç»“æ„ä½“å’Œ Player ç±»ä¸€èµ·ä½¿ç”¨, ä¸‹é¢å±•ç¤ºè·Ÿè¸ªå’Œæ›´æ–°ä¸ªä½“ç©å®¶çš„è¿‡ç¨‹:<br><code><br>class Player {<br>    var tracker = LevelTracker()<br>    let playerName: String<br>    func complete(level: Int) {<br>        LevelTracker.unlock(level + 1)<br>        tracker.advance(to: level + 1)<br>    }<br>    init(name: String) {<br>        playerName = name<br>    }<br>}</code><br>Player åˆ›å»ºäº†æ–°çš„LevelTracker å®ä¾‹æ¥è·Ÿè¸ªç©å®¶çš„è¿‡ç¨‹ã€‚å®ƒåŒæ—¶æä¾›äº†ä¸€ä¸ªæ–¹æ³• complete(level:), ä¸€æ—¦ç©å®¶é€šè¿‡ä¸€å…³å°±ä¼šè°ƒç”¨ã€‚è¿™ä¸ªæ–¹æ³•ä¸ºæ‰€æœ‰ç©å®¶æ‰“å¼€ä¸‹ä¸€å…³å¹¶ä¸”æ›´æ–°ç©å®¶çš„è¿‡ç¨‹,æŠŠä»–ä»¬å¸¦åˆ°ä¸‹ä¸€å…³ã€‚(advance(to:) çš„å¸ƒå°”è¿”å›å€¼è¢«å¿½ç•¥äº†, å› ä¸ºé€šè¿‡è°ƒç”¨ LevelTracker.unlock(_:) å·²ç»çŸ¥é“è¿™ä¸ªå…³è¢«æ‰“å¼€äº†)<br><br>ä½ å¯ä»¥ä¸ºä¸€ä¸ªæ–°çš„ç©å®¶åˆ›å»ºä¸€ä¸ªPlayer ç±»çš„å®ä¾‹, å¹¶ä¸”çœ‹çœ‹ç©å®¶é€šè¿‡ç¬¬ä¸€å…³ä¼šå‘ç”Ÿä»€ä¹ˆ:<br><code><br>var player = Player(name: â€œArgyriosâ€)<br>player.complete(level: 1)<br>print(â€œhighest unlocked level is now (LevelTracker.highestUnlockedLevel)â€)<br>// æ‰“å° â€œhighest unlocked level is now 2â€<br>å¦‚æœä½ åˆ›å»ºç¬¬äºŒä¸ªç©å®¶, å¦‚æœå°è¯•ç§»åŠ¨ä»–åˆ°æ²¡æœ‰ä»»ä½•ç©å®¶æ‰“å¼€çš„å…³, é‚£ä¹ˆå°è¯•è®¾ç½®ç©å®¶çš„å½“å‰å…³å°±ä¼šå¤±è´¥:<br><br>player = Player(name: â€œBetoâ€)<br>if player.tracker.advance(to: 6) {<br>    print(â€œplayer is now on level 6â€)<br>} else {<br>    print(â€œlevel 6 has not yet been unlockedâ€)<br>}<br>// æ‰“å° â€œlevel 6 has not yet been unlockedâ€<br></code><br># ä¸‹æ ‡<br>ç±»,ç»“æ„ä½“å’Œæšä¸¾éƒ½å¿«è¦å®šä¹‰ä¸‹æ ‡, å®ƒæ˜¯ç”¨æ¥è®¿é—®é›†åˆå…ƒç´ çš„é€Ÿå†™æ–¹å¼ã€‚ä½ æ— éœ€å•ç‹¬çš„è®¾ç½®å’Œè·æ–¹æ³•,ä½¿ç”¨ä¸‹æ ‡ç´¢å¼•å°±å¯ä»¥è®¾ç½®å’Œè·å–å…ƒç´ å€¼ã€‚ä¾‹å¦‚, ä½ è®¿é—®æ•°ç»„å®ä¾‹çš„å…ƒç´ ç”¨ someArray[index] ,è®¿é—®å­—å…¸å®ä¾‹å…ƒç´ ç”¨ someDictionary[key].<br><br>ä½ å¯ä»¥ä¸ºå•ä¸ªç±»å‹å®šä¹‰å¤šä¸ªä¸‹æ ‡, é€‰æ‹©é€‚å½“çš„ä¸‹æ ‡é‡è½½ä½¿ç”¨å–å†³äºä½ ä¼ ç»™ä¸‹æ ‡çš„ç´¢å¼•å€¼çš„ç±»å‹ã€‚ä¸€ç»´ä¸‹æ ‡æ²¡æœ‰é™åˆ¶, ä½ å¯ä»¥ç”¨å¤šä¸ªè¾“å…¥å‚æ•°å®šä¹‰ä¸‹æ ‡æ¥æ»¡è¶³è‡ªå®šä¹‰ç±»å‹çš„éœ€è¦ã€‚<br><br># ä¸‹æ ‡è¯­æ³•<br><br>åœ¨ä¸€ä¸ªæ–¹æ‹¬å·é‡Œå†™ä¸€ä¸ªæˆ–å¤šä¸ªå€¼,ä¸‹æ ‡å°±å¯ä»¥æŸ¥è¯¢ä¸€ä¸ªç±»å‹çš„å®ä¾‹ã€‚è¿™ä¸ªè¯­æ³•è·Ÿå®ä¾‹æ–¹æ³•å’Œè®¡ç®—å±æ€§çš„è¯­æ³•å¾ˆåƒã€‚ä½¿ç”¨ subscript å…³é”®å­—å®šä¹‰ä¸‹æ ‡, åŒæ—¶æŒ‡å®šä¸€ä¸ªæˆ–å¤šä¸ªè¾“å…¥å‚æ•°å’Œä¸€ä¸ªè¿”å›å€¼, è·Ÿå®ä¾‹æ–¹æ³•ä¸€æ ·ã€‚å’Œå®ä¾‹æ–¹æ³•ä¸åŒçš„æ˜¯, ä¸‹æ ‡å¯ä»¥è¯»å†™æˆ–è€…åªè¯»ã€‚å’Œè®¡ç®—å±æ€§æ–¹å¼ä¸€æ ·,è¿™ä¸ªç”¨ setter å’Œ getter å®ç°:<br><code><br>subscript(index: Int) -&gt; Int {<br>get {<br>// return an appropriate subscript value here<br>}<br>set(newValue) {<br>// perform a suitable setting action here<br>}<br>}<br></code><br>newValue ç±»å‹å’Œè¿”å›å€¼ç±»å‹ä¸€æ ·ã€‚ å’Œè®¡ç®—å±æ€§ä¸€æ ·, ä½ å¯ä»¥ä¸æŒ‡å®šsetter çš„å‚æ•°åã€‚é»˜è®¤çš„å‚æ•°å newValue ä¼šæä¾›ã€‚<br><br>å’Œåªè¯»è®¡ç®—å±æ€§ä¸€æ ·, åªè¯»ä¸‹æ ‡å¯ä»¥å»æ‰get å…³é”®å­—:<br><code><br>subscript(index: Int) -&gt; Int {<br>// return an appropriate subscript value here<br>}</code><br>è¿™é‡Œæœ‰ä¸ªåªè¯»ä¸‹æ ‡å®ç°çš„ä¾‹å­, å®ƒå®šä¹‰äº†ä¸€ä¸ªç»“æ„ä½“ TimesTable æ¥è¡¨ç¤ºæ•´æ•°nå€æ•°è¡¨:<br><code><br>struct TimesTable {<br>let multiplier: Int<br>subscript(index: Int) -&gt; Int {<br>return multiplier <em> index<br>}<br>}<br>let threeTimesTable = TimesTable(multiplier: 3)<br>print(â€œsix times three is (threeTimesTable[6])â€)<br>// æ‰“å° â€œsix times three is 18â€<br></em></code><br>è¿™ä¸ªä¾‹å­é‡Œ, ä¸€ä¸ªæ–°çš„ TimesTable å®ä¾‹è¢«åˆ›å»ºæ¥è¡¨ç¤ºæ•´æ•°çš„3å€æ•°è¡¨ã€‚æ•°å­—3ä¼ å…¥ç»“æ„ä½“çš„åˆå§‹åŒ–æ–¹æ³•æ¥ä½œä¸ºä¹˜æ³•çš„å‚æ•°ã€‚<br><br>ä½ å¯ä»¥ç”¨ä¸‹æ ‡è·å– threeTimesTable å®ä¾‹, é€šè¿‡è°ƒç”¨ threeTimesTable[6]. è¿™è¯·æ±‚ä¸‰å€æ•°è¡¨ä¸­çš„ç¬¬å…­ä¸ªå®ä½“, è¿”å›18, æˆ–è€…3ä¹˜ä»¥ 6.<br><br>å¤‡æ³¨<br><br>nå€æ•°è¡¨åŸºäºå›ºå®šçš„æ•°å­¦è§„åˆ™ã€‚æŠŠ threeTimesTable[someIndex] è®¾ç½®ä¸ºä¸€ä¸ªæ–°å€¼æ˜¯ä¸åˆé€‚çš„ã€‚æ‰€ä»¥ TimesTable çš„ä¸‹æ ‡å®šä¹‰ä¸ºåªè¯»çš„ã€‚<br><br># ä½¿ç”¨ä¸‹æ ‡<br><br>ä¸‹æ ‡çš„ç¡®åˆ‡æ„æ€å–å†³äºå®ƒä½¿ç”¨çš„ä¸Šä¸‹æ–‡ã€‚ä¸‹æ ‡æ˜¯è®¿é—®é›†åˆå…ƒç´ çš„é€Ÿå†™æ–¹å¼ã€‚ä½ å¯ä»¥è‡ªç”±çš„ç”¨æœ€åˆé€‚çš„æ–¹å¼ä¸ºç‰¹å®šçš„ç±»æˆ–è€…ç»“æ„ä½“å®ç°ä¸‹æ ‡ã€‚<br><br>ä¾‹å¦‚, Swiftçš„å­—å…¸ç±»å‹å®ç°ä¸€ä¸ªä¸‹æ ‡å»å­˜å–å­˜å‚¨åœ¨å­—å…¸å®ä¾‹ä¸­çš„å€¼ã€‚ä½ å¯ä»¥åœ¨ä¸‹æ ‡æ‹¬å·é‡Œä½¿ç”¨å­—å…¸çš„é”®æ¥è®¾ç½®å€¼, ä¹Ÿå¯ä»¥ç»™ä¸‹æ ‡è®¾ç½®å€¼:<br><code><br>var numberOfLegs = [â€œspiderâ€: 8, â€œantâ€: 6, â€œcatâ€: 4]<br>numberOfLegs[â€œbirdâ€] = 2<br></code><br>ä¸Šé¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªå˜é‡ numberOfLegs , ç„¶åç”¨ä¸€ä¸ªåŒ…å«ä¸‰ä¸ªé”®å€¼å¯¹çš„å­—å…¸å­—é¢é‡æ¥åˆå§‹åŒ–å®ƒã€‚numberOfLegs å­—å…¸ç±»å‹è¢«æ¨æ–­ä¸º [String: Int]. å­—å…¸åˆ›å»ºå, è¿™ä¸ªä¾‹å­ä½¿ç”¨ä¸‹æ ‡èµ‹å€¼,å‘å­—å…¸æ·»åŠ ä¸€ä¸ªé”®å€¼å¯¹ â€œbirdâ€ å’Œ 2 .<br><br>å¤‡æ³¨<br><br>Swift çš„å­—å…¸ç±»å‹å®ç°çš„é”®å€¼ä¸‹æ ‡æ¥å—å’Œè¿”å›ä¸€ä¸ªå¯é€‰ç±»å‹ã€‚ å¯¹äºä¸Šé¢çš„ numberOfLegs å­—å…¸, é”®å€¼ä¸‹æ ‡æ¥å—å’Œè¿”å›ä¸€ä¸ª Int? ç±»å‹å€¼, æˆ–è€… â€œå¯é€‰ intâ€. å­—å…¸ç±»å‹ä½¿ç”¨äº†ä¸€ä¸ªå¯é€‰çš„ä¸‹æ ‡ç±»å‹æ¥æ¨¡æ‹Ÿè¿™ä¸ªäº‹å®,ä¸æ˜¯æ¯ä¸€ä¸ªé”®éƒ½æœ‰å¯¹åº”çš„å€¼, åŒæ—¶æä¾›äº†ä¸€ä¸ªæ–¹æ³•å»åˆ é™¤å€¼,åªéœ€è¦ç»™è¿™ä¸ªé”®èµ‹ä¸€ä¸ªnilå³å¯ã€‚<br><br># ä¸‹æ ‡é€‰é¡¹<br><br>ä¸‹é¢å¯ä»¥æ¥å—ä»»æ„æ•°é‡çš„è¾“å…¥å‚æ•°, å¹¶ä¸”è¿™äº›è¾“å…¥å‚æ•°å¯ä»¥æ˜¯ä»»æ„ç±»å‹ã€‚ ä¸‹æ ‡ä¹Ÿå¯ä»¥è¿”å›ä»»æ„ç±»å‹ã€‚ ä¸‹æ ‡å¯ä»¥ä½¿ç”¨å¯å˜å‚æ•°, ä½†æ˜¯å®ƒä»¬ä¸èƒ½ä½¿ç”¨è¾“å…¥è¾“å‡ºå‚æ•°ä¹Ÿä¸èƒ½ç»™å‚æ•°æä¾›é»˜è®¤å€¼ã€‚<br><br>ä¸€ä¸ªç±»æˆ–è€…ç»“æ„ä½“å¯ä»¥æä¾›éœ€è¦çš„å¤šä¸ªä¸‹æ ‡å®ç°, ä½¿ç”¨çš„ä¸‹æ ‡åŸºäºå€¼ç±»å‹æˆ–è€…åŒ…å«åœ¨ä¸‹æ ‡æ‹¬å·é‡Œçš„å€¼æ¥æ¨æ–­ã€‚è¿™ä¸ªå¤šä¸ªä¸‹æ ‡çš„å®šä¹‰å°±æ˜¯äººä»¬å¸¸è¯´çš„é‡è½½ã€‚<br><br>è™½ç„¶ä¸‹æ ‡æ¥å—ä¸€ä¸ªå‚æ•°å¾ˆå¸¸è§, ä½†æ˜¯å¦‚æœå®ƒç¬¦åˆä½ çš„ç±»å‹,ä½ è¿˜æ˜¯å¯ä»¥å®šä¹‰ä¸ªå¸¦å¤šä¸ªå‚æ•°çš„ä¸‹æ ‡ã€‚ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªç»“æ„ä½“ Matrix, ç”¨æ¥è¡¨ç¤ºä¸€ä¸ªäºŒç»´çš„æµ®ç‚¹å€¼çŸ©é˜µã€‚Matrix ç»“æ„ä½“çš„ä¸‹æ ‡å¸¦æœ‰ä¸¤ä¸ªå‚æ•°:<br><code><br>struct Matrix {<br>let rows: Int, columns: Int<br>var grid: [Double]<br>init(rows: Int, columns: Int) {<br>self.rows = rows<br>self.columns = columns<br>grid = Array(repeating: 0.0, count: rows  columns)<br>}<br>func indexIsValid(row: Int, column: Int) -&gt; Bool {<br>return row &gt;= 0 &amp;&amp; row &lt; rows &amp;&amp; column &gt;= 0 &amp;&amp; column &lt; columns<br>}<br>subscript(row: Int, column: Int) -&gt; Double {<br>get {<br>assert(indexIsValid(row: row, column: column), â€œIndex out of rangeâ€)<br>return grid[(row <em> columns) + column]<br>}<br>set {<br>assert(indexIsValid(row: row, column: column), â€œIndex out of rangeâ€)<br>grid[(row </em> columns) + column] = newValue<br>}<br>}<br>}</code><br>Matrix æä¾›äº†ä¸€ä¸ªåˆå§‹åŒ–æ–¹æ³•,å®ƒæœ‰ä¸¤ä¸ªå‚æ•° rows å’Œ columns, ç„¶ååˆ›å»ºä¸€ä¸ªè¶³å¤Ÿå­˜å‚¨ rows <em> columns ä¸ªæµ®ç‚¹å€¼çš„æ•°ç»„ã€‚çŸ©é˜µçš„æ¯ä¸ªä½ç½®çš„å€¼åˆå§‹åŒ–ä¸º 0.0. ä¸ºäº†å®ç°è¿™ä¸ª, æ•°ç»„çš„å¤§å°, åˆå§‹çš„cell å€¼æ˜¯ 0.0, ä¼ ç»™æ•°ç»„çš„åˆå§‹åŒ–æ–¹æ³•, åˆå§‹åŒ–ä¸€ä¸ªæ­£ç¡®å¤§å°çš„æ•°ç»„ã€‚<br><br>ä¼ å…¥ä¸€ä¸ªåˆé€‚çš„è¡Œåˆ—å€¼ç»™åˆå§‹åŒ–æ–¹æ³•,ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ª Matrix çš„å®ä¾‹:<br><code><br>var matrix = Matrix(rows: 2, columns: 2)</code><br>å‰é¢çš„ä¾‹å­åˆ›å»ºä¸¤è¡Œä¸¤åˆ—çš„ Matrix å®ä¾‹ã€‚å®ä¾‹çš„grid æ•°ç»„å®é™…ä¸Šæ˜¯ä¸€ä¸ªå¹³çš„çŸ©é˜µ:<br><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/subscriptMatrix01_2x.png"><br></div><br>é€šè¿‡ä¼ å…¥è¡Œåˆ—å€¼ç»™ä¸‹æ ‡æ¥è®¾ç½®çŸ©é˜µä¸­çš„å€¼,ç”¨é€—å·åˆ†å¼€:<br><code><br>matrix[0, 1] = 1.5<br>matrix[1, 0] = 3.2</code><br>è¿™ä¸¤ä¸ªè¯­å¥è°ƒç”¨ä¸‹æ ‡çš„setter è®¾ç½®çŸ©é˜µå³ä¸Šæ–¹ä½ç½®çš„å€¼ä¸º1.5 (è¡Œæ˜¯0åˆ—æ˜¯1), ç„¶åè®¾ç½®å·¦ä¸‹ä½ç½®çš„å€¼ä¸º3.2(è¡Œæ˜¯1åˆ—æ˜¯0):<br><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/subscriptMatrix02_2x.png"><br></div><br>çŸ©é˜µä¸‹æ ‡çš„ getter å’Œ setter éƒ½åŒ…å«ä¸€ä¸ªæ–­è¨€,ç”¨æ¥åˆ¤æ–­ä¸‹æ ‡çš„è¡Œåˆ—å€¼æ˜¯æœ‰æ•ˆçš„ã€‚ ä¸ºäº†ååŠ©è¿™äº›æ–­è¨€, Matrix å«æœ‰ä¸€ä¸ªä¾¿åˆ©æ–¹æ³• indexIsValid(row:column:), ç”¨æ¥åˆ¤æ–­éœ€è¦çš„è¡Œåˆ—æ˜¯å¦åœ¨çŸ©é˜µçš„è¾¹ç•Œå†…:<br><code><br>func indexIsValidForRow(row: Int, column: Int) -&gt; Bool {<br>    return row &gt;= 0 &amp;&amp; row &lt; rows &amp;&amp; column &gt;= 0 &amp;&amp; column &lt; columns<br>}</code><br>å¦‚æœä½ è®¿é—®è¶Šç•Œçš„ä¸‹æ ‡,å°±ä¼šè§¦å‘æ–­è¨€:<br><code><br>let someValue = matrix[2, 2]<br>// è§¦å‘æ–­è¨€, å› ä¸º [2, 2] è¶…å‡ºäº†çŸ©é˜µçš„è¾¹ç•Œ<br></code><br># ç»§æ‰¿<br>ä¸€ä¸ªç±»å¯ä»¥ä»å¦å¤–ä¸€ä¸ªç±»ç»§æ‰¿æ–¹æ³•,å±æ€§å’Œå…¶ä»–ç‰¹å¾ã€‚å½“ä¸€ä¸ªç±»ç»§æ‰¿å¦å¤–ä¸€ä¸ªç±»æ—¶, ç»§æ‰¿ç±»å«å­ç±», è¢«ç»§æ‰¿çš„ç±»å«è¶…ç±»ã€‚ç»§æ‰¿æ˜¯ç±»åŒºåˆ«äºSwiftå…¶ä»–ç±»å‹çš„åŸºæœ¬è¡Œä¸ºã€‚<br><br>Swift ä¸­çš„ç±»å¯ä»¥è°ƒç”¨å’Œè®¿é—®è¶…ç±»çš„æ–¹æ³•,å±æ€§å’Œä¸‹æ ‡,å¹¶ä¸”å¯ä»¥è¦†ç›–è¿™äº›æ–¹æ³•,å±æ€§å’Œä¸‹æ ‡æ¥é‡å®šä¹‰æˆ–è€…ä¿®æ”¹å®ƒä»¬çš„è¡Œä¸ºã€‚ Swift ä¼šé€šè¿‡åˆ¤æ–­è¦†å®šä¹‰åœ¨è¶…ç±»æ˜¯å¦æœ‰å¯¹åº”å®šä¹‰æ¥ç¡®ä¿è¦†ç›–çš„æ­£ç¡®ã€‚<br><br>ç±»å¯ä»¥ç»™ç»§æ‰¿å±æ€§æ·»åŠ å±æ€§è§‚å¯Ÿè€…,åœ¨å±æ€§å€¼æ”¹å˜æ—¶å¯ä»¥æ¥åˆ°é€šçŸ¥ã€‚å±æ€§è§‚å¯Ÿè€…å¯ä»¥æ·»åŠ ç»™ä»»ä½•ä¸€ä¸ªå±æ€§, ä¸ç®¡å®ƒæœ¬æ¥å®šä¹‰æˆå­˜å‚¨è¿˜æ˜¯è®¡ç®—å±æ€§ã€‚<br><br># å®šä¹‰ä¸€ä¸ªåŸºç±»<br><br>ä»»ä½•ä¸ç»§æ‰¿å…¶ä»–ç±»çš„ç±»å°±å«åšåŸºç±»ã€‚<br><br>å¤‡æ³¨<br><br>Swift çš„ç±»ä¸ä¼šç»§æ‰¿ä¸€ä¸ªé€šç”¨åŸºç±»ã€‚å¦‚æœä½ å®šä¹‰çš„ç±»æ²¡æœ‰è¶…ç±»,å®ƒå°±ä¼šè‡ªåŠ¨å˜æˆåŸºç±»ã€‚<br><br>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªåŸºç±» Vehicle. è¿™ä¸ªåŸºç±»å®šä¹‰äº†ä¸€ä¸ªå­˜å‚¨å±æ€§ currentSpeed, æœ‰ä¸ªé»˜è®¤å€¼ 0.0 (æ¨æ–­æ˜¯ä¸€ä¸ªæµ®ç‚¹ç±»å‹çš„å±æ€§)ã€‚ currentSpeed å±æ€§è¢«åªè¯»è®¡ç®—å­—ç¬¦ä¸²å±æ€§ description ç”¨æ¥åˆ›å»ºä¸€ä¸ªæ±½è½¦çš„æè¿°ã€‚<br><br>Vehicle åŸºç±»åŒæ—¶å®šä¹‰äº†ä¸€ä¸ªæ–¹æ³• makeNoise. è¿™ä¸ªæ–¹æ³•å®é™…ä¸Šä¸å¯¹åŸºç±»å®ä¾‹åšä»»ä½•äº‹, ä½†æ˜¯åé¢ä¼šè¢«å­ç±»å®šåˆ¶è¡Œä¸º:<br><code><br>class Vehicle {<br>    var currentSpeed = 0.0<br>    var description: String {<br>        return â€œtraveling at (currentSpeed) miles per hourâ€<br>    }<br>    func makeNoise() {<br>        // do nothing - an arbitrary vehicle doesnâ€™t necessarily make a noise<br>    }<br>}<br></code><br>ä½¿ç”¨åˆå§‹åŒ–è¯­æ³•åˆ›å»ºä¸€ä¸ª Vehicle å®ä¾‹, å†™ä½œç±»å‹ååé¢è·Ÿç€æ‹¬å·:<br><code><br>let someVehicle = Vehicle()<br></code><br>å·²ç»åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ Vehicle å®ä¾‹, ä½ å¯ä»¥è®¿é—®å®ƒçš„ description å±æ€§,æ¥æ‰“å°æ±½è½¦å½“å‰é€Ÿåº¦çš„äººç±»å¯è¯»çš„ä¿¡æ¯:<br><code><br>print(â€œVehicle: (someVehicle.description)â€)<br>// Vehicle: traveling at 0.0 miles per hour<br></code><br>Vehicle ç±»ä¸ºä»»æ„æ±½è½¦å®šä¹‰äº†é€šç”¨ç‰¹æ€§, ä½†æ˜¯å¯¹äºè‡ªå·±æ²¡æœ‰å¤šå°‘ç”¨å¤„ã€‚ä¸ºäº†è®©å®ƒå˜çš„æ›´æœ‰ç”¨, ä½ éœ€è¦å……å®Œå–„å®ƒæ¥æè¿°æ›´å…·ä½“çš„æ±½è½¦ã€‚<br><br># å­ç±»åŒ–<br><br>å­ç±»åŒ–çš„è¡Œä¸ºæ˜¯åŸºäºç°æœ‰ç±»çš„ä¸€ä¸ªæ–°ç±»ã€‚å­ç±»ä»ç°æœ‰ç±»ç»§æ‰¿ç‰¹æ€§, ç„¶åä½ å¯ä»¥å®Œå–„ã€‚ä½ ä¹Ÿå¯ä»¥ç»™å­ç±»æ·»åŠ æ–°çš„ç‰¹æ€§ã€‚<br><br>ä¸ºäº†æ ‡æ˜å­ç±»æœ‰ä¸€ä¸ªè¶…ç±», å­ç±»åå†™åœ¨è¶…ç±»åä¹‹å‰,ç”¨å†’å·åˆ†å¼€:<br><code><br>class SomeSubclass: SomeSuperclass {<br>    // subclass definition goes here<br>}</code><br>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªå­ç±» Bicycle, æœ‰ä¸€ä¸ªè¶…ç±» Vehicle:<br><code><br>class Bicycle: Vehicle {<br>    var hasBasket = false<br>}</code><br>æ–°çš„ Bicycle ç±»è‡ªåŠ¨è·å¾— Vehicle çš„æ‰€æœ‰ç‰¹æ€§, æ¯”å¦‚ currentSpeed å’Œ description å±æ€§è¿˜æœ‰å®ƒçš„ makeNoise() æ–¹æ³•ã€‚<br><br>é™¤äº†ç»§æ‰¿çš„ç‰¹æ€§, Bicycle ç±»è¿˜å®šä¹‰äº†ä¸€ä¸ªæ–°çš„å­˜å‚¨å±æ€§, hasBasket, é»˜è®¤å€¼æ˜¯ false (å±æ€§ç±»å‹æ¨æ–­ä¸ºå¸ƒå°”å‹).<br><br>é»˜è®¤æƒ…å†µä¸‹, ä½ åˆ›å»ºçš„ä»»ä½• Bicycle å®ä¾‹éƒ½ä¸ä¼šæœ‰ä¸ªç¯®å­ã€‚ä½ å¯ä»¥åœ¨Bicycle å®ä¾‹åˆ›å»ºåç»™æŠŠå®ƒçš„ hasBasket å±æ€§è®¾ç½®ä¸ºçœŸ:<br><code><br>let bicycle = Bicycle()<br>bicycle.hasBasket = true</code><br>ä½ å¯ä»¥ä¿®æ”¹ç»§æ‰¿æ¥çš„ currentSpeed å±æ€§, åŒæ—¶æŸ¥è¯¢å®ä¾‹ç»§æ‰¿çš„ description å±æ€§:<br><code><br>bicycle.currentSpeed = 15.0<br>print(â€œBicycle: (bicycle.description)â€)<br>// Bicycle: traveling at 15.0 miles per hour<br></code><br>å­ç±»æœ¬èº«ä¹Ÿå¯ä»¥å­ç±»åŒ–ã€‚ä¸‹é¢çš„ä¾‹å­åˆ›å»ºäº†ä¸€ä¸ªåŒåº§è‡ªè¡Œè½¦,ä½œä¸º Bicycle çš„å­ç±»:<br><code><br>class Tandem: Bicycle {<br>    var currentNumberOfPassengers = 0<br>}</code><br>Tandem ä»Bicycleç»§æ‰¿äº†æ‰€æœ‰çš„å±æ€§å’Œæ–¹æ³•, Bicycle ä¾æ¬¡ç»§æ‰¿äº†Vehicleçš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ã€‚ Tandem å­ç±»ä¹Ÿæ·»åŠ äº†ä¸€ä¸ªæ–°çš„å­˜å‚¨å±æ€§ currentNumberOfPassengers, é»˜è®¤å€¼æ˜¯ 0.<br><br>å¦‚æœä½ åˆ›å»ºä¸€ä¸ª Tandem å®ä¾‹, ä½ å¯ä»¥ä½¿ç”¨å®ƒçš„æ–°çš„å’Œç»§æ‰¿æ¥çš„ä»»æ„å±æ€§, ä¹Ÿå¯ä»¥æŸ¥è¯¢ç»§æ‰¿è‡ªVehicleçš„åªè¯» description å±æ€§:<br><code><br>let tandem = Tandem()<br>tandem.hasBasket = true<br>tandem.currentNumberOfPassengers = 2<br>tandem.currentSpeed = 22.0<br>print(â€œTandem: (tandem.description)â€)<br>// Tandem: traveling at 22.0 miles per hour<br></code><br># é‡å†™<br><br>ä¸€ä¸ªå­ç±»å¯ä»¥è‡ªå®šä¹‰å®ç°å¦å¤–ç»§æ‰¿è¶…ç±»çš„ä¸€ä¸ªå®ä¾‹æ–¹æ³•,ç±»å‹æ–¹æ³•,å®ä¾‹å±æ€§,ç±»å‹å±æ€§æˆ–è€…ä¸‹æ ‡ã€‚<br><br>ä¸ºäº†é‡å†™å¦å¤–ç»§æ‰¿çš„ç‰¹æ€§, åœ¨éœ€è¦é‡å†™çš„å®šä¹‰å‰ä¹¦å†™ override å…³é”®å­—ã€‚ åšè¿™æ ·çš„æ¾„æ¸…,ä½ æƒ³è¦æä¾›ä¸€ä¸ªé‡å†™,å´æ²¡æœ‰æä¾›ä¸€ä¸ªåŒ¹é…çš„å®šä¹‰çš„é”™è¯¯ã€‚ æ„å¤–é‡å†™ä¼šå¯¼è‡´ä¸å¸Œæœ›çš„è¡Œä¸º, é‡å†™ä¸å¸¦ä¸Š override å…³é”®å­—,ä»£ç ç¼–è¯‘æ—¶ä¼šæŠ¥é”™ã€‚<br><br>override å…³é”®å­—æé†’ Swift ç¼–è¯‘å™¨å»æ£€æŸ¥è¶…ç±»æ˜¯å¦æœ‰ä¸€ä¸ªåŒ¹é…çš„å£°æ˜ã€‚è¿™ä¸ªåˆ¤æ–­ç¡®ä¿ä½ çš„é‡æ–°å®šä¹‰æ˜¯æ­£ç¡®çš„ã€‚<br><br># è®¿é—®è¶…ç±»çš„æ–¹æ³•,å±æ€§å’Œä¸‹æ ‡<br><br>å½“ä½ ä¸ºå­ç±»æä¾›æ–¹æ³•,å±æ€§å’Œä¸‹æ ‡çš„é‡å†™æ—¶, ä½¿ç”¨è¶…ç±»å®ç°ä½œä¸ºå­ç±»é‡å†™çš„éƒ¨åˆ†æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚æ¯”å¦‚, ä½ å¯ä»¥å®Œå–„å·²å­˜åœ¨å®ç°çš„è¡Œä¸º, æˆ–è€…åœ¨ä¸€ä¸ªå·²å­˜åœ¨çš„ç»§æ‰¿å˜é‡å­˜å‚¨æ”¹å˜çš„å€¼ã€‚<br><br>ä»»ä½•åˆé€‚çš„åœ°æ–¹, ä½ éƒ½å¯ä»¥ç”¨super å‰ç¼€è®¿é—®è¶…ç±»ç‰ˆæœ¬çš„æ–¹æ³•,å±æ€§æˆ–è€…ä¸‹æ ‡:<br><br>é‡å†™çš„æ–¹æ³• someMethod() å¯ä»¥åœ¨å®ç°é‡Œé€šè¿‡super.someMethod() è°ƒç”¨è¶…ç±»çš„ someMethod().<br>é‡å†™çš„å±æ€§ someProperty å¯ä»¥åœ¨é‡å†™çš„setterå’Œgetter å®ç°é‡Œé€šè¿‡super.somePropertyè®¿é—®è¶…ç±»çš„ someProperty.<br>é‡å†™çš„ä¸‹æ ‡ someIndex å¯ä»¥åœ¨é‡å†™çš„ä¸‹æ ‡å®ç°é‡Œé€šè¿‡super[someIndex] è®¿é—®è¶…ç±»çš„ä¸‹æ ‡ super[someIndex].<br># é‡å†™æ–¹æ³•<br><br>ä½ å¯ä»¥é‡å†™ä¸€ä¸ªå®ä¾‹æˆ–è€…ç±»å‹æ–¹æ³•,åœ¨ä½ çš„å­ç±»ä¸­æä¾›ä¸€ä¸ªå®šåˆ¶çš„æ–¹æ³•å®ç°ã€‚<br><br>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ª Vehicle çš„å­ç±» Train, å®ƒé‡å†™äº†ç»§æ‰¿è‡ªVehicle çš„ makeNoise()æ–¹æ³•:<br><code><br>class Train: Vehicle {<br>    override func makeNoise() {<br>        print(â€œChoo Chooâ€)<br>    }<br>}</code><br>å¦‚æœä½ åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ Train å®ä¾‹å¹¶ä¸”è°ƒç”¨å®ƒçš„ makeNoise() æ–¹æ³•, ä½ å¯ä»¥çœ‹åˆ° Train å­ç±»ç‰ˆæœ¬çš„æ–¹æ³•è¢«è°ƒç”¨äº†:<br><code><br>let train = Train()<br>train.makeNoise()<br>// æ‰“å° â€œChoo Chooâ€<br></code><br># é‡å†™å±æ€§<br><br>ä½ å¯ä»¥é‡å†™ä¸€ä¸ªç»§æ‰¿å®ä¾‹æˆ–è€…ç±»å‹å±æ€§,æ¥ç»™å±æ€§æä¾›è‡ªå®šä¹‰çš„ getter å’Œ setter, æˆ–è€…æ·»åŠ å±æ€§è§‚å¯Ÿè€…ç¡®ä¿é‡å†™å±æ€§å¯ä»¥è§‚å¯Ÿæ½œåœ¨çš„å±æ€§å€¼çš„æ”¹å˜ã€‚<br><br># é‡å†™å±æ€§çš„ Getters å’Œ Setters<br><br>ä½ å¯ä»¥æä¾›ä¸€ä¸ªè‡ªå®šä¹‰çš„ getter (å’Œsetter, å¦‚æœåˆé€‚) æ¥é‡å†™ä»»ä½•ç»§æ‰¿çš„å±æ€§, ä¸ç®¡ç»§æ‰¿çš„å±æ€§æ˜¯å­˜å‚¨å±æ€§è¿˜æ˜¯è®¡ç®—å±æ€§ã€‚ å­ç±»å¹¶ä¸çŸ¥é“ç»§æ‰¿å±æ€§æ˜¯è®¡ç®—çš„è¿˜æ˜¯å­˜å‚¨çš„â€”å®ƒåªçŸ¥é“ç»§æ‰¿æ¥çš„å±æ€§æœ‰ä¸€ä¸ªåå­—å’Œç±»å‹ã€‚ ä½ åº”è¯¥å£°æ˜é‡å†™å±æ€§çš„åå­—å’Œç±»å‹, æ¥ç¡®ä¿ç¼–è¯‘å™¨åˆ¤æ–­ä½ é‡æ–°çš„å±æ€§å’Œè¶…ç±»çš„å±æ€§æœ‰ä¸€æ ·çš„åå­—å’Œç±»å‹ã€‚<br><br>ä½ å¯ä»¥åœ¨å­ç±»é‡å†™çš„æ—¶å€™æä¾›setterå’Œgetter,æŠŠç»§æ‰¿çš„åªè¯»å±æ€§å˜æˆè¯»å†™å±æ€§ã€‚ä¸è¿‡ä½ ä¸èƒ½æŠŠç»§æ‰¿çš„è¯»å†™å±æ€§å˜ä¸ºåªè¯»å±æ€§ã€‚<br><br>å¤‡æ³¨<br><br>å¦‚æœä½ æä¾›ä¸€ä¸ªsetterä½œä¸ºé‡å†™çš„ä¸€éƒ¨åˆ†, ä½ å¿…é¡»ä¹Ÿæä¾›ä¸€ä¸ªgetter. å¦‚æœä½ ä¸æƒ³åœ¨getteré‡Œæ”¹å˜ç»§æ‰¿è¿‡æ¥çš„å±æ€§çš„å€¼, ä½ å¯ä»¥ç®€å•é€šè¿‡è¿”å› super.someProperty è·å–è¿™ä¸ªå€¼, someProperty æ˜¯ä½ è¦é‡å†™å±æ€§çš„åå­—ã€‚<br><br>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªæ–°çš„ç±» Car, å®ƒæ˜¯ Vehicle çš„å­ç±»ã€‚ Car ç±»å¼•å…¥äº†ä¸€ä¸ªæ–°çš„å­˜å‚¨å±æ€§ gear, é»˜è®¤å€¼æ˜¯ 1. Car ç±»åŒæ—¶é‡å†™ä»Vehicle ç»§æ‰¿æ¥çš„ description å±æ€§, æä¾›åŒ…å«å½“å‰æ¡£ä½çš„è‡ªå®šä¹‰æè¿°:<br><code><br>class Car: Vehicle {<br>    var gear = 1<br>    override var description: String {<br>        return super.description + â€œ in gear (gear)â€<br>    }<br>}</code><br>description å±æ€§é‡å†™é¦–å…ˆè°ƒç”¨ super.description, å®ƒæ”¾å› Vehicle ç±»çš„description å±æ€§ã€‚Car ç±»çš„ description ç‰ˆæœ¬åœ¨æè¿°åæ·»åŠ äº†ä¸€äº›é¢å¤–çš„æ–‡æœ¬æ¥æä¾›å½“å‰æ¡£ä½çš„ä¿¡æ¯ã€‚<br><br>å¦‚æœä½ åˆ›å»ºä¸€ä¸ªæ–°çš„ Car å®ä¾‹å¹¶ä¸”è®¾ç½®å®ƒçš„ gear å’Œ currentSpeed å±æ€§, ä½ å¯ä»¥çœ‹åˆ°å®ƒä¼šè¿”å›è‡ªå®šä¹‰çš„æè¿°ä¿¡æ¯:<br><code><br>let car = Car()<br>car.currentSpeed = 25.0<br>car.gear = 3<br>print(â€œCar: (car.description)â€)<br>// Car: traveling at 25.0 miles per hour in gear 3<br></code><br># é‡å†™å±æ€§è§‚å¯Ÿè€…<br><br>ä½ å¯ä»¥ç”¨å±æ€§é‡å†™ç»™ç»§æ‰¿æ¥çš„å±æ€§æ·»åŠ è§‚å¯Ÿè€…ã€‚è¿™ä¸ªç¡®ä¿ç»§æ‰¿æ¥çš„å±æ€§æ”¹å˜æ—¶ä½ ä¼šå¾—åˆ°é€šçŸ¥, ä¸ç®¡å±æ€§åŸå…ˆæ˜¯æ€ä¹ˆå®ç°çš„ã€‚<br><br>å¤‡æ³¨<br><br>ä½ ä¸èƒ½ç»™ç»§æ‰¿æ¥çš„å¸¸é‡å­˜å‚¨å±æ€§æˆ–è€…åªè¯»è®¡ç®—å±æ€§æ·»åŠ å±æ€§è§‚å¯Ÿè€…ã€‚è¿™äº›å±æ€§çš„å€¼ä¸èƒ½è®¾ç½®, å› æ­¤ä¸é€‚åˆåœ¨é‡å†™æ—¶æä¾› willSet æˆ–è€… didSet.<br><br>æ³¨æ„ä½ ä¹Ÿä¸èƒ½å¯¹åŒä¸€ä¸ªå±æ€§åŒæ—¶æä¾›é‡å†™çš„ setter å’Œ é‡å†™çš„å±æ€§è§‚å¯Ÿè€…ã€‚ å¦‚æœä½ æƒ³è§‚å¯Ÿå±æ€§å€¼çš„å˜åŒ–, è€Œä¸”ä½ å·²ç»ç»™å±æ€§æä¾›äº†è‡ªå®šä¹‰çš„ setter, ä½ å¯ä»¥åœ¨è‡ªå®šä¹‰çš„setteré‡Œè§‚å¯Ÿä»»ä½•å€¼çš„å˜åŒ–ã€‚<br><br>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªæ–°çš„ç±» AutomaticCar, å®ƒæ˜¯Carçš„å­ç±»ã€‚ AutomaticCar ç±»è¡¨ç¤ºä¸€è¾†è½¦æ˜¯è‡ªåŠ¨æŒ¡çš„ã€‚å®ƒä¼šåŸºäºå½“å‰é€Ÿåº¦è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„æ¡£ä½:<br><code><br>class AutomaticCar: Car {<br>    override var currentSpeed: Double {<br>        didSet {<br>            gear = Int(currentSpeed / 10.0) + 1<br>        }<br>    }<br>}</code><br>åªè¦ä½ è®¾ç½® AutomaticCar å®ä¾‹çš„ currentSpeed å±æ€§, å±æ€§çš„didSet è§‚å¯Ÿè€…ä¼šä¸ºæ–°é€Ÿåº¦è®¾ç½®åˆé€‚çš„æ¡£ä½ã€‚ç‰¹åˆ«çš„æ˜¯, å±æ€§è§‚å¯Ÿé€‰æ‹©çš„æ¡£ä½ç­‰äºæ–°çš„ currentSpeed å€¼é™¤ä»¥ 10, ç„¶åè½¬æ¢ä¸ºæœ€æ¥è¿‘çš„æ•´æ•°å†åŠ 1. 35.0 çš„é€Ÿåº¦äº§ç”Ÿçš„æ¡£ä½æ˜¯ 4:<br><code><br>let automatic = AutomaticCar()<br>automatic.currentSpeed = 35.0<br>print(â€œAutomaticCar: (automatic.description)â€)<br>// AutomaticCar: traveling at 35.0 miles per hour in gear 4<br></code><br># é˜²æ­¢é‡å†™<br><br>ä½ å¯ä»¥é€šè¿‡æ ‡è®°ä¸ºfinalæ¥é˜²æ­¢æ–¹æ³•,å±æ€§æˆ–è€…ä¸‹æ ‡è¢«é‡å†™ã€‚ ä½ å¯ä»¥åœ¨æ–¹æ³•,å±æ€§æˆ–è€…ä¸‹æ ‡çš„å…³é”®å­—å‰ä¹¦å†™finalæ ‡è¯†ç¬¦æ¥å®ç°è¿™ä¸ª (æ¯”å¦‚ final var, final func, final class func, å’Œ final subscript)ã€‚<br><br>åœ¨å­ç±»ä»»ä½•å°è¯•å»é‡å†™ä¸€ä¸ª final æ–¹æ³•,å±æ€§æˆ–è€…ä¸‹æ ‡éƒ½ä¼šè§¦å‘ç¼–è¯‘å™¨é”™è¯¯ã€‚ åœ¨æ‰©å±•ä¸­æ·»åŠ åˆ°ç±»é‡Œçš„æ–¹æ³•,å±æ€§æˆ–è€…ä¸‹æ ‡ä¹Ÿå¯ä»¥åœ¨æ‰©å±•å®šä¹‰æ—¶æ ‡è®°ä¸º final.<br><br>ä½ å¯ä»¥åœ¨ç±»å®šä¹‰çš„å…³é”®å­—å‰æ ‡è®°finalæ¥è¡¨æ˜æ•´ä¸ªç±»éƒ½æ˜¯ä¸èƒ½é‡å†™çš„ã€‚ä»»ä½•å°è¯•å»å­ç±»åŒ–è¿™ä¸ªç±»éƒ½ä¼šæŠ¥ä¸€ä¸ªç¼–è¯‘å™¨é”™è¯¯ã€‚<br># åˆå§‹åŒ–<br>åˆå§‹åŒ–æ˜¯ç±»,ç»“æ„ä½“æˆ–è€…æšä¸¾ä½¿ç”¨å‰çš„å‡†å¤‡è¿‡ç¨‹ã€‚è¿™ä¸ªè¿‡ç¨‹åŒ…æ‹¬ç»™æ¯ä¸ªå­˜å‚¨å±æ€§è®¾ç½®åˆå§‹åŒ–å€¼å¹¶ä¸”æ‰§è¡Œå…¶ä»–å®ä¾‹ä½¿ç”¨å‰çš„è®¾ç½®å’Œåˆå§‹åŒ–å·¥ä½œã€‚<br><br>é€šè¿‡å®šä¹‰åˆå§‹åŒ–æ–¹æ³•æ¥å®ç°è¿™ä¸ªè¿‡ç¨‹, å®ƒå¾ˆåƒç‰¹æ®Šå‡½æ•°ç”¨æ¥åˆ›å»ºç‰¹å®šç±»å‹çš„å®ä¾‹ã€‚è·Ÿ Objective-C åˆå§‹åŒ–æ–¹æ³•ä¸åŒ, Swift åˆå§‹åŒ–æ–¹æ³•ä¸ä¼šè¿”å›å€¼ã€‚å®ƒä»¬çš„ä¸»è¦ä»»åŠ¡æ˜¯ç¡®ä¿ä¸€ä¸ªç±»å‹çš„å®ä¾‹åœ¨ä½¿ç”¨å‰å¯ä»¥æ­£ç¡®çš„åˆå§‹åŒ–ã€‚<br><br>ç±»ç±»å‹çš„å®ä¾‹è¿˜å¯ä»¥å®ç°å»åˆå§‹åŒ–æ–¹æ³•, å®ƒåœ¨ç±»é”€æ¯ä¹‹å‰æ‰§è¡Œæ¸…ç†å·¥ä½œã€‚<br><br># ä¸ºå­˜å‚¨å±æ€§è®¾ç½®åˆå§‹å€¼<br><br>ç±»æˆ–è€…ç»“æ„ä½“å®ä¾‹åˆ›å»ºçš„æ—¶å€™,å®ƒä»¬çš„å­˜å‚¨å±æ€§å¿…é¡»è®¾ç½®æˆåˆé€‚çš„åˆå§‹å€¼ã€‚å­˜å‚¨å±æ€§ä¸å¯ä»¥æ˜¯æœªè®¾ç½®çŠ¶æ€ã€‚<br><br>ä½ å¯ä»¥åœ¨åˆå§‹åŒ–æ–¹æ³•å†…ç»™å­˜å‚¨å±æ€§è®¾ç½®åˆå§‹å€¼, æˆ–è€…æŒ‡å®šä¸€ä¸ªé»˜è®¤å±æ€§å€¼ä½œä¸ºå±æ€§å®šä¹‰çš„éƒ¨åˆ†ã€‚è¿™äº›æ“ä½œä¸‹é¢ä¼šæè¿°ã€‚<br><br>å¤‡æ³¨<br><br>å½“ä½ ç»™å­˜å‚¨å±æ€§æŒ‡å®šé»˜è®¤å€¼, æˆ–è€…åœ¨åˆå§‹åŒ–æ–¹æ³•é‡Œç»™å®ƒè®¾ç½®åˆå§‹å€¼, è¿™ä¸ªè®¾ç½®æ˜¯ç›´æ¥çš„, æ²¡æœ‰è°ƒç”¨ä»»ä½•å±æ€§è§‚å¯Ÿè€…ã€‚<br><br># åˆå§‹åŒ–æ–¹æ³•<br><br>åˆå§‹åŒ–æ–¹æ³•ç”¨æ¥åˆ›å»ºç‰¹å®šç±»å‹çš„å®ä¾‹ã€‚æœ€ç®€å•çš„å½¢å¼, ä¸€ä¸ªåˆå§‹åŒ–æ–¹æ³•å¾ˆåƒä¸€ä¸ªæ²¡æœ‰å‚æ•°çš„å®ä¾‹æ–¹æ³•, ç”¨å…³é”®å­— init ä¹¦å†™:<br><code><br>init() {<br>// perform some initialization here<br>}</code><br>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªæ–°çš„ç»“æ„ä½“ Fahrenheit,å®ƒå­˜å‚¨äº† Fahrenheit æ¸©åº¦è¡¨è¾¾å¼ã€‚Fahrenheit ç»“æ„ä½“æœ‰ä¸€ä¸ªå­˜å‚¨å±æ€§temperature, ç±»å‹æ˜¯ Double:<br><code><br>struct Fahrenheit {<br>var temperature: Double<br>init() {<br>temperature = 32.0<br>}<br>}<br>var f = Fahrenheit()<br>print(â€œThe default temperature is (f.temperature)Â° Fahrenheitâ€)<br>// æ‰“å° â€œThe default temperature is 32.0Â° Fahrenheitâ€<br></code><br>è¿™ä¸ªç»“æ„ä½“å®šä¹‰äº†ä¸€ä¸ªå•ç‹¬çš„åˆå§‹åŒ–æ–¹æ³• init, æ²¡æœ‰å¸¦å‚æ•°, åˆå§‹åŒ–temperatureå€¼ä¸º 32.0 (Fahrenheit æ¸©åº¦çš„å†°ç‚¹)ã€‚<br><br># é»˜è®¤å±æ€§å€¼<br><br>ä½ å¯ä»¥åœ¨åˆå§‹åŒ–æ–¹æ³•å†…éƒ¨è®¾ç½®å­˜å‚¨å±æ€§çš„å€¼, å°±åƒä¸Šé¢å±•ç¤ºçš„é‚£æ ·ã€‚ å¦å¤–ä¸€ç§æ–¹æ³•æ˜¯, å¯ä»¥æŒ‡å®šé»˜è®¤å±æ€§å€¼ä½œä¸ºå±æ€§å®šä¹‰çš„ä¸€éƒ¨åˆ†ã€‚<br><br>å¤‡æ³¨<br><br>å¦‚æœä¸€ä¸ªå±æ€§æ€»æ˜¯å¸¦æœ‰ç›¸åŒçš„åˆå§‹å€¼, æä¾›ä¸€ä¸ªé»˜è®¤å€¼è€Œä¸æ˜¯åœ¨åˆå§‹åŒ–ä¸­è®¾ç½®ä¸€ä¸ªå€¼ã€‚ç»“æœæ˜¯ä¸€æ ·çš„, ä¸è¿‡é»˜è®¤å€¼æŠŠå±æ€§çš„åˆå§‹åŒ–è·Ÿå®ƒçš„å®šä¹‰è”ç³»çš„æ›´ç´§å¯†ã€‚ å®ƒæ›´çŸ­,æ›´æ¸…æ™°ã€‚ä¿è¯ä½ å¯ä»¥æ ¹æ®é»˜è®¤å€¼æ¨æ–­å±æ€§çš„ç±»å‹ã€‚é»˜è®¤å€¼è®©ä½ æ›´å®¹æ˜“åˆ©ç”¨é»˜è®¤åˆå§‹åŒ–æ–¹æ³•å’Œåˆå§‹åŒ–æ–¹æ³•ç»§æ‰¿, æœ¬ç« ç¨åä¼šæè¿°ã€‚<br><br>ä½ å¯ä»¥ç”¨ç®€å•çš„å½¢å¼å†™ä¸Šé¢çš„ç»“æ„ä½“ Fahrenheit ,åœ¨å±æ€§å£°æ˜çš„æ—¶å€™ç»™å®ƒæä¾›ä¸€ä¸ªé»˜è®¤å€¼:<br><code><br>struct Fahrenheit {<br>var temperature = 32.0<br>}</code><br># è‡ªå®šä¹‰åˆå§‹åŒ–<br><br>ä½ å¯ä»¥ç”¨è¾“å…¥å‚æ•°å’Œå¯é€‰å±æ€§ç±»å‹æ¥è‡ªå®šä¹‰åˆå§‹åŒ–è¿‡ç¨‹ã€‚æˆ–è€…é€šè¿‡åˆå§‹åŒ–æ—¶èµ‹å€¼å¸¸é‡å±æ€§, ä¸‹é¢ä¼šæè¿°ã€‚<br><br># åˆå§‹åŒ–å‚æ•°<br><br>ä½ å¯ä»¥æä¾›åˆå§‹åŒ–å‚æ•°ä½œä¸ºåˆå§‹åŒ–æ–¹æ³•å®šä¹‰çš„éƒ¨åˆ†, å®šä¹‰ç±»å‹å’Œå€¼åã€‚åˆå§‹åŒ–å‚æ•°è·Ÿå‡½æ•°å’Œæ–¹é¢å‚æ•°çš„è¯­æ³•å’Œèƒ½åŠ›æ˜¯ä¸€æ ·çš„ã€‚<br><br>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªç»“æ„ä½“ Celsius, å­˜å‚¨æ‘„æ°æ¸©åº¦çš„è¡¨è¾¾ã€‚ Celsius ç»“æ„ä½“å®ç°äº†ä¸¤ä¸ªè‡ªå®šä¹‰çš„åˆå§‹åŒ–æ–¹æ³•init(fromFahrenheit:) å’Œ init(fromKelvin:), å®ƒä»¬ä½¿ç”¨ä¸åŒçš„æ¸©æ ‡æ¥åˆå§‹åŒ–ç»“æ„ä½“çš„å®ä¾‹:<br><code><br>struct Celsius {<br>var temperatureInCelsius: Double<br>init(fromFahrenheit fahrenheit: Double) {<br>temperatureInCelsius = (fahrenheit - 32.0) / 1.8<br>}<br>init(fromKelvin kelvin: Double) {<br>temperatureInCelsius = kelvin - 273.15<br>}<br>}<br>let boilingPointOfWater = Celsius(fromFahrenheit: 212.0)<br>// boilingPointOfWater.temperatureInCelsius is 100.0<br>let freezingPointOfWater = Celsius(fromKelvin: 273.15)<br>// freezingPointOfWater.temperatureInCelsius is 0.0<br></code><br>ç¬¬ä¸€ä¸ªåˆå§‹åŒ–æ–¹æ³•åªæœ‰ä¸€ä¸ªå‚æ•°,è¿™ä¸ªå‚æ•°æœ‰ä¸€ä¸ªå‚æ•°æ ‡ç­¾ fromFahrenheit å’Œä¸€ä¸ªå‚æ•°å fahrenheit. ç¬¬äºŒä¸ªåˆå§‹åŒ–æ–¹æ³•ä¹Ÿåªæœ‰ä¸€ä¸ªå‚æ•°,è¿™ä¸ªå‚æ•°æœ‰ä¸€ä¸ªæ ‡ç­¾ fromKelvin å’Œä¸€ä¸ªå‚æ•°å kelvin. ä¸¤ä¸ªåˆå§‹åŒ–æ–¹æ³•éƒ½æ˜¯æŠŠå‚æ•°è½¬æ¢ä¸ºå¯¹åº”çš„æ‘„æ°æ¸©åº¦å€¼å¹¶æŠŠå®ƒå­˜åœ¨å±æ€§ temperatureInCelsius é‡Œã€‚<br><br># å‚æ•°åå’Œå‚æ•°æ ‡ç­¾<br><br>è·Ÿå‡½æ•°å’Œæ–¹æ³•å‚æ•°ä¸€æ ·, åˆå§‹åŒ–å‚æ•°å¯ä»¥ç”¨å‚æ•°åå’Œå‚æ•°æ ‡ç­¾ã€‚<br><br>ä¸è¿‡, åˆå§‹åŒ–æ–¹æ³•ä¸èƒ½åƒå‡½æ•°å’Œæ–¹æ³•é‚£æ ·åœ¨æ‹¬å·å‰æœ‰ä¸€ä¸ªæ ‡ç¤ºå‡½æ•°åã€‚å› æ­¤, æ‰€ä»¥åˆå§‹åŒ–æ–¹æ³•çš„å‚æ•°åå’Œå‚æ•°ç±»å‹æ‰®æ¼”å¾ˆé‡è¦çš„è§’è‰²,ç”¨æ¥åŒºåˆ†åº”è¯¥è°ƒç”¨å“ªä¸ªåˆå§‹åŒ–æ–¹æ³•ã€‚å› ä¸ºè¿™ä¸ª, å¦‚æœä½ ä¸èƒ½æä¾›å‚æ•°æ ‡ç­¾,Swift ä¼šè‡ªåŠ¨æä¾›ä¸€ä¸ªè¿™æ ·çš„æ ‡ç­¾ã€‚<br><br>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªç»“æ„ä½“ Color, å¸¦æœ‰ä¸‰ä¸ªå¸¸é‡å±æ€§ red, green, å’Œ blue. è¿™äº›å±æ€§å­˜å‚¨0.0åˆ°1.0ä¹‹é—´çš„å€¼æ¥è¡¨ç¤º red, green, å’Œ blue åœ¨é¢œè‰²ä¸­çš„æ•°é‡ã€‚<br><br>Color ä¸ºä¸‰åŸè‰²æä¾›äº†ä¸€ä¸ªåˆå§‹åŒ–æ–¹æ³•,å¸¦æœ‰ä¸‰ä¸ªæœ‰å‘½åçš„å‚æ•°,ç±»å‹æ˜¯ Double. Color åŒæ—¶æä¾›äº†å¸¦æœ‰ä¸€ä¸ªwhiteå‚æ•°çš„åˆå§‹åŒ–æ–¹æ³•, ç”¨æ¥ç»™ä¸‰åŸè‰²æä¾›ç›¸åŒçš„å€¼ã€‚<br><code><br>struct Color {<br>let red, green, blue: Double<br>init(red: Double, green: Double, blue: Double) {<br>self.red   = red<br>self.green = green<br>self.blue  = blue<br>}<br>init(white: Double) {<br>red   = white<br>green = white<br>blue  = white<br>}<br>}</code><br>é€šè¿‡ç»™æ¯ä¸ªåˆå§‹åŒ–å‚æ•°èµ‹å€¼,ä¸¤ä¸ªåˆå§‹åŒ–æ–¹æ³•éƒ½å¿«è¦åˆ›å»ºæ–° Color å®ä¾‹:<br><code><br>let magenta = Color(red: 1.0, green: 0.0, blue: 1.0)<br>let halfGray = Color(white: 0.5)<br></code><br>æ³¨æ„,ä¸ç”¨å‚æ•°æ ‡ç­¾æ— æ³•è°ƒç”¨è¿™äº›åˆå§‹åŒ–æ–¹æ³•ã€‚å¦‚æœå·²ç»å®šä¹‰ï¼Œå‚æ•°æ ‡ç­¾å¿…é¡»æ€»æ˜¯ä½¿ç”¨ã€‚å¿½ç•¥å®ƒä»¬ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯:<br><code><br>let veryGreen = Color(0.0, 1.0, 0.0)<br>// è¿™ä¸ªä¼šæŠ¥ç¼–è¯‘é”™è¯¯ - éœ€è¦å‚æ•°æ ‡ç­¾<br></code><br># æ²¡æœ‰å‚æ•°æ ‡ç­¾çš„åˆå§‹åŒ–å‚æ•°<br><br>å¦‚æœä½ ä¸æƒ³ä½¿ç”¨å‚æ•°æ ‡ç­¾, ä½¿ç”¨ä¸‹åˆ’çº¿ (<em>) æ›¿ä»£å‚æ•°çš„æ˜¾å¼å‚æ•°æ ‡ç­¾æ¥é‡å†™é»˜è®¤è¡Œä¸ºã€‚<br><br>è¿™é‡Œæœ‰ä¸€ä¸ªæ—©å‰Celsiusä¾‹å­çš„æ‰©å……ç‰ˆæœ¬, ç”¨äº†ä¸€ä¸ªé¢å¤–çš„åˆå§‹åŒ–æ–¹æ³•ä»æµ®ç‚¹å€¼åˆ›å»ºæ–°çš„ Celsius å®ä¾‹,æµ®ç‚¹å€¼å·²ç»æ˜¯æ‘„æ°æ¸©æ ‡:<br><code><br>struct Celsius {<br>var temperatureInCelsius: Double<br>init(fromFahrenheit fahrenheit: Double) {<br>temperatureInCelsius = (fahrenheit - 32.0) / 1.8<br>}<br>init(fromKelvin kelvin: Double) {<br>temperatureInCelsius = kelvin - 273.15<br>}<br>init(</code></em> celsius: Double) {<br>temperatureInCelsius = celsius<br>}<br>}<br>let bodyTemperature = Celsius(37.0)<br>// bodyTemperature.temperatureInCelsius is 37.0<br><br>åˆå§‹åŒ–æ–¹æ³•è°ƒç”¨ Celsius(37.0) ç›®çš„å¾ˆæ¸…æ¥š,ä¸éœ€è¦ä½¿ç”¨å‚æ•°æ ‡ç­¾ã€‚å› æ­¤åˆå§‹åŒ–æ–¹æ³•å†™ä½œ init(_ celsius: Double) å¾ˆåˆé€‚, é€šè¿‡æ— åæµ®ç‚¹å€¼å¯ä»¥è°ƒç”¨å®ƒã€‚<br><br># å¯é€‰å±æ€§ç±»å‹<br><br>å¦‚æœä½ è‡ªå®šä¹‰ç±»å‹æœ‰ä¸€ä¸ªå­˜å‚¨å±æ€§å…è®¸æ— å€¼â€”å¯èƒ½å› ä¸ºå®ƒçš„å€¼åœ¨åˆå§‹åŒ–çš„æ—¶å€™ä¸èƒ½è®¾ç½®, æˆ–è€…å› ä¸ºå®ƒåœ¨æŸä¸ªæ—¶åˆ»å…è®¸æ— å€¼â€”å®šä¹‰è¿™ä¸ªå±æ€§ä¸ºå¯é€‰ç±»å‹ã€‚å¯é€‰ç±»å‹å±æ€§è‡ªåŠ¨åˆå§‹åŒ–ä¸ºnil, è¡¨æ˜è¿™ä¸ªå±æ€§æ•…æ„åœ¨åˆå§‹åŒ–æ—¶â€œæ²¡æœ‰å€¼â€ã€‚<br><br>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªç±» SurveyQuestion, å¸¦æœ‰ä¸€ä¸ªå¯é€‰å­—ç¬¦ä¸²å±æ€§ response:<br><code><br>class SurveyQuestion {<br>var text: String<br>var response: String?<br>init(text: String) {<br>self.text = text<br>}<br>func ask() {<br>print(text)<br>}<br>}<br>let cheeseQuestion = SurveyQuestion(text: â€œDo you like cheese?â€)<br>cheeseQuestion.ask()<br>// æ‰“å° â€œDo you like cheese?â€<br>cheeseQuestion.response = â€œYes, I do like cheese.â€<br></code><br>è°ƒæŸ¥é—®é¢˜çš„å›å¤åªæœ‰é—®åæ‰ä¼šçŸ¥é“, æ‰€æœ‰ response å±æ€§å£°æ˜ä¸º String? ç±»å‹, æˆ–è€… â€œå¯é€‰ Stringâ€. å½“ä¸€ä¸ªæ–°çš„ SurveyQuestion å®ä¾‹åˆå§‹åŒ–çš„æ—¶å€™, å®ƒè‡ªåŠ¨èµ‹é»˜è®¤å€¼ä¸ºnil, æ„æ€æ˜¯â€œè¿˜æ²¡æœ‰å­—ç¬¦ä¸²â€ã€‚<br><br># åˆå§‹åŒ–æ—¶è®¿é—®å¸¸é‡å±æ€§<br><br>åœ¨åˆå§‹åŒ–æ—¶,ä½ å¯ä»¥åœ¨ä»»ä½•æ—¶å€™ç»™å¸¸é‡å±æ€§èµ‹å€¼, åªè¦åœ¨åˆå§‹åŒ–å®Œæˆæ—¶ç»™å®ƒè®¾ç½®ä¸€ä¸ªç¡®å®šå€¼ã€‚ä¸€æ—¦ä¸€ä¸ªå¸¸é‡å±æ€§æŒ‡å®šä¸€ä¸ªå€¼,åé¢å°±ä¸èƒ½å†ä¿®æ”¹äº†ã€‚<br><br>å¤‡æ³¨<br><br>å¯¹äºç±»å®ä¾‹, è¢«ç±»å¼•å…¥çš„å¸¸é‡å±æ€§åœ¨åˆå§‹åŒ–æ—¶åªèƒ½è¢«è¿™ä¸ªç±»æ”¹å˜ã€‚ å®ƒä¸èƒ½è¢«å­ç±»ä¿®æ”¹ã€‚<br><br>ä½ å¯ä»¥ä¿®æ”¹ä¸Šé¢çš„e SurveyQuestion ä¾‹å­, å¯¹é—®é¢˜æ–‡æœ¬ä½¿ç”¨å¸¸é‡å±æ€§è€Œä¸æ˜¯å˜é‡å±æ€§, æ¥è¡¨æ˜ä¸€æ—¦SurveyQuestion å®ä¾‹åˆ›å»º,é—®é¢˜å°±ä¸èƒ½å†è¢«ä¿®æ”¹ã€‚å³ä½¿text å±æ€§ç°åœ¨æ˜¯ä¸€ä¸ªå¸¸é‡, å®ƒä¾ç„¶å¯ä»¥åœ¨åˆå§‹åŒ–æ–¹æ³•é‡Œè®¾ç½®:<br><code><br>class SurveyQuestion {<br>let text: String<br>var response: String?<br>init(text: String) {<br>self.text = text<br>}<br>func ask() {<br>print(text)<br>}<br>}<br>let beetsQuestion = SurveyQuestion(text: â€œHow about beets?â€)<br>beetsQuestion.ask()<br>// Prints â€œHow about beets?â€<br>beetsQuestion.response = â€œI also like beets. (But not with cheese.)â€<br></code><br># é»˜è®¤åˆå§‹åŒ–æ–¹æ³•<br><br>Swift ä¸ºä»»ä½•ç»“æ„ä½“æˆ–è€…ç±»æä¾›ä¸€ä¸ªé»˜è®¤åˆå§‹åŒ–æ–¹æ³•, è¿™äº›ç±»å’Œç»“æ„ä½“ç»™æ‰€æœ‰çš„å±æ€§æä¾›äº†åˆå§‹å€¼,ä½†æ˜¯æ²¡æœ‰æä¾›ä¸€ä¸ªåˆå§‹åŒ–æ–¹æ³•ã€‚é»˜è®¤åˆå§‹åŒ–æ–¹æ³•ç®€å•åˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹,ç„¶åæŠŠæ‰€æœ‰å±æ€§è®¾ç½®ä¸ºé»˜è®¤å€¼ã€‚<br><br>è¿™ä¸ªä¾‹å­å®šä¹‰äº†ä¸€ä¸ªç±» ShoppingListItem, å°è£…äº†è´­ç‰©åˆ—è¡¨ä¸­ä¸€é¡¹çš„åå­—, æ•°é‡å’Œè´­ä¹°çŠ¶æ€:<br><code><br>class ShoppingListItem {<br>var name: String?<br>var quantity = 1<br>var purchased = false<br>}<br>var item = ShoppingListItem()<br></code><br>å› ä¸ºæ‰€æœ‰çš„ ShoppingListItem å±æ€§éƒ½æœ‰é»˜è®¤å€¼, åˆå› ä¸ºå®ƒæ˜¯åŸºç±»æ²¡æœ‰è¶…ç±», ShoppingListItem ä¼šè‡ªåŠ¨åˆ›å»ºé»˜è®¤çš„åˆå§‹åŒ–æ–¹æ³•, æ¥åˆ›å»ºå®ä¾‹å¹¶æŠŠæ‰€æœ‰å±æ€§è®¾ç½®æˆé»˜è®¤å€¼ã€‚(name å±æ€§æ˜¯ä¸€ä¸ªå¯é€‰å­—ç¬¦ä¸²ç±»å‹å±æ€§, å®ƒä¼šè‡ªåŠ¨è®¾ä¸º nil, å³ä½¿è¿™ä¸ªå€¼æ²¡æœ‰å†™åœ¨ä»£ç é‡Œ) è¿™ä¸ªä¾‹å­ä½¿ç”¨é»˜è®¤åˆå§‹åŒ–æ–¹æ³•æ¥åˆ›å»ºæ–°å®ä¾‹, åˆå§‹åŒ–è¯­æ³•æ˜¯ ShoppingListItem(), ç„¶åèµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ item.<br><br># ç»“æ„ä½“ç±»å‹æˆå‘˜åˆå§‹åŒ–æ–¹æ³•<br><br>Structure å¦‚æœæ²¡æœ‰å®šä¹‰è‡ªå·±çš„åˆå§‹åŒ–æ–¹æ³•, å®ƒä¼šè‡ªåŠ¨è·å–åˆ°ä¸€ä¸ªæˆå‘˜åˆå§‹åŒ–æ–¹æ³•ã€‚è·Ÿé»˜è®¤åˆå§‹åŒ–æ–¹æ³•ä¸åŒ, å³ä½¿ç»“æ„ä½“æœ‰æœªè®¾ç½®é»˜è®¤å€¼çš„å­˜å‚¨å±æ€§,å®ƒä¹Ÿä¼šæ¥æ”¶åˆ°ä¸€ä¸ªæˆå‘˜åˆå§‹åŒ–æ–¹æ³•ã€‚<br><br>æˆå‘˜åˆå§‹åŒ–æ–¹æ³•æ˜¯ç®€å†™æ–¹å¼,ç”¨æ¥åˆå§‹åŒ–æ–°ç»“æ„ä½“å®ä¾‹çš„æˆå‘˜å±æ€§ã€‚æ–°å®ä¾‹çš„åˆå§‹å€¼å¯ä»¥é€šè¿‡åå­—ä¼ ç»™æˆå‘˜åˆå§‹åŒ–æ–¹æ³•ã€‚<br><br>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªç»“æ„ä½“ Size, å®ƒæœ‰ä¸¤ä¸ªå±æ€§ width å’Œ height. ä¸¤ä¸ªå±æ€§æ ¹æ®åˆå§‹å€¼æ¨æ–­ä¸º Double ç±»å‹ã€‚<br><br>Size ç»“æ„ä½“è‡ªåŠ¨è·å–ä¸€ä¸ªæˆå‘˜åˆå§‹åŒ–æ–¹æ³• init(width:height:), ä½ å¯ä»¥ç”¨æ¥åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„ Size å®ä¾‹:<br><code><br>struct Size {<br>var width = 0.0, height = 0.0<br>}<br>let twoByTwo = Size(width: 2.0, height: 2.0)<br></code><br># å€¼ç±»å‹åˆå§‹åŒ–æ–¹æ³•ä»£ç†<br><br>åˆå§‹åŒ–æ–¹æ³•å¯ä»¥è°ƒç”¨å…¶ä»–åˆå§‹åŒ–æ–¹æ³•æ¥æ‰§è¡Œå®ä¾‹çš„éƒ¨åˆ†åˆå§‹åŒ–å·¥ä½œã€‚è¿™ä¸ªè¿‡ç¨‹, ç§°ä¸ºåˆå§‹åŒ–æ–¹æ³•ä»£ç†, é€šè¿‡å¤šä¸ªåˆå§‹åŒ–æ–¹æ³•é¿å…é‡å¤ä»£ç ã€‚<br><br>åˆå§‹åŒ–æ–¹æ³•ä»£ç†å¦‚ä½•å·¥ä½œçš„è§„åˆ™, ä»£ç†è¢«å…è®¸æ˜¯ä»€ä¹ˆå½¢å¼, å¯¹äºå€¼ç±»å‹å’Œç±»ç±»å‹æ˜¯ä¸åŒçš„ã€‚å€¼ç±»å‹ä¸æ”¯æŒç»§æ‰¿ (ç»“æ„ä½“å’Œæšä¸¾), æ‰€ä»¥å®ƒä»¬çš„åˆå§‹åŒ–å‡½æ•°ä»£ç†è¿‡ç¨‹ç›¸å¯¹ç®€å•, å› ä¸ºå®ƒä»¬åªèƒ½ä»£ç†å®ƒä»¬è‡ªå·±æä¾›çš„å…¶ä»–åˆå§‹åŒ–æ–¹æ³•ã€‚ä¸è¿‡ç±»å¯ä»¥ç»§æ‰¿å…¶ä»–ç±»ã€‚è¿™å°±æ„å‘³ç€ç±»æœ‰é¢å¤–çš„è´£ä»»,ä»¥ç¡®ä¿å®ƒä»¬ç»§æ‰¿æ¥çš„æ‰€æœ‰å­˜å‚¨å±æ€§åœ¨åˆå§‹åŒ–æ—¶éƒ½åˆ†é…äº†åˆé€‚çš„å€¼ã€‚<br><br>å¯¹äºå€¼ç±»å‹, åœ¨å†™ä½ è‡ªå·±å®šä¹‰çš„åˆå§‹åŒ–æ–¹æ³•æ—¶,ä½ ä½¿ç”¨ self.init ä»ç›¸åŒçš„å€¼ç±»å‹è°ƒç”¨å…¶ä»–åˆå§‹åŒ–æ–¹æ³•ã€‚ä½ å¯ä»¥åªåœ¨ä¸€ä¸ªåˆå§‹åŒ–æ–¹æ³•é‡Œè°ƒç”¨ self.init.<br><br>æ³¨æ„,å¦‚æœä½ ä¸ºä¸€ä¸ªå€¼ç±»å‹å®šä¹‰ä¸€ä¸ªåˆå§‹åŒ–æ–¹æ³•, ä½ å°†ä¸å†è®¿é—®é‚£ç§ç±»å‹çš„é»˜è®¤åˆå§‹åŒ–æ–¹æ³• (æˆ–è€…æˆå‘˜åˆå§‹åŒ–æ–¹æ³•, å¦‚æœå®ƒæ˜¯ä¸€ä¸ªç»“æ„ä½“)ã€‚è¿™ç§æƒ…å†µä¸‹å¤åˆåˆå§‹åŒ–æ–¹æ³•æä¾›çš„é¢å¤–å¿…è¦çš„è®¾ç½®, è¿™ä¸ªé˜²æ­¢ä¸å°å¿ƒè¢«ä½¿ç”¨è‡ªåŠ¨åˆå§‹åŒ–æ–¹æ³•è§„é¿ã€‚<br><br>å¤‡æ³¨<br><br>å¦‚æœä½ æƒ³è‡ªå®šä¹‰å€¼ç±»å‹ä½¿ç”¨é»˜è®¤åˆå§‹åŒ–æ–¹æ³•å’Œæˆå‘˜åˆå§‹åŒ–æ–¹æ³•æ¥åˆå§‹åŒ–, åŒæ—¶ä½¿ç”¨ä½ è‡ªå®šä¹‰çš„åˆå§‹åŒ–æ–¹æ³•, é‚£å°±åœ¨æ‰©å±•é‡Œå®ç°è‡ªå®šä¹‰åˆå§‹åŒ–æ–¹æ³•è€Œä¸æ˜¯ä½œä¸ºå€¼ç±»å‹åŸå…ˆå®ç°çš„éƒ¨åˆ†ã€‚æ›´å¤šä¿¡æ¯, å‚è§æ‰©å±•ã€‚<br><br>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªRect ç»“æ„ä½“æ¥è¡¨ç¤ºä¸€ä¸ªå‡ ä½•çŸ©å½¢ã€‚è¿™ä¸ªä¾‹å­éœ€è¦ä¸¤ä¸ªæ”¯æŒçš„ç»“æ„ä½“ Size å’Œ Point, both of which provide default values of 0.0 for all of their properties:<br><code><br>struct Size {<br>var width = 0.0, height = 0.0<br>}<br>struct Point {<br>var x = 0.0, y = 0.0<br>}<br></code><br>ä½ å¯ä»¥ç”¨ä¸‹é¢ä¸‰ç§æ–¹å¼åˆå§‹åŒ– Rect ç»“æ„ä½“â€”é»˜è®¤åˆå§‹åŒ–å€¼ä¸º0, æä¾›ä¸€ä¸ªç‰¹å®šçš„åŸç‚¹å’Œå¤§å°, æˆ–è€…æŒ‡å®šä¸€ä¸ªç‰¹å®šçš„ä¸­å¿ƒç‚¹å’Œå¤§å°ã€‚ä¸‰ä¸ªåˆå§‹åŒ–é€‰æ‹©ç”¨ä¸‰ä¸ªè‡ªå®šä¹‰çš„åˆå§‹åŒ–æ–¹æ³•è¡¨ç¤º:<br><code><br>struct Rect {<br>var origin = Point()<br>var size = Size()<br>init() {}<br>init(origin: Point, size: Size) {<br>self.origin = origin<br>self.size = size<br>}<br>init(center: Point, size: Size) {<br>let originX = center.x - (size.width / 2)<br>let originY = center.y - (size.height / 2)<br>self.init(origin: Point(x: originX, y: originY), size: size)<br>}<br>}</code><br>ç¬¬ä¸€ä¸ªåˆå§‹åŒ–æ–¹æ³•, init(), åŠŸèƒ½å’Œç»“æ„ä½“æœªå®šä¹‰åˆå§‹åŒ–æ–¹æ³•è‡ªåŠ¨åˆ†é…çš„é»˜è®¤åˆå§‹åŒ–æ–¹æ³•ä¸€æ ·ã€‚è¿™ä¸ªåˆå§‹åŒ–æ–¹æ³•å‡½æ•°ä½“ä¸ºç©º, æœ‰ä¸€å †ç©ºçš„å¤§æ‹¬å·è¡¨ç¤º {}. è°ƒç”¨è¿™ä¸ªåˆå§‹åŒ–æ–¹æ³•,è¿”å›ä¸€ä¸ª Rect å®ä¾‹, å®ƒçš„åŸç‚¹å’Œå¤§å°éƒ½æ˜¯é»˜è®¤å€¼, åˆ†åˆ«æ˜¯ Point(x: 0.0, y: 0.0) å’Œ Size(width: 0.0, height: 0.0):<br><code><br>let basicRect = Rect()<br>// basicRectâ€™s origin is (0.0, 0.0) and its size is (0.0, 0.0)<br></code><br>ç¬¬äºŒä¸ªåˆå§‹åŒ–æ–¹æ³•, init(origin:size:), åŠŸèƒ½å’Œç»“æ„ä½“æœªå®šä¹‰åˆå§‹åŒ–æ–¹æ³•è‡ªåŠ¨åˆ†é…çš„æˆå‘˜åˆå§‹åŒ–æ–¹æ³•ä¸€æ ·ã€‚è¿™ä¸ªåˆå§‹åŒ–æ–¹æ³•ç®€å•æŒ‡å®šåŸç‚¹å’Œå¤§å°å‚æ•°å€¼ç»™å¯¹åº”çš„å­˜å‚¨å±æ€§:<br><code><br>let originRect = Rect(origin: Point(x: 2.0, y: 2.0),<br>size: Size(width: 5.0, height: 5.0))<br>// originRectâ€™s origin is (2.0, 2.0) and its size is (5.0, 5.0)<br></code><br>ç¬¬ä¸‰ä¸ªåˆå§‹åŒ–æ–¹æ³•, init(center:size:), ç¨å¾®æœ‰ç‚¹å¤æ‚ã€‚å¼€å§‹åŸºäºä¸­å¿ƒç‚¹å’Œå¤§å°å€¼è®¡ç®—ä¸€ä¸ªåˆé€‚çš„åŸç‚¹å€¼ã€‚ç„¶åè°ƒç”¨ (æˆ–è€…ä»£ç†)  init(origin:size:) åˆå§‹åŒ–æ–¹æ³•, å­˜å‚¨æ–°çš„åŸç‚¹å€¼å’Œå¤§å°åˆ°å¯¹åº”çš„å±æ€§:<br><code><br>let centerRect = Rect(center: Point(x: 4.0, y: 4.0),<br>size: Size(width: 3.0, height: 3.0))<br>// centerRectâ€™s origin is (2.5, 2.5) and its size is (3.0, 3.0)<br></code><br>init(center:size:) åˆå§‹åŒ–æ–¹æ³•å¯ä»¥ç»™å¯¹åº”çš„å±æ€§æŒ‡å®šæ–°çš„åŸç‚¹å€¼å’Œå¤§å°ã€‚ä¸è¿‡, å¯¹äº init(center:size:) åˆå§‹åŒ–æ–¹æ³•æ¥è¯´é‡‡ç”¨å·²å­˜åœ¨çš„åˆå§‹åŒ–å™¨æ›´åŠ éå†ã€‚<br><br><br># ç±»ç»§æ‰¿å’Œåˆå§‹åŒ–<br><br>ç±»çš„æ‰€æœ‰å­˜å‚¨å±æ€§â€”åŒ…å«æ¥è‡ªè¶…ç±»çš„ä»»ä½•å±æ€§â€”åˆå§‹åŒ–çš„æ—¶å€™å¿…é¡»åˆ†é…ä¸€ä¸ªåˆå§‹å€¼ã€‚<br><br>Swift ä¸ºäº†ç±»ç±»å‹å®šä¹‰äº†ä¸¤ç§åˆå§‹åŒ–æ–¹æ³•,å¸®åŠ©ç¡®ä¿æ‰€æœ‰çš„å­˜å‚¨å±æ€§éƒ½æœ‰åˆå§‹å€¼ã€‚è¿™å°±å¤§å®¶ç†ŸçŸ¥çš„æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•å’Œä¾¿åˆ©åˆå§‹åŒ–æ–¹æ³•ã€‚<br><br># æŒ‡å®šæ„é€ å™¨å’Œä¾¿åˆ©æ„é€ å™¨<br><br>æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•æ˜¯ç±»çš„ä¸»è¦åˆå§‹åŒ–æ–¹æ³•ã€‚ä¸€ä¸ªæŒ‡å®šåˆå§‹åŒ–æ–¹æ³•ä¼šå®Œå…¨åˆå§‹åŒ–ç±»å¼•å…¥çš„æ‰€æœ‰å±æ€§,åŒæ—¶ä¼šè°ƒç”¨åˆé€‚çš„è¶…ç±»åˆå§‹åŒ–æ–¹æ³•æ¥ç»§ç»­è¶…ç±»é“¾çš„åˆå§‹åŒ–è¿‡ç¨‹ã€‚<br><br>Classes å€¾å‘äºæœ‰å¾ˆå°‘çš„æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•, å¯¹äºç±»æ¥è¯´åªæœ‰ä¸€ä¸ªå¾ˆå¹³å¸¸ã€‚ æŒ‡å®šæ„é€ å™¨æ˜¯é€šè¿‡åˆå§‹åŒ–å‘ç”Ÿåœ°çš„æ¼æ–—ç‚¹, é€šè¿‡å®ƒåˆå§‹åŒ–ç»§ç»­å¾€è¶…ç±»é“¾ä¸Šèµ°ã€‚<br><br>æ¯ä¸ªç±»è‡³å°‘åº”è¯¥æœ‰ä¸€ä¸ªæŒ‡å®šæ„é€ å™¨ã€‚åœ¨æŸäº›æƒ…å†µä¸‹, è¿™ä¸ªéœ€æ±‚é€šè¿‡ç»§æ‰¿è¶…ç±»çš„ä¸€ä¸ªæˆ–è€…å¤šä¸ªæŒ‡å®šæ„é€ å™¨æ¥å®ç°ã€‚<br><br>ä¾¿åˆ©æ„é€ å™¨æ˜¯æ¬¡è¦çš„, å¯¹ç±»æ¥è¯´åªæ˜¯æ”¯æŒåˆå§‹åŒ–æ–¹æ³•ã€‚ä½ å¯ä»¥å®šä¹‰ä¸€ä¸ªä¾¿åˆ©æ„é€ å™¨æ¥è°ƒç”¨åŒç±»çš„æŒ‡å®šæ„é€ å™¨, è¿™ä¸ªä¾¿åˆ©æ„é€ å™¨è®¾ç½®æŒ‡å®šæ„é€ å™¨çš„å‚æ•°ä¸ºé»˜è®¤å€¼ã€‚ä½ å¯ä»¥å®šä¹‰ä¸€ä¸ªä¾¿åˆ©æ„é€ å™¨æ¥åˆ›å»ºç±»çš„å®ä¾‹,ç”¨ä½œç‰¹å®šç”¨é€”æˆ–è€…è¾“å…¥å€¼ç±»å‹ã€‚<br><br>å¦‚æœä½ çš„ç±»ä¸éœ€è¦ä¾¿åˆ©æ„é€ å™¨,ä½ å°±ä¸å¿…è¦æä¾›å®ƒä»¬ã€‚ä»€ä¹ˆæ—¶å€™è¦ç®€åŒ–æ„é€ å½¢å¼æ¥èŠ‚çœæ—¶é—´æˆ–è€…è®©ç±»çš„åˆå§‹åŒ–æ„å›¾æ›´æ¸…æ¥š,å¯ä»¥åˆ›å»ºä¾¿åˆ©æ„é€ å™¨ã€‚<br><br># æŒ‡å®šæ„é€ å™¨å’Œä¾¿åˆ©æ„é€ å™¨çš„è¯­æ³•<br><br>ç±»çš„æŒ‡å®šæ„é€ å™¨å†™æ³•å’Œå€¼ç±»å‹çš„ç®€å•æ„é€ å™¨ä¸€æ ·:<br><code><br>init(parameters) {<br>statements<br>}</code><br>ä¾¿åˆ©æ„é€ å™¨å†™æ³•ä¸€æ ·, ä½†æ˜¯init å…³é”®å­—ä¹‹å‰æœ‰ä¸ª convenience ä¿®é¥°ç¬¦, ç”¨ç©ºæ ¼åˆ†å¼€:<br><code><br>convenience init(parameters) {<br>statements<br>}</code><br># ç±»çš„åˆå§‹åŒ–ä»£ç†<br><br>ä¸ºäº†ç®€åŒ–æŒ‡å®šæ„é€ å™¨å’Œä¾¿åˆ©æ„é€ å™¨ä¹‹é—´çš„å…³ç³», Swift ä½¿ç”¨ä¸‹é¢ä¸‰ç§è§„åˆ™åœ¨æ„é€ å™¨ä¹‹é—´ä»£ç†è°ƒç”¨:<br><br>è§„åˆ™ 1<br>ä¸€ä¸ªæŒ‡å®šæ„é€ å™¨å¿…é¡»è°ƒç”¨å®ƒçš„ç›´æ¥è¶…ç±»çš„æŒ‡å®šæ„é€ å™¨ã€‚<br><br>è§„åˆ™ 2<br>ä¸€ä¸ªä¾¿åˆ©æ„é€ å™¨å¿…é¡»è°ƒç”¨åŒç±»çš„å…¶ä»–æ„é€ å™¨ã€‚<br><br>è§„åˆ™ 3<br>ä¸€ä¸ªä¾¿åˆ©æ„é€ å™¨æœ€åå¿…é¡»è°ƒç”¨ä¸€ä¸ªæŒ‡å®šæ„é€ å™¨ã€‚<br><br>ä¸€ä¸ªç®€å•çš„æ–¹å¼å¯ä»¥è®°ä½è¿™ä¸ª:<br><br>æŒ‡å®šæ„é€ å™¨å¿…é¡»æ€»æ˜¯å‘ä¸Šä»£ç†ã€‚<br>ä¾¿åˆ©æ„é€ å™¨å¿…é¡»æ€»æ˜¯æ¨ªç€ä»£ç†ã€‚<br>ä¸‹å›¾åˆ—å‡ºäº†è¿™ä¸‰ä¸ªè§„åˆ™:<br><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/initializerDelegation01_2x.png"><br></div><br>è¿™é‡Œ, è¶…ç±»æœ‰ä¸€ä¸ªæŒ‡å®šæ„é€ å™¨å’Œä¸¤ä¸ªä¾¿åˆ©æ„é€ å™¨ã€‚ä¸€ä¸ªä¾¿åˆ©æ„é€ å™¨è°ƒç”¨å¦å¤–ä¸€ä¸ªä¾¿åˆ©æ„é€ å™¨, å®ƒä¾æ¬¡è°ƒç”¨è¿™ä¸ªå•ç‹¬çš„æŒ‡å®šæ„é€ å™¨ã€‚è¿™ä¸ªæ»¡è¶³äº†ä¸Šé¢çš„è§„åˆ™2å’Œ3. è¶…ç±»æœ¬èº«æ²¡æœ‰è¶…ç±», æ‰€ä»¥ç¬¬1æ¡è§„åˆ™ä¸é€‚ç”¨ã€‚<br><br>å›¾ä¸­çš„å­ç±»æœ‰ä¸¤ä¸ªæŒ‡å®šæ„é€ æŸ±å’Œä¸€ä¸ªä¾¿åˆ©æ„é€ å™¨ã€‚ä¾¿åˆ©æ„é€ å™¨å¿…é¡»è°ƒç”¨è¿™ä¸¤ä¸ªæŒ‡å®šæ„é€ å™¨ä¹‹ä¸€, å› ä¸ºå®ƒåªèƒ½è°ƒç”¨åŒç±»çš„å¦å¤–çš„æ„é€ å™¨ã€‚è¿™ä¸ªæ»¡è¶³ä¸Šé¢çš„è§„åˆ™2å’Œ3. ä¸¤ä¸ªæŒ‡å®šæ„é€ å™¨å¿…é¡»è°ƒç”¨è¶…ç±»çš„æŒ‡å®šæ„é€ å™¨, è¿™ä¸ªæ»¡è¶³ä¸Šé¢çš„è§„åˆ™1.<br><br>å¤‡æ³¨<br><br>è¿™ä¸ªè§„åˆ™ä¸å½±å“ä½ ç±»çš„ä½¿ç”¨è€…å¦‚ä½•åˆ›å»ºæ¯ä¸ªç±»çš„å®ä¾‹ã€‚ ä¸Šå›¾ä¸­çš„ä»»ä½•æ„é€ å™¨éƒ½å¯ä»¥ç”¨æ¥å®Œå…¨åˆå§‹åŒ–å®ƒä»¬æ‰€å±ç±»çš„å®ä¾‹ã€‚è¿™ä¸ªè§„åˆ™åªæ˜¯å½±å“ä½ å¯¹ç±»æ„é€ å™¨çš„å®ç°ã€‚<br><br>ä¸‹é¢çš„å›¾å±•ç¤ºäº†æ›´åŠ å¤æ‚çš„å››ä¸ªç±»ç»§æ‰¿å…³ç³»ã€‚ å®ƒå±•ç¤ºäº†ç»§æ‰¿å…³ç³»ä¸­çš„æŒ‡å®šæ„é€ å™¨å¦‚ä½•æ‰®æ¼”ç±»æ„é€ å™¨çš„æ¼æ–—ç‚¹, ç®€åŒ–ç»§æ‰¿é“¾ä¸­çš„ç±»çš„ç›¸äº’å…³ç³»:<br><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/initializerDelegation02_2x.png"><br></div><br># ä¸¤é˜¶æ®µåˆå§‹åŒ–<br><br>Swift ä¸­çš„ç±»åˆå§‹åŒ–æ˜¯ä¸¤é˜¶æ®µçš„è¿‡ç¨‹ã€‚åœ¨ç¬¬ä¸€é˜¶æ®µ, æ¯ä¸ªå­˜å‚¨å±æ€§è¢«æŒ‡å®šä¸€ä¸ªåˆå§‹å€¼ã€‚ä¸€æ—¦æ¯ä¸ªå­˜å‚¨å±æ€§åˆå§‹çŠ¶æ€ç¡®å®šäº†, ç¬¬äºŒé˜¶æ®µå°±å¼€å§‹äº†, åœ¨æ–°å®ä¾‹å°†è¦ä½¿ç”¨ä¹‹å‰, æ¯ä¸ªç±»éƒ½æœ‰æœºä¼šå»å®šåˆ¶å­˜å‚¨å±æ€§ã€‚<br><br>ä¸¤é˜¶æ®µåˆå§‹åŒ–è¿‡ç¨‹çš„ä½¿ç”¨ä½¿å¾—åˆå§‹åŒ–æ›´å®‰å…¨, åœ¨ç±»å±‚æ¬¡ä¸­ä¾ç„¶ç»™äºˆå®Œå…¨çš„çµæ´»æ€§ã€‚ä¸¤é˜¶æ®µåˆå§‹åŒ–é˜²æ­¢å±æ€§å€¼åœ¨åˆå§‹åŒ–å‰è¢«è®¿é—®, åŒæ—¶ä¹Ÿé˜²æ­¢äº†å±æ€§å€¼è¢«å¦å¤–çš„æ„é€ å™¨æ„å‘³çš„è®¾ç½®æˆä¸€ä¸ªä¸åŒçš„å€¼ã€‚<br><br>å¤‡æ³¨<br><br>Swift çš„ä¸¤é˜¶æ®µåˆå§‹åŒ–è¿‡ç¨‹å¾ˆåƒ Objective-C çš„åˆå§‹åŒ–ã€‚ ä¸»è¦åŒºåˆ«æ˜¯é˜¶æ®µ 1, Objective-C ä¼šç»™æ¯ä¸ªå±æ€§è®¾å®šé›¶æˆ–è€…ç©ºå€¼ (æ¯”å¦‚ 0 æˆ–è€… nil). Swift çš„åˆå§‹åŒ–æ›´åŠ çµæ´», å¯ä»¥è®©ä½ è‡ªå®šä¹‰åˆå§‹å€¼, å¯ä»¥åº”å¯¹0æˆ–è€…nilä¸æ˜¯æœ‰æ•ˆé»˜è®¤å€¼çš„æƒ…å†µã€‚<br><br>Swift çš„ç¼–è¯‘å™¨æ‰§è¡Œå››é¡¹å®‰å…¨æ£€æŸ¥æ¥ç¡®ä¿ä¸¤é˜¶æ®µåˆå§‹åŒ–æ— é”™è¯¯çš„å®Œæˆ:<br><br>å®‰å…¨æ£€æŸ¥ 1<br>ä¸€ä¸ªæŒ‡å®šæ„é€ å™¨å¿…é¡»ç¡®ä¿, åœ¨å‘ä¸Šä»£ç†è¶…ç±»æ„é€ å™¨ä¹‹å‰,æ‰€å±ç±»çš„æ‰€æœ‰å±æ€§éƒ½è¢«åˆå§‹åŒ–ã€‚<br><br>å°±åƒä¸Šé¢æåŠçš„, å¯¹è±¡çš„å†…å­˜åªè€ƒè™‘å®Œå…¨åˆå§‹åŒ–ä¸€æ¬¡æ‰€æœ‰çš„å­˜å‚¨å±æ€§çš„åˆå§‹çŠ¶æ€ã€‚ä¸ºäº†è®©è¿™æ¡è§„åˆ™æ»¡è¶³, ä¸€ä¸ªæŒ‡å®šæ„é€ å™¨å¿…é¡»ä¿è¯åœ¨å‘ä¸Šä¼ é€’å‰è‡ªå·±æ‰€æœ‰çš„å±æ€§éƒ½å·²ç»åˆå§‹åŒ–ã€‚<br><br>å®‰å…¨æ£€æŸ¥ 2<br>åœ¨ç»™ç»§æ‰¿æ¥çš„å±æ€§èµ‹å€¼å‰,ä¸€ä¸ªæŒ‡å®šæ„é€ å™¨å¿…é¡»å‘ä¸Šå§”æ‰˜è¶…ç±»çš„æ„é€ å™¨ã€‚å¦‚æœä¸è¿™æ ·åš, æŒ‡å®šæ„é€ å™¨æŒ‡å®šçš„æ–°å€¼ä¼šè¢«è¶…ç±»è‡ªå·±çš„æ„é€ å™¨ç»™è¦†ç›–äº†ã€‚<br><br>å®‰å…¨æ£€æŸ¥ 3<br>åœ¨ç»™ä»»æ„å±æ€§èµ‹å€¼å‰, ä¸€ä¸ªä¾¿åˆ©æ„é€ å™¨å¿…é¡»å§”æ‰˜å¦å¤–ä¸€ä¸ªæ„é€ å™¨ã€‚(åŒ…æ‹¬ç›¸åŒç±»å®šä¹‰çš„å±æ€§)ã€‚å¦‚æœä¸è¿™æ ·åš, ä¾¿åˆ©æ„é€ å™¨æŒ‡å®šçš„æ–°å€¼ä¼šè¢«æœ¬ç±»çš„æŒ‡å®šæ„é€ å™¨è¦†ç›–ã€‚<br><br>å®‰å…¨æ£€æŸ¥ 4<br>ä¸€ä¸ªæ„é€ å™¨ä¸èƒ½è°ƒç”¨ä»»ä½•å®ä¾‹æ–¹æ³•, ä¸èƒ½è¯»ä»»ä½•å®ä¾‹å±æ€§çš„å€¼, æˆ–è€…ç›´åˆ°ç¬¬ä¸€é˜¶æ®µåˆå§‹åŒ–å®Œæˆæ‰å¯ä»¥å¼•ç”¨self.<br><br>ç¬¬ä¸€é˜¶æ®µåˆå§‹åŒ–ç»“æŸåç±»çš„å®ä¾‹æ‰å®Œå…¨æœ‰æ•ˆã€‚ç¬¬ä¸€é˜¶æ®µç±»çš„å®ä¾‹æœ‰æ•ˆå,å±æ€§åªèƒ½è¢«è®¿é—®, æ–¹æ³•åªèƒ½è¢«è°ƒç”¨ã€‚<br><br>è¿™é‡Œæ˜¯ä¸¤é˜¶æ®µåˆå§‹åŒ–çš„å‘ˆç°, åŸºäºä»¥ä¸Šå››ä¸ªå®‰å…¨æ£€æŸ¥:<br><br>é˜¶æ®µ 1<br><br>ä¸€ä¸ªæŒ‡å®šæ„é€ å™¨æˆ–è€…ä¾¿åˆ©æ„é€ å™¨åœ¨ç±»é‡Œè°ƒç”¨ã€‚<br>ç»™ç±»çš„å®ä¾‹åˆ†é…å†…å­˜ã€‚å†…å­˜å°šæœªåˆå§‹åŒ–ã€‚<br>ç±»çš„æŒ‡å®šæ„é€ å™¨ç¡®ä¿æ‰€æœ‰å­˜å‚¨å±æ€§éƒ½æœ‰ä¸€ä¸ªå€¼ã€‚è¿™äº›å­˜å‚¨å±æ€§çš„å†…å­˜å¼€å§‹åˆå§‹åŒ–ã€‚<br>æŒ‡å®šæ„é€ å™¨æ”¾æ‰‹ç»™è¶…ç±»çš„æ„é€ å™¨,å¯¹å®ƒçš„å­˜å‚¨å±æ€§æ‰§è¡ŒåŒæ ·çš„æ“ä½œã€‚<br>æ²¿ç€ç»§æ‰¿é“¾ç»§ç»­å¾€ä¸Šç›´åˆ°å°½å¤´ã€‚<br>ä¸€æ—¦åˆ°äº†ç»§æ‰¿é“¾çš„å°½å¤´, ç»§æ‰¿é“¾æœ€åçš„ç±»å·²ç»ç¡®ä¿æ‰€æœ‰å­˜å‚¨å±æ€§éƒ½æœ‰ä¸€ä¸ªå€¼ã€‚å®ä¾‹çš„å†…å­˜è¢«è®¤ä¸ºå·²ç»å…¨éƒ¨åˆå§‹åŒ–, ç¬¬ä¸€é˜¶æ®µå®Œæˆã€‚.<br>é˜¶æ®µ 2<br><br>ä»ç»§æ‰¿é“¾å°½å¤´å›æ¥, é“¾ä¸­çš„æ¯ä¸ªæŒ‡å®šæ„é€ å™¨éƒ½æœ‰é€‰æ‹©å»ç»§ç»­å®šåˆ¶å®ä¾‹ã€‚æ„é€ å™¨ç°åœ¨å¯ä»¥è®¿é—® self å’Œæ”¹å˜å±æ€§, ä¹Ÿå¯ä»¥è°ƒç”¨å‡½æ•°ã€‚<br>æœ€å, é“¾ä¸­çš„ä»»ä½•ä¾¿åˆ©æ„é€ å™¨éƒ½æœ‰é€‰æ‹©å»å®šåˆ¶å®ä¾‹å¹¶ä¸”ä½¿ç”¨ self.<br>è¿™é‡Œå±•ç¤ºç¬¬ä¸€é˜¶æ®µå¦‚ä½•ä¸ºä¸€ä¸ªå‡è®¾çš„å­ç±»å’Œè¶…ç±»å¯»æ‰¾åˆå§‹åŒ–è°ƒç”¨çš„:<br><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/twoPhaseInitialization01_2x.png"><br></div><br>åœ¨è¿™ä¸ªä¾‹å­ä¸­, åˆå§‹åŒ–å¼€å§‹äºè°ƒç”¨å­ç±»çš„ä¾¿åˆ©æ„é€ å™¨ã€‚è¿™ä¸ªä¾¿åˆ©æ„é€ å™¨å°šä¸èƒ½ä¿®æ”¹ä»»ä½•å±æ€§ã€‚å®ƒå§”æ‰˜äº†æœ¬ç±»çš„ä¸€ä¸ªæŒ‡å®šæ„é€ å™¨ã€‚<br><br>æŒ‡å®šæ„é€ å™¨ç¡®ä¿æ‰€æœ‰çš„å­ç±»å±æ€§éƒ½æœ‰ä¸€ä¸ªå€¼, æ ¹æ®å®‰å…¨æ£€æŸ¥ 1. ç„¶ååœ¨å®ƒçš„è¶…ç±»è°ƒç”¨ä¸€ä¸ªæŒ‡å®šæ„é€ å™¨ç»§ç»­æ²¿ç€é“¾åˆå§‹åŒ–ã€‚<br><br>è¶…ç±»æŒ‡å®šæ„é€ å™¨ç¡®ä¿è¶…ç±»å±æ€§éƒ½æœ‰ä¸€ä¸ªå€¼ã€‚å› ä¸ºæ²¡æœ‰æ›´æ·±çš„è¶…ç±»è¦åˆå§‹åŒ–, æ‰€ä»¥ä¹Ÿä¸éœ€è¦æ›´æ·±çš„å§”æ‰˜ã€‚<br><br>åªè¦æ‰€æœ‰è¶…ç±»çš„å±æ€§éƒ½æœ‰ä¸€ä¸ªåˆå§‹å€¼, å®ƒçš„å†…å­˜å°±è¢«è®¤ä¸ºå·²ç»å®Œæˆåˆå§‹åŒ–, é‚£ä¹ˆé˜¶æ®µ1å°±å®Œæˆäº†ã€‚<br><br>è¿™é‡Œæ˜¯é˜¶æ®µ2å¦‚ä½•å¯»æ‰¾ç›¸åŒçš„åˆå§‹åŒ–è°ƒç”¨:<br><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/twoPhaseInitialization02_2x.png"><br></div><br>å­ç±»çš„æŒ‡å®šæ„é€ å™¨ç°åœ¨æœ‰æœºä¼šæ›´è¿›ä¸€æ­¥å»å®šåˆ¶å®ä¾‹ (å°½ç®¡å®ƒä¸å¿…è¦è¿™ä¹ˆåš)ã€‚<br><br>ä¸€æ—¦å­ç±»æŒ‡å®šæ„é€ å™¨å®Œæˆ, è¶…ç±»çš„æŒ‡å®šæ„é€ å™¨å¯ä»¥æ‰§è¡Œé¢å¤–çš„å®šåˆ¶(å°½ç®¡å®ƒæ²¡æœ‰å¿…è¦è¿™ä¹ˆåš)ã€‚<br><br>æœ€å, ä¸€æ—¦å­ç±»çš„æŒ‡å®šæ„é€ å™¨å®Œæˆ, åŸå…ˆè°ƒç”¨çš„ä¾¿åˆ©æ„é€ å™¨å°±å¯ä»¥æ‰§è¡Œé¢å¤–çš„å®šåˆ¶ã€‚<br><br># åˆå§‹åŒ–æ–¹æ³•çš„ç»§æ‰¿å’Œè¦†ç›–<br><br>ä¸åƒ Objective-C ä¸­çš„å­ç±», Swift å­ç±»é»˜è®¤ä¸ç»§æ‰¿å®ƒçš„è¶…ç±»çš„åˆå§‹åŒ–æ–¹æ³•ã€‚ Swift çš„æ–¹æ³•é˜²æ­¢äº†ä¸€ç§æƒ…å†µ,åœ¨è¿™ç§æƒ…å†µä¸‹æ¥è‡ªä¸€ä¸ªè¶…ç±»çš„åˆå§‹åŒ–æ–¹æ³•è¢«ä¸€ä¸ªæ›´ä¸“ä¸šçš„å­ç±»ç»§æ‰¿,å¹¶ä¸”ç”¨æ¥è¿™ä¸ªå­ç±»çš„æ–°å®ä¾‹,ä½†æ˜¯è¿™ä¸ªå®ä¾‹å¹¶æœªå®Œå…¨æˆ–è€…æ­£ç¡®çš„åˆå§‹åŒ–ã€‚<br><br>å¤‡æ³¨<br><br>è¶…ç±»çš„åˆå§‹åŒ–æ–¹æ³•åœ¨ç‰¹å®šæƒ…å†µä¸‹è¢«ç»§æ‰¿, åªæœ‰å®‰å…¨è€Œä¸”åˆé€‚æ‰ä¼šè¿™ä¹ˆåšã€‚<br><br>å¦‚æœä½ æƒ³è®©è‡ªå®šä¹‰å­ç±»å±•ç¤ºå’Œè¶…ç±»ä¸€æ ·çš„ä¸€ä¸ªæˆ–è€…å¤šä¸ªåˆå§‹åŒ–æ–¹æ³•, ä½ å¯ä»¥åœ¨å­ç±»å†…æä¾›è¿™äº›åˆå§‹åŒ–æ–¹æ³•çš„è‡ªå®šä¹‰å®ç°ã€‚<br><br>å½“ä½ å†™ä¸€ä¸ªå­ç±»åˆå§‹åŒ–æ–¹æ³•,è¿™ä¸ªæ–¹æ³•åŒ¹é…ä¸€ä¸ªè¶…ç±»çš„æŒ‡å®šæ„é€ å™¨, ä½ å¯ä»¥æä¾›è¿™ä¸ªæŒ‡å®šæ„é€ å™¨çš„é‡å†™ã€‚å› æ­¤, ä½ å¿…é¡»åœ¨å­ç±»åˆå§‹åŒ–æ–¹æ³•å®šä¹‰å‰å†™ä¸Š override ä¿®é¥°ç¬¦ã€‚ å³ä½¿ä½ é‡å†™ä¸€ä¸ªè‡ªåŠ¨æä¾›çš„é»˜è®¤åˆå§‹åŒ–æ–¹æ³•,ä¹Ÿæ˜¯è¿™æ ·ã€‚<br><br>è·Ÿä¸€ä¸ªé‡å†™çš„å±æ€§,æ–¹æ³•æˆ–è€…ä¸‹æ ‡ä¸€æ ·, override ä¿®é¥°ç¬¦æé†’Swift å»åˆ¤æ–­è¶…ç±»æœ‰è¿™ä¹ˆä¸€ä¸ªæŒ‡å®šæ„é€ å™¨å¯ä»¥é‡å†™, å¹¶ä¸”éªŒè¯é‡å†™åˆå§‹åŒ–æ–¹æ³•çš„å‚æ•°å·²ç»æœ‰ç›®çš„çš„æŒ‡å®šäº†ã€‚<br><br>å¤‡æ³¨<br><br>å½“é‡å†™è¶…ç±»æŒ‡å®šæ„é€ å™¨æ—¶ä½ åº”è¯¥æ€»æ˜¯å†™ä¸Š override ä¿®é¥°ç¬¦, å³ä½¿å­ç±»åˆå§‹åŒ–æ–¹æ³•çš„å®ç°æ˜¯ä¸€ä¸ªä¾¿åˆ©æ„é€ å™¨ã€‚<br><br>ç›¸å, å¦‚æœä½ å†™ä¸€ä¸ªå­ç±»åˆå§‹åŒ–æ–¹æ³•åŒ¹é…è¶…ç±»çš„ä¾¿åˆ©æ„é€ å™¨, è¶…ç±»ä¾¿åˆ©æ„é€ å™¨ä¸èƒ½ç›´æ¥è¢«å­ç±»è°ƒç”¨ã€‚å› æ­¤, ä½ çš„å­ç±»ä¸èƒ½æä¾›ä¸€ä¸ªè¶…ç±»åˆå§‹åŒ–æ–¹æ³•çš„é‡å†™ã€‚ç»“æœæ˜¯, å½“æä¾›ä¸€ä¸ªè¶…ç±»ä¾¿åˆ©æ„é€ å™¨çš„åŒ¹é…å®ç°æ—¶,ä½ ä¸èƒ½å†™ä¸Š override ä¿®é¥°ç¬¦ã€‚<br><br>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªåŸºç±» Vehicle. è¿™ä¸ªåŸºç±»å£°æ˜äº†ä¸€ä¸ªå­˜å‚¨å±æ€§ numberOfWheels, å¸¦æœ‰ä¸€ä¸ªé»˜è®¤å€¼ 0. numberOfWheels è¢«ä¸€ä¸ªè®¡ç®—å±æ€§ descriptionç”¨æ¥åˆ›å»ºæ±½è½¦ç‰¹å¾çš„å­—ç¬¦ä¸²æè¿°:<br><code><br>class Vehicle {<br>    var numberOfWheels = 0<br>    var description: String {<br>        return â€œ(numberOfWheels) wheel(s)â€<br>    }<br>}</code><br>Vehicle ç±»ç»™å®ƒå”¯ä¸€çš„å­˜å‚¨å±æ€§æä¾›äº†ä¸€ä¸ªé»˜è®¤å€¼, æœ¬èº«æ²¡æœ‰æä¾›ä»»ä½•è‡ªå®šä¹‰çš„åˆå§‹åŒ–æ–¹æ³•ã€‚ç»“æœæ˜¯, å®ƒä¼šè‡ªåŠ¨æ”¶åˆ°ä¸€ä¸ªé»˜è®¤çš„åˆå§‹åŒ–æ–¹æ³•ã€‚è¿™ä¸ªé»˜è®¤çš„åˆå§‹åŒ–æ–¹æ³•æ€»æ˜¯ä¸€ä¸ªæŒ‡å®šæ„é€ å™¨, å¯ä»¥ç”¨æ¥åˆ›å»ºä¸€ä¸ª numberOfWheels ä¸º0çš„Vehicle å®ä¾‹:<br><code><br>let vehicle = Vehicle()<br>print(â€œVehicle: (vehicle.description)â€)<br>// Vehicle: 0 wheel(s)<br></code><br>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ª Vehicle çš„å­ç±» Bicycle:<br><code><br>class Bicycle: Vehicle {<br>    override init() {<br>        super.init()<br>        numberOfWheels = 2<br>    }<br>}</code><br>Bicycle å®šä¹‰äº†ä¸€ä¸ªè‡ªå®šä¹‰æŒ‡å®šæ„é€ å™¨init(). è¿™ä¸ªæ„é€ å™¨åŒ¹é…æ¥ç€è¶…ç±»çš„æŒ‡å®šæ„é€ å™¨, æ‰€ä»¥ Bicycle ç‰ˆæœ¬çš„è¿™ä¸ªæ„é€ å™¨ç”¨override ä¿®é¥°ç¬¦æ ‡è®°ã€‚<br><br>init() åˆå§‹åŒ–æ–¹æ³•å…ˆè°ƒç”¨ super.init(), è¿™æ˜¯è¶…ç±»çš„é»˜è®¤åˆå§‹åŒ–æ–¹æ³•ã€‚è¿™ä¸ªç¡®ä¿ numberOfWheels å±æ€§åœ¨è¢«å­ç±»ä¿®æ”¹å‰å¯ä»¥è¢« Vehicle åˆå§‹åŒ–ã€‚è°ƒç”¨ super.init() å, numberOfWheels åŸæœ‰å€¼ä¼šè¢«æ–°å€¼2æ›¿ä»£ã€‚<br><br>å¦‚æœä½ åˆ›å»ºä¸€ä¸ª Bicycle å®ä¾‹, ä½ å¯ä»¥è°ƒç”¨å®ƒçš„ç»§æ‰¿æ¥çš„è®¡ç®—å±æ€§ description æ¥æŸ¥çœ‹ numberOfWheels å±æ€§æ˜¯å¦è¢«æ›´æ–°äº†:<br><code><br>let bicycle = Bicycle()<br>print(â€œBicycle: (bicycle.description)â€)<br>// Bicycle: 2 wheel(s)<br></code><br>å¤‡æ³¨<br><br>å­ç±»åœ¨åˆå§‹åŒ–çš„æ—¶å€™å¯ä»¥æ”¹å˜ç»§æ‰¿æ¥çš„å˜é‡å±æ€§, ä½†æ˜¯æ— æ³•æ”¹å˜ç»§æ‰¿æ¥çš„å¸¸é‡å±æ€§ã€‚<br><br># è‡ªåŠ¨åˆå§‹åŒ–æ–¹æ³•çš„ç»§æ‰¿<br><br>å°±åƒä¸Šé¢æåˆ°çš„, é»˜è®¤æƒ…å†µå­ç±»å¹¶ä¸ç»§æ‰¿è¶…ç±»çš„åˆå§‹åŒ–æ–¹æ³•ã€‚ä¸è¿‡, ä¸è¿‡å¦‚æœæŸç§æ¡ä»¶æ»¡è¶³äº†,è¶…ç±»çš„åˆå§‹åŒ–æ–¹æ³•è¿˜æ˜¯å¯ä»¥è¢«è‡ªåŠ¨ç»§æ‰¿çš„ã€‚åœ¨å®è·µä¸­, è¿™æ„å‘³ç€ä½ é€šå¸¸ä¸éœ€è¦é‡å†™åˆå§‹åŒ–æ–¹æ³•, åªè¦è¿™æ ·åšå®‰å…¨,ä½ å¯ä»¥ç”¨æœ€å°çš„ä»£ä»·ç»§æ‰¿è¶…ç±»çš„åˆå§‹åŒ–æ–¹æ³•ã€‚<br><br>å‡è®¾ä½ ç»™å­ç±»çš„ä»»ä½•æ–°å±æ€§éƒ½è®¾å®šäº†é»˜è®¤å€¼, ä¸‹é¢çš„è§„åˆ™é€‚ç”¨:<br><br>è§„åˆ™ 1<br>å¦‚æœä½ çš„å­ç±»æ²¡æœ‰å®šä¹‰ä»»ä½•æŒ‡å®šæ„é€ å™¨, å®ƒä¼šè‡ªåŠ¨ç»§æ‰¿è¶…ç±»æ‰€æœ‰çš„æŒ‡å®šæ„é€ å™¨ã€‚<br><br>è§„åˆ™ 2<br>å¦‚æœä½ çš„å­ç±»æä¾›äº†è¶…ç±»æ‰€æœ‰æŒ‡å®šæ„é€ å™¨çš„å®ç°â€”æˆ–è€…é€šè¿‡åƒè§„åˆ™1é‚£æ ·çš„ç»§æ‰¿, æˆ–è€…æä¾›è‡ªå®šä¹‰å®ç°â€”ç„¶åå®ƒä¼šè‡ªåŠ¨ç»§æ‰¿è¶…ç±»æ‰€æœ‰çš„ä¾¿åˆ©æ„é€ å™¨ã€‚<br><br>å³ä½¿ä½ çš„å­ç±»æ·»åŠ æ›´æ·±çš„ä¾¿åˆ©æ„é€ å™¨,è¿™ä¸ªè§„åˆ™éƒ½é€‚ç”¨ã€‚<br><br>å¤‡æ³¨<br><br>ä¸€ä¸ªå­ç±»å¯ä»¥å®ç°ä¸€ä¸ªè¶…ç±»çš„æŒ‡å®šæ„é€ å™¨,æ¥ä½œä¸ºè‡ªå·±çš„ä¾¿åˆ©æ„é€ å™¨,è¿™ä¸ªæ˜¯æ»¡è¶³è§„åˆ™2çš„éƒ¨åˆ†ã€‚<br><br># æŒ‡å®šå’Œä¾¿åˆ©æ„é€ å™¨çš„åˆå§‹åŒ–<br><br>ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†æŒ‡å®šæ„é€ å™¨,ä¾¿åˆ©æ„é€ å™¨å’Œè‡ªåŠ¨æ„é€ å™¨ç»§æ‰¿çš„æ´»åŠ¨ã€‚è¿™ä¸ªä¾‹å­å®šä¹‰äº†ä¸‰ä¸ªç±» Food, RecipeIngredient å’Œ ShoppingListItem çš„ç»§æ‰¿å…³ç³», å¹¶ä¸”å±•ç¤ºäº†å®ƒä»¬å¦‚ä½•äº¤äº’ã€‚<br><br>è¿™ä¸ªç»§æ‰¿å…³ç³»ä¸­çš„åŸºç±»æ˜¯ Food, å®ƒæ˜¯å°è£…äº†ä¸€ä¸ªé£Ÿå“åå­—çš„ç®€å•ç±»ã€‚Food ç±»å¼•å…¥äº†ä¸€ä¸ªå•ç‹¬çš„å­—ç¬¦ä¸²å±æ€§ name å¹¶ä¸”æä¾›äº†ä¸¤ä¸ªæ„é€ å™¨æ¥åˆ›å»º Food å®ä¾‹:<br><code><br>class Food {<br>    var name: String<br>    init(name: String) {<br>        self.name = name<br>    }<br>    convenience init() {<br>        self.init(name: â€œ[Unnamed]â€)<br>    }<br>}<br></code><br>ä¸‹å›¾å±•ç¤ºäº†Food ç±»çš„æ„é€ é“¾:<br><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/initializersExample01_2x.png"><br></div><br>ç±»æ²¡æœ‰é»˜è®¤çš„æˆå‘˜æ„é€ å™¨, æ‰€ä»¥ Food ç±»æä¾›äº†ä¸€ä¸ªæŒ‡å®šæ„é€ å™¨,è¿™ä¸ªæ„é€ å™¨æœ‰ä¸€ä¸ªå‚æ•° name. è¿™ä¸ªæ„é€ å™¨å¯ä»¥ç”¨ä¸€ä¸ªæŒ‡å®šåå­—æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„ Food å®ä¾‹:<br><code><br>let namedMeat = Food(name: â€œBaconâ€)<br>// namedMeatâ€™s name is â€œBaconâ€<br></code><br>init(name: String) æ„é€ å™¨æ˜¯ä¸€ä¸ªæŒ‡å®šæ„é€ å™¨, å› ä¸ºå®ƒå¯ä»¥ä¿è¯ä¸€ä¸ªæ–°çš„Food å®ä¾‹çš„æ‰€æœ‰å­˜å‚¨å±æ€§å®Œå…¨åˆå§‹åŒ–ã€‚Food ç±»æ²¡æœ‰è¶…ç±», æ‰€ä»¥ init(name: String) ä¸éœ€è¦è°ƒç”¨ super.init() æ¥å®Œæˆåˆå§‹åŒ–ã€‚<br><br>Food ç±»åŒæ—¶æä¾›äº†ä¸€ä¸ªä¾¿åˆ©æ„é€ å™¨, init(), æ²¡æœ‰ä»»ä½•å‚æ•°ã€‚ é€šè¿‡å§”æ‰˜Food ç±»çš„init(name: String), init() ä¸ºæ–°é£Ÿç‰©æä¾›äº†ä¸€ä¸ªé»˜è®¤çš„å ä½ç¬¦åå­— [Unnamed]:<br><code><br>let mysteryMeat = Food()<br>// mysteryMeatâ€™s name is â€œ[Unnamed]â€<br></code><br>ç»§æ‰¿å…³ç³»ä¸­çš„ç¬¬äºŒä¸ªç±» RecipeIngredient æ˜¯Food ç±»çš„å­ç±»ã€‚RecipeIngredient ç±»æ¨¡æ‹Ÿäº†çƒ¹è°ƒé…æ–¹çš„æˆåˆ†ã€‚å®ƒå¼•å…¥äº†ä¸€ä¸ª Int å±æ€§quantity (é™¤äº†ä»Food ç»§æ‰¿æ¥çš„nameå±æ€§) ç„¶åå®šä¹‰äº†ä¸¤ä¸ªæ„é€ å™¨ç”¨æ¥åˆ›å»º RecipeIngredient å®ä¾‹:<br><code><br>class RecipeIngredient: Food {<br>    var quantity: Int<br>    init(name: String, quantity: Int) {<br>        self.quantity = quantity<br>        super.init(name: name)<br>    }<br>    override convenience init(name: String) {<br>        self.init(name: name, quantity: 1)<br>    }<br>}</code><br>ä¸‹å›¾å±•ç¤ºäº† RecipeIngredient ç±»çš„æ„é€ é“¾:<br><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/initializersExample02_2x.png"><br></div><br>RecipeIngredient ç±»åªæœ‰ä¸€ä¸ªæŒ‡å®šæ„é€ å™¨, init(name: String, quantity: Int), å®ƒå¯ä»¥å¡«å……ä¸€ä¸ªæ–° RecipeIngredient å®ä¾‹çš„æ‰€æœ‰å±æ€§ã€‚æ„é€ å™¨é¦–å…ˆæŠŠä¼ å…¥çš„æ•°é‡å‚æ•°èµ‹å€¼ç»™ quantity å±æ€§, è¿™ä¸ªæ˜¯ RecipeIngredient å”¯ä¸€çš„æ–°å±æ€§ã€‚è¿™ä¸ªæ“ä½œä¹‹å, æ„é€ å™¨å‘ä¸Šå§”æ‰˜åŸºç±»çš„ init(name: String) æ„é€ å™¨ã€‚è¿™ä¸ªè¿‡ç¨‹ç¬¦åˆä¸¤é˜¶æ®µåˆå§‹åŒ–çš„å®‰å…¨æ£€æŸ¥1.<br><br>RecipeIngredient åŒæ—¶å®šä¹‰äº†ä¸€ä¸ªä¾¿åˆ©æ„é€ å™¨, init(name: String), å®ƒç”¨åå­—æ¥åˆ›å»ºä¸€ä¸ª RecipeIngredient å®ä¾‹ã€‚ä»»ä½• RecipeIngredient å®ä¾‹æ²¡æœ‰æ˜¾å¼æ•°é‡çš„,è¿™ä¸ªä¾¿åˆ©æ„é€ å™¨éƒ½ä¼šå‡è®¾ä¸€ä¸ªæ•°é‡å€¼ä¸º1. è¿™ä¸ªä¾¿åˆ©æ„é€ å™¨æ–¹ä¾¿ RecipeIngredient å®ä¾‹å¿«é€Ÿåˆ›å»º, å¹¶ä¸”å½“åˆ›å»ºä¸€äº›å•ä¸ªæ•°é‡çš„å®ä¾‹æ—¶å¯ä»¥é¿å…ä»£ç é‡å¤ã€‚è¿™ä¸ªä¾¿åˆ©æ„é€ å™¨ç®€å•è°ƒç”¨äº†æŒ‡å®šæ„é€ å™¨, ä¼ å…¥æ•°é‡å€¼ 1.<br><br>init(name: String) ä¾¿åˆ©æ„é€ å™¨è·ŸæŒ‡å®šæ„é€ å™¨ init(name: String) æ¥å—ä¸€æ ·çš„å‚æ•°ã€‚å› ä¸ºè¿™ä¸ªä¾¿åˆ©æ„é€ å™¨é‡å†™äº†è¶…ç±»çš„æŒ‡å®šæ„é€ å™¨, å®ƒå¿…é¡»æ ‡è®° override ä¿®é¥°ç¬¦ã€‚<br><br>å°½ç®¡ RecipeIngredient æä¾›äº† init(name: String) ä½œä¸ºä¾¿åˆ©æ„é€ å™¨, RecipeIngredient ä¹Ÿæä¾›äº†æ‰€æœ‰è¶…ç±»çš„æŒ‡å®šæ„é€ å™¨çš„å®ç°ã€‚å› æ­¤, RecipeIngredient ä¹Ÿå°±è‡ªåŠ¨ç»§æ‰¿äº†è¶…ç±»çš„æ‰€æœ‰ä¾¿åˆ©æ„é€ å™¨ã€‚<br><br>åœ¨è¿™ä¸ªä¾‹å­é‡Œ, RecipeIngredient çš„è¶…ç±»æ˜¯ Food, å®ƒåªæœ‰ä¸€ä¸ªä¾¿åˆ©æ„é€ å™¨ init(). è¿™ä¸ªæ„é€ å™¨ä¼šè¢« RecipeIngredient ç»§æ‰¿ã€‚ç»§æ‰¿ init() å‡½æ•°ç‰ˆæœ¬å’Œ Food ç‰ˆæœ¬æ˜¯ä¸€æ ·çš„ã€‚é™¤äº†å®ƒæ˜¯è°ƒç”¨e RecipeIngredient ç‰ˆæœ¬çš„ init(name: String) è€Œä¸æ˜¯ Food ç‰ˆæœ¬ä¹‹å¤–ã€‚<br><br>ä¸‰ä¸ªæ„é€ å™¨éƒ½å¿«è¦ç”¨æ¥åˆ›å»ºæ–°çš„ RecipeIngredient å®ä¾‹:<br><code><br>let oneMysteryItem = RecipeIngredient()<br>let oneBacon = RecipeIngredient(name: â€œBaconâ€)<br>let sixEggs = RecipeIngredient(name: â€œEggsâ€, quantity: 6)</code><br>ç»§æ‰¿å…³ç³»é‡Œçš„æœ€åä¸€ä¸ªç±»ShoppingListItemä¹Ÿæ˜¯ RecipeIngredient å­ç±»ã€‚ShoppingListItem æ¨¡æ‹Ÿäº†ä¸€ä¸ªé…æ–¹æˆåˆ†ã€‚<br><br>è´­ç‰©æ¸…å•ä¸­çš„æ¯ä¸€é¡¹éƒ½ä»¥â€œunpurchasedâ€å¼€å§‹ã€‚ä¸ºäº†è¯´æ˜è¿™ä¸ªäº‹å®, ShoppingListItem å¼•å…¥ä¸€ä¸ªå¸ƒå°”å±æ€§ purchased, å¸¦æœ‰ä¸€ä¸ªé»˜è®¤å€¼ false. ShoppingListItem åŒæ—¶æ·»åŠ äº†ä¸€ä¸ªè®¡ç®—å±æ€§description, å®ƒæä¾›äº†ShoppingListItem å®ä¾‹çš„æ–‡æœ¬æè¿°:<br><code><br>class ShoppingListItem: RecipeIngredient {<br>    var purchased = false<br>    var description: String {<br>        var output = â€œ(quantity) x (name)â€<br>        output += purchased ? â€œ âœ”â€ : â€œ âœ˜â€<br>        return output<br>    }<br>}</code><br>å¤‡æ³¨<br><br>ShoppingListItem æ²¡æœ‰æä¾›æ„é€ å™¨æ¥ä¸º purchased è®¾å®šåˆå§‹å€¼, å› ä¸ºè´­ç‰©æ¸…å•é‡Œçš„é¡¹ç›®ä¸€å¼€å§‹éƒ½æ˜¯æœªè´­ä¹°çš„ã€‚<br><br>å› ä¸ºå®ƒç»™æ‰€æœ‰çš„å±æ€§æä¾›äº†é»˜è®¤å€¼å¹¶ä¸”æ²¡æœ‰æä¾›ä»»ä½•æ„é€ å‡½æ•°, ShoppingListItem è‡ªåŠ¨ä»è¶…ç±»ç»§æ‰¿äº†æ‰€æœ‰çš„æŒ‡å®šå’Œä¾¿åˆ©æ„é€ å™¨ã€‚<br><br>ä¸‹å›¾å±•ç¤ºäº†ä¸‰ä¸ªç±»æ‰€æœ‰çš„æ„é€ å‡½æ•°:<br><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/initializersExample03_2x.png"><br></div><br>ä½ å¯ä»¥ç”¨æ‰€æœ‰ç»§æ‰¿æ¥çš„æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„ ShoppingListItem å®ä¾‹:<br><code><br>var breakfastList = [<br>    ShoppingListItem(),<br>    ShoppingListItem(name: â€œBaconâ€),<br>    ShoppingListItem(name: â€œEggsâ€, quantity: 6),<br>]<br>breakfastList[0].name = â€œOrange juiceâ€<br>breakfastList[0].purchased = true<br>for item in breakfastList {<br>    print(item.description)<br>}<br>// 1 x Orange juice âœ”<br>// 1 x Bacon âœ˜<br>// 6 x Eggs âœ˜<br></code><br>è¿™é‡Œ, ç”¨æ•°ç»„å­—é¢é‡åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„æ•°ç»„ breakfastList, å®ƒåŒ…å«äº†3ä¸ª ShoppingListItem å®ä¾‹ã€‚ æ•°ç»„ç±»å‹æ¨æ–­ä¸º [ShoppingListItem]. è¿™ä¸ªæ•°ç»„åˆ›å»ºå, æ•°ç»„å¼€å§‹é¡¹ ShoppingListItem åå­—ä»â€[Unnamed]â€ å˜æˆ â€œOrange juiceâ€ å¹¶ä¸”æ ‡è®°ä¸ºå·²è´­ä¹°ã€‚æ‰“å°æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹æ¥è¡¨ç¤ºå®ƒä»¬çš„é»˜è®¤çŠ¶æ€æŒ‰ç…§é¢„æœŸè®¾ç½®äº†ã€‚<br><br># å¤±è´¥æ„é€ å™¨<br><br>æœ‰æ—¶å€™å…è®¸ç±»,ç»“æ„ä½“æˆ–è€…æšä¸¾æ„é€ å¤±è´¥æ˜¯æœ‰ç”¨çš„ã€‚æ— æ•ˆåˆå§‹åŒ–å‚æ•°å€¼,ç¼ºå°‘å¿…éœ€çš„å¤–éƒ¨èµ„æº,æˆ–è€…å…¶ä»–é˜»æ­¢åˆå§‹åŒ–æˆåŠŸçš„æ¡ä»¶éƒ½ä¼šå¼•èµ·æ„é€ å¤±è´¥ã€‚<br><br>ä¸ºäº†åº”å¯¹è¿™äº›å¼•èµ·å¤±è´¥çš„åˆå§‹åŒ–æ¡ä»¶, åœ¨ç±»,ç»“æ„ä½“æˆ–è€…æšä¸¾ä½“ä¸­å®šä¹‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªå¤±è´¥æ„é€ å™¨ã€‚å†™ä¸€ä¸ªå¤±è´¥æ„é€ å™¨çš„æ–¹æ³•æ˜¯åœ¨ init å…³é”®å­—åé¢åŠ ä¸Šé—®å· (init?).<br><br>å¤‡æ³¨<br><br>ä½ ä¸å¯ä»¥ç”¨ç›¸åŒçš„å‚æ•°ç±»å‹å’Œåç§°æ¥åŒæ—¶å®šä¹‰ä¸€ä¸ªå¤±è´¥æˆ–è€…éå¤±è´¥çš„æ„é€ å™¨ã€‚<br><br>ä¸€ä¸ªå¤±è´¥æ„é€ å™¨åˆ›å»ºä¸€ä¸ªå¯é€‰ç±»å‹å€¼ã€‚é€šè¿‡åœ¨å¤±è´¥æ„é€ å™¨ä¸­è¿”å› nil æ¥è¡¨æ˜æŸä¸ªæ—¶åˆ»åˆå§‹åŒ–å¤±è´¥å‘ç”Ÿã€‚<br><br>å¤‡æ³¨<br><br>ä¸¥æ ¼æ¥è¯´, æ„é€ å™¨ä¸ä¼šä»»ä½•å€¼ã€‚ç›¸å, å®ƒä»¬çš„è§’è‰²æ˜¯ç¡®ä¿åˆå§‹åŒ–ç»“æŸæ—¶selfè¢«å®Œå…¨è€Œæ­£ç¡®çš„åˆå§‹åŒ–ã€‚å°½ç®¡ä½ å†™äº†è¿”å› nil å»è§¦å‘æ„é€ å¤±è´¥, ä½ ä¸èƒ½ç”¨ return å…³é”®å­—æ¥è¡¨æ˜æ„é€ æˆåŠŸã€‚<br><br>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªç»“æ„ä½“ Animal, æœ‰ä¸€ä¸ªå¸¸é‡å­—ç¬¦ä¸²å±æ€§ species.Animal åŒæ—¶å®šä¹‰äº†å¸¦æœ‰ä¸€ä¸ªå‚æ•°species çš„å¤±è´¥æ„é€ å™¨ã€‚ è¿™ä¸ªæ„é€ å™¨åˆ¤æ–­species æ˜¯å¦ä¸ºç©ºã€‚å¦‚æœæ˜¯ç©ºå­—ç¬¦ä¸², æ„é€ å¤±è´¥è§¦å‘ã€‚å¦åˆ™, è®¾ç½®species çš„å±æ€§å€¼, ç„¶ååˆå§‹åŒ–æˆåŠŸ:<br><code><br>struct Animal {<br>    let species: String<br>    init?(species: String) {<br>        if species.isEmpty { return nil }<br>        self.species = species<br>    }<br>}<br></code><br>ä½ å¯ä»¥ä½¿ç”¨å¤±è´¥æ„é€ å™¨å°è¯•å»åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„ Animal å®ä¾‹,ç„¶ååˆ¤æ–­æ„é€ æ˜¯å¦æˆåŠŸ:<br><code><br>let someCreature = Animal(species: â€œGiraffeâ€)<br>// someCreature is of type Animal?, not Animal<br><br>if let giraffe = someCreature {<br>    print(â€œAn animal was initialized with a species of (giraffe.species)â€)<br>}<br>// Prints â€œAn animal was initialized with a species of Giraffeâ€<br>If you pass an empty string value to the failable initializerâ€™s species parameter, the initializer triggers an initialization failure:<br><br>let anonymousCreature = Animal(species: â€œâ€)<br>// anonymousCreature is of type Animal?, not Animal<br><br>if anonymousCreature == nil {<br>    print(â€œThe anonymous creature could not be initializedâ€)<br>}<br>// æ‰“å° â€œThe anonymous creature could not be initializedâ€<br></code><br>å¤‡æ³¨<br><br>åˆ¤æ–­ç©ºå­—ç¬¦ä¸²å’Œåˆ¤æ–­å¯é€‰å€¼ä¸ºnilæ˜¯ä¸åŒçš„ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­, ä¸€ä¸ªç©ºå­—ç¬¦ä¸² (â€œâ€) æ˜¯ä¸€ä¸ªæœ‰æ•ˆ,éå¯é€‰çš„å­—ç¬¦ä¸²ã€‚ä¸è¿‡, å¯¹äºåŠ¨ç‰©æ¥è¯´specieså±æ€§å€¼ä¸ºç©ºä¸å¤ªåˆé€‚ã€‚ ä¸ºäº†æ¨¡æ‹Ÿè¿™ç§é™åˆ¶, å¦‚æœè¿™ä¸ªå­—ç¬¦ä¸²ä¸ºç©º,å°±è§¦å‘æ„é€ å¤±è´¥ã€‚<br><br># æšä¸¾çš„å¤±è´¥æ„é€ å™¨<br><br>ä½ å¯ä»¥åŸºäºä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°ä½¿ç”¨æ„é€ å™¨å»é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„æšä¸¾case. å¦‚æœæä¾›çš„å‚æ•°æ²¡æœ‰åŒ¹é…åˆé€‚çš„case,æ„é€ å°±ä¼šå¤±è´¥ã€‚<br><br>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªæšä¸¾ TemperatureUnit, æœ‰ä¸‰ç§å¯èƒ½çš„çŠ¶æ€ (kelvin, celsius, å’Œ fahrenheit). å¤±è´¥æ„é€ å™¨æ ¹æ®ä»£è¡¨æ¸©åº¦ç¬¦å·çš„å­—ç¬¦å€¼æ¥å¯»æ‰¾ä¸€ä¸ªåˆé€‚çš„æšä¸¾case:<br><code><br>enum TemperatureUnit {<br>    case kelvin, celsius, fahrenheit<br>    init?(symbol: Character) {<br>        switch symbol {<br>        case â€œKâ€:<br>            self = .kelvin<br>        case â€œCâ€:<br>            self = .celsius<br>        case â€œFâ€:<br>            self = .fahrenheit<br>        default:<br>            return nil<br>        }<br>    }<br>}</code><br>ä½ ä½¿ç”¨å¤±è´¥æ„é€ å™¨ä¸ºä¸‰ç§å¯èƒ½çš„çŠ¶æ€é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„æšä¸¾case, å¦‚æœå‚æ•°ä¸åŒ¹é…ä¸‰ç§çŠ¶æ€ä¹‹ä¸€å°±ä¼šå¼•å‘æ„é€ å¤±è´¥:<br><code><br>let fahrenheitUnit = TemperatureUnit(symbol: â€œFâ€)<br>if fahrenheitUnit != nil {<br>    print(â€œThis is a defined temperature unit, so initialization succeeded.â€)<br>}<br>// Prints â€œThis is a defined temperature unit, so initialization succeeded.â€<br><br>let unknownUnit = TemperatureUnit(symbol: â€œXâ€)<br>if unknownUnit == nil {<br>    print(â€œThis is not a defined temperature unit, so initialization failed.â€)<br>}<br>// æ‰“å° â€œThis is not a defined temperature unit, so initialization failed.â€<br></code><br># å¸¦Rawå€¼æšä¸¾çš„å¤±è´¥æ„é€ å™¨<br><br>å¸¦æœ‰rawå€¼çš„æšä¸¾ä¼šè‡ªåŠ¨æ¥æ”¶ä¸€ä¸ªå¤±è´¥æ„é€ å™¨, init?(rawValue:), æœ‰ä¸€ä¸ªå‚æ•° rawValue, å¦‚æœæ‰¾åˆ°å°±åŒ¹é…ä¸€ä¸ªæšä¸¾case, å¦åˆ™è§¦å‘æ„é€ å¤±è´¥ã€‚<br><br>ä½ ç”¨rawå€¼é‡å†™ä¸Šé¢çš„ TemperatureUnit ä¾‹å­,ç„¶åä½¿ç”¨ init?(rawValue:) æ„é€ å™¨:<br><code><br>enum TemperatureUnit: Character {<br>    case kelvin = â€œKâ€, celsius = â€œCâ€, fahrenheit = â€œFâ€<br>}<br><br>let fahrenheitUnit = TemperatureUnit(rawValue: â€œFâ€)<br>if fahrenheitUnit != nil {<br>    print(â€œThis is a defined temperature unit, so initialization succeeded.â€)<br>}<br>// Prints â€œThis is a defined temperature unit, so initialization succeeded.â€<br><br>let unknownUnit = TemperatureUnit(rawValue: â€œXâ€)<br>if unknownUnit == nil {<br>    print(â€œThis is not a defined temperature unit, so initialization failed.â€)<br>}<br>// æ‰“å° â€œThis is not a defined temperature unit, so initialization failed.â€<br></code><br># æ„é€ å¤±è´¥çš„ä¼ é€’<br><br>åœ¨ç›¸åŒç±»,ç»“æ„ä½“æˆ–è€…æšä¸¾ä¸­å¤±è´¥æ„é€ å™¨å¯ä»¥å§”æ‰˜è°ƒç”¨å¦å¤–çš„å¤±è´¥æ„é€ å™¨ã€‚ç›¸ä¼¼çš„, å­ç±»å¤±è´¥æ„é€ å™¨å¯ä»¥å‘ä¸Šè°ƒç”¨è¶…ç±»çš„å¤±è´¥æ„é€ å™¨ã€‚<br><br>å¦å¤–ä¸€ç§æƒ…å†µ, å¦‚æœä½ å§”æ‰˜å…¶ä»–æ„é€ å™¨å¯¼è‡´æ„é€ å¤±è´¥, é‚£ä¹ˆæ•´ä¸ªæ„é€ è¿‡ç¨‹å°±ä¼šç«‹å³å¤±è´¥, åé¢çš„æ„é€ ä»£ç ä¸ä¼šå†æ‰§è¡Œã€‚<br><br>å¤‡æ³¨<br><br>ä¸€ä¸ªå¤±è´¥æ„é€ å™¨è¦å¯ä»¥å§”æ‰˜è°ƒç”¨ä¸€ä¸ªéå¤±è´¥æ„é€ å™¨ã€‚å¦‚æœä½ éœ€è¦ç»™ä¸€ä¸ªå­˜åœ¨çš„åˆå§‹åŒ–è¿‡ç¨‹æ·»åŠ ä¸€ä¸ªæ½œåœ¨çš„å¤±è´¥çŠ¶æ€,å¯ä»¥ç”¨è¿™ä¸ªæ–¹æ³•ã€‚<br><br>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ª Product çš„å­ç±» CartItem. CartItem æ¨¡æ‹Ÿäº†åœ¨çº¿è´­ç‰©è½¦çš„ä¸€é¡¹ã€‚CartItem å¼•å…¥äº†ä¸€ä¸ªå­˜å‚¨å¸¸é‡å±æ€§ quantity å¹¶ä¸”ä¿è¯è¿™ä¸ªå±æ€§çš„å€¼è‡³å°‘ä¸º 1:<br><code><br>class Product {<br>    let name: String<br>    init?(name: String) {<br>        if name.isEmpty { return nil }<br>        self.name = name<br>    }<br>}<br><br>class CartItem: Product {<br>    let quantity: Int<br>    init?(name: String, quantity: Int) {<br>        if quantity &lt; 1 { return nil }<br>        self.quantity = quantity<br>        super.init(name: name)<br>    }<br>}<br></code><br>CartItem å¤±è´¥æ„é€ å™¨é¦–å…ˆåˆ¤æ–­ quantity æ˜¯å¦å°äº1. å¦‚æœ quantity æ— æ•ˆ, æ•´ä¸ªåˆå§‹åŒ–è¿‡ç¨‹ç«‹å³å¤±è´¥å¹¶ä¸”åé¢çš„åˆå§‹åŒ–ä»£ç ä¸ä¼šæ‰§è¡Œã€‚ åŒæ ·çš„, Product çš„å¤±è´¥æ„é€ å™¨åˆ¤æ–­ name çš„å€¼, å¦‚æœnameæ˜¯ç©ºå­—ç¬¦ä¸²è¿™ä¸ªæ„é€ è¿‡ç¨‹ä¹Ÿä¼šç«‹å³å¤±è´¥ã€‚<br><br>å¦‚æœä½¿ç”¨éç©ºnameå’Œquantityå¤§äºç­‰äº1çš„å€¼æ„é€ ä¸€ä¸ª CartItem å®ä¾‹, åˆå§‹åŒ–å°±æˆåŠŸäº†:<br><code><br>if let twoSocks = CartItem(name: â€œsockâ€, quantity: 2) {<br>    print(â€œItem: (twoSocks.name), quantity: (twoSocks.quantity)â€)<br>}<br>// æ‰“å° â€œItem: sock, quantity: 2â€<br></code><br>å¦‚æœä½ ç”¨quantity ç­‰äº0æ¥åˆ›å»ºä¸€ä¸ª CartItem å®ä¾‹, CartItem æ„é€ å™¨ä¼šå¼•èµ·åˆå§‹åŒ–å¤±è´¥:<br><code><br>if let zeroShirts = CartItem(name: â€œshirtâ€, quantity: 0) {<br>    print(â€œItem: (zeroShirts.name), quantity: (zeroShirts.quantity)â€)<br>} else {<br>    print(â€œUnable to initialize zero shirtsâ€)<br>}<br>// æ‰“å° â€œUnable to initialize zero shirtsâ€<br></code><br>ç›¸ä¼¼çš„, å¦‚æœä½ ä½¿ç”¨ç©ºåå­—å»åˆ›å»ºä¸€ä¸ª CartItem å®ä¾‹, è¶…ç±» Product æ„é€ å™¨ä¼šå¯¼è‡´åˆå§‹åŒ–å¤±è´¥:<br><code><br>if let oneUnnamed = CartItem(name: â€œâ€, quantity: 1) {<br>    print(â€œItem: (oneUnnamed.name), quantity: (oneUnnamed.quantity)â€)<br>} else {<br>    print(â€œUnable to initialize one unnamed productâ€)<br>}<br>// æ‰“å° â€œUnable to initialize one unnamed productâ€<br></code><br># é‡å†™å¤±è´¥æ„é€ å™¨<br><br>ä½ å¯ä»¥åœ¨å­ç±»é‡å†™è¶…ç±»çš„å¤±è´¥æ„é€ å™¨, å°±åƒå…¶ä»–æ„é€ å™¨ä¸€æ ·ã€‚ æˆ–è€…, ä½ å¯ä»¥ç”¨å­ç±»çš„éå¤±è´¥æ„é€ å™¨é‡å†™ä¸€ä¸ªè¶…ç±»çš„æ„é€ å™¨ã€‚ è¿™ä½¿å¾—ä½ å¯ä»¥å®šä¹‰ä¸ªå­ç±»,å®ƒçš„åˆå§‹åŒ–ä¸ä¼šå¤±è´¥ã€‚å³ä½¿è¶…ç±»çš„æ„é€ å…è®¸å¤±è´¥ã€‚<br><br>æ³¨æ„,å¦‚æœä½ ç”¨å­ç±»éå¤±è´¥æ„é€ å™¨é‡å†™äº†è¶…ç±»çš„å¤±è´¥æ„é€ å™¨, å”¯ä¸€å‘ä¸Šè°ƒç”¨è¶…ç±»æ„é€ å™¨çš„æ–¹å¼æ˜¯å¼ºåˆ¶æ‹†åŒ…è¶…ç±»å¤±è´¥æ„é€ å™¨çš„ç»“æœã€‚<br><br>å¤‡æ³¨<br><br>ä½ å¯ä»¥ç”¨ä¸€ä¸ªéå¤±è´¥æ„é€ å™¨é‡å†™ä¸€ä¸ªå¤±è´¥æ„é€ å™¨,é™¤æ­¤ä¹‹å¤–åˆ«æ— ä»–æ³•ã€‚<br><br>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªç±» Document. è¿™ä¸ªç±»æ¨¡æ‹Ÿäº†ä¸€ä¸ªæ–‡æ¡£,è¿™ä¸ªæ–‡æ¡£å¯ä»¥ç”¨ä¸€ä¸ªéç©ºå­—ç¬¦ä¸²åå­—æˆ–è€…nilæ¥åˆå§‹åŒ–, ä½†æ˜¯ä¸èƒ½ç”¨ä¸€ä¸ªç©ºå­—ç¬¦ä¸²:<br><code><br>class Document {<br>    var name: String?<br>    // this initializer creates a document with a nil name value<br>    init() {}<br>    // this initializer creates a document with a nonempty name value<br>    init?(name: String) {<br>        if name.isEmpty { return nil }<br>        self.name = name<br>    }<br>}<br></code><br>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº† Document çš„ä¸€ä¸ªå­ç±» AutomaticallyNamedDocument. AutomaticallyNamedDocument å­ç±»é‡å†™äº†ä¸¤ä¸ª Document ç±»å¼•å…¥çš„æŒ‡å®šæ„é€ å™¨ã€‚è¿™äº›é‡å†™ä¿è¯äº†ä¸€ä¸ª AutomaticallyNamedDocument æœ‰ä¸€ä¸ªåˆå§‹å€¼ â€œ[Untitled]â€ :<br><code><br>class AutomaticallyNamedDocument: Document {<br>    override init() {<br>        super.init()<br>        self.name = â€œ[Untitled]â€<br>    }<br>    override init(name: String) {<br>        super.init()<br>        if name.isEmpty {<br>            self.name = â€œ[Untitled]â€<br>        } else {<br>            self.name = name<br>        }<br>    }<br>}<br></code><br>AutomaticallyNamedDocument ç”¨éå¤±è´¥init(name:)æ„é€ å™¨é‡å†™äº†è¶…ç±»çš„å¤±è´¥æ„é€ å™¨init?(name:). å› ä¸º AutomaticallyNamedDocument å¤„ç†ç©ºå­—ç¬¦ä¸²çš„æƒ…å†µå’Œè¶…ç±»ä¸åŒ, å®ƒçš„æ„é€ å™¨ä¸éœ€è¦å¤±è´¥, æ‰€ä»¥å®ƒæä¾›äº†ä¸€ä¸ªéå¤±è´¥çš„æ„é€ å™¨ç‰ˆæœ¬ã€‚<br><br>ä½ å¯ä»¥åœ¨æ„é€ å™¨é‡Œä½¿ç”¨å¼ºåˆ¶æ‹†åŒ…,æ¥è°ƒç”¨è¶…ç±»çš„å¤±è´¥æ„é€ å™¨ã€‚ ä¾‹å¦‚, UntitledDocument å­ç±»æ€»æ˜¯å‘½åä¸º â€œ[Untitled]â€, å¹¶ä¸”åœ¨å®ƒçš„åˆå§‹åŒ–è¿‡ç¨‹ä¸­,å®ƒä¼šä½¿ç”¨è¶…ç±»çš„å¤±è´¥æ„é€ å™¨init(name:)<br><code><br>class UntitledDocument: Document {<br>    override init() {<br>        super.init(name: â€œ[Untitled]â€)!<br>    }<br>}</code><br>åœ¨è¿™ç§æƒ…å†µä¸‹, å¦‚æœè¶…ç±»çš„ init(name:) æ„é€ å™¨ç”¨ç©ºåå­—å­—ç¬¦ä¸²è°ƒç”¨, å¼ºåˆ¶æ‹†åŒ…æ“ä½œä¼šå¼•å‘ä¸€ä¸ªè¿è¡Œæ—¶é”™è¯¯ã€‚ä¸è¿‡, å®ƒæ˜¯ç”¨å¸¸é‡å­—ç¬¦ä¸²è°ƒç”¨çš„, ä½ å¯ä»¥çœ‹åˆ°è¿™ä¸ªåˆå§‹åŒ–å™¨ä¸ä¼šå¤±è´¥, æ‰€ä»¥è¿™ç§æƒ…å†µä¸ä¼šå‘ç”Ÿè¿è¡Œæ—¶é”™è¯¯ã€‚<br><br># init! å¤±è´¥æ„é€ å™¨<br><br>é€šè¿‡åœ¨initå…³é”®ä¹‹åé¢åŠ ä¸Šä¸€ä¸ªé—®å·,ä½ å¯ä»¥å®šä¹‰ä¸€ä¸ªå¤±è´¥æ„é€ å™¨æ¥åˆ›å»ºä¸€ä¸ªå¯¹åº”ç±»å‹çš„å¯é€‰å®ä¾‹ã€‚æˆ–è€…, ä½ å¯ä»¥å®šä¹‰ä¸€ä¸ªå¤±è´¥æ„é€ å™¨,æ¥åˆ›å»ºå¯¹åº”ç±»å‹éšå¼æ‹†åŒ…å¯é€‰å®ä¾‹ã€‚ è¿™ä¸ªå¯ä»¥é€šè¿‡åœ¨initå…³é”®ä¹‹åé¢åŠ ä¸Šæ„Ÿå¹å·è€Œä¸æ˜¯é—®å¥½æ¥å®ç°ã€‚<br><br>ä½ å¯ä»¥ä»init? è°ƒç”¨åˆ° init! ,åä¹‹äº¦ç„¶, è€Œä¸”ä½ å¯ä»¥ç”¨init!é‡å†™ init? with init! ,åä¹‹äº¦ç„¶ã€‚ä½ è¿˜å¯ä»¥ä»init è°ƒç”¨åˆ° init!, å°½ç®¡è¿™æ ·åšä¼šè§¦å‘ä¸€ä¸ªæ–­è¨€,å¦‚æœ init! æ„é€ å™¨å¯¼è‡´æ„é€ å¤±è´¥çš„è¯ã€‚<br><br># å¿…éœ€æ„é€ å™¨<br><br>åœ¨ä¸€ä¸ªç±»çš„æ„é€ å™¨å‰å†™ä¸Š required ä¿®é¥°ç¬¦æ¥è¡¨æ˜è¿™ä¸ªç±»çš„æ¯ä¸ªå­ç±»éƒ½è¦å®ç°è¿™äº›æ„é€ å™¨:<br><code><br>class SomeClass {<br>    required init() {<br>        // initializer implementation goes here<br>    }<br>}</code><br>ä½ ä¹Ÿå¿…éœ€åœ¨æ¯ä¸€ä¸ªå®ç°å¿…é¡»æ„é€ å™¨çš„å­ç±»æ„é€ å™¨å‰å†™ä¸Š required ä¿®é¥°ç¬¦, æ¥è¡¨æ˜åœ¨é“¾ä¸­æ„é€ éœ€æ±‚é€‚ç”¨æ›´è¿œçš„å­ç±»ã€‚å½“é‡å†™ä¸€ä¸ªå¿…é¡»æŒ‡å®šæ„é€ å™¨æ—¶,ä½ ä¸éœ€è¦å†™ä¸Š override ä¿®é¥°ç¬¦:<br><code><br>class SomeSubclass: SomeClass {<br>    required init() {<br>        // subclass implementation of the required initializer goes here<br>    }<br>}</code><br>å¤‡æ³¨<br><br>å¦‚æœä½ å¯ä»¥ç”¨ä¸€ä¸ªç»§æ‰¿æ¥çš„æ„é€ å™¨æ»¡è¶³è¦æ±‚,ä½ å°±ä¸å¿…è¦æä¾›ä¸€ä¸ªæ˜¾å¼çš„å¿…é¡»æ„é€ å™¨ã€‚<br><br># ç”¨é—­åŒ…æˆ–è€…å‡½æ•°è®¾å®šé»˜è®¤å±æ€§å€¼<br><br>å¦‚æœä¸€ä¸ªå­˜å‚¨å±æ€§çš„é»˜è®¤å€¼éœ€è¦å®šåˆ¶æˆ–è€…è®¾ç½®, ä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªé—­åŒ…æˆ–è€…ä¸€ä¸ªå…¨å±€å‡½æ•°ã€‚ä¸€æ—¦ä¸€ä¸ªå±æ€§æ‰€å±çš„æ–°çš„å®ä¾‹è¢«åˆå§‹åŒ–, é—­åŒ…æˆ–è€…å‡½æ•°å°±ä¼šè°ƒç”¨, ç„¶åè¿”å›å€¼è¢«èµ‹å€¼ç»™å±æ€§çš„é»˜è®¤å€¼ã€‚<br><br>è¿™äº›é—­åŒ…æˆ–è€…å‡½æ•°ç‰¹åˆ«åˆ›å»ºå’Œå±æ€§ç›¸åŒç±»å‹çš„ä¸€ä¸ªä¸´æ—¶å€¼, è¿”å›çš„ä¸´æ—¶å€¼ç”¨æ¥ä½œä¸ºè¿™ä¸ªå±æ€§çš„é»˜è®¤å€¼ã€‚<br><br>è¿™é‡Œæœ‰ä¸€ä¸ªæ¡†æ¶, æ¥å±•ç¤ºä¸€ä¸ªé—­åŒ…å¦‚ä½•ç”¨æ¥æä¾›é»˜è®¤å±æ€§å€¼:<br><code><br>class SomeClass {<br>    let someProperty: SomeType = {<br>        // create a default value for someProperty inside this closure<br>        // someValue must be of the same type as SomeType<br>        return someValue<br>    }()<br>}<br></code><br>æ³¨æ„é—­åŒ…èŠ±æ‹¬å·ç»“æŸåè·Ÿç€ä¸€å¯¹ç©ºæ‹¬å·ã€‚è¿™ä¸ªä¼šé€šçŸ¥ Swift ç«‹å³æ‰§è¡Œè¿™ä¸ªé—­åŒ…ã€‚å¦‚æœä½ å¿½ç•¥è¿™å¯¹æ‹¬å·, ä½ åœ¨å°è¯•æŠŠé—­åŒ…æœ¬èº«èµ‹å€¼ç»™è¿™ä¸ªå±æ€§, è€Œä¸æ˜¯é—­åŒ…çš„è¿”å›å€¼ã€‚<br><br>å¤‡æ³¨<br><br>å¦‚æœä½ ç”¨é—­åŒ…åˆå§‹åŒ–ä¸€ä¸ªå±æ€§, è®°ä½,é—­åŒ…æ‰§è¡Œæ—¶,å®ä¾‹çš„å…¶ä»–éƒ¨åˆ†è¿˜æ²¡æœ‰è¿›è¡Œåˆå§‹åŒ–ã€‚è¿™å°±æ„å‘³ç€ä½ ä¸èƒ½åœ¨é—­åŒ…é‡Œè®¿é—®å…¶ä»–ä»»ä½•å±æ€§, å³ä½¿è¿™äº›å±æ€§å…·æœ‰é»˜è®¤å€¼ã€‚ä½ ä¹Ÿä¸èƒ½ä½¿ç”¨éšå¼self å±æ€§, æˆ–æ˜¯è°ƒç”¨ä»»ä½•å®ä¾‹æ–¹æ³•ã€‚<br><br>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªç»“æ„ä½“ Chessboard, å®ƒä¸ºè±¡æ£‹æ¸¸æˆæ¨¡æ‹Ÿäº†ä¸€ä¸ªæ£‹ç›˜ã€‚è±¡æ£‹æ˜¯åœ¨ä¸€ä¸ª 8 x 8 çš„å»æ£‹ç›˜ä¸Šç©çš„, å¸¦ç€äº¤æ›¿çš„é»‘ç™½æ–¹æ ¼ã€‚<br><br><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/chessBoard_2x.png"><br></div><br>ä¸ºäº†è¡¨ç¤ºè¿™ä¸ªæ¸¸æˆæ£‹ç›˜, Chessboard ç»“æ„ä½“æœ‰ä¸€ä¸ªå±æ€§ boardColors, å®ƒæ˜¯ä¸€ä¸ªå¸¦æœ‰64ä¸ªå¸ƒå°”å€¼çš„æ•°ç»„ã€‚çœŸå€¼ä»£è¡¨é»‘è‰²æ–¹å—,å‡å€¼ä»£è¡¨ç™½è‰²æ–¹å—ã€‚ç¬¬ä¸€é¡¹ä»£è¡¨æ£‹ç›˜çš„å·¦ä¸Šæ–¹å—,æœ€åä¸€é¡¹ä»£è¡¨æ£‹ç›˜çš„å³ä¸‹æ–¹å—ã€‚<br><br>boardColors æ•°ç»„ä½¿ç”¨ä¸€ä¸ªé—­åŒ…åˆå§‹åŒ–,è®¾å®šå®ƒçš„é¢œè‰²å€¼:<br><code><br>struct Chessboard {<br>    let boardColors: [Bool] = {<br>        var temporaryBoard = <a href="">Bool</a><br>        var isBlack = false<br>        for i in 1â€¦8 {<br>            for j in 1â€¦8 {<br>                temporaryBoard.append(isBlack)<br>                isBlack = !isBlack<br>            }<br>            isBlack = !isBlack<br>        }<br>        return temporaryBoard<br>    }()<br>    func squareIsBlackAt(row: Int, column: Int) -&gt; Bool {<br>        return boardColors[(row </code></em> 8) + column]<br>    }<br>}<br><br>ä¸€æ—¦æ–°çš„Chessboard å®ä¾‹åˆ›å»º, é—­åŒ…å°±ä¼šæ‰§è¡Œ, boardColors é»˜è®¤å€¼ä¼šè®¡ç®—å’Œè¿”å›ã€‚ä¸Šé¢ä¾‹å­é‡Œçš„é—­åŒ…åœ¨ä¸€ä¸ªä¸´æ—¶æ•°ç»„temporaryBoard ä¸ºæ£‹ç›˜ä¸Šæ¯ä¸ªæ–¹å—è®¡ç®—å’Œè®¾ç½®äº†å¯¹åº”çš„é¢œè‰²å€¼, å¹¶ä¸”ç­‰è®¾ç½®å®Œæˆå°±ä½œä¸ºé—­åŒ…è¿”å›å€¼è¿”å›ã€‚è¿”å›æ•°ç»„å€¼å­˜å‚¨åœ¨ boardColors ä¸­,å¹¶ä¸”å¯ä»¥ç”¨squareIsBlackAtRow åŠŸèƒ½å‡½æ•°è¿›è¡ŒæŸ¥è¯¢:<br><code><br>let board = Chessboard()<br>print(board.squareIsBlackAt(row: 0, column: 1))<br>// Prints â€œtrueâ€<br>print(board.squareIsBlackAt(row: 7, column: 7))<br>// æ‰“å° â€œfalseâ€<br></code><br># ææ„å™¨<br>åœ¨ä¸€ä¸ªç±»å®ä¾‹é”€æ¯å‰,ä¸€ä¸ªææ„å™¨ä¼šç«‹å³è°ƒç”¨ã€‚ä½¿ç”¨deinit å…³é”®å­—æ¥è¡¨ç¤ºææ„å™¨, è·Ÿæ„é€ å™¨å†™æ³•ç±»ä¼¼ã€‚ææ„å™¨åªèƒ½ç”¨åœ¨ç±»ç±»å‹ä¸Šã€‚ types.<br><br># ææ„å™¨å¦‚ä½•å·¥ä½œ<br><br>Swift åœ¨å®ä¾‹ä¸éœ€è¦æ—¶ä¼šè‡ªåŠ¨ææ„å®ƒ, å»é‡Šæ”¾èµ„æºã€‚Swift é€šè¿‡è‡ªåŠ¨å¼•ç”¨è®¡æ•°æ¥ç®¡ç†å®ä¾‹çš„å†…å­˜(ARC). å½“å®ä¾‹é”€æ¯æ—¶ä½ ä¸éœ€è¦æ‰‹åŠ¨æ‰§è¡Œæ¸…ç†æ“ä½œã€‚ä¸è¿‡, å½“ä½ ä½¿ç”¨è‡ªå·±çš„èµ„æºæ—¶, ä½ å¯èƒ½éœ€è¦é¢å¤–æ‰§è¡Œä¸€äº›æ¸…ç†ã€‚ä¾‹å¦‚, å¦‚æœä½ åˆ›å»ºä¸€ä¸ªç±»å»è¯»å†™æ–‡ä»¶, åœ¨ç±»çš„å®ä¾‹é”€æ¯å‰ä½ å¯èƒ½éœ€è¦å»å…³é—­è¿™ä¸ªæ–‡ä»¶ã€‚<br><br>ç±»æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªææ„å™¨ã€‚ææ„å™¨æ²¡æœ‰ä»»ä½•å‚æ•°ä¹Ÿæ²¡æœ‰æ‹¬å·:<br><code><br>deinit {<br>    // perform the deinitialization<br>}</code><br>ææ„å™¨ä¼šè‡ªåŠ¨è°ƒç”¨, åœ¨å®ä¾‹é”€æ¯å‘ç”Ÿå‰ã€‚ç¦æ­¢è‡ªå·±å»è°ƒç”¨ææ„å™¨ã€‚å­ç±»ä¼šç»§æ‰¿è¶…ç±»çš„ææ„å™¨, è¶…ç±»ææ„å™¨åœ¨å­ç±»ææ„å™¨å®ç°åè°ƒç”¨ã€‚ å³ä½¿å­ç±»ä¸æä¾›è‡ªå·±çš„ææ„å™¨,è¶…ç±»ææ„å™¨ä¹Ÿä¼šè°ƒç”¨ã€‚<br><br>å› ä¸ºå®ä¾‹ç›´åˆ°ææ„å™¨è°ƒç”¨æ‰ä¼šé”€æ¯, ä¸€ä¸ªææ„å™¨å¯ä»¥è®¿é—®è°ƒç”¨å®ä¾‹çš„æ‰€æœ‰å±æ€§,åŒæ—¶ä¹Ÿå¯ä»¥æ”¹å˜åŸºäºè¿™äº›å±æ€§çš„è¡Œä¸º (ä¾‹å¦‚å¯»æ‰¾éœ€è¦å…³é—­çš„æ–‡ä»¶å).<br><br># ææ„å™¨çš„æ´»åŠ¨<br><br>è¿™é‡Œæœ‰ä¸€ä¸ªææ„å™¨æ´»åŠ¨çš„ä¾‹å­ã€‚è¿™ä¸ªä¾‹å­å®šä¹‰äº†ä¸¤ä¸ªæ–°ç±»å‹, Bank å’Œ Player, Bank ç±»ç®¡ç†ä¸€ä¸ªè™šæ‹Ÿè´§å¸, å®ƒçš„æµé€šè´§å¸ä¸ä¼šè¶…è¿‡ 10,000 ç¡¬å¸ã€‚æ¸¸æˆé‡Œåªæœ‰èƒ½æœ‰ä¸€ä¸ªé“¶è¡Œ, æ‰€ä»¥ Bank ç”¨ç±»å®ç°,å¸¦æœ‰ç±»å‹å±æ€§å’Œæ–¹æ³•æ¥å­˜å‚¨å’Œç®¡ç†å®ƒçš„å½“å‰çŠ¶æ€:<br><code><br>class Bank {<br>    static var coinsInBank = 10<em>000<br>    static func distribute(coins numberOfCoinsRequested: Int) -&gt; Int {<br>        let numberOfCoinsToVend = min(numberOfCoinsRequested, coinsInBank)<br>        coinsInBank -= numberOfCoinsToVend<br>        return numberOfCoinsToVend<br>    }<br>    static func receive(coins: Int) {<br>        coinsInBank += coins<br>    }<br>}</em></code><br>Bank ç”¨coinsInBank å±æ€§è·Ÿä¸­å½“å‰ç¡¬å¸çš„æ•°é‡ã€‚å®ƒåŒæ—¶æä¾›äº†ä¸¤ä¸ªæ–¹æ³•sâ€”distribute(coins:) å’Œ receive(coins:)â€”æ¥ç®¡ç†ç¡¬å¸çš„å‘è¡Œå’Œå›æ”¶ã€‚<br><br>distribute(coins:) æ–¹æ³•åˆ¤æ–­åœ¨å‘è¡Œå‰é“¶è¡Œæ˜¯å¦æœ‰è¶³å¤Ÿçš„ç¡¬å¸ã€‚å¦‚æœæ²¡æœ‰è¶³å¤Ÿçš„ç¡¬å¸, Bank è¿”å›ä¸€ä¸ªæ¯”è¦æ±‚æ•°é‡å°‘çš„æ•°é‡ (å¦‚æœé“¶è¡Œæ²¡æœ‰ç¡¬å¸äº†å°±è¿”å›0). å®ƒè¿”å›ä¸€ä¸ªæ•´æ•°æ¥è¡¨ç¤ºå®é™…æä¾›çš„ç¡¬å¸æ•°é‡ã€‚<br><br>receive(coins:) æ–¹æ³•ç®€å•åŠ ä¸Šæ”¶åˆ°çš„ç¡¬å¸æ•°é‡ã€‚<br><br>Player ç±»æè¿°äº†æ¸¸æˆä¸­çš„ä¸€ä¸ªç©å®¶ã€‚ æ¯ä¸€ä¸ªç©å®¶åœ¨ä»»ä½•æ—¶é—´éƒ½æœ‰ä¸€å®šæ•°é‡çš„ç¡¬å¸åœ¨é’±åŒ…é‡Œã€‚è¿™ä¸ªç”¨ç©å®¶çš„coinsInPurse æ¥è¡¨ç¤º:<br><code><br>class Player {<br>    var coinsInPurse: Int<br>    init(coins: Int) {<br>        coinsInPurse = Bank.distribute(coins: coins)<br>    }<br>    func win(coins: Int) {<br>        coinsInPurse += Bank.distribute(coins: coins)<br>    }<br>    deinit {<br>        Bank.receive(coins: coinsInPurse)<br>    }<br>}</code><br>åœ¨åˆå§‹åŒ–è¿‡ç¨‹ä¸­,æ¯ä¸ªç©å®¶éƒ½ä¼šç”¨ä¸€å®šæ•°é‡çš„ç¡¬å¸æ¥åˆå§‹åŒ–, å°½ç®¡ç©å®¶å¯èƒ½åœ¨é“¶è¡Œç¡¬å¸ä¸è¶³çš„æ—¶å€™è·å–è¾ƒå°‘çš„æ•°é‡ã€‚<br><br>Player ç±»å®šä¹‰äº†ä¸€ä¸ªæ–¹æ³• win(coins:), å®ƒä»é“¶è¡Œè·å–ä¸€å®šæ•°é‡çš„ç¡¬å¸ç„¶åæŠŠå®ƒä»¬åŠ å…¥ç©å®¶çš„é’±åŒ…ã€‚Player ç±»åŒæ—¶å®ç°äº†ä¸€ä¸ªå»æ„é€ å™¨, å®ƒåœ¨ Player å®ä¾‹é”€æ¯å‰è°ƒç”¨ã€‚åœ¨è¿™é‡Œ, è¿™ä¸ªæ„é€ å™¨ç®€å•æŠŠç©å®¶çš„ç¡¬å¸è¿”è¿˜ç»™é“¶è¡Œ:<br><code><br>var playerOne: Player? = Player(coins: 100)<br>print(â€œA new player has joined the game with (playerOne!.coinsInPurse) coinsâ€)<br>// æ‰“å° â€œA new player has joined the game with 100 coinsâ€<br>print(â€œThere are now (Bank.coinsInBank) coins left in the bankâ€)<br>// æ‰“å° â€œThere are now 9900 coins left in the bankâ€<br></code><br>ä¸€ä¸ªæ–°çš„ Player å®ä¾‹è¢«åˆ›å»º, å¦‚æœæœ‰ç¡¬å¸å°±è¯·æ±‚100ä¸ªç¡¬å¸ã€‚è¿™ä¸ªPlayer å®ä¾‹å­˜åœ¨ä¸€ä¸ªå¯é€‰çš„ Player å˜é‡ playerOne ä¸­ã€‚å¯é€‰å˜é‡ç”¨åœ¨è¿™é‡Œ, å› ä¸ºç©å®¶å¯èƒ½åœ¨ä»»ä½•æ—¶é—´ç¦»å¼€æ¸¸æˆã€‚å¯é€‰é¡¹è®©ä½ è·Ÿè¸ªç©å®¶å½“å‰æ˜¯å¦è¿˜åœ¨æ¸¸æˆä¸­ã€‚<br><br>å› ä¸º playerOne æ˜¯ä¸€ä¸ªå¯é€‰é¡¹, å½“å®ƒçš„ coinsInPurse å±æ€§è¢«è®¿é—®æ¥æ‰“å°ç¡¬å¸æ•°é‡æ—¶, éœ€è¦ä½¿ç”¨æ„Ÿå¹å·ã€‚ä¸€æ—¦å®ƒçš„ winCoins(:) æ–¹æ³•è¢«è°ƒç”¨:<br><code><br>playerOne!.win(coins: 2_000)<br>print(â€œPlayerOne won 2000 coins &amp; now has (playerOne!.coinsInPurse) coinsâ€)<br>// æ‰“å° â€œPlayerOne won 2000 coins &amp; now has 2100 coinsâ€<br>print(â€œThe bank now only has (Bank.coinsInBank) coins leftâ€)<br>// æ‰“å° â€œThe bank now only has 7900 coins leftâ€<br></code><br>åœ¨è¿™é‡Œ, ç©å®¶å·²ç»èµ¢å¾—äº† 2,000 ä¸ªç¡¬å¸ã€‚ç©å®¶çš„é’±åŒ…ç°åœ¨æœ‰ 2,100 ä¸ªç¡¬å¸, é“¶è¡Œè¿˜æœ‰ 7,900 ä¸ªç¡¬å¸ã€‚<br><code><br>playerOne = nil<br>print(â€œPlayerOne has left the gameâ€)<br>// æ‰“å° â€œPlayerOne has left the gameâ€<br>print(â€œThe bank now has (Bank.coinsInBank) coinsâ€)<br>// æ‰“å° â€œThe bank now has 10000 coinsâ€<br></code><br>ç©å®¶ç°åœ¨ç¦»å¼€æ¸¸æˆã€‚è®¾ç½®å¯é€‰playerOneå˜é‡ä¸ºnil è¯´æ˜äº†è¿™ç‚¹ã€‚æ„æ€æ˜¯ â€œæ²¡æœ‰Player å®ä¾‹ã€‚â€ æ­¤æ—¶, playerOne å˜é‡å¼•ç”¨çš„Player å®ä¾‹è¢«é”€æ¯ã€‚æ²¡æœ‰å…¶ä»–å±æ€§æˆ–è€…å˜é‡å†å¼•ç”¨ Player å®ä¾‹, æ‰€ä»¥å®ƒè¢«é”€æ¯æ¥é‡Šæ”¾å†…å­˜ã€‚åœ¨è¿™ä¸ªå‘ç”Ÿä¹‹å‰, å®ƒçš„ææ„å™¨è‡ªåŠ¨è°ƒç”¨, ç„¶åå®ƒçš„ç¡¬å¸å…¨éƒ¨å½’è¿˜ç»™é“¶è¡Œã€‚<br># è‡ªåŠ¨å¼•ç”¨è®¡æ•°<br>Swift ä½¿ç”¨è‡ªåŠ¨å¼•ç”¨è®¡æ•°æ¥è·Ÿè¸ªå’Œç®¡ç†ä½ çš„åº”ç”¨çš„å­˜å‚¨ä½¿ç”¨ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µé‡Œ, è¿™å°±æ„å‘³ç€å†…å­˜ç®¡ç† â€œä»…ä»…å·¥ä½œâ€ åœ¨ Swift, ä½ è‡ªå·±ä¸éœ€è¦ç®¡ç†å†…å­˜ã€‚ç±»çš„å®ä¾‹ä¸å†éœ€è¦çš„æ—¶å€™,ARC ä¼šè‡ªåŠ¨é‡Šæ”¾å®ä¾‹ä½¿ç”¨çš„å†…å­˜ã€‚<br><br>ä¸è¿‡, åœ¨ä¸€äº›å°‘è§çš„æƒ…å†µä¸‹,ä¸ºäº†æ›¿ä½ ç®¡ç†å†…å­˜,ARC éœ€è¦æ›´å¤šå…³äºä½ ä»£ç å…³ç³»çš„ä¿¡æ¯ã€‚è¿™ä¸ªç« èŠ‚æè¿°è¿™äº›åœºæ™¯å¹¶ä¸”å‘ä½ å±•ç¤ºä½ æ€ä¹ˆä½¿ç”¨ ARC æ¥ç®¡ç†åº”ç”¨çš„å†…å­˜ã€‚<br><br>å¤‡æ³¨<br><br>å¼•ç”¨è®¡æ•°åªé€‚ç”¨äºç±»çš„å®ä¾‹ã€‚ç»“æ„ä½“å’Œæšä¸¾æ˜¯å€¼ç±»å‹, è€Œéå¼•ç”¨ç±»å‹, ä¸èƒ½ç”¨å¼•ç”¨å­˜å‚¨å’Œä¼ é€’ã€‚<br><br># ARC å¦‚ä½•å·¥ä½œ<br><br>æ¯æ¬¡ä½ åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»å®ä¾‹, ARC å°±ä¼šåˆ†é…ä¸€å—å†…å­˜æ¥å­˜å‚¨å®ä¾‹çš„ä¿¡æ¯ã€‚è¿™ä¸ªå†…å­˜æŒæ¡äº†å®ä¾‹ç±»å‹çš„ä¿¡æ¯, è¿˜æœ‰å¯¹åº”å®ä¾‹çš„å­˜å‚¨å±æ€§çš„å€¼ã€‚<br><br>å¦å¤–, å½“ä¸€ä¸ªå®ä¾‹ä¸å†éœ€è¦çš„æ—¶å€™, ARC ä¼šé‡Šæ”¾å®ä¾‹ä½¿ç”¨çš„å†…å­˜,è®©å†…å­˜å¦æœ‰ä»–ç”¨ã€‚è¿™ä¸ªç¡®ä¿ç±»çš„å®ä¾‹ä¸éœ€è¦çš„æ—¶å€™,ä¸ä¼šç»§ç»­å ç”¨å†…å­˜ç©ºé—´ã€‚<br><br>ä¸è¿‡, å¦‚æœ ARC å°†è¦é”€æ¯åœ¨ä½¿ç”¨çš„å®ä¾‹, å®ƒå°†ä¸èƒ½è®¿é—®å®ä¾‹çš„å±æ€§, æˆ–è€…æ˜¯å®ä¾‹çš„æ–¹æ³•ã€‚ äº‹å®ä¸Š, å¦‚æœä½ è®¿é—®è¿™ä¸ªå®ä¾‹, ä½ çš„åº”ç”¨å¯èƒ½ä¼šå´©æºƒã€‚<br><br>ä¸ºäº†ç¡®ä¿å®ä¾‹åœ¨ä½¿ç”¨æ—¶ä¸ä¼šæ¶ˆå¤±, ARC è·Ÿè¸ªæœ‰å¤šå°‘å±æ€§, å¸¸é‡å’Œå˜é‡æ­£åœ¨å¼•ç”¨ç±»çš„æ¯ä¸ªå®ä¾‹ã€‚åªè¦æœ‰ä¸€ä¸ªå¯¹å®ä¾‹çš„å¼•ç”¨,ARC éƒ½ä¸ä¼šé”€æ¯è¿™ä¸ªå®ä¾‹ã€‚<br><br>ä¸ºäº†å®ç°è¿™ç§å¯èƒ½, ä¸€æ—¦ä½ æŠŠç±»èµ‹ç»™ä¸€ä¸ªå±æ€§, å¸¸é‡æˆ–è€…å˜é‡, è¿™äº›å±æ€§,å¸¸é‡æˆ–è€…å˜é‡å°±ä¼šå¼ºå¼•ç”¨è¿™ä¸ªå®ä¾‹ã€‚ è¿™ä¸ªå¼•ç”¨ä¹‹æ‰€ä»¥å«å¼ºå¼•ç”¨,æ˜¯å› ä¸ºå®ƒç‰¢ç‰¢æŒæ¡äº†è¿™ä¸ªå®ä¾‹ã€‚åªè¦å¼ºå¼•ç”¨è¿˜åœ¨,å°±ä¸ä¼šå…è®¸å®ƒè¢«é”€æ¯ã€‚<br><br># ARC çš„æ´»åŠ¨<br><br>ä¸‹é¢æœ‰ä¸ªè‡ªåŠ¨å¼•ç”¨è®¡æ•°çš„ä¾‹å­,æ¥å±•ç¤ºå®ƒå¦‚ä½•å·¥ä½œã€‚è¿™ä¸ªä¾‹å­ä»¥ä¸€ä¸ªç®€å•çš„ç±» Person å¼€å§‹, å®ƒå®šä¹‰äº†ä¸€ä¸ªå­˜å‚¨å¸¸é‡å±æ€§ name:<br><code><br>class Person {<br>    let name: String<br>    init(name: String) {<br>        self.name = name<br>        print(â€œ(name) is being initializedâ€)<br>    }<br>    deinit {<br>        print(â€œ(name) is being deinitializedâ€)<br>    }<br>}</code><br>Person ç±»æœ‰ä¸€ä¸ªæ„é€ å™¨,ç”¨æ¥è®¾ç½®å®ä¾‹çš„ name å±æ€§,å¹¶ä¸”æ‰“å°ä¸€æ¡ä¿¡æ¯æ¥è¡¨æ˜æ„é€ åœ¨è¿›è¡Œã€‚Person ç±»åŒæ—¶ä¹Ÿæœ‰ä¸€ä¸ªææ„å™¨,åœ¨ç±»çš„å®ä¾‹è¢«é”€æ¯æ—¶æ‰“å°ä¸€æ¡ä¿¡æ¯ã€‚<br><br>ä¸‹é¢ä»£ç å®šä¹‰äº†ä¸‰ä¸ª Person? ç±»å‹çš„å˜é‡, åœ¨åç»­ä»£ç ä¸­,å®ƒä»¬ç”¨æ¥è®¾ç½®å¤šä¸ªå¯¹æ–°Person å®ä¾‹çš„å¼•ç”¨ã€‚å› ä¸ºè¿™äº›å˜é‡æ˜¯å¯é€‰ç±»å‹(Person?, ä¸æ˜¯ Person), å®ƒä»¬ä¼šè‡ªåŠ¨åˆå§‹åŒ–ä¸ºnil, å¹¶ä¸”å½“å‰ä¸ä¼šå¼•ç”¨ä¸€ä¸ªPerson å®ä¾‹ã€‚<br><code><br>var reference1: Person?<br>var reference2: Person?<br>var reference3: Person?<br></code><br>ä½ ç°åœ¨å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„ Person å®ä¾‹,å¹¶ä¸”æŠŠå®ƒèµ‹å€¼ç»™ä¸‰ä¸ªå˜é‡çš„å…¶ä¸­ä¸€ä¸ª:<br><code><br>reference1 = Person(name: â€œJohn Appleseedâ€)<br>// æ‰“å° â€œJohn Appleseed is being initializedâ€<br></code><br>æ³¨æ„è¿™æ¡ä¿¡æ¯ â€œJohn Appleseed is being initializedâ€ åœ¨è°ƒç”¨Person æ¥çš„æ„é€ å™¨æ—¶æ‰“å°ã€‚è¿™ä¸ªç¡®è®¤äº†åˆå§‹åŒ–å·²ç»å‘ç”Ÿã€‚<br><br>å› ä¸ºæ–°çš„ Person å®ä¾‹å·²ç»æŒ‡å®šç»™ reference1 å˜é‡, ç°åœ¨ä»reference1 åˆ°æ–°çš„Person å®ä¾‹æœ‰äº†ä¸€ä¸ªå¼ºå¼•ç”¨ã€‚å› ä¸ºæœ‰äº†è‡³å°‘ä¸€ä¸ªå¼ºå¼•ç”¨, ARC ç¡®ä¿ Person ä¿æŒåœ¨å†…å­˜é‡Œä¸è¢«é”€æ¯ã€‚<br><br>å¦‚æœä½ æŠŠç›¸åŒçš„ Person å®ä¾‹èµ‹å€¼ç»™å¦å¤–ä¸¤ä¸ªå˜é‡, æŒ‡å‘è¿™ä¸ªå®ä¾‹çš„ä¸¤ä¸ªå¼ºå¼•ç”¨å°±å»ºç«‹äº†:<br><code><br>reference2 = reference1<br>reference3 = reference1<br></code><br>ç°åœ¨æœ‰ä¸‰ä¸ªå¼ºå¼•ç”¨æŒ‡å‘è¿™ä¸ªå•ç‹¬çš„ Person å®ä¾‹ã€‚<br><br>é€šè¿‡ç»™å…¶ä¸­ä¸¤ä¸ªå˜é‡èµ‹å€¼ä¸ºnil,ä½ å¯ä»¥æ‰“ç ´è¿™äº›å¼ºå¼•ç”¨, è¿˜å‰©ä¸€ä¸ªå¼ºå¼•ç”¨, ä½†æ˜¯Person å®ä¾‹ä¸ä¼šè¢«é”€æ¯:<br><code><br>reference1 = nil<br>reference2 = nil<br></code><br>ARC ç›´åˆ°æœ€åä¸€ä¸ªå¼ºå¼•ç”¨è¢«æ‰“ç ´æ‰ä¼šé”€æ¯ Person å®ä¾‹, åœ¨è¿™ä¸ªæ—¶åˆ»å¾ˆæ¸…æ¥šä½ æ— æ³•å†ç»§ç»­ä½¿ç”¨è¿™ä¸ª Person å®ä¾‹:<br><code><br>reference3 = nil<br>// æ‰“å° â€œJohn Appleseed is being deinitializedâ€<br></code><br># ç±»å®ä¾‹çš„å¼ºå¼•ç”¨å¾ªç¯<br><br>ä¸Šé¢çš„ä¾‹å­ä¸­, ARC å¯ä»¥è·Ÿè¸ªä½ åˆ›å»ºçš„å®ä¾‹çš„å¼•ç”¨æ•°é‡,å¹¶ä¸”åœ¨å®ä¾‹ä¸éœ€è¦çš„æ—¶å€™é”€æ¯å®ƒã€‚<br><br>ä¸è¿‡, æœ‰å¯èƒ½å†™ä¸‹è¿™ç§ä»£ç ,åœ¨ä»£ç é‡Œä¸€ä¸ªç±»å®ä¾‹ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™å¼ºå¼•ç”¨æ•°é‡ä¸º0. å¦‚æœä¸¤ä¸ªç±»å®ä¾‹äº’ç›¸å¼ºå¼•ç”¨å°±ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜, è¿™æ ·æ¯ä¸ªå®ä¾‹éƒ½ä¿æœ‰å…¶ä»–æ´»åŠ¨çš„å®ä¾‹ã€‚è¿™å°±æ˜¯ä¼—æ‰€å‘¨çŸ¥çš„å¼ºå¼•ç”¨å¾ªç¯ã€‚<br><br>ä½¿ç”¨weak æˆ–è€… unowned æ¥ä»£æ›¿å¼ºå¼•ç”¨, è¿™æ ·ä½ å¯ä»¥è§£å†³å¼ºå¼•ç”¨å¾ªç¯çš„é—®é¢˜ã€‚ä¸è¿‡, åœ¨ä½ å­¦ä¹ å¦‚ä½•è§£å†³å¼ºå¼•ç”¨é—®é¢˜å‰, æœ‰å¿…è¦å…ˆå­¦ä¹ å¾ªç¯å¼•ç”¨æ˜¯æ€ä¹ˆäº§ç”Ÿçš„ã€‚<br><br>ä¸‹é¢çš„ä¾‹å­å±•ç¤ºå¼ºå¼•ç”¨å¾ªç¯æ˜¯å¦‚ä½•å¶å‘çš„ã€‚è¿™ä¸ªä¾‹å­å®šä¹‰äº†ä¸¤ä¸ªç±» Person å’Œ Apartment, å®ƒæ¨¡æ‹Ÿäº†ä¸€ç»„å…¬å¯“å’Œå±…æ°‘:<br><code><br>class Person {<br>    let name: String<br>    init(name: String) { self.name = name }<br>    var apartment: Apartment?<br>    deinit { print(â€œ(name) is being deinitializedâ€) }<br>}<br><br>class Apartment {<br>    let unit: String<br>    init(unit: String) { self.unit = unit }<br>    var tenant: Person?<br>    deinit { print(â€œApartment (unit) is being deinitializedâ€) }<br>}<br></code><br>æ¯ä¸ª Person å®ä¾‹æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„nameå±æ€§å’Œä¸€ä¸ªå¯é€‰çš„ apartment å±æ€§,åè€…åˆå§‹åŒ–ä¸ºnil. apartment å±æ€§æ˜¯å¯é€‰çš„, å› ä¸ºä¸€ä¸ªäººæœ‰å¯èƒ½æ²¡æœ‰å…¬å¯“ã€‚<br><br>ç›¸ä¼¼çš„, æ¯ä¸ª Apartment å®ä¾‹æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„ unitå±æ€§å’Œä¸€ä¸ªå¯é€‰çš„ tenant å±æ€§,åè€…åˆå§‹åŒ–ä¸ºnil nil. tenant å±æ€§æ˜¯å¯é€‰çš„,å› ä¸ºä¸€ä¸ªå…¬å¯“æœ‰å¯èƒ½æ²¡æœ‰ç§Ÿå®¢ã€‚<br><br>ä¸¤ä¸ªç±»éƒ½å®šä¹‰äº†ææ„å™¨, å®ƒä»¬æ‰“å°ç±»å®ä¾‹è¢«é”€æ¯çš„äº‹å®ã€‚è¿™ä¸ªå¯ä»¥å¸®ä½ æŸ¥çœ‹ä¸¤ä¸ªç±»çš„å®ä¾‹æ˜¯å¦æŒ‰ç…§é¢„æœŸé”€æ¯äº†ã€‚<br><br>ä¸‹é¢çš„ä»£ç ç‰‡æ®µå®šä¹‰äº†ä¸¤ä¸ªå¯é€‰ç±»å‹çš„å˜é‡ john å’Œ unit4A, ä»–ä»¬å°†ä¼šè¢«è®¾ç½®ä¸ºç‰¹å®šçš„ Apartment å’Œ Person å®ä¾‹ã€‚è¿™ä¸¤ä¸ªå˜é‡åˆå§‹å€¼éƒ½æ˜¯ nil, å› ä¸ºå®ƒä»¬æ˜¯å¯é€‰çš„:<br><code><br>var john: Person?<br>var unit4A: Apartment?<br><br>john = Person(name: â€œJohn Appleseedâ€)<br>unit4A = Apartment(unit: â€œ4Aâ€)<br></code><br>è¿™é‡Œå±•ç¤ºåˆ›å»ºå’Œèµ‹å€¼è¿™ä¸¤ä¸ªå®ä¾‹å,å¼ºå¼•ç”¨çš„æ ·å­ã€‚john å˜é‡ç°åœ¨å¼ºå¼•ç”¨è¿™ä¸ªæ–°çš„ Person å®ä¾‹, unit4A å˜é‡ç°åœ¨å¼ºå¼•ç”¨è¿™ä¸ªæ–°çš„ Apartment å®ä¾‹:<br><br><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/referenceCycle01_2x.png"><br></div><br>ç°åœ¨å¯ä»¥è”ç³»ä¸¤ä¸ªå®ä¾‹åˆ°ä¸€èµ·,ç°åœ¨äººæœ‰äº†å…¬å¯“,å…¬å¯“ä¹Ÿæœ‰äº†ä¸€ä¸ªç§Ÿå®¢ã€‚æ³¨æ„è¿™é‡Œä½¿ç”¨äº†æ„Ÿå¹å·æ¥æ‹†åŒ…å’Œè®¿é—® john å’Œ unit4A å¯é€‰å˜é‡, æ‰€ä»¥è¿™äº›å®ä¾‹çš„å±æ€§å¯ä»¥è¢«è®¾ç½®:<br><code><br>john!.apartment = unit4A<br>unit4A!.tenant = john<br></code><br>Hereâ€™s how the strong references look after you link the two instances together:<br><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/referenceCycle02_2x.png"><br></div><br>ä¸å¹¸è¿çš„æ˜¯, è”ç³»è¿™ä¸¤ä¸ªå®ä¾‹,å¯¼è‡´åœ¨å®ƒä»¬ä¹‹é—´å»ºç«‹äº†å¼ºå¼•ç”¨å¾ªç¯ã€‚Person å®ä¾‹ç°åœ¨æœ‰äº†ä¸€ä¸ªå¼ºå¼•ç”¨åˆ° Apartment å®ä¾‹, ç„¶å Apartment å®ä¾‹æœ‰ä¸€ä¸ªå¼ºå¼•ç”¨åˆ° Person å®ä¾‹ã€‚å› æ­¤, å½“ä½ æ‰“ç ´ john å’Œ unit4A å˜é‡æ‹¥æœ‰çš„å¼ºå¼•ç”¨, å¼•ç”¨è®¡æ•°ä¹Ÿä¸ä¼šé™ä¸º0, å®ä¾‹ä¹Ÿä¸ä¼šè¢«ARCé”€æ¯:<br><code><br>john = nil<br>unit4A = nil<br></code><br>æ³¨æ„å½“ä½ è®¾ç½®ä¸¤ä¸ªå˜é‡ä¸ºnilæ—¶,ä¸¤ä¸ªææ„å™¨éƒ½ä¸ä¼šè°ƒç”¨ã€‚å¼ºå¼•ç”¨å¾ªç¯é˜»æ­¢äº† Person å’Œ Apartment å®ä¾‹çš„é”€æ¯ã€‚å¯¼è‡´ä½ çš„åº”ç”¨å†…å­˜æ³„éœ²ã€‚<br><br>è¿™é‡Œå±•ç¤ºè®¾ç½®john å’Œ unit4A å˜é‡ä¸º nilåå¼ºå¼•ç”¨çš„æ ·å­:<br><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/referenceCycle03_2x.png"><br></div><br>Person å®ä¾‹å’Œ Apartment å®ä¾‹ä¹‹é—´çš„å¼ºå¼•ç”¨ä¾ç„¶æ²¡æœ‰æ‰“ç ´ã€‚<br><br># è§£å†³å®ä¾‹é—´çš„å¼ºå¼•ç”¨å¾ªç¯<br><br>é’ˆå¯¹ç±»ç±»å‹çš„å±æ€§, Swift æä¾›äº†ä¸¤ä¸ªæ–¹æ³•æ¥è§£å†³å¼ºå¼•ç”¨å¾ªç¯é—®é¢˜: weak å¼•ç”¨ å’Œ unowned å¼•ç”¨ã€‚<br><br>Weak å’Œ unowned references å¯ä»¥ä½¿ä¸€ä¸ªå®ä¾‹åœ¨å¼•ç”¨å¾ªç¯ä¸­å»è°ƒç”¨å¦å¤–ä¸€ä¸ªå®ä¾‹,è€Œä¸ä¼šå¼ºå¼•ç”¨å®ƒã€‚ç„¶åå®ä¾‹ä¹‹é—´å¯ä»¥äº’ç›¸å¼•ç”¨è€Œä¸ä¼šå‡ºç°å¼ºå¼•ç”¨å¾ªç¯ã€‚<br><br>å…¶ä»–å®ä¾‹æœ‰æ›´çŸ­çš„ç”Ÿå‘½æœŸçš„æ—¶å€™ä½¿ç”¨ä¸€ä¸ªå¼±å¼•ç”¨â€”å°±æ˜¯è¯´, å½“å…¶ä»–å®ä¾‹é¦–å…ˆè¢«é”€æ¯çš„æ—¶å€™ã€‚ ä¸Šé¢çš„ Apartment ä¾‹å­, åœ¨å…¬å¯“çš„ç”Ÿå‘½å‘¨æœŸå†…, åœ¨æŸä¸ªæ—¶åˆ»æ²¡æœ‰ç§Ÿå®¢æ˜¯æ­£å¸¸çš„ã€‚æ‰€ä»¥åœ¨è¿™ä¸ªæƒ…å†µä¸‹,ä½¿ç”¨å¼±å¼•ç”¨æ¥æ‰“ç ´å¼ºå¼•ç”¨æ˜¯åˆé€‚çš„æ–¹å¼ã€‚ç›¸å, å¦‚æœå…¶ä»–å®ä¾‹æœ‰ç€ç›¸åŒæˆ–è€…æ›´é•¿çš„ç”Ÿå‘½å‘¨æœŸ,å°±ä½¿ç”¨æ— ä¸»å¼•ç”¨ã€‚<br><br># å¼±å¼•ç”¨<br>å¼±å¼•ç”¨ä¸ä¼šå¼ºæŒæœ‰å®ƒå¼•ç”¨çš„å®ä¾‹, å¹¶ä¸”ä¸ä¼šé˜»æ­¢ARCå¤„ç†å¼•ç”¨çš„å®ä¾‹ã€‚è¿™ä¸ªè¡Œä¸ºé˜²æ­¢å‡ºç°å¼ºå¼•ç”¨å¾ªç¯ã€‚ä½ å¯ä»¥åœ¨å±æ€§æˆ–è€…å˜é‡å£°æ˜å‰åŠ ä¸Šweakå…³é”®å­—æ¥å£°æ˜ä¸€ä¸ªå¼±å¼•ç”¨ã€‚<br><br>å› ä¸ºå¼±å¼•ç”¨ä¸ä¼šå¼ºæŒæœ‰å®ƒå¼•ç”¨çš„å®ä¾‹, åœ¨å¼±å¼•ç”¨ä»ç„¶å¼•ç”¨å®ä¾‹çš„æ—¶å€™,æœ‰å¯èƒ½è¿™ä¸ªå®ä¾‹å°†è¦è¢«é”€æ¯äº†ã€‚å› æ­¤, åœ¨å¼•ç”¨å®ä¾‹é”€æ¯æ—¶, ARC è‡ªåŠ¨æŠŠå¼±å¼•ç”¨è®¾ç½®ä¸ºnil. å¹¶ä¸”, ç”±äºå¼±å¼•ç”¨è¦åœ¨è¿è¡Œæ—¶å…è®¸å®ƒä»¬çš„å€¼ä¿®æ”¹ä¸ºnil, å®ƒä»¬æ€»æ˜¯å£°æ˜æˆå¯é€‰ç±»å‹å˜é‡, è€Œä¸æ˜¯å¸¸é‡ã€‚<br><br>ä½ å¯ä»¥åˆ¤æ–­åœ¨å¼±å¼•ç”¨ä¸­ä¸€ä¸ªå€¼çš„å­˜åœ¨ä¸å¦, å°±åƒå…¶ä»–å¯é€‰å€¼ä¸€æ ·, å®ä¾‹ä¸å­˜å,ä½ ä¸ä¼šå¾—åˆ°ä¸€ä¸ªæ— æ•ˆçš„å®ä¾‹å¼•ç”¨ã€‚<br><br>å¤‡æ³¨<br><br>ARC è®¾ç½®ä¸€ä¸ªå¼±å¼•ç”¨ä¸ºnilæ—¶, å±æ€§è§‚å¯Ÿè€…ä¸ä¼šè°ƒç”¨ã€‚<br><br>ä¸‹é¢çš„ä¾‹å­å’Œä¸Šé¢ Person å’Œ Apartment ä¾‹å­æ˜¯ä¸€æ ·çš„, åªæœ‰ä¸€ä¸ªé‡è¦çš„ä¸åŒã€‚è¿™ä¸€æ¬¡, Apartment ç±»å‹çš„ tenant å±æ€§å£°æ˜ä¸ºå¼±å¼•ç”¨:<br><code><br>class Person {<br>    let name: String<br>    init(name: String) { self.name = name }<br>    var apartment: Apartment?<br>    deinit { print(â€œ(name) is being deinitializedâ€) }<br>}<br><br>class Apartment {<br>    let unit: String<br>    init(unit: String) { self.unit = unit }<br>    weak var tenant: Person?<br>    deinit { print(â€œApartment (unit) is being deinitializedâ€) }<br>}<br></code><br>ä¸¤ä¸ªå˜é‡çš„å¼ºå¼•ç”¨å®ƒä»¬ä¹‹é—´çš„è”ç³»åˆ›å»ºå¦‚å‰ (john å’Œ unit4A):<br><code><br>var john: Person?<br>var unit4A: Apartment?<br><br>john = Person(name: â€œJohn Appleseedâ€)<br>unit4A = Apartment(unit: â€œ4Aâ€)<br><br>john!.apartment = unit4A<br>unit4A!.tenant = john<br></code><br>è¿™é‡Œå±•ç¤ºè”ç³»ä¸¤ä¸ªå®ä¾‹å,å¼•ç”¨çš„æ ·å­:<br><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/weakReference01_2x.png"><br></div><br>Person å®ä¾‹ä¾ç„¶å¼ºå¼•ç”¨ Apartment å®ä¾‹, ä¸è¿‡ Apartment å®ä¾‹ç°åœ¨æ˜¯å¼±å¼•ç”¨ Person å®ä¾‹äº†ã€‚è¿™å°±æ„å‘³ç€, å½“ä½ è®¾ç½®johnä¸ºnilæ¥æ‰“ç ´è¿™ä¸ªå¼ºå¼•ç”¨çš„æ—¶å€™, å°±ä¸ä¼šå†æœ‰å¯¹ Person å®ä¾‹çš„å¼ºå¼•ç”¨:<br><code><br>john = nil<br>// æ‰“å° â€œJohn Appleseed is being deinitializedâ€<br></code><br>å› ä¸ºæ²¡æœ‰æ›´å¤šå¯¹Personå®ä¾‹çš„å¼ºå¼•ç”¨, å®ƒè¢«é”€æ¯è€Œä¸”tenant å±æ€§è¢«è®¾ç½®ä¸º nil:<br><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/weakReference02_2x.png"><br></div><br>ç°åœ¨åªå‰©ä¸‹unit4A å˜é‡å¯¹ Apartment å®ä¾‹çš„å¼ºå¼•ç”¨ã€‚å¦‚æœä½ æ‰“ç ´è¿™ä¸ªå¼ºå¼•ç”¨, å°±ä¸ä¼šå†æœ‰å¯¹Apartmentå®ä¾‹çš„å¼ºå¼•ç”¨:<br><code><br>unit4A = nil<br>// æ‰“å° â€œApartment 4A is being deinitializedâ€<br></code><br>å› ä¸ºæ²¡æœ‰æ›´å¤šå¯¹ Apartment å®ä¾‹çš„å¼ºå¼•ç”¨, å®ƒä¹Ÿè¢«é”€æ¯äº†:<br><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/weakReference03_2x.png"><br></div><br>å¤‡æ³¨<br><br>åœ¨ä½¿ç”¨åƒåœ¾å›æ”¶çš„ç³»ç»Ÿé‡Œ, å¼±æŒ‡é’ˆæœ‰æ—¶ç”¨æ¥å®ç°ä¸€ä¸ªç®€å•çš„ç¼“å­˜æœºåˆ¶,å› ä¸ºæ²¡æœ‰å¼ºå¼•ç”¨çš„å¯¹è±¡åªæœ‰åœ¨å†…å­˜ç´§å¼ çš„æ—¶å€™æ‰ä¼šè§¦å‘åƒåœ¾å›æ”¶ã€‚ä¸è¿‡, ä½¿ç”¨ ARC, åªè¦å€¼çš„å¼ºå¼•ç”¨è¢«ç§»é™¤äº†,å®ƒä»¬å°±ä¼šè¢«é”€æ¯, ä¸ºäº†è¿™ä¸ªç›®çš„ä½¿ç”¨å¼±å¼•ç”¨æ˜¯ä¸åˆé€‚çš„ã€‚<br><br># æ— ä¸»å¼•ç”¨<br><br>å¾ˆåƒå¼±å¼•ç”¨, æ— ä¸»å¼•ç”¨ä¸ä¼šå¼ºæŒæœ‰å®ƒå¼•ç”¨çš„å®ä¾‹ã€‚è·Ÿå¼±å¼•ç”¨ä¸åŒçš„æ˜¯, å½“å…¶ä»–å®ä¾‹æœ‰ç›¸åŒæˆ–è€…æ›´ä¹…çš„ç”Ÿå‘½å‘¨æœŸæ—¶æ‰ä½¿ç”¨æ— ä¸»å¼•ç”¨ã€‚é€šè¿‡åœ¨å±æ€§æˆ–è€…å˜é‡å£°æ˜çš„å‰é¢åŠ ä¸Šunowned å…³é”®å­—æ¥å£°æ˜æ— ä¸»å¼•ç”¨ã€‚<br><br>ä¸€ä¸ªæ— ä¸»å¼•ç”¨æ€»å¸Œæœ›æœ‰å€¼ã€‚ç»“æœæ˜¯, ARC æ°¸è¿œä¸ä¼šæŠŠæ— ä¸»å¼•ç”¨çš„å€¼è®¾ä¸ºnil, è¿™æ„å‘³ç€æ— ä¸»å¼•ç”¨ä½¿ç”¨éå¯é€‰ç±»å‹æ¥å®šä¹‰ã€‚<br><br>é‡è¦<br><br>ä½¿ç”¨æ— ä¸»å¼•ç”¨å‰ææ˜¯,åªåœ¨ä½ èƒ½ç¡®ä¿å¼•ç”¨çš„å®ä¾‹ä¸ä¼šè¢«é”€æ¯æƒ…å†µä¸‹ä½¿ç”¨ã€‚<br><br>å¦‚æœä½ åœ¨å®ä¾‹é”€æ¯åå°è¯•è°ƒç”¨æ— ä¸»å¼•ç”¨çš„å€¼,ä½ ä¼šå¾—åˆ°ä¸€ä¸ªè¿è¡Œæ—¶é”™è¯¯ã€‚<br><br>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸¤ä¸ªç±», Customer å’Œ CreditCard, å®ƒæ¨¡æ‹Ÿäº†ä¸€ä¸ªé“¶è¡Œç”¨æˆ·å’Œç”¨æˆ·çš„ä¿¡ç”¨å¡ã€‚è¿™ä¸¤ä¸ªç±»éƒ½å­˜å‚¨äº†å¯¹æ–¹çš„å®ä¾‹ä½œä¸ºå±æ€§ã€‚è¿™ç§å…³ç³»æœ‰äº§ç”Ÿå¼ºå¼•ç”¨å¾ªç¯çš„å¯èƒ½ã€‚<br><br>Customer å’Œ CreditCard ä¹‹é—´çš„å…³ç³»ä¸ä¸Šé¢çš„Apartment å’Œ Personä¹‹é—´çš„å…³ç³»ç•¥æœ‰ä¸åŒã€‚åœ¨è¿™ä¸ªæ•°æ®æ¨¡å‹é‡Œ, ä¸€ä¸ªç”¨æˆ·å¯èƒ½æœ‰æˆ–è€…æ²¡æœ‰ä¸€å¼ ä¿¡ç”¨å¡, ä½†æ˜¯ä¸€å¼ ä¿¡ç”¨å¡æ€»æœ‰å¯¹åº”çš„ç”¨æˆ·ã€‚ä¸€ä¸ª CreditCard å®ä¾‹æ°¸è¿œä¸ä¼šæ¯”å®ƒè°ƒç”¨çš„ç”¨æˆ·æ´»çš„æ›´ä¹…ã€‚ä¸ºäº†è¡¨ç¤ºè¿™ä¸ª, Customer ç±»æœ‰ä¸€ä¸ªå¯é€‰çš„ card å±æ€§, CreditCard ç±»æœ‰ä¸€ä¸ªæ— ä¸»çš„ (éå¯é€‰) customer å±æ€§ã€‚<br><br>æ­¤å¤–, ä¸€ä¸ªæ–°çš„ CreditCard å®ä¾‹åˆ›å»ºæ—¶, éœ€è¦ä¼ é€’ä¸€ä¸ªnumber å€¼å’Œä¸€ä¸ª customer å®ä¾‹ç»™è‡ªå®šä¹‰çš„ CreditCard æ„é€ å™¨ã€‚è¿™ä¸ªç¡®ä¿äº†ä¸€ä¸ª CreditCard å®ä¾‹æ€»ä¼šæœ‰ä¸€ä¸ªå¯¹åº”çš„ç”¨æˆ·ã€‚<br><br>å› ä¸ºä¸€å¼ ä¿¡ç”¨å¡æ€»ä¼šæœ‰ä¸€ä¸ªç”¨æˆ·, ä½ å®šä¹‰customer å±æ€§ä¸ºä¸€ä¸ªæ— ä¸»å¼•ç”¨, å¯ä»¥é¿å…å¼ºå¼•ç”¨å¾ªç¯:<br><code><br>class Customer {<br>    let name: String<br>    var card: CreditCard?<br>    init(name: String) {<br>        self.name = name<br>    }<br>    deinit { print(â€œ(name) is being deinitializedâ€) }<br>}<br><br>class CreditCard {<br>    let number: UInt64<br>    unowned let customer: Customer<br>    init(number: UInt64, customer: Customer) {<br>        self.number = number<br>        self.customer = customer<br>    }<br>    deinit { print(â€œCard #(number) is being deinitializedâ€) }<br>}<br></code><br>å¤‡æ³¨<br><br>CreditCard çš„numberå±æ€§å®šä¹‰æˆ UInt64 ç±»å‹è€Œä¸æ˜¯ Int, æ˜¯ä¸ºäº†ä¿è¯ number å±æ€§çš„å®¹é‡åšå¤Ÿå¤§å¯ä»¥åœ¨32ä½å’Œ64ä½ç³»ç»Ÿä¸Šå­˜å‚¨ä¸€ä¸ª16ä½çš„ä¿¡ç”¨å¡å·ã€‚<br><br>ä¸‹é¢çš„ä»£ç ç‰‡æ®µå®šä¹‰äº†ä¸€ä¸ªå¯é€‰çš„ Customer å˜é‡ john, ç”¨æ¥å­˜å‚¨æŒ‡å‘ç‰¹å®šç”¨æˆ·çš„å¼•ç”¨ã€‚è¿™ä¸ªå˜é‡åˆå§‹å€¼æ˜¯ nil, å› ä¸ºå®ƒæ˜¯å¯é€‰çš„:<br><code><br>var john: Customer?<br></code><br>ç°åœ¨ä½ åˆ›å»ºäº†ä¸€ä¸ª Customer å®ä¾‹, ç„¶åç”¨å®ƒåˆå§‹åŒ–å’Œåˆ†é…ä¸€ä¸ªæ–°çš„CreditCard å®ä¾‹ä½œä¸ºç”¨æˆ·çš„card å±æ€§:<br><code><br>john = Customer(name: â€œJohn Appleseedâ€)<br>john!.card = CreditCard(number: 1234_5678_9012_3456, customer: john!)<br></code><br>è¿™é‡Œæ˜¯å¼•ç”¨çš„æ ·å­, ç°åœ¨ä½ æŠŠä¸¤ä¸ªå®ä¾‹è”ç³»èµ·æ¥äº†:<br><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/unownedReference01_2x.png"><br></div>

<p>Customer å®ä¾‹ç°åœ¨å¼ºå¼•ç”¨ CreditCard å®ä¾‹, CreditCard å®ä¾‹åˆ™æ˜¯æ— ä¸»å¼•ç”¨ Customer å®ä¾‹ã€‚</p>
<p>ç”±äºæ— ä¸»çš„ customer å¼•ç”¨, å½“ä½ æ‰“ç ´john å˜é‡æŒæœ‰çš„å¼ºå¼•ç”¨, å°±ä¸ä¼šæœ‰å…¶ä»–å¯¹ Customer çš„å¼ºç”¨äº†:</p>
<p><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/unownedReference02_2x.png"><br></div><br>å› ä¸ºæ²¡æœ‰å…¶ä»–å¯¹ Customer å®ä¾‹çš„å¼ºå¼•ç”¨, å®ƒä¼šè¢«é”€æ¯ï¼Œç„¶å, å¯¹CreditCard å®ä¾‹çš„å¼ºå¼•ç”¨ä¹Ÿæ²¡æœ‰äº†, æ‰€ä»¥å®ƒä¹Ÿè¢«é”€æ¯äº†:<br><code><br>john = nil<br>// æ‰“å° â€œJohn Appleseed is being deinitializedâ€<br>// æ‰“å° â€œCard #1234567890123456 is being deinitializedâ€<br></code><br>æœ€åçš„ä»£ç ç‰‡æ®µå±•ç¤ºäº†Customer å®ä¾‹å’Œ CreditCard å®ä¾‹ææ„å™¨éƒ½æ‰“å°å‡ºææ„çš„ä¿¡æ¯ã€‚</p>
<p>å¤‡æ³¨</p>
<p>ä¸Šé¢çš„ä¾‹å­å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨å®‰å…¨çš„æ— ä¸»å¼•ç”¨ã€‚ Swift åŒæ—¶æä¾›äº†ä¸å®‰å…¨çš„æ— ä¸»å¼•ç”¨, ä½¿ç”¨åœºæ™¯æ˜¯ä½ éœ€è¦å»ç¦ç”¨è¿è¡Œæ—¶å®‰å…¨æ£€æŸ¥â€”ä¾‹å¦‚, æ€§èƒ½åŸå› ã€‚ä½¿ç”¨æ‰€æœ‰çš„ä¸å®‰å…¨æ“ä½œ, ä½ éƒ½æœ‰è´£ä»»æ£€æŸ¥ä»£ç çš„å®‰å…¨é—®é¢˜ã€‚</p>
<p>é€šè¿‡å†™ä¸Šunowned(unsafe)æ¥è¡¨æ˜è¿™æ˜¯ä¸€ä¸ªä¸å®‰å…¨çš„æ— ä¸»å¼•ç”¨ã€‚å¦‚æœåœ¨å®ä¾‹é”€æ¯åå°è¯•è®¿é—®ä¸€ä¸ªä¸å®‰å…¨çš„æ— ä¸»å¼•ç”¨, ä½ çš„ç¨‹åºä¼šè®¿é—®å®ä¾‹åŸæ¥å­˜åœ¨çš„å†…å­˜ä½ç½®, è¿™æ˜¯ä¸å®‰å…¨çš„æ“ä½œã€‚</p>
<h1 id="æ— ä¸»å¼•ç”¨å’Œéšå¼æ‹†åŒ…å¯é€‰å±æ€§"><a href="#æ— ä¸»å¼•ç”¨å’Œéšå¼æ‹†åŒ…å¯é€‰å±æ€§" class="headerlink" title="æ— ä¸»å¼•ç”¨å’Œéšå¼æ‹†åŒ…å¯é€‰å±æ€§"></a>æ— ä¸»å¼•ç”¨å’Œéšå¼æ‹†åŒ…å¯é€‰å±æ€§</h1><p>ä¸Šé¢å¼±å¼•ç”¨å’Œæ— ä¸»å¼•ç”¨çš„ä¾‹å­,è¦†ç›–äº†æ›´å¤šå¸¸è§æƒ…å†µçš„ä¸¤ç§,åœ¨è¿™ç§åœºæ™¯ä¸‹éœ€è¦æ‰“ç ´ä¸€ä¸ªå¼ºå¼•ç”¨å¾ªç¯ã€‚</p>
<p>Person å’Œ Apartment ä¾‹å­å±•ç¤ºäº†ä¸€ä¸ªæƒ…å†µ, æœ‰ä¸¤ä¸ªå±æ€§éƒ½å¯ä»¥è®¾ç½®ä¸ºnil, æœ‰å¯¼è‡´ä¸€ä¸ªå¼ºå¼•ç”¨å¾ªç¯çš„å¯èƒ½ã€‚è¿™ç§æƒ…å†µæœ€å¥½ä½¿ç”¨å¼±å¼•ç”¨æ¥è§£å†³ã€‚</p>
<p>Customer å’Œ CreditCard ä¾‹å­å±•ç¤ºäº†ä¸€ä¸ªæƒ…å†µ,æœ‰ä¸€ä¸ªå±æ€§å…è®¸è®¾ç½®ä¸ºnil,è€Œå¦å¤–ä¸€ä¸ªå±æ€§ä¸èƒ½è®¾ç½®æˆnil,ä¹Ÿæœ‰äº§ç”Ÿå¼ºå¼•ç”¨å¾ªç¯çš„å¯èƒ½ã€‚è¿™ä¸ªæƒ…å†µæœ€å¥½ç”¨æ— ä¸»å¼•ç”¨æ¥è§£å†³ã€‚</p>
<p>ä¸è¿‡, å­˜åœ¨ç¬¬ä¸‰ç§æƒ…å†µ, è¿™ç§æƒ…å†µä¸‹ä¸¤ä¸ªå±æ€§éƒ½åº”è¯¥æœ‰å€¼, ä¸€æ—¦åˆå§‹åŒ–å®Œæˆä¸¤ä¸ªå±æ€§éƒ½ä¸èƒ½ä¸ºnil. åœ¨è¿™ä¸ªæƒ…å†µä¸‹, æŠŠä¸€ä¸ªç±»çš„æ— ä¸»å±æ€§å’Œå…¶ä»–ç±»çš„éšå¼æ‹†åŒ…å¯é€‰å±æ€§åˆå¹¶æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚</p>
<p>ä¸€æ—¦åˆå§‹åŒ–å®Œæˆ,è¿™ä¸ªå¯ä»¥ä¿è¯ä¸¤ä¸ªå±æ€§éƒ½å¯ä»¥ç›´æ¥è®¿é—® (æ²¡æœ‰å¯é€‰æ‹†åŒ…), åŒæ—¶é¿å…äº†ä¸€ä¸ªå¼•ç”¨å¾ªç¯ã€‚è¿™éƒ¨åˆ†å†…å®¹ä»‹ç»å¦‚ä½•å»ºç«‹è¿™ç§å…³ç³»ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸¤ä¸ªç±», Country å’Œ City, å®ƒä»¬äº’ç›¸å­˜å‚¨å¯¹æ–¹ç±»çš„å®ä¾‹ä½œä¸ºå±æ€§ã€‚åœ¨è¿™ä¸ªæ•°æ®æ¨¡å‹ä¸­, æ¯ä¸ªå›½å®¶å¿…é¡»æœ‰ä¸€ä¸ªé¦–éƒ½,æ¯ä¸ªåŸå¸‚å¿…é¡»å±äºä¸€ä¸ªå›½å®¶ã€‚ä¸ºäº†è¡¨ç¤ºè¿™ä¸ª, Country æœ‰ä¸€ä¸ª capitalCity å±æ€§, City æœ‰ä¸€ä¸ª country å±æ€§:<br><code><br>class Country {<br>    let name: String<br>    var capitalCity: City!<br>    init(name: String, capitalName: String) {<br>        self.name = name<br>        self.capitalCity = City(name: capitalName, country: self)<br>    }<br>}</code></p>
<p>class City {<br>    let name: String<br>    unowned let country: Country<br>    init(name: String, country: Country) {<br>        self.name = name<br>        self.country = country<br>    }<br>}<br><br>ä¸ºäº†å»ºç«‹è¿™ä¸¤ä¸ªç±»çš„å…³è”, City æ„é€ å™¨æ¥æ”¶ä¸€ä¸ªCountry å®ä¾‹, ç„¶åæŠŠè¿™ä¸ªå®ä¾‹å­˜å‚¨åˆ°å®ƒçš„ country å±æ€§ã€‚</p>
<p>City çš„æ„é€ å™¨åœ¨ Country æ„é€ å™¨ä¸­è°ƒç”¨ã€‚ä¸è¿‡, Country æ„é€ å™¨ç›´åˆ°ä¸€ä¸ªæ–°çš„Country å®ä¾‹å®Œæˆæ„é€ åæ‰å¯ä»¥ä¼ ç»™ City æ„é€ å™¨ã€‚</p>
<p>ä¸ºäº†åº”å¯¹è¿™ä¸ªéœ€æ±‚, ä½ æŠŠCountry çš„capitalCity å±æ€§å£°æ˜æˆä¸€ä¸ªéšå¼æ‹†åŒ…å¯é€‰å±æ€§, é€šè¿‡åœ¨ç±»å‹ååŠ ä¸Šæ„Ÿå¹å·æ¥è¡¨æ˜ (City!). è¿™å°±æ„å‘³ç€ capitalCity å±æ€§é»˜è®¤å€¼ä¸º nil, ä¸éœ€è¦æ‹†åŒ…å°±å¯ä»¥è®¿é—®å®ƒçš„å€¼ã€‚</p>
<p>å› ä¸º capitalCity é»˜è®¤å€¼æ˜¯ nil, ä¸€ä¸ªæ–°çš„ Country å®ä¾‹åœ¨nameå±æ€§åœ¨æ„é€ å™¨è¢«è®¾ç½®åä¼šè¢«å®Œå…¨åˆå§‹åŒ–ã€‚è¿™å°±æ„å‘³ç€ Country æ„é€ å™¨å¼€å§‹å¼•ç”¨å’Œä¼ é€’éšå¼çš„ self å±æ€§,å½“nameå±æ€§è®¾ç½®çš„æ—¶å€™ã€‚å½“Country æ„é€ å™¨å¼€å§‹è®¾ç½®å®ƒçš„capitalCity å±æ€§æ—¶,Country æ„é€ å™¨å¯ä»¥æŠŠselfä½œä¸ºå‚æ•°ä¼ ç»™ City æ„é€ å™¨ã€‚</p>
<p>æ‰€æœ‰è¿™ä¸€åˆ‡æ„å‘³ç€,ä½ å¯ä»¥åœ¨ä¸€æ¡è¯­å¥é‡Œåˆ›å»º Country å’Œ City å®ä¾‹, è€Œä¸ä¼šäº§ç”Ÿå¼ºå¼•ç”¨å¾ªç¯, capitalCity å±æ€§å¯ä»¥ç›´æ¥è®¿é—®, ä¸éœ€è¦ä½¿ç”¨æ„Ÿå¹å·å»æ‹†åŒ…å®ƒçš„å¯é€‰å€¼:<br><code><br>var country = Country(name: â€œCanadaâ€, capitalName: â€œOttawaâ€)<br>print(â€œ(country.name)â€™s capital city is called (country.capitalCity.name)â€)<br>// æ‰“å° â€œCanadaâ€™s capital city is called Ottawaâ€<br></code><br>ä¸Šé¢ä¾‹å­é‡Œ, éšå¼æ‹†åŒ…å¯é€‰æ„å‘³ç€,æ‰€æœ‰ä¸¤é˜¶æ®µç±»æ„é€ éœ€æ±‚éƒ½æ»¡è¶³äº†ã€‚ä¸€æ—¦åˆå§‹åŒ–å®Œæˆ, capitalCity å±æ€§å¯ä»¥åƒéå¯é€‰å€¼ä¸€æ ·ä½¿ç”¨å’Œè®¿é—®, åŒæ—¶é¿å…äº†ä¸€ä¸ªå¼ºå¼•ç”¨å¾ªç¯ã€‚</p>
<h1 id="é—­åŒ…å¼ºå¼•ç”¨å¾ªç¯"><a href="#é—­åŒ…å¼ºå¼•ç”¨å¾ªç¯" class="headerlink" title="é—­åŒ…å¼ºå¼•ç”¨å¾ªç¯"></a>é—­åŒ…å¼ºå¼•ç”¨å¾ªç¯</h1><p>ä½ å¯ä»¥çœ‹åˆ°ä¸Šé¢å±•ç¤ºçš„,å®ä¾‹äº’ç›¸å¼•ç”¨äº§ç”Ÿçš„å¼ºå¼•ç”¨å¾ªç¯ã€‚ä½ ä¹Ÿçœ‹åˆ°å¦‚ä½•ä½¿ç”¨å¼±å¼•ç”¨å’Œæ— ä¸»å¼•ç”¨æ¥æ‰“ç ´è¿™ç§å¾ªç¯ã€‚</p>
<p>å¦‚æœä½ æŠŠä¸€ä¸ªé—­åŒ…èµ‹å€¼ç»™ç±»å±æ€§,ä¹Ÿå¯èƒ½äº§ç”Ÿä¸€ä¸ªå¼ºå¼•ç”¨å¾ªç¯, åŒ…ä½“æ•è·äº†è¿™ä¸ªå®ä¾‹ã€‚å› ä¸ºåŒ…ä½“è®¿é—®äº†å®ä¾‹å±æ€§, æ¯”å¦‚ self.someProperty, æˆ–è€…å› ä¸ºé—­åŒ…è°ƒç”¨äº†å®ä¾‹æ–¹æ³•, ä¾‹å¦‚ self.someMethod(). åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹, è¿™äº›è®¿é—®ä¼šå¯¼è‡´é—­åŒ…æ•è·self, è¿™å°±äº§ç”Ÿäº†ä¸€ä¸ªå¼ºå¼•ç”¨å¾ªç¯ã€‚</p>
<p>è¿™ä¸ªå¼ºå¼•ç”¨å¾ªç¯æ˜¯å› ä¸ºé—­åŒ…äº§ç”Ÿ,åƒç±»ä¸€æ ·æ˜¯å¼•ç”¨ç±»å‹ã€‚å½“ä½ æŠŠé—­åŒ…èµ‹å€¼ç»™å±æ€§æ—¶, ä½ å°±èµ‹å€¼äº†ä¸€ä¸ªå¼•ç”¨ç»™è¿™ä¸ªé—­åŒ…ã€‚æœ¬è´¨ä¸Š, å®ƒçš„é—®é¢˜å’Œä¸Šé¢æ˜¯ä¸€æ ·çš„â€”ä¸¤ä¸ªå¼ºå¼•ç”¨äº’ç›¸ä¿æŒã€‚ä¸è¿‡, ç›¸æ¯”ä¸¤ä¸ªç±»å®ä¾‹, è¿™æ¬¡æ˜¯ä¸€ä¸ªç±»å®ä¾‹å’Œä¸€ä¸ªé—­åŒ…äº’ç›¸ä¿æœ‰ã€‚</p>
<p>Swift æä¾›ä¸€ä¸ªä¼˜é›…çš„æ–¹æ¡ˆæ¥è§£å†³è¿™ä¸ªé—®é¢˜, å°±æ˜¯å¤§å®¶ç†ŸçŸ¥çš„æ•è·åˆ—è¡¨ã€‚ä¸è¿‡, åœ¨ä½ çŸ¥é“æ€ä¹ˆç”¨æ•è·åˆ—è¡¨æ¥æ‰“ç ´ä¸€ä¸ªå¼ºå¼•ç”¨å¾ªç¯å‰,æœ‰å¿…è¦çŸ¥é“å®ƒæ˜¯æ€ä¹ˆäº§ç”Ÿçš„ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­å±•ç¤ºä½¿ç”¨é—­åŒ…è°ƒç”¨selfæ—¶, æ˜¯å¦‚ä½•äº§ç”Ÿå¼ºå¼•ç”¨å¾ªç¯çš„ã€‚è¿™ä¸ªä¾‹å­å®šä¹‰äº†ä¸€ä¸ªç±» HTMLElement, å®ƒæä¾›äº†ä¸€ä¸ªç®€å•çš„æ¨¡æ‹ŸHTMLæ–‡æ¡£é‡Œçš„å•ä¸ªå…ƒç´ :<br><code><br>class HTMLElement {</code></p>
<pre><code>let name: String
let text: String?

lazy var asHTML: () -&gt; String = {
    if let text = self.text {
        return &quot;&lt;\(self.name)&gt;\(text)&lt;/\(self.name)&gt;&quot;
    } else {
        return &quot;&lt;\(self.name) /&gt;&quot;
    }
}

init(name: String, text: String? = nil) {
    self.name = name
    self.text = text
}

deinit {
    print(&quot;\(name) is being deinitialized&quot;)
}
</code></pre><p>}<br><br>HTMLElement ç±»å®šä¹‰äº†ä¸€ä¸ªnameå±æ€§, ç”¨æ¥è¡¨ç¤ºå…ƒç´ å, æ¯”å¦‚å¤´éƒ¨å…ƒç´  â€œh1â€ , æ®µè½åŸè‰²â€pâ€, æˆ–è€…æ¢è¡Œç¬¦â€brâ€ã€‚HTMLElement åŒæ—¶å®šä¹‰äº†ä¸€ä¸ªå¯é€‰textå±æ€§, å¯ä»¥è®¾ç½®æˆå­—ç¬¦ä¸²æ¥è¡¨ç¤ºæ¸²æŸ“çš„æ–‡æœ¬ã€‚</p>
<p>é™¤äº†è¿™ä¸¤ä¸ªç®€å•çš„å±æ€§, HTMLElement ç±»å®šä¹‰äº†ä¸€ä¸ªlazyå±æ€§asHTML. è¿™ä¸ªå±æ€§å¼•ç”¨äº†ä¸€ä¸ªé—­åŒ…æ¥æŠŠnameå’Œtextåˆå¹¶æˆä¸€ä¸ªHTMLç‰‡æ®µã€‚asHTML å±æ€§ç±»å‹æ˜¯ () -&gt; String, æˆ–è€… â€œæ²¡æœ‰å‚æ•°çš„å‡½æ•°,è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²â€ã€‚</p>
<p>é»˜è®¤æƒ…å†µ, asHTML å±æ€§è¢«æŒ‡å®šäº†ä¸€ä¸ªé—­åŒ…,è¿™ä¸ªé—­åŒ…è¿”å›å­—ç¬¦ä¸²æ¥è¡¨ç¤ºä¸€ä¸ª HTML æ ‡ç­¾ã€‚å¦‚æœæ–‡æœ¬å­˜åœ¨,è¿™ä¸ªæ ‡ç­¾å°±åŒ…å«å¯é€‰æ–‡æœ¬å€¼,å¦åˆ™ä¸åŒ…å«æ–‡æœ¬å†…å®¹ã€‚å¯¹äºä¸€ä¸ªæ®µè½å…ƒç´ , é—­åŒ…ä¼šè¿”å› â€œ</p><p>some text</p>â€œ æˆ–è€… â€œ<p>â€œ, å–å†³äºtext å±æ€§æ˜¯å¦ç­‰äº â€œsome textâ€ æˆ–è€… nil.</p>
<p>asHTML å±æ€§å‘½åå’Œä½¿ç”¨ç¨å¾®æœ‰ç‚¹åƒå®ä¾‹æ–¹æ³•ã€‚ä¸è¿‡, å› ä¸º asHTML æ˜¯ä¸€ä¸ªé—­åŒ…è€Œä¸æ˜¯å®ä¾‹æ–¹æ³•, ä½ å¯ä»¥ç”¨è‡ªå®šä¹‰é—­åŒ…æ¥æ›¿æ¢å®ƒçš„é»˜è®¤å€¼, å¦‚æœä½ æƒ³ä¸ºä¸€ä¸ªç‰¹æ®ŠHTMLå…ƒç´ æ”¹å˜HTMLæ¸²æŸ“çš„è¯ã€‚</p>
<p>ä¾‹å¦‚, asHTML å±æ€§å¯ä»¥è®¾ç½®æˆä¸€ä¸ªé—­åŒ…, å¦‚æœtextå±æ€§ä¸ºnilå°±é»˜è®¤è®¾ç½®æˆä¸€äº›æ–‡æœ¬, ä»¥é˜²è¿”å›ä¸€ä¸ªç©ºçš„HTMLæ ‡ç­¾:<br><code><br>let heading = HTMLElement(name: â€œh1â€)<br>let defaultText = â€œsome default textâ€<br>heading.asHTML = {<br>    return â€œ&lt;(heading.name)&gt;(heading.text ?? defaultText)&lt;/(heading.name)&gt;â€<br>}<br>print(heading.asHTML())<br>// æ‰“å° â€œ<h1>some default text</h1>â€œ<br></code><br>å¤‡æ³¨</p>
<p>asHTML å±æ€§å£°æ˜æˆlazyå±æ€§, å› ä¸ºå®ƒåªæœ‰åœ¨å…ƒç´ éœ€è¦ä½œä¸ºå­—ç¬¦ä¸²å€¼è¿›è¡Œæ¸²æŸ“çš„æ—¶å€™æ‰éœ€è¦ã€‚asHTML æ˜¯ä¸€ä¸ªlazyå±æ€§æ„å‘³ç€ä½ å¯ä»¥åœ¨é»˜è®¤é—­åŒ…é‡Œè°ƒç”¨self, å› ä¸ºåˆå§‹åŒ–å®ŒæˆåŒæ—¶selfå­˜åœ¨å,lazyå±æ€§æ‰èƒ½è®¿é—®ã€‚</p>
<p>HTMLElement ç±»åªæä¾›äº†ä¸€ä¸ªæ„é€ å™¨,å®ƒæœ‰ä¸€ä¸ªnameå‚æ•°å’Œä¸€ä¸ªtextå‚æ•°ã€‚è¿™ä¸ªç±»åŒæ—¶å®šä¹‰äº†ä¸€ä¸ªææ„å™¨, å®ƒæ‰“å°ä¸€æ¡ä¿¡æ¯æ¥è¡¨ç¤ºHTMLElement å®ä¾‹è¢«é”€æ¯äº†ã€‚</p>
<p>è¿™é‡Œæ˜¯å¦‚ä½•ä½¿ç”¨ HTMLElement ç±»æ¥åˆ›å»ºå’Œæ‰“å°ä¸€ä¸ªæ–°çš„å®ä¾‹:<br><code><br>var paragraph: HTMLElement? = HTMLElement(name: â€œpâ€, text: â€œhello, worldâ€)<br>print(paragraph!.asHTML())<br>// æ‰“å° â€œ<p>hello, world</p>â€œ<br></code><br>æ³¨æ„</p>
<p>paragraph å˜é‡å®šä¹‰æˆä¸€ä¸ªå¯é€‰çš„ HTMLElement ç±»å‹, æ‰€ä»¥å®ƒå¯ä»¥è®¾ç½®æˆnilã€‚ä¸‹é¢å±•ç¤ºä¸€ä¸ªå¼ºå¼•ç”¨å¾ªç¯çš„å­˜åœ¨ã€‚</p>
<p>ä¸å¹¸çš„æ˜¯, HTMLElement ç±», åœ¨ HTMLElement å®ä¾‹å’Œç”¨ä½œasHTML å€¼çš„é—­åŒ…ä¹‹é—´äº§ç”Ÿäº†ä¸€ä¸ªå¼ºå¼•ç”¨å¾ªç¯ã€‚çœ‹èµ·æ¥æ˜¯è¿™ä¸ªæ ·å­:</p>
<p><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/closureReferenceCycle01_2x.png"><br></div><br>å®ä¾‹çš„asHTML å±æ€§å¼ºå¼•ç”¨å®ƒçš„é—­åŒ…ã€‚ç„¶è€Œ, å› ä¸ºè¿™ä¸ªé—­åŒ…åœ¨å®ƒçš„åŒ…ä½“é‡Œè°ƒç”¨äº†self(self.name å’Œ self.text), é—­åŒ…æ•è·äº†self, è¿™ä»¥ä¸ºç€å®ƒåˆå¼ºå¼•ç”¨å›HTMLElement å®ä¾‹ã€‚ä¸¤è€…ä¹‹é—´å°±äº§ç”Ÿäº†ä¸€ä¸ªå¼ºå¼•ç”¨å¾ªç¯ã€‚</p>
<p>å¤‡æ³¨</p>
<p>å°½ç®¡è¿™ä¸ªé—­åŒ…å¤šæ¬¡è°ƒç”¨self, å®ƒåªä¼šæ•è·ä¸€ä¸ªå¯¹ HTMLElement å®ä¾‹çš„å¼ºå¼•ç”¨ã€‚</p>
<p>å¦‚æœä½ æŠŠparagraph å˜é‡è®¾ç½®æˆnilæ¥æ‰“ç ´è¿™ä¸ªå¼ºå¼•ç”¨, HTMLElement å®ä¾‹å’Œå®ƒçš„é—­åŒ…éƒ½ä¸ä¼šé”€æ¯, å°±æ˜¯å› ä¸ºè¿™ä¸ªå¼ºå¼•ç”¨å¾ªç¯:<br><code><br>paragraph = nil<br></code><br>æ³¨æ„ HTMLElement ææ„å™¨çš„ä¿¡æ¯æ²¡æœ‰æ‰“å°, è¿™å°±è¯´æ˜ HTMLElement å®ä¾‹æ²¡æœ‰é”€æ¯ã€‚</p>
<h1 id="è§£å†³é—­åŒ…å¼ºå¼•ç”¨å¾ªç¯"><a href="#è§£å†³é—­åŒ…å¼ºå¼•ç”¨å¾ªç¯" class="headerlink" title="è§£å†³é—­åŒ…å¼ºå¼•ç”¨å¾ªç¯"></a>è§£å†³é—­åŒ…å¼ºå¼•ç”¨å¾ªç¯</h1><p>é€šè¿‡åœ¨é—­åŒ…é‡Œå®šä¹‰ä¸€ä¸ªæ•è·åˆ—è¡¨,ä½ å¯ä»¥è§£å†³é—­åŒ…å’Œç±»å®ä¾‹ä¹‹é—´çš„å¼ºå¼•ç”¨å¾ªç¯çš„é—®é¢˜ã€‚æ•è·åˆ—è¡¨å®šä¹‰äº†åœ¨åŒ…ä½“é‡Œæ•è·ä¸€ä¸ªæˆ–è€…å¤šä¸ªå¼•ç”¨ç±»å‹æ—¶çš„ä½¿ç”¨è§„åˆ™ã€‚å°±åƒä¸¤ä¸ªç±»å®ä¾‹é—´çš„å¼ºå¼•ç”¨, ä½ å£°æ˜æ¯ä¸ªæ•è·çš„å¼•ç”¨ä¸ºå¼±å¼•ç”¨æˆ–è€…æ— ä¸»å¼•ç”¨è€Œä¸æ˜¯å¼ºå¼•ç”¨ã€‚å¼±å¼•ç”¨å’Œæ— ä¸»å¼•ç”¨çš„é€‰æ‹©å–å†³äºä½ ä»£ç ä¸åŒéƒ¨åˆ†çš„è”ç³»ã€‚</p>
<p>å¤‡æ³¨</p>
<p>å½“ä½ åœ¨é—­åŒ…ä¸­è°ƒç”¨self çš„æˆå‘˜æ—¶, Swift è¦æ±‚ä½ å†™æˆ self.someProperty æˆ–è€… self.someMethod() (è€Œä¸æ˜¯åªæœ‰someProperty æˆ–è€… someMethod())ã€‚è¿™ä¸ªå¸®ä½ è®°ä½, é—­åŒ…å¶å°”ä¼šæ•è·self.</p>
<h1 id="å®šä¹‰æ•è·åˆ—è¡¨"><a href="#å®šä¹‰æ•è·åˆ—è¡¨" class="headerlink" title="å®šä¹‰æ•è·åˆ—è¡¨"></a>å®šä¹‰æ•è·åˆ—è¡¨</h1><p>æ•è·åˆ—è¡¨ä¸­çš„æ¯ä¸€é¡¹éƒ½æ˜¯ä¸€å¯¹ weak æˆ–è€… unowned å…³é”®å­—,å¸¦æœ‰å¯¹ä¸€ä¸ªç±»å®ä¾‹æˆ–è€…å˜é‡çš„å¼•ç”¨æˆ–è€…ä½¿ç”¨ä¸€äº›å€¼åˆå§‹åŒ–çš„å˜é‡ã€‚è¿™äº›å†™åœ¨ä¸€å †æ–¹æ‹¬å·å†…,ç”¨é€—å·åˆ†å¼€ã€‚</p>
<p>æŠŠæ•è·åˆ—è¡¨æ”¾åœ¨é—­åŒ…å‚æ•°åˆ—è¡¨å‰,å¦‚æœå®ƒä»¬æä¾›åˆ™è¿”å›ç±»å‹:<br><code><br>lazy var someClosure: (Int, String) -&gt; String = {<br>    [unowned self, weak delegate = self.delegate!] (index: Int, stringToProcess: String) -&gt; String in<br>    // closure body goes here<br>}<br></code><br>å¦‚æœä¸€ä¸ªé—­åŒ…æ²¡æœ‰æŒ‡å®šå‚æ•°åˆ—è¡¨æˆ–è€…è¿”å›ç±»å‹, å°±æŠŠæ•è·åˆ—è¡¨æ”¾åœ¨é—­åŒ…æœ€å¼€å§‹,åé¢è·Ÿç€inå…³é”®å­—:<br><code><br>lazy var someClosure: () -&gt; String = {<br>    [unowned self, weak delegate = self.delegate!] in<br>    // closure body goes here<br>}<br></code></p>
<h1 id="å¼±å¼•ç”¨å’Œæ— ä¸»å¼•ç”¨"><a href="#å¼±å¼•ç”¨å’Œæ— ä¸»å¼•ç”¨" class="headerlink" title="å¼±å¼•ç”¨å’Œæ— ä¸»å¼•ç”¨"></a>å¼±å¼•ç”¨å’Œæ— ä¸»å¼•ç”¨</h1><p>å½“é—­åŒ…å’Œå®ƒæ•è·çš„å®ä¾‹å°†è¦äº’ç›¸å¼•ç”¨, å¹¶ä¸”ä¼šåŒæ—¶é”€æ¯æ—¶,å®šä¹‰æˆæ•è·æ— ä¸»å¼•ç”¨ã€‚</p>
<p>ç›¸å, å½“æ•è·çš„å®ä¾‹åœ¨æŸä¸ªæ—¶é—´ä¼šå˜æˆnilæ—¶,å®šä¹‰æˆæ•è·å¼±å¼•ç”¨ã€‚å¼±å¼•ç”¨æ€»æ˜¯ä¸€ä¸ªå¯é€‰ç±»å‹, å½“å¼•ç”¨çš„å®ä¾‹é”€æ¯åè‡ªåŠ¨å˜æˆnil. è¿™ä¸ªç¡®ä¿ä½ å¯ä»¥åœ¨åŒ…ä½“å†…åˆ¤æ–­å®ƒä»¬æ˜¯å¦å­˜åœ¨ã€‚</p>
<p>å¤‡æ³¨</p>
<p>å¦‚æœæ•è·çš„å¼•ç”¨æ°¸ä¸ä¼šå˜æˆnil, å®ƒåº”è¯¥æ€»æ˜¯æ•è·ä¸ºä¸€ä¸ªæ— ä¸»å¼•ç”¨, è€Œä¸æ˜¯ä¸€ä¸ªå¼±å¼•ç”¨ã€‚</p>
<p>æ— ä¸»å¼•ç”¨æ¯”è¾ƒé€‚åˆè§£å†³ä¸Šé¢ HTMLElement ä¾‹å­é‡Œçš„å¼ºå¼•ç”¨å¾ªç¯çš„é—®é¢˜ã€‚è¿™é‡Œæ˜¯å¦‚ä½•å†™ HTMLElement ç±»æ¥é¿å…è¿™ç§å¾ªç¯:<br><code><br>class HTMLElement {</code></p>
<pre><code>let name: String
let text: String?

lazy var asHTML: () -&gt; String = {
    [unowned self] in
    if let text = self.text {
        return &quot;&lt;\(self.name)&gt;\(text)&lt;/\(self.name)&gt;&quot;
    } else {
        return &quot;&lt;\(self.name) /&gt;&quot;
    }
}

init(name: String, text: String? = nil) {
    self.name = name
    self.text = text
}

deinit {
    print(&quot;\(name) is being deinitialized&quot;)
}
</code></pre><p>}<br><br>è¿™ä¸ªç‰ˆæœ¬çš„å®ç°å’Œå‰é¢ç‰ˆæœ¬çš„å®ç°æ˜¯ä¸€æ ·çš„, é™¤äº†asHTMLé—­åŒ…é‡Œçš„æ•è·åˆ—è¡¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹, æ•è·åˆ—è¡¨æ˜¯ [unowned self], æ„æ€æ˜¯ â€œæ•è·selfä½œä¸ºæ— ä¸»å¼•ç”¨è€Œä¸æ˜¯å¼ºå¼•ç”¨â€ã€‚</p>
<p>ä½ å¯ä»¥è·Ÿä»¥å‰ä¸€æ ·åˆ›å»ºå’Œæ‰“å°ä¸€ä¸ª HTMLElement å®ä¾‹:<br><code><br>var paragraph: HTMLElement? = HTMLElement(name: â€œpâ€, text: â€œhello, worldâ€)<br>print(paragraph!.asHTML())<br>// æ‰“å° â€œ<p>hello, world</p>â€œ<br></code><br>è¿™é‡Œæ˜¯ä½¿ç”¨æ•è·åˆ—è¡¨åå¼•ç”¨çš„æ ·å­:</p>
<p><div style="text-align:center"><br><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/closureReferenceCycle02_2x.png"><br></div><br>è¿™æ¬¡, é—­åŒ…æ•è·çš„selfæ˜¯ä¸€ä¸ªæ— ä¸»å¼•ç”¨, ä¸ä¼šå¼ºå¼•ç”¨ HTMLElement å®ä¾‹ã€‚å¦‚æœä½ æŠŠ paragraph å˜é‡çš„å¼•ç”¨è®¾ç½®ä¸ºnil,  HTMLElement å®ä¾‹å°±ä¼šè¢«é”€æ¯, å¯ä»¥çœ‹åˆ°ææ„å™¨æ‰“å°çš„ä¿¡æ¯åœ¨ä¸‹é¢:<br><code><br>paragraph = nil<br>// æ‰“å° â€œp is being deinitializedâ€<br></code><br>æ›´å¤šæ•è·åˆ—è¡¨ä¿¡æ¯, å‚è§æ•è·åˆ—è¡¨ã€‚</p>
<h1 id="å¯é€‰é“¾"><a href="#å¯é€‰é“¾" class="headerlink" title="å¯é€‰é“¾"></a>å¯é€‰é“¾</h1><p>å¯é€‰é“¾æ˜¯ä¸€ä¸ªè¿‡ç¨‹,ç”¨æ¥æŸ¥è¯¢å’Œè°ƒç”¨å±æ€§, æ–¹æ³•å’Œä¸‹æ ‡ç”¨ä¸€ä¸ªå¯é€‰é¡¹ã€‚å¦‚æœå¯é€‰é¡¹åŒ…å«ä¸€ä¸ªå€¼, å±æ€§, æ–¹æ³•æˆ–è€…ä¸‹æ ‡è°ƒç”¨æˆåŠŸ; å¦‚æœå¯é€‰é¡¹ä¸ºnil, å±æ€§, æ–¹æ³•æˆ–è€…ä¸‹æ ‡è°ƒç”¨è¿”å›nil. å¤šæ¬¡è°ƒç”¨å¯ä»¥å†™åœ¨ä¸€èµ·, å¦‚æœä»»ä½•é“¾ä¸­ä»»ä½•è”ç³»ä¸ºnil,æ•´ä¸ªé“¾å°±ä¼šå¤±è´¥ã€‚</p>
<p>å¤‡æ³¨</p>
<p>Swift ä¸­çš„å¯é€‰é“¾å’ŒObjective-Cä¸­çš„æ¶ˆæ¯ä¼ é€’nilå¾ˆåƒ, ä½†æ˜¯å®ƒå¯¹ä»»ä½•ç±»å‹éƒ½ä¸€æ ·, å¯ä»¥åˆ¤æ–­å¤±è´¥æˆ–è€…æˆåŠŸã€‚</p>
<h1 id="ä½œä¸ºå¼ºåˆ¶æ‹†åŒ…æ›¿ä»£æ–¹æ¡ˆçš„å¯é€‰é“¾"><a href="#ä½œä¸ºå¼ºåˆ¶æ‹†åŒ…æ›¿ä»£æ–¹æ¡ˆçš„å¯é€‰é“¾" class="headerlink" title="ä½œä¸ºå¼ºåˆ¶æ‹†åŒ…æ›¿ä»£æ–¹æ¡ˆçš„å¯é€‰é“¾"></a>ä½œä¸ºå¼ºåˆ¶æ‹†åŒ…æ›¿ä»£æ–¹æ¡ˆçš„å¯é€‰é“¾</h1><p>åœ¨å¯é€‰å€¼åé¢åŠ ä¸Šé—®å·å°±å¯ä»¥æŒ‡å®šå¯é€‰é“¾, å¦‚æœå¯é€‰å€¼ä¸ä¸ºnil,ä½ å¯ä»¥è°ƒç”¨ä¸€ä¸ªå±æ€§,å‡½æ•°æˆ–è€…ä¸‹æ ‡ã€‚è¿™ä¸ªè·Ÿåœ¨å¯é€‰å€¼åæ”¾ç½®æ„Ÿå¹å·æ¥å¼ºåˆ¶æ‹†åŒ…å¾ˆç›¸ä¼¼ã€‚åŒºåˆ«æ˜¯,å½“å¯é€‰é¡¹ä¸ºnilæ—¶,å¯é€‰é“¾æ¥å°±ä¼šå¤±è´¥ã€‚å¦‚æœå¯é€‰é¡¹ä¸ºnil,å¼ºåˆ¶æ‹†åŒ…ä¼šè§¦å‘è¿è¡Œæ—¶é”™è¯¯ã€‚</p>
<p>ä¸ºäº†åæ˜ å¯é€‰é“¾æ¥å¯ä»¥è¢«nilå€¼è°ƒç”¨çš„äº‹å®, ä¸€ä¸ªå¯é€‰é“¾æ¥è°ƒç”¨çš„ç»“æœæ€»æ˜¯ä¸€ä¸ªå¯é€‰å€¼, å³ä½¿ä½ æŸ¥è¯¢çš„å±æ€§,æ–¹æ³•æˆ–è€…ä¸‹æ ‡è¿”å›ä¸€ä¸ªéå¯é€‰çš„å€¼ã€‚ä½ ä½¿ç”¨è¿”å›å€¼æ¥åˆ¤æ–­å¯é€‰é“¾æ¥è°ƒç”¨æ˜¯å¦æˆåŠŸ, æˆ–è€…åˆ¤æ–­æ˜¯å¦å› ä¸ºæœ‰nilå­˜åœ¨å¯¼è‡´äº†å¤±è´¥ã€‚</p>
<p>ç‰¹åˆ«æŒ‡å‡º, å¯é€‰è¿æ¥è°ƒç”¨çš„ç»“æœå’Œé¢„æœŸè¿”å›å€¼çš„ç±»å‹æ˜¯ä¸€æ ·çš„, ä½†æ˜¯åŒ…åœ¨ä¸€ä¸ªå¯é€‰é¡¹ä¸­ã€‚å¦‚æœé€šè¿‡å¯é€‰é“¾æ¥è®¿é—®, æ­£å¸¸è¦è¿”å›Intçš„å±æ€§ä¼šè¿”å›Int?</p>
<p>ä¸‹é¢çš„ä»£ç ç‰‡æ®µå±•ç¤ºäº†å¯é€‰é“¾æ¥å’Œå¼ºåˆ¶æ‹†åŒ…çš„åŒºåˆ«, ç¡®ä¿ä½ å¯ä»¥ç”¨æ¥åˆ¤æ–­æˆåŠŸä¸å¦ã€‚</p>
<p>é¦–å…ˆ, å®šä¹‰ä¸¤ä¸ªç±»Person å’Œ Residence:<br><code><br>class Person {<br>    var residence: Residence?<br>}</code></p>
<p>class Residence {<br>    var numberOfRooms = 1<br>}<br><br>Residence å®ä¾‹åªæœ‰ä¸€ä¸ªæ•´å‹å±æ€§ numberOfRooms, é»˜è®¤å€¼æ˜¯ 1. Person å®ä¾‹æœ‰ä¸€ä¸ªå¯é€‰Residence?ç±»å‹å±æ€§ residence.</p>
<p>å¦‚æœä½ åˆ›å»ºä¸€ä¸ªæ–°çš„ Person å®ä¾‹, å®ƒçš„residence å±æ€§é»˜è®¤åˆå§‹åŒ–ä¸ºnil,å› ä¸ºå®ƒæ˜¯å¯é€‰çš„ã€‚ä¸‹é¢çš„ä»£ç é‡Œ, john æœ‰ä¸€ä¸ªå€¼ä¸ºnilçš„å±æ€§residence:<br><code><br>let john = Person()<br></code><br>å¦‚æœä½ æƒ³è®¿é—®personå±æ€§ residenceçš„å±æ€§ numberOfRooms, å¯ä»¥åœ¨residence åé¢æ”¾ç½®ä¸€ä¸ªæ„Ÿå¹å·æ¥å¼ºåˆ¶æ‹†åŒ…å®ƒçš„å€¼, ç”±äºè¿˜æ²¡æœ‰å€¼å¯ä»¥æ‹†åŒ…,æ‰€ä»¥ä½ ä¼šè§¦å‘ä¸€ä¸ªè¿è¡Œæ—¶é”™è¯¯:<br><code><br>let roomCount = john.residence!.numberOfRooms<br>// è§¦å‘è¿è¡Œæ—¶é”™è¯¯<br></code><br>å½“john.residenceæœ‰ä¸€ä¸ªénilå€¼æ—¶,ä¸Šé¢çš„ä»£ç ä¼šæˆåŠŸ,ç„¶åä¼šæŠŠåˆé€‚çš„æˆ¿é—´æ•°é‡è®¾ç½®ç»™ roomCount. ä¸è¿‡, å½“residence ä¸ºnilæ—¶,è¿™ä¸ªä»£ç æ€»ä¼šè§¦å‘è¿è¡Œæ—¶é”™è¯¯ã€‚</p>
<p>å¯é€‰é“¾æ¥æä¾›äº†ä¸€ä¸ªæ›¿ä»£æ–¹å¼æ¥è®¿é—® numberOfRooms çš„å€¼ã€‚é€šè¿‡åœ¨æ„Ÿå¹å·çš„ä½ç½®ä½¿ç”¨é—®å·æ¥ä½¿ç”¨å¯é€‰é“¾æ¥:<br><code><br>if let roomCount = john.residence?.numberOfRooms {<br>    print(â€œJohnâ€™s residence has (roomCount) room(s).â€)<br>} else {<br>    print(â€œUnable to retrieve the number of rooms.â€)<br>}<br>// æ‰“å° â€œUnable to retrieve the number of rooms.â€<br></code><br>è¿™ä¼šå‘Šè¯‰ Swift å»é“¾æ¥å¯é€‰çš„residence å±æ€§,å¦‚æœå®ƒå­˜åœ¨å°±è¿”å› numberOfRooms çš„å€¼ã€‚</p>
<p>ç”±äºå°è¯•è®¿é—® numberOfRooms æœ‰å¯èƒ½å¤±è´¥, å¯é€‰é“¾æ¥å°è¯•æ”¾å›ä¸€ä¸ª Int? ç±»å‹å€¼, æˆ–è€…â€œå¯é€‰æ•´å‹â€ã€‚å½“ residence ä¸ºnil, è¿™ä¸ªå¯é€‰æ•´å‹å°†ä¼šæ˜¯nil, è¿™æ ·å°±ä¸èƒ½è®¿é—® numberOfRooms. å¯é€‰æ•´å‹é€šè¿‡å¯é€‰ç»‘å®šæ¥è®¿é—®,ç„¶åå»æ‹†åŒ…è¿™ä¸ªæ•´æ•°åŒæ—¶æŠŠéç©ºå€¼èµ‹å€¼ç»™roomCount å˜é‡ã€‚</p>
<p>æ³¨æ„,å°½ç®¡numberOfRooms æ˜¯ä¸€ä¸ªéç©ºçš„æ•´å‹,è¿™ä¸ªä¹Ÿæ˜¯çœŸçš„ã€‚é€šè¿‡å¯é€‰é“¾æ¥æŸ¥è¯¢çš„äº‹å®æ„å‘³ç€è°ƒç”¨numberOfRooms æ€»æ˜¯è¿”å› Int? è€Œä¸æ˜¯ Int.</p>
<p>ä½ å¯ä»¥æŠŠä¸€ä¸ª Residence å®ä¾‹èµ‹å€¼ç»™john.residence, è¿™æ ·å®ƒå°±ä¸ä¼šæ˜¯ä¸€ä¸ªç©ºå€¼äº†:<br><code><br>john.residence = Residence()<br></code><br>john.residence ç°åœ¨æœ‰äº†ä¸€ä¸ªå®é™…çš„ Residence å®ä¾‹, è€Œä¸æ˜¯nil. å¦‚æœä½ ç”¨ä¹‹å‰ä¸€æ ·çš„å¯é€‰é“¾æ¥è®¿é—® numberOfRooms, å®ƒå°†æ”¾å› Int? , åŒ…å«ä¸€ä¸ªé»˜è®¤å€¼ä¸º1çš„ numberOfRooms:<br><code><br>if let roomCount = john.residence?.numberOfRooms {<br>    print(â€œJohnâ€™s residence has (roomCount) room(s).â€)<br>} else {<br>    print(â€œUnable to retrieve the number of rooms.â€)<br>}<br>// æ‰“å° â€œJohnâ€™s residence has 1 room(s).â€<br></code></p>
<h1 id="ä¸ºå¯é€‰é“¾æ¥å®šä¹‰æ¨¡å‹ç±»"><a href="#ä¸ºå¯é€‰é“¾æ¥å®šä¹‰æ¨¡å‹ç±»" class="headerlink" title="ä¸ºå¯é€‰é“¾æ¥å®šä¹‰æ¨¡å‹ç±»"></a>ä¸ºå¯é€‰é“¾æ¥å®šä¹‰æ¨¡å‹ç±»</h1><p>ä½ å¯ä»¥ç”¨å¯é€‰é“¾æ¥è°ƒç”¨å¤šä¸ªå±‚æ¬¡çš„å±æ€§,æ–¹æ³•æˆ–è€…ä¸‹æ ‡ã€‚è¿™ä½¿å¾—ä½ å¯ä»¥åœ¨å¤åˆç›¸å…³ç±»å‹å†…,å‘ä¸‹è·å–å­å±æ€§ã€‚ç„¶ååˆ¤æ–­æ˜¯å¦å¯ä»¥åœ¨è¿™äº›å­å±æ€§ä¸Šè®¿é—®å±æ€§,æ–¹æ³•æˆ–è€…ä¸‹æ ‡ã€‚</p>
<p>ä¸‹é¢çš„ä»£ç ç‰‡æ®µå®šä¹‰äº†å››ä¸ªæ¨¡å‹ç±»,ç”¨äºä¸‹é¢çš„ä¾‹å­ã€‚åŒ…æ‹¬å¤šå±‚æ¬¡å¯é€‰é“¾æ¥çš„ä¾‹å­ã€‚è¿™äº›ç±»åœ¨ the Person å’Œ Residence æ¨¡å‹ä¸Šå±•å¼€, åŠ å…¥äº†ä¸¤ä¸ªç±» Room å’Œ Address, å¸¦æœ‰å¯¹åº”çš„å±æ€§,æ–¹æ³•å’Œä¸‹æ ‡ã€‚</p>
<p>Person ç±»å®šä¹‰å’Œä»¥å‰ä¸€æ ·:<br><code><br>class Person {<br>    var residence: Residence?<br>}<br></code><br>Residence ç±»æ¯”ä»¥å‰å¤æ‚ã€‚è¿™æ¬¡, Residence ç±»å®šä¹‰äº†ä¸€ä¸ªå˜é‡å±æ€§rooms, ç”¨ä¸€ä¸ªç©ºæ•°ç»„[Room]åˆå§‹åŒ–:<br><code><br>class Residence {<br>    var rooms = <a href="">Room</a><br>    var numberOfRooms: Int {<br>        return rooms.count<br>    }<br>    subscript(i: Int) -&gt; Room {<br>        get {<br>            return rooms[i]<br>        }<br>        set {<br>            rooms[i] = newValue<br>        }<br>    }<br>    func printNumberOfRooms() {<br>        print(â€œThe number of rooms is (numberOfRooms)â€)<br>    }<br>    var address: Address?<br>}<br></code><br>å› ä¸ºè¿™ä¸ªç‰ˆæœ¬çš„ Residence å­˜å‚¨äº†ä¸€ç»„ Room å®ä¾‹, å®ƒçš„numberOfRooms å±æ€§å®ç°æˆä¸€ä¸ªè®¡ç®—å±æ€§, è€Œä¸æ˜¯ä¸€ä¸ªå­˜å‚¨å±æ€§ã€‚numberOfRooms å±æ€§ç®€å•è¿”å›äº†rooms æ•°ç»„çš„ä¸ªæ•°ã€‚</p>
<p>ä½œä¸ºè®¿é—®romms æ•°ç»„çš„ç®€å†™, è¿™ä¸ªç‰ˆæœ¬çš„ Residence æä¾›äº†ä¸€ä¸ªè¯»å†™ä¸‹æ ‡,æ¥è®¿é—®roomsæ•°ç»„æŒ‡å®šç´¢å¼•ä¸‹çš„æˆ¿é—´ã€‚</p>
<p>è¿™ä¸ªç‰ˆæœ¬çš„ Residence åŒæ—¶æä¾›äº†ä¸€ä¸ªæ–¹æ³•printNumberOfRooms, å®ƒåªæ˜¯ç®€å•æ‰“å°ä½å®…ä¸­çš„æˆ¿é—´æ•°ã€‚</p>
<p>æœ€å, Residence å®šä¹‰äº†ä¸€ä¸ªå¯é€‰å±æ€§ address, ç±»å‹æ˜¯ Address?. Address ç±»ä¸‹é¢å®šä¹‰ã€‚</p>
<p>ç”¨äºroomsæ•°ç»„çš„Roomç±»æ˜¯å¸¦æœ‰ä¸€ä¸ªå±æ€§nameçš„ç®€å•ç±», è¿˜æœ‰ä¸€ä¸ªæ„é€ å™¨,ç”¨æ¥è®¾ç½®è¿™ä¸ªæˆ¿é—´çš„åå­—:<br><code><br>class Room {<br>    let name: String<br>    init(name: String) { self.name = name }<br>}<br></code><br>æ¨¡å‹é‡Œæœ€åä¸€ä¸ªç±»æ˜¯ Address. è¿™ä¸ªç±»æœ‰ä¸‰ä¸ªç±»å‹ä¸ºString?çš„å¯é€‰å±æ€§ã€‚å‰é¢ä¸¤ä¸ªå±æ€§, buildingName å’Œ buildingNumber, æ˜¯ä¸¤ç§æ–¹æ¡ˆæ¥è¯†åˆ«æŸä¸ªå»ºç­‘çš„åœ°å€éƒ¨åˆ†ã€‚ç¬¬ä¸‰ä¸ªå±æ€§ street, ç”¨æ¥å‘½ååœ°å€é‡Œçš„è¡—é“:<br><code><br>class Address {<br>    var buildingName: String?<br>    var buildingNumber: String?<br>    var street: String?<br>    func buildingIdentifier() -&gt; String? {<br>        if buildingNumber != nil &amp;&amp; street != nil {<br>            return â€œ(buildingNumber) (street)â€<br>        } else if buildingName != nil {<br>            return buildingName<br>        } else {<br>            return nil<br>        }<br>    }<br>}<br></code><br>Address ç±»åŒæ—¶æä¾›äº†ä¸€ä¸ªæ–¹æ³• buildingIdentifier(), å®ƒæœ‰ä¸€ä¸ªString?ç±»å‹çš„è¿”å›å€¼ã€‚è¿™ä¸ªæ–¹æ³•åˆ¤æ–­åœ°å€çš„å±æ€§,å¦‚æœæœ‰å€¼å°±è¿”å› buildingName, å¦‚æœbuildingNumber å’Œ street éƒ½æœ‰å€¼,å°±è¿”å›ä¸¤è€…çš„è¿æ¥, å¦åˆ™è¿”å›nil.</p>
<h1 id="é€šè¿‡å¯é€‰é“¾æ¥è®¿é—®å±æ€§"><a href="#é€šè¿‡å¯é€‰é“¾æ¥è®¿é—®å±æ€§" class="headerlink" title="é€šè¿‡å¯é€‰é“¾æ¥è®¿é—®å±æ€§"></a>é€šè¿‡å¯é€‰é“¾æ¥è®¿é—®å±æ€§</h1><p>å¯é€‰é“¾æ¥ä¸­æè¿°å®ƒå¯ä»¥ä½œä¸ºå¼ºåˆ¶æ‹†åŒ…çš„æ›¿ä»£æ–¹æ¡ˆ, ä½ å¯ä»¥åœ¨ä¸€ä¸ªå¯é€‰å€¼ä¸Šä½¿ç”¨å¯é€‰é“¾æ¥æ¥è®¿é—®ä¸€ä¸ªå±æ€§, ç„¶ååˆ¤æ–­å±æ€§è®¿é—®æ˜¯å¦æˆåŠŸã€‚</p>
<p>ä½¿ç”¨ä¸Šé¢å®šä¹‰çš„ç±»åˆ›å»ºä¸€ä¸ªæ–°çš„ Person å®ä¾‹, ç„¶ååƒä»¥å‰ä¸€æ ·è®¿é—®å®ƒçš„å±æ€§numberOfRooms:<br><code><br>let john = Person()<br>if let roomCount = john.residence?.numberOfRooms {<br>    print(â€œJohnâ€™s residence has (roomCount) room(s).â€)<br>} else {<br>    print(â€œUnable to retrieve the number of rooms.â€)<br>}<br>// æ‰“å° â€œUnable to retrieve the number of rooms.â€<br></code><br>å› ä¸º john.residence ä¸ºnil, å¯é€‰é“¾æ¥åƒä»¥å‰ä¸€æ ·ä¼šè°ƒç”¨å¤±è´¥ã€‚</p>
<p>ä½ ä¹Ÿå¯ä»¥é€šè¿‡å¯é€‰é“¾æ¥ç»™å±æ€§è®¾ç½®ä¸€ä¸ªå€¼:<br><code><br>let someAddress = Address()<br>someAddress.buildingNumber = â€œ29â€<br>someAddress.street = â€œAcacia Roadâ€<br>john.residence?.address = someAddress<br></code><br>åœ¨è¿™ä¸ªä¾‹å­é‡Œ, å°è¯•è®¾ç½®john.residenceçš„å±æ€§ address å°†ä¼šå¤±è´¥, å› ä¸º john.residence ç°åœ¨æ˜¯nil.</p>
<p>èµ‹å€¼æ˜¯å¯é€‰é“¾æ¥çš„ä¸€éƒ¨åˆ†, æ„å‘³è€…=è¿ç®—ç¬¦çš„å³ä¾§ä»£ç ä¸ä¼šæ‰§è¡Œã€‚åœ¨ä¸Šä¸€ä¸ªä¾‹å­, å®¹æ˜“çœ‹åˆ° someAddress ä¸ä¼šæ‰§è¡Œ, å› ä¸ºè®¿é—®ä¸€ä¸ªå¸¸é‡ä¸ä¼šæœ‰ä»»ä½•è¾¹ç•Œå½±å“ã€‚ä¸‹é¢çš„ä»£ç åšäº†åŒæ ·çš„èµ‹å€¼, ä¸è¿‡å®ƒä½¿ç”¨ä¸€ä¸ªå‡½æ•°å»åˆ›å»ºåœ°å€ã€‚åœ¨è¿”å›å€¼å‰å‡½æ•°ä¼šæ‰“å° â€œFunction was calledâ€, è¿™ä¸ªä¼šè®©ä½ çœ‹åˆ°=è¿ç®—ç¬¦å³ä¾§ä»£ç æ˜¯å¦æ‰§è¡Œäº†ã€‚<br><code><br>func createAddress() -&gt; Address {<br>    print(â€œFunction was called.â€)</code></p>
<pre><code>let someAddress = Address()
someAddress.buildingNumber = &quot;29&quot;
someAddress.street = &quot;Acacia Road&quot;

return someAddress
</code></pre><p>}<br>john.residence?.address = createAddress()<br><br>ä½ å¯ä»¥çœ‹åˆ°createAddress() å‡½æ•°ä¸ä¼šæ‰§è¡Œ, å› ä¸ºä»€ä¹ˆä¹Ÿæ²¡æœ‰æ‰“å°ã€‚</p>
<h1 id="é€šè¿‡å¯é€‰é“¾æ¥è°ƒç”¨æ–¹æ³•"><a href="#é€šè¿‡å¯é€‰é“¾æ¥è°ƒç”¨æ–¹æ³•" class="headerlink" title="é€šè¿‡å¯é€‰é“¾æ¥è°ƒç”¨æ–¹æ³•"></a>é€šè¿‡å¯é€‰é“¾æ¥è°ƒç”¨æ–¹æ³•</h1><p>ä½ å¯ä»¥åœ¨ä¸€ä¸ªå¯é€‰å€¼ä¸Šé€šè¿‡å¯é€‰é“¾æ¥è°ƒç”¨ä¸€ä¸ªæ–¹æ³•, ç„¶ååˆ¤æ–­è°ƒç”¨æ˜¯å¦æˆåŠŸã€‚å³ä½¿è¿™ä¸ªæ–¹æ³•æ²¡æœ‰å®šä¹‰è¿”å›å€¼,ä½ ä¹Ÿå¯ä»¥è¿™ä¹ˆåšã€‚</p>
<p>Residence ç±»çš„ printNumberOfRooms() æ–¹æ³•æ‰“å°numberOfRoomsçš„å½“å‰å€¼ã€‚è¿™é‡Œæ˜¯æ–¹æ³•çš„æ ·å­:<br><code><br>func printNumberOfRooms() {<br>    print(â€œThe number of rooms is (numberOfRooms)â€)<br>}<br></code><br>è¿™ä¸ªæ–¹æ³•æ²¡æœ‰æŒ‡å®šè¿”å›å€¼ã€‚ä¸è¿‡, æ²¡æœ‰è¿”å›å€¼çš„æ–¹æ³•å’Œå‡½æ•°æœ‰ä¸€ä¸ªéšå¼çš„è¿”å›å€¼Void. è¿™å°±è¯´å®ƒä»¬è¿”å›äº†(), æˆ–è€…è¯´ä¸€ä¸ªç©ºå…ƒç»„ã€‚</p>
<p>å¦‚æœä½ ä½¿ç”¨å¯é€‰é“¾æ¥,åœ¨ä¸€ä¸ªå¯é€‰å€¼ä¸Šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•çš„è¿”å›ç±»å‹ä¼šæ˜¯ Void?, è€Œä¸æ˜¯Void, å› ä¸ºé€šè¿‡å¯é€‰é“¾æ¥è°ƒç”¨æ€»æ˜¯è¿”å›ä¸€ä¸ªå¯é€‰å€¼ã€‚è¿™è®©ä½ å¯ä»¥ä½¿ç”¨ifè¯­å¥æ¥åˆ¤æ–­èƒ½å¦è°ƒç”¨printNumberOfRooms() æ–¹æ³•, å°½ç®¡è¿™ä¸ªæ–¹æ³•æœ¬èº«æ²¡æœ‰å®šä¹‰è¿”å›å€¼ã€‚æŠŠprintNumberOfRooms è¿”å›å€¼å’Œ nil æ¯”è¾ƒæ¥æŸ¥çœ‹æ–¹æ³•è°ƒç”¨æ˜¯å¦æˆåŠŸ:<br><code><br>if john.residence?.printNumberOfRooms() != nil {<br>    print(â€œIt was possible to print the number of rooms.â€)<br>} else {<br>    print(â€œIt was not possible to print the number of rooms.â€)<br>}<br>// æ‰“å° â€œIt was not possible to print the number of rooms.â€<br></code><br>å¦‚æœä½ å°è¯•é€šè¿‡å¯é€‰é“¾æ¥è®¾ç½®å±æ€§ä¹Ÿæ˜¯ä¸€æ ·ã€‚ä¸Šé¢çš„ä¾‹å­å°è¯•ä¸º john.residence è®¾ç½®åœ°å€å€¼, å°½ç®¡residence å±æ€§æ˜¯nil. é€šè¿‡å¯é€‰é“¾æ¥è®¾ç½®å±æ€§å€¼éƒ½ä¼šè¿”å›ä¸€ä¸ªVoid?, è®©ä½ å¯ä»¥è·Ÿnilæ¯”è¾ƒ,æ¥åˆ¤æ–­è®¾ç½®å±æ€§æ˜¯å¦æˆåŠŸ:<br><code><br>if (john.residence?.address = someAddress) != nil {<br>    print(â€œIt was possible to set the address.â€)<br>} else {<br>    print(â€œIt was not possible to set the address.â€)<br>}<br>// æ‰“å° â€œIt was not possible to set the address.â€<br></code></p>
<h1 id="é€šè¿‡å¯é€‰é“¾æ¥è®¿é—®ä¸‹æ ‡"><a href="#é€šè¿‡å¯é€‰é“¾æ¥è®¿é—®ä¸‹æ ‡" class="headerlink" title="é€šè¿‡å¯é€‰é“¾æ¥è®¿é—®ä¸‹æ ‡"></a>é€šè¿‡å¯é€‰é“¾æ¥è®¿é—®ä¸‹æ ‡</h1><p>ä½ å¯ä»¥åœ¨å¯é€‰å€¼ä¸Šä½¿ç”¨å¯é€‰é“¾æ¥æ¥è·å–æˆ–è€…è®¾ç½®ä¸€ä¸ªä¸‹æ ‡å€¼, ç„¶ååˆ¤æ–­ä¸‹æ ‡è°ƒç”¨æ˜¯å¦æˆåŠŸã€‚</p>
<p>å¤‡æ³¨</p>
<p>å½“ä½ é€šè¿‡å¯é€‰é“¾æ¥è®¿é—®å¯é€‰å€¼çš„ä¸‹æ ‡æ—¶, ä½ è¦æŠŠé—®å·æ”¾ç½®åœ¨ä¸‹æ ‡æ‹¬å·çš„å‰é¢è€Œä¸æ˜¯åé¢ã€‚è¿™ä¸ªé—®å·æ€»æ˜¯ç›´æ¥è·Ÿåœ¨å¯é€‰è¡¨è¾¾å¼çš„åé¢ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­å°è¯•è·å–john.residenceçš„æˆ¿å­æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªæˆ¿å­çš„åå­—,ä½¿ç”¨çš„æ˜¯å®šä¹‰åœ¨Residenceç±»é‡Œçš„ä¸‹æ ‡ã€‚å› ä¸º john.residence ç°åœ¨æ˜¯ nil, ä¸‹æ ‡è°ƒç”¨ä¼šå¤±è´¥:<br><code><br>if let firstRoomName = john.residence?[0].name {<br>    print(â€œThe first room name is (firstRoomName).â€)<br>} else {<br>    print(â€œUnable to retrieve the first room name.â€)<br>}<br>// æ‰“å° â€œUnable to retrieve the first room name.â€<br></code><br>ä¸‹æ ‡è°ƒç”¨ä¸­çš„å¯é€‰é“¾æ¥é—®å·ç›´æ¥æ”¾åœ¨john.residenceåé¢, åœ¨ä¸‹æ ‡æ‹¬å·å‰é¢, å› ä¸º john.residence æ˜¯å¯é€‰å€¼ã€‚</p>
<p>ç›¸ä¼¼çš„, ä½ å¯ä»¥ä½¿ç”¨å¯é€‰é“¾æ¥,é€šè¿‡ä¸‹æ ‡æ¥è®¾ç½®æ–°å€¼:<br><code><br>john.residence?[0] = Room(name: â€œBathroomâ€)<br></code><br>è¿™ä¸ªä¸‹æ ‡è®¾ç½®çš„å°è¯•ä¹Ÿä¼šå¤±è´¥, å› ä¸ºresidence å½“å‰å€¼ä¸ºnil.</p>
<p>å¦‚æœä½ åˆ›å»ºä¸€ä¸ªå®é™…çš„ Residence å®ä¾‹å¹¶æŠŠå®ƒèµ‹å€¼ç»™ john.residence, åŒæ—¶å¸¦æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ª Room å®ä¾‹å­˜äºrooms æ•°ç»„, ä½ å¯ä»¥é€šè¿‡å¯é€‰é“¾æ¥,ä½¿ç”¨ Residence ä¸‹æ ‡è®¿é—®roomsæ•°ç»„ä¸­çš„å®é™…é¡¹:<br><code><br>let johnsHouse = Residence()<br>johnsHouse.rooms.append(Room(name: â€œLiving Roomâ€))<br>johnsHouse.rooms.append(Room(name: â€œKitchenâ€))<br>john.residence = johnsHouse</code></p>
<p>if let firstRoomName = john.residence?[0].name {<br>    print(â€œThe first room name is (firstRoomName).â€)<br>} else {<br>    print(â€œUnable to retrieve the first room name.â€)<br>}<br>// æ‰“å° â€œThe first room name is Living Room.â€<br></p>
<h1 id="è®¿é—®å¯é€‰ç±»å‹ä¸‹æ ‡"><a href="#è®¿é—®å¯é€‰ç±»å‹ä¸‹æ ‡" class="headerlink" title="è®¿é—®å¯é€‰ç±»å‹ä¸‹æ ‡"></a>è®¿é—®å¯é€‰ç±»å‹ä¸‹æ ‡</h1><p>å¦‚æœä¸€ä¸ªä¸‹æ ‡è¿”å›ä¸€ä¸ªå¯é€‰ç±»å‹å€¼â€”æ¯”å¦‚Swift å­—å…¸ç±»å‹çš„keyä¸‹æ ‡â€”åœ¨ä¸‹æ ‡æ–¹æ‹¬å·åé¢åŠ ä¸Šé—®å·æ¥é“¾æ¥å®ƒçš„å¯é€‰è¿”å›å€¼:<br><code><br>var testScores = [â€œDaveâ€: [86, 82, 84], â€œBevâ€: [79, 94, 81]]<br>testScores[â€œDaveâ€]?[0] = 91<br>testScores[â€œBevâ€]?[0] += 1<br>testScores[â€œBrianâ€]?[0] = 72<br>// the â€œDaveâ€ array is now [91, 82, 84] and the â€œBevâ€ array is now [80, 94, 81]<br></code><br>ä¸Šé¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªå­—å…¸ testScores, å®ƒåŒ…å«äº†ä¸¤ä¸ªé”®å€¼å¯¹,æŠŠä¸€ä¸ªå­—ç¬¦ä¸²é”®æ˜ å°„åˆ°ä¸€ä¸ªæ•´æ•°æ•°ç»„ã€‚è¿™ä¸ªä¾‹å­ç”¨å¯é€‰é“¾æ¥æŠŠDaveæ•°ç»„çš„ç¬¬ä¸€é¡¹è®¾ç½®æˆ 91; æŠŠBevæ•°ç»„çš„ç¬¬ä¸€é¡¹å€¼å¢åŠ 1; å¹¶ä¸”å°è¯•ä¸ºé”®ä¸ºBriançš„æ•°ç»„è®¾ç½®ç¬¬ä¸€é¡¹çš„å€¼ã€‚å‰ä¸¤ä¸ªè°ƒç”¨æˆåŠŸ, å› ä¸ºtestScores å­—å…¸åŒ…å« â€œDaveâ€ å’Œ â€œBevâ€. ç¬¬ä¸‰ä¸ªè°ƒç”¨ä¼šå¤±è´¥, å› ä¸º testScores å­—å…¸å¹¶ä¸åŒ…å« â€œBrianâ€ é”®ã€‚</p>
<h1 id="å¤šå±‚é“¾æ¥"><a href="#å¤šå±‚é“¾æ¥" class="headerlink" title="å¤šå±‚é“¾æ¥"></a>å¤šå±‚é“¾æ¥</h1><p>ä½ å¯ä»¥ä½¿ç”¨å¤šå±‚é“¾æ¥æ¥è®¿é—®æ¨¡å‹çš„å±æ€§,æ–¹æ³•å’Œä¸‹æ ‡ã€‚ä¸è¿‡, å¤šå±‚é“¾æ¥ä¸ä¼šç»™è¿”å›å€¼æ·»åŠ æ›´å¤šå¯é€‰æ€§ã€‚</p>
<p>æ¢å¥è¯è¯´:</p>
<p>å¦‚æœä½ è·å–çš„ç±»å‹ä¸æ˜¯å¯é€‰çš„, ç”±äºå¯é€‰é“¾æ¥,å®ƒä¼šå˜æˆå¯é€‰ç±»å‹ã€‚<br>å¦‚æœä½ è·å–çš„ç±»å‹å·²ç»æ˜¯å¯é€‰çš„äº†, å®ƒä¸ä¼šå› ä¸ºå¯é€‰é“¾æ¥è€Œå˜çš„æ›´å¯é€‰ã€‚<br>å› æ­¤:</p>
<p>å¦‚æœä½ é€šè¿‡å¯é€‰é“¾æ¥å»è·å–ä¸€ä¸ªIntå€¼, ä¼šè¿”å›ä¸€ä¸ªInt?, ä¸ç®¡ä½¿ç”¨äº†å¤šå°‘å±‚çš„é“¾æ¥ã€‚<br>ç±»ä¼¼çš„, å¦‚æœä½ ä½¿ç”¨å¯é€‰é“¾æ¥å»è·å–ä¸€ä¸ª Int?å€¼, ä¼šè¿”å›ä¸€ä¸ªInt?, ä¸ç®¡ä½¿ç”¨äº†å¤šå°‘å±‚çš„è¿æ¥ã€‚<br>ä¸‹é¢çš„ä¾‹å­å°è¯•è®¿é—®johnçš„å±æ€§residence çš„å±æ€§address çš„å±æ€§street. è¿™é‡Œç”¨äº†ä¸¤å±‚å¯é€‰é“¾æ¥, æ¥é“¾æ¥ residence å’Œ address å±æ€§, å®ƒä»¬éƒ½æ˜¯å¯é€‰ç±»å‹:<br><code><br>if let johnsStreet = john.residence?.address?.street {<br>    print(â€œJohnâ€™s street name is (johnsStreet).â€)<br>} else {<br>    print(â€œUnable to retrieve the address.â€)<br>}<br>// æ‰“å° â€œUnable to retrieve the address.â€<br></code><br>john.residence çš„å€¼ç°åœ¨æœ‰ä¸€ä¸ªæœ‰æ•ˆçš„ Residence å®ä¾‹ã€‚ä¸è¿‡, john.residence.address çš„å€¼ç°åœ¨æ˜¯ nil. æ‰€ä»¥,  john.residence?.address?.street è°ƒç”¨å¤±è´¥ã€‚</p>
<p>æ³¨æ„åœ¨ä¸Šé¢çš„ä¾‹å­é‡Œ, ä½ å°è¯•è·å–streetå±æ€§çš„å€¼ã€‚è¿™ä¸ªå±æ€§çš„ç±»å‹æ˜¯ String?. å› æ­¤ john.residence?.address?.street ä¹Ÿæ˜¯ String? ç±»å‹, å°½ç®¡ä½¿ç”¨äº†ä¸¤å±‚å¯é€‰é“¾æ¥ã€‚</p>
<p>å¦‚æœä½ ä¸ºjohn.residence?.address?è®¾ç½®ä¸€ä¸ªå®é™…çš„åœ°å€, å¹¶ä¸”ä¸ºaddressçš„å±æ€§streetè®¾ç½®ä¸€ä¸ªå®é™…å€¼, ä½ å°±å¯ä»¥ä½¿ç”¨å¤šå±‚é“¾æ¥è®¿é—®streetå±æ€§çš„å€¼äº†:<br><code><br>let johnsAddress = Address()<br>johnsAddress.buildingName = â€œThe Larchesâ€<br>johnsAddress.street = â€œLaurel Streetâ€<br>john.residence?.address = johnsAddress</code></p>
<p>if let johnsStreet = john.residence?.address?.street {<br>    print(â€œJohnâ€™s street name is (johnsStreet).â€)<br>} else {<br>    print(â€œUnable to retrieve the address.â€)<br>}<br>// æ‰“å° â€œJohnâ€™s street name is Laurel Street.â€<br><br>åœ¨è¿™ä¸ªä¾‹å­é‡Œ, å°è¯•è®¾ç½®john.residenceçš„addresså±æ€§ä¼šæˆåŠŸ, å› ä¸ºjohn.residenceç°åœ¨åŒ…å«äº†ä¸€ä¸ªæœ‰æ•ˆçš„ Residence å®ä¾‹ã€‚</p>
<h1 id="ä½¿ç”¨å¯é€‰è¿”å›å€¼é“¾æ¥æ–¹æ³•"><a href="#ä½¿ç”¨å¯é€‰è¿”å›å€¼é“¾æ¥æ–¹æ³•" class="headerlink" title="ä½¿ç”¨å¯é€‰è¿”å›å€¼é“¾æ¥æ–¹æ³•"></a>ä½¿ç”¨å¯é€‰è¿”å›å€¼é“¾æ¥æ–¹æ³•</h1><p>å‰é¢çš„ä¾‹å­å±•ç¤ºå¦‚ä½•é€šè¿‡å¯é€‰é“¾æ¥è·å–ä¸€ä¸ªå¯é€‰ç±»å‹çš„å±æ€§å€¼ã€‚ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å¯é€‰é“¾æ¥,è°ƒç”¨è¿”å›å€¼æ˜¯å¯é€‰ç±»å‹çš„æ–¹æ³•, å¦‚æœéœ€è¦å¯ä»¥é“¾æ¥æ–¹æ³•çš„è¿”å›å€¼ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­ä½¿ç”¨å¯é€‰é“¾æ¥è°ƒç”¨ Address ç±»çš„ buildingIdentifier() æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•è¿”å›å€¼ç±»å‹æ˜¯ String?. å°±åƒä¸Šé¢æè¿°çš„, å¯é€‰é“¾æ¥æœ€åçš„è¿”å›ç±»å‹ä¹Ÿæ˜¯ String?:<br><code><br>if let buildingIdentifier = john.residence?.address?.buildingIdentifier() {<br>    print(â€œJohnâ€™s building identifier is (buildingIdentifier).â€)<br>}<br>// æ‰“å° â€œJohnâ€™s building identifier is The Larches.â€<br></code><br>å¦‚æœä½ æƒ³æ‰§è¡Œæ›´æ·±çš„æ“ä½œé“¾æ¥æ–¹æ³•çš„è¿”å›å€¼, å°±åœ¨æ–¹æ³•æ‹¬å·çš„åé¢æ”¾ä¸Šå¯é€‰é“¾æ¥çš„é—®å·:<br><code><br>if let beginsWithThe =<br>    john.residence?.address?.buildingIdentifier()?.hasPrefix(â€œTheâ€) {<br>    if beginsWithThe {<br>        print(â€œJohnâ€™s building identifier begins with \â€The\â€.â€)<br>    } else {<br>        print(â€œJohnâ€™s building identifier does not begin with \â€The\â€.â€)<br>    }<br>}<br>// æ‰“å° â€œJohnâ€™s building identifier begins with â€œTheâ€.â€<br></code><br>å¤‡æ³¨</p>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­é‡Œ, ä½ åœ¨æ‹¬å·åé¢æ”¾ä¸Šäº†å¯é€‰é“¾æ¥é—®å·, å› ä¸ºä½ é“¾æ¥çš„å¯é€‰å€¼æ˜¯ buildingIdentifier() æ–¹æ³•çš„è¿”å›å€¼, å¹¶ä¸æ˜¯buildingIdentifier() æ–¹æ³•æœ¬èº«ã€‚</p>
<h1 id="é”™è¯¯å¤„ç†-1"><a href="#é”™è¯¯å¤„ç†-1" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h1><p>é”™è¯¯å¤„ç†æ˜¯åœ¨ä½ çš„ç¨‹åºä¸­å“åº”é”™è¯¯æ¡ä»¶å¹¶æ¢å¤çš„è¿‡ç¨‹ã€‚Swift ä¸ºåœ¨è¿è¡Œæ—¶æŠ›å‡º,æ•è·,ä¼ é€’å’Œæ¢å¤é”™è¯¯æä¾›äº†ä¸€çº§æ”¯æŒã€‚</p>
<p>æœ‰äº›æ“ä½œä¸èƒ½ä¿è¯æ€»èƒ½é¡ºåˆ©æ‰§è¡Œæˆ–è€…äº§ç”Ÿæœ‰ç”¨çš„è¾“å‡ºã€‚å¯é€‰ç”¨æ¥ä»£è¡¨ç¼ºå€¼, ä½†æ˜¯å½“ä¸€ä¸ªæ“ä½œå¤±è´¥äº†, çŸ¥é“å¤±è´¥æ€ä¹ˆäº§ç”Ÿçš„é€šå¸¸å¾ˆæœ‰ç”¨, æ‰€ä»¥ä½ çš„ä»£ç å¯ä»¥ç›¸åº”ä½œå‡ºå“åº”ã€‚</p>
<p>ä¾‹å¦‚, è€ƒè™‘ä»ç£ç›˜è¯»å–å’Œå¤„ç†æ•°æ®çš„ä»»åŠ¡ã€‚è¿™ä¸ªä»»åŠ¡æœ‰å¾ˆå¤šæ–¹å¼å¤±è´¥, åŒ…æ‹¬æŒ‡å®šä½ç½®æ–‡ä»¶ä¸å­˜åœ¨, æ–‡ä»¶æ²¡æœ‰è¯»çš„æƒé™, æˆ–è€…æ–‡ä»¶ä¸èƒ½ä»¥å…¼å®¹çš„æ ¼å¼è¿›è¡Œç¼–ç ã€‚è¿™äº›ä¸åŒåœºæ™¯çš„åŒºåˆ†å…è®¸ç¨‹åºå»è§£å†³ä¸€äº›é”™è¯¯,å’Œç”¨æˆ·æ²Ÿé€šå®ƒä¸èƒ½è§£å†³çš„ä»»ä½•é”™è¯¯ã€‚</p>
<h1 id="è¡¨ç¤ºå’ŒæŠ›å‡ºé”™è¯¯"><a href="#è¡¨ç¤ºå’ŒæŠ›å‡ºé”™è¯¯" class="headerlink" title="è¡¨ç¤ºå’ŒæŠ›å‡ºé”™è¯¯"></a>è¡¨ç¤ºå’ŒæŠ›å‡ºé”™è¯¯</h1><p>åœ¨ Swifté‡Œ, é”™è¯¯ç”¨ç¬¦åˆé”™è¯¯åè®®çš„ç±»å‹å€¼è¡¨ç¤ºã€‚è¿™ä¸ªç©ºåè®®è¡¨æ˜ä¸€ä¸ªç±»å‹å¯ä»¥ç”¨æ¥é”™è¯¯å¤„ç†ã€‚</p>
<p>Swift æšä¸¾ç±»å‹ç‰¹åˆ«é€‚åˆç”¨æ¥æ¨¡æ‹Ÿä¸€ç»„ç›¸å…³çš„é”™è¯¯æ¡ä»¶, å¸¦æœ‰å¯¹åº”çš„å€¼æ¥ä¼ è¾¾é”™è¯¯çš„é¢å¤–ä¿¡æ¯ã€‚ä¾‹å¦‚, è¿™é‡Œæœ‰ä¸€ç»„,åœ¨ä¸€ä¸ªæ¸¸æˆä¸­æ“ä½œè‡ªåŠ¨å”®è´§æœºçš„é”™è¯¯æ¡ä»¶:<br><code><br>enum VendingMachineError: Error {<br>    case invalidSelection<br>    case insufficientFunds(coinsNeeded: Int)<br>    case outOfStock<br>}<br></code><br>æŠ›å‡ºä¸€ä¸ªé”™è¯¯,è®©ä½ è¡¨æ˜å¼‚å¸¸å‘ç”Ÿäº†,æ­£å¸¸æ‰§è¡Œè¯­å¥ä¸èƒ½ç»§ç»­äº†ã€‚ä¾‹å¦‚, ä¸‹é¢çš„ä»£ç æŠ›å‡ºä¸€ä¸ªé”™è¯¯,è¡¨æ˜è‡ªåŠ¨å”®è´§æœºéœ€è¦äº”ä¸ªä»¥ä¸Šçš„ç¡¬å¸:<br><code><br>throw VendingMachineError.insufficientFunds(coinsNeeded: 5)<br></code></p>
<h1 id="å¤„ç†é”™è¯¯"><a href="#å¤„ç†é”™è¯¯" class="headerlink" title="å¤„ç†é”™è¯¯"></a>å¤„ç†é”™è¯¯</h1><p>å½“ä¸€ä¸ªé”™è¯¯æŠ›å‡ºæ¥å, ä¸€äº›åŒ…å›´çš„ä»£ç è¦è´Ÿè´£å¤„ç†è¿™ä¸ªé”™è¯¯â€”æ¯”å¦‚, é€šè¿‡ä¿®æ­£è¿™ä¸ªé—®é¢˜, å°è¯•æ›¿ä»£æ–¹æ³•æˆ–è€…é€šçŸ¥ç”¨æˆ·æ‰§è¡Œå¤±è´¥ã€‚</p>
<p>Swift é‡Œæœ‰å››ç§æ–¹æ³•æ¥å¤„ç†é”™è¯¯ã€‚ä½ å¯ä»¥æŠŠé”™è¯¯ä»å‡½æ•°ä¼ é€’åˆ°è°ƒç”¨å‡½æ•°çš„ä»£ç é‡Œ;ä½¿ç”¨ä¸€ä¸ª do-catch è¯­å¥æ¥å¤„ç†é”™è¯¯,;æŠŠé”™è¯¯å½“åšä¸€ä¸ªå¯é€‰å€¼æ¥å¤„ç†;æˆ–è€…æ–­è¨€è¿™ä¸ªé”™è¯¯ä¸ä¼šå‘ç”Ÿã€‚</p>
<p>å½“ä¸€ä¸ªå‡½æ•°æŠ›å‡ºä¸€ä¸ªé”™è¯¯æ—¶, å®ƒæ”¹å˜äº†ä½ çš„ç¨‹åºæµ, æ‰€ä»¥å¿«é€Ÿåˆ¤æ–­æŠ›å‡ºé”™è¯¯ä»£ç çš„ä½ç½®å¾ˆé‡è¦ã€‚ä¸ºäº†åœ¨ä½ çš„ä»£ç é‡Œåˆ¤æ–­è¿™äº›ä½ç½®,åœ¨è°ƒç”¨ä¼šæŠ›å‡ºé”™è¯¯çš„å‡½æ•°,æ–¹æ³•æˆ–è€…æ„é€ å™¨çš„ä»£ç å‰å†™ä¸Štry å…³é”®å­—â€”æˆ–è€…å®ƒçš„å˜ä½“ try? æˆ–è€… try!. </p>
<p>å¤‡æ³¨</p>
<p>Swift çš„é”™è¯¯å¤„ç†åƒå…¶ä»–è¯­è¨€çš„å¼‚å¸¸å¤„ç†, ä¹Ÿæ˜¯ä½¿ç”¨try, catch å’Œthrow å…³é”®å­—ã€‚ç»™å¾ˆå¤šè¯­è¨€ä¸åŒçš„æ˜¯â€”åŒ…æ‹¬ Objective-Câ€” Swift çš„é”™è¯¯å¤„ç†ä¸æ¶‰åŠè§£é™¤è°ƒç”¨å †æ ˆ, è¿™ä¸ªè¿‡ç¨‹èŠ±è´¹å¤ªå¤šçš„è®¡ç®—ã€‚åƒè¿™æ ·, æŠ›å‡ºå¼‚å¸¸è¯­å¥çš„æ€§èƒ½å¯ä»¥åª²ç¾è¿™äº›è¿”å›è¯­å¥ã€‚</p>
<h1 id="ç”¨æŠ›å‡ºå‡½æ•°ä¼ é€’é”™è¯¯"><a href="#ç”¨æŠ›å‡ºå‡½æ•°ä¼ é€’é”™è¯¯" class="headerlink" title="ç”¨æŠ›å‡ºå‡½æ•°ä¼ é€’é”™è¯¯"></a>ç”¨æŠ›å‡ºå‡½æ•°ä¼ é€’é”™è¯¯</h1><p>ä¸ºäº†è¡¨ç¤ºä¸€ä¸ªå‡½æ•°,æ–¹æ³•æˆ–è€…æ„é€ å™¨å¯ä»¥æŠ›å‡ºé”™è¯¯, åœ¨å‡½æ•°å®šä¹‰é‡Œ,æŠŠthrows å…³é”®å­—å†™åœ¨å‡½æ•°æ‹¬å·çš„åé¢ã€‚ç”¨throws æ ‡è®°çš„å‡½æ•°å°±æ˜¯ä¸€ä¸ªæŠ›å‡ºå‡½æ•°ã€‚å¦‚æœå‡½æ•°æŒ‡å®šäº†ä¸€ä¸ªè¿”å›å€¼, æŠŠ throws å…³é”®å­—å†™åœ¨è¿”å›ç®­å¤´ä¹‹å‰ (-&gt;).<br><code><br>func canThrowErrors() throws -&gt; String</code></p>
<p>func cannotThrowErrors() -&gt; String<br><br>ä¸€ä¸ªæŠ›å‡ºå‡½æ•°æŠŠé”™è¯¯ä¼ é€’åˆ°å®ƒè¢«è°ƒç”¨çš„åœ°æ–¹ã€‚</p>
<p>å¤‡æ³¨</p>
<p>åªæœ‰æŠ›å‡ºå‡½æ•°å¯ä»¥ä¼ é€’é”™è¯¯ã€‚éæŠ›å‡ºå‡½æ•°å†…éƒ¨çš„é”™è¯¯åªèƒ½åœ¨å‡½æ•°å†…éƒ¨å¤„ç†ã€‚</p>
<p>åœ¨ä¸‹é¢çš„ä»£ç é‡Œ, VendingMachine ç±»æœ‰ä¸€ä¸ªæ–¹æ³• vend(itemNamed:),å¦‚æœè¯·æ±‚é¡¹ç›®ä¸åˆç†,å®ƒä¼šæŠ›å‡ºä¸€ä¸ªå¯¹åº”çš„VendingMachineError, è¶…å‡ºå­˜è´§, æˆ–è€…æœ‰ä¸€ç¬”æ¶ˆè´¹è¶…è¿‡äº†å½“å‰çš„å­˜é‡:<br><code><br>struct Item {<br>    var price: Int<br>    var count: Int<br>}</code></p>
<p>class VendingMachine {<br>    var inventory = [<br>        â€œCandy Barâ€: Item(price: 12, count: 7),<br>        â€œChipsâ€: Item(price: 10, count: 4),<br>        â€œPretzelsâ€: Item(price: 7, count: 11)<br>    ]<br>    var coinsDeposited = 0</p>
<pre><code>func vend(itemNamed name: String) throws {
    guard let item = inventory[name] else {
        throw VendingMachineError.invalidSelection
    }

    guard item.count &gt; 0 else {
        throw VendingMachineError.outOfStock
    }

    guard item.price &lt;= coinsDeposited else {
        throw VendingMachineError.insufficientFunds(coinsNeeded: item.price - coinsDeposited)
    }

    coinsDeposited -= item.price

    var newItem = item
    newItem.count -= 1
    inventory[name] = newItem

    print(&quot;Dispensing \(name)&quot;)
}
</code></pre><p>}<br><br>vend(itemNamed:) æ–¹æ³•ä½¿ç”¨ guard è¯­å¥,å¦‚æœä»»ä½•è´­ä¹°å°åƒçš„è¦æ±‚ä¸èƒ½æ»¡è¶³,å°±å°½æ—©é€€å‡ºå’ŒæŠ›å‡ºé”™è¯¯ã€‚å› ä¸ºä¸€ä¸ªthrow è¯­å¥ä¼šç«‹å³è½¬ç§»ç¨‹åºæ§åˆ¶, åªæœ‰æ‰€æœ‰çš„è¦æ±‚éƒ½æ»¡è¶³æ‰ä¼šå‡ºå”®è´§å“ã€‚</p>
<p>å› ä¸º vend(itemNamed:) æ–¹æ³•ä¼šä¼ é€’æ‰€æœ‰æŠ›å‡ºçš„é”™è¯¯, ä»»ä½•è°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„ä»£ç è¦ä¹ˆå¤„ç†è¿™ä¸ªé”™è¯¯â€”ç”¨ do-catch è¯­å¥, try?, æˆ–è€… try!â€”è¦ä¹ˆç»§ç»­ä¼ é€’è¿™äº›é”™è¯¯ã€‚ä¾‹å¦‚, è¿™ä¸ªä¾‹å­é‡Œçš„buyFavoriteSnack(person:vendingMachine:) æ–¹æ³•ä¹Ÿæ˜¯ä¸€ä¸ªæŠ›å‡ºå‡½æ•°, vend(itemNamed:) æ–¹æ³•æŠ›å‡ºçš„é”™è¯¯ä¼šä¼ é€’åˆ° buyFavoriteSnack(person:vendingMachine:) å‡½æ•°è¢«è°ƒç”¨çš„åœ°æ–¹ã€‚<br><code><br>let favoriteSnacks = [<br>    â€œAliceâ€: â€œChipsâ€,<br>    â€œBobâ€: â€œLicoriceâ€,<br>    â€œEveâ€: â€œPretzelsâ€,<br>]<br>func buyFavoriteSnack(person: String, vendingMachine: VendingMachine) throws {<br>    let snackName = favoriteSnacks[person] ?? â€œCandy Barâ€<br>    try vendingMachine.vend(itemNamed: snackName)<br>}<br></code><br>åœ¨è¿™ä¸ªä¾‹å­é‡Œ,buyFavoriteSnack(person: vendingMachine:) å‡½æ•°æŸ¥è¯¢ç»™å®šå®¢æˆ·æœ€å–œæ¬¢çš„å°åƒ,ç„¶åè°ƒç”¨vend(itemNamed:)æ–¹æ³•æ¥è´­ä¹°ã€‚ç”±äº vend(itemNamed:) æ–¹æ³•å¯ä»¥æŠ›å‡ºé”™è¯¯, æ‰€ä»¥åœ¨å®ƒå‰é¢åŠ ä¸Štryå…³é”®å­—æ¥è°ƒç”¨ã€‚</p>
<p>æŠ›å‡ºæ„é€ å™¨å’ŒæŠ›å‡ºå‡½æ•°ä¸€æ ·å¯ä»¥ä¼ é€’é”™è¯¯ã€‚ä¾‹å¦‚, ä¸‹é¢PurchasedSnack ç»“æ„ä½“çš„æ„é€ å™¨è°ƒç”¨äº†ä¸€ä¸ªæŠ›å‡ºå‡½æ•°ä½œä¸ºæ„é€ è¿‡ç¨‹çš„ä¸€éƒ¨åˆ†, é€šè¿‡ä¼ é€’é”™è¯¯ç»™è°ƒç”¨è€…,å®ƒå¤„ç†ä»»ä½•å®ƒé‡è§çš„é”™è¯¯ã€‚<br><code><br>struct PurchasedSnack {<br>    let name: String<br>    init(name: String, vendingMachine: VendingMachine) throws {<br>        try vendingMachine.vend(itemNamed: name)<br>        self.name = name<br>    }<br>}<br></code></p>
<h1 id="ä½¿ç”¨-Do-Catch-å¤„ç†é”™è¯¯"><a href="#ä½¿ç”¨-Do-Catch-å¤„ç†é”™è¯¯" class="headerlink" title="ä½¿ç”¨ Do-Catch å¤„ç†é”™è¯¯"></a>ä½¿ç”¨ Do-Catch å¤„ç†é”™è¯¯</h1><p>ä½ å¯ä»¥ç”¨ä¸€ä¸ª do-catch è¯­å¥æ¥å¤„ç†é”™è¯¯ã€‚å¦‚æœä¸€ä¸ªé”™è¯¯è¢«doå­—å¥çš„ä»£ç æŠ›å‡ºæ¥, å®ƒåŒ¹é… catch å­—å¥æ¥å†³å®šå“ªä¸€ä¸ªæ¥å¤„ç†è¿™ä¸ªé”™è¯¯ã€‚</p>
<p>è¿™é‡Œæ˜¯ do-catch è¯­å¥çš„ä¸€èˆ¬æ ·å¼:<br><code><br>do {<br>    try expression<br>    statements<br>} catch pattern 1 {<br>    statements<br>} catch pattern 2 where condition {<br>    statements<br>}<br></code><br>åœ¨catchåé¢å†™ä¸Šæ¨¡å¼æ¥è¡¨æ˜è¿™ä¸ªå­—å¥å¯ä»¥å¤„ç†ä»€ä¹ˆé”™è¯¯ã€‚å¦‚æœä¸€ä¸ª catch å­—å¥æ²¡æœ‰ä¸€ä¸ªæ¨¡å¼, å­—å¥å°±ä¼šåŒ¹é…æ‰€æœ‰çš„é”™è¯¯å¹¶ä¸”æŠŠé”™è¯¯ç»‘å®šåˆ°ä¸€ä¸ªæœ¬åœ°çš„å¸¸é‡ error. æ›´å¤šæ¨¡å¼åŒ¹é…,å‚è§æ¨¡å¼ã€‚</p>
<p>catch å­—å¥å¹¶ä¸éœ€è¦å¤„ç†æ‰€æœ‰doå­—å¥æŠ›å‡ºæ¥çš„é”™è¯¯ã€‚å¦‚æœæ²¡æœ‰ catch å­—å¥å¤„ç†è¿™ä¸ªé”™è¯¯, è¿™ä¸ªé”™è¯¯å°±ä¼šä¼ é€’åˆ°å‘¨å›´ä»£ç ã€‚ä¸è¿‡, è¿™ä¸ªé”™è¯¯å¿…é¡»è¢«å‘¨å›´ä»£ç å¤„ç†â€”æˆ–è€…è¢«ä¸€ä¸ªå°é—­çš„ do-catch å­—å¥æˆ–è€…åœ¨ä¸€ä¸ªæŠ›å‡ºå‡½æ•°å†…éƒ¨å¤„ç†ã€‚ä¾‹å¦‚, ä¸‹é¢çš„ä»£ç å¤„ç†äº†VendingMachineError åˆ—ä¸¾çš„æ‰€æœ‰ä¸‰ç§æƒ…å†µ, ä½†æ˜¯æ‰€æœ‰å…¶ä»–çš„é”™æˆ‘å¿…é¡»è¢«å‘¨å›´ä»£ç å¤„ç†:<br><code><br>var vendingMachine = VendingMachine()<br>vendingMachine.coinsDeposited = 8<br>do {<br>    try buyFavoriteSnack(person: â€œAliceâ€, vendingMachine: vendingMachine)<br>} catch VendingMachineError.invalidSelection {<br>    print(â€œInvalid Selection.â€)<br>} catch VendingMachineError.outOfStock {<br>    print(â€œOut of Stock.â€)<br>} catch VendingMachineError.insufficientFunds(let coinsNeeded) {<br>    print(â€œInsufficient funds. Please insert an additional (coinsNeeded) coins.â€)<br>}<br>// æ‰“å° â€œInsufficient funds. Please insert an additional 2 coins.â€<br></code><br>åœ¨ä¸Šé¢çš„ä¾‹å­é‡Œ, buyFavoriteSnack(person:vendingMachine:) åœ¨ä¸€ä¸ªtryè¡¨è¾¾å¼é‡Œè°ƒç”¨, å› ä¸ºå®ƒå¯ä»¥æŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚å¦‚æœä¸€ä¸ªé”™è¯¯æŠ›å‡ºäº†, è¯­å¥æ‰§è¡Œç«‹å³è½¬åˆ° catch å­—å¥, å®ƒè§‰å¾—æ˜¯å¦å…è®¸ä¼ é€’ç»§ç»­ã€‚å¦‚æœæ²¡æœ‰é”™è¯¯æŠ›å‡ºæ¥, do è¯­å¥å‰©ä¸‹çš„è¯­å¥ä¼šç»§ç»­æ‰§è¡Œã€‚</p>
<h1 id="è½¬æ¢é”™è¯¯æˆå¯é€‰å€¼"><a href="#è½¬æ¢é”™è¯¯æˆå¯é€‰å€¼" class="headerlink" title="è½¬æ¢é”™è¯¯æˆå¯é€‰å€¼"></a>è½¬æ¢é”™è¯¯æˆå¯é€‰å€¼</h1><p>é€šè¿‡è½¬æ¢é”™è¯¯æˆä¸€ä¸ªå¯é€‰å€¼,ä½ å¯ä»¥ä½¿ç”¨ try? æ¥å¤„ç†é”™è¯¯ã€‚å½“æ‰§è¡Œtry?è¡¨è¾¾å¼æ—¶,å¦‚æœä¸€ä¸ªé”™è¯¯æŠ›å‡ºæ¥äº†,è¡¨è¾¾å¼çš„å€¼å°±ä¼šå˜æˆnil. ä¾‹å¦‚, ä¸‹é¢çš„ä¾‹å­é‡Œxå’Œyæœ‰ç€ç›¸åŒçš„å€¼å’Œè¡Œä¸º:<br><code><br>func someThrowingFunction() throws -&gt; Int {<br>    // â€¦<br>}</code></p>
<p>let x = try? someThrowingFunction()</p>
<p>let y: Int?<br>do {<br>    y = try someThrowingFunction()<br>} catch {<br>    y = nil<br>}<br><br>å¦‚æœ someThrowingFunction() æŠ›å‡ºä¸€ä¸ªé”™è¯¯, xå’Œyçš„å€¼å°±æ˜¯nil. å¦åˆ™, xå’Œyå€¼å°±æ˜¯å‡½æ•°çš„è¿”å›å€¼ã€‚æ³¨æ„,æ— è®ºå‡½æ•°è¿”å›ä»€ä¹ˆç±»å‹,xå’Œyéƒ½æ˜¯å¯é€‰çš„ã€‚è¿™é‡Œå‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ªæ•´æ•°, æ‰€ä»¥xå’Œyæ˜¯å¯é€‰çš„æ•´æ•°ã€‚</p>
<p>å½“ä½ æƒ³å¤„ç†æ‰€æœ‰ç›¸åŒæ–¹å¼çš„é”™è¯¯æ—¶,ä½¿ç”¨ try? è®©ä½ å¯ä»¥å†™å‡ºæ›´åŠ ç²¾ç¡®çš„é”™è¯¯å¤„ç†ä»£ç ã€‚ä¾‹å¦‚, ä¸‹é¢çš„ä»£ç ä½¿ç”¨äº†ä¸€äº›ç®€å•çš„æ–¹æ³•æ¥è·å–æ•°æ®, å¦‚æœæ‰€æœ‰çš„æ–¹æ³•éƒ½å¤±è´¥äº†åˆ™è¿”å›nil.<br><code><br>func fetchData() -&gt; Data? {<br>    if let data = try? fetchDataFromDisk() { return data }<br>    if let data = try? fetchDataFromServer() { return data }<br>    return nil<br>}<br></code></p>
<h1 id="ç¦ç”¨é”™è¯¯ä¼ é€’"><a href="#ç¦ç”¨é”™è¯¯ä¼ é€’" class="headerlink" title="ç¦ç”¨é”™è¯¯ä¼ é€’"></a>ç¦ç”¨é”™è¯¯ä¼ é€’</h1><p>æœ‰æ—¶,ä½ ä¸å¸Œæœ›ä¸€ä¸ªæŠ›å‡ºå‡½æ•°æˆ–è€…æ–¹æ³•åœ¨è¿è¡Œæ—¶æŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚è¿™ç§æƒ…å†µä¸‹, å¯ä»¥åœ¨è¡¨è¾¾å¼å‰é¢å†™ä¸Š try!æ¥ç¦ç”¨é”™è¯¯ä¼ é€’å¹¶ä¸”æŠŠè°ƒç”¨åŒ…è£¹åœ¨è¿è¡Œçš„æ–­è¨€ä¸­,è¿™é”™è¯¯å°±ä¸ä¼šæŠ›å‡ºã€‚å¦‚æœä¸€ä¸ªé”™è¯¯æ—¶é—´ä¸Šå‡ºç°äº†, ä½ ä¼šå¾—åˆ°ä¸€ä¸ªè¿è¡Œæ—¶é”™è¯¯ã€‚</p>
<p>ä¾‹å¦‚, ä¸‹é¢çš„ä»£ç ä½¿ç”¨äº† loadImage(atPath:) å‡½æ•°, å®ƒä»ä¸€ä¸ªç»™å®šçš„è·¯å¾„å¯¼å…¥å›¾ç‰‡èµ„æº,å¦‚æœå›¾ç‰‡ä¸èƒ½å¯¼å…¥åˆ™æŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹, å› ä¸ºå›¾ç‰‡æ˜¯é ç¨‹åºè¾“é€, è¿è¡Œæ—¶ä¸ä¼šæœ‰é”™è¯¯æŠ›å‡º, æ‰€ä»¥å®ƒé€‚åˆç¦ç”¨é”™è¯¯ä¼ é€’ã€‚<br><code><br>let photo = try! loadImage(atPath: â€œ./Resources/John Appleseed.jpgâ€)<br></code></p>
<h1 id="æŒ‡å®šæ¸…ç†è¡Œä¸º"><a href="#æŒ‡å®šæ¸…ç†è¡Œä¸º" class="headerlink" title="æŒ‡å®šæ¸…ç†è¡Œä¸º"></a>æŒ‡å®šæ¸…ç†è¡Œä¸º</h1><p>åœ¨ä»£ç æ‰§è¡Œç¦»å¼€å½“å‰ä»£ç å—ä¹‹å‰,ä½ å¯ä»¥ç”¨ä¸€ä¸ªdeferè¯­å¥æ¥æ‰§è¡Œä¸€ç»„è¯­å¥ã€‚è¿™ä¸ªè¯­å¥è®©ä½ å¯ä»¥åšä¸€äº›å¿…é¡»çš„æ¸…ç†å·¥ä½œ,è¿™ä¸ªå·¥ä½œæ‰§è¡Œæ—¶æ— è§†æ€æ ·ç¦»å¼€å½“å‰ä»£ç å—â€”ä¸ç®¡å®ƒæ˜¯å› ä¸ºé”™è¯¯å‘ç”Ÿè¿˜æ˜¯å› ä¸ºreturnæˆ–è€…breakè¯­å¥ã€‚ä¾‹å¦‚, ä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªdeferè¯­å¥,æ¥ç¡®ä¿æ–‡ä»¶æè¿°ç¬¦è¢«å…³é—­,æ‰‹åŠ¨åˆ†é…çš„å†…å­˜è¢«é‡Šæ”¾ã€‚</p>
<p>ä¸€ä¸ªdeferè¯­å¥ä¸€ç›´åˆ°å½“å‰ä»£ç å—é€€å‡ºæ‰ä¼šæ‰§è¡Œã€‚è¿™ä¸ªè¯­å¥ç”±deferå…³é”®å­—å’Œæ‰§è¡Œè¯­å¥ç»„æˆã€‚æ¨è¿Ÿè¯­å¥ä¸ä¼šåŒ…å«ä»»ä½•æŠŠæ§åˆ¶è½¬ç§»çš„è¯­å¥ã€‚ æ¯”å¦‚ break æˆ–è€… return è¯­å¥, ä¹Ÿä¸ä¼šæŠ›å‡ºé”™è¯¯ã€‚æ¨è¿Ÿè¡Œä¸ºä»¥å®ƒä»¬è¢«æŒ‡å®šçš„ç›¸åé¡ºåºæ‰§è¡Œâ€”ä¹Ÿå°±è¯´, deferè¯­å¥ç¬¬ä¸€è¡Œä»£ç ä¼šåœ¨ç¬¬äºŒè¡Œä»£ç åæ‰§è¡Œ,ä»¥æ­¤ç±»æ¨ã€‚<br><code><br>func processFile(filename: String) throws {<br>    if exists(filename) {<br>        let file = open(filename)<br>        defer {<br>            close(file)<br>        }<br>        while let line = try file.readline() {<br>            // Work with the file.<br>        }<br>        // close(file) is called here, at the end of the scope.<br>    }<br>}<br></code><br>ä¸Šé¢çš„ä¾‹å­ä½¿ç”¨äº†ä¸€ä¸ª defer è¯­å¥æ¥ç¡®ä¿ open(<em>:) å‡½æ•°ä¼šè°ƒç”¨ close(</em>:).</p>
<p>å¤‡æ³¨</p>
<p>å³ä½¿æ²¡æœ‰æ¶‰åŠé”™è¯¯å¤„ç†ä»£ç ,ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€ä¸ªdeferè¯­å¥ã€‚</p>
<h1 id="ç±»å‹è½¬æ¢"><a href="#ç±»å‹è½¬æ¢" class="headerlink" title="ç±»å‹è½¬æ¢"></a>ç±»å‹è½¬æ¢</h1><p>ç±»å‹è½¬æ¢æ˜¯æ˜¯åˆ¤æ–­å®ä¾‹ç±»å‹çš„ä¸€ç§æ–¹æ³•, æˆ–è€…åœ¨å®ƒçš„ç»§æ‰¿å±‚æ¬¡é‡Œ,æŠŠæ¥è‡ªæŸäº›åœ°æ–¹çš„å®ä¾‹ä½œä¸ºä¸åŒçš„è¶…ç±»æˆ–è€…å­ç±»ã€‚</p>
<p>Swiftä¸­çš„ç±»å‹è½¬æ¢ä½¿ç”¨iså’Œasæ“ä½œç¬¦ã€‚è¿™ä¸¤ä¸ªæ“ä½œç¬¦æä¾›äº†ç®€å•æœ‰æ•ˆçš„æ–¹å¼æ¥åˆ¤æ–­ä¸€ä¸ªå€¼çš„ç±»å‹æˆ–è€…æŠŠä¸€ä¸ªå€¼è½¬æ¢æˆä¸åŒçš„ç±»å‹ã€‚</p>
<p>ä½ å¯ä»¥é€šè¿‡ç±»å‹è½¬æ¢æ¥åˆ¤æ–­ä¸€ä¸ªç±»å‹æ˜¯å¦éµå®ˆæŸä¸ªåè®®, hecking for Protocol Conformance æœ‰æè¿°ã€‚</p>
<h1 id="ä¸ºç±»å‹è½¬æ¢å®šä¹‰ç±»å±‚æ¬¡"><a href="#ä¸ºç±»å‹è½¬æ¢å®šä¹‰ç±»å±‚æ¬¡" class="headerlink" title="ä¸ºç±»å‹è½¬æ¢å®šä¹‰ç±»å±‚æ¬¡"></a>ä¸ºç±»å‹è½¬æ¢å®šä¹‰ç±»å±‚æ¬¡</h1><p>ä½ å¯ä»¥åœ¨ç±»å’Œå­ç±»å±‚æ¬¡ä½¿ç”¨ç±»å‹è½¬æ¢,æ¥åˆ¤æ–­ç‰¹å®šç±»å®ä¾‹çš„ç±»å‹,åŒæ—¶å¯ä»¥åœ¨ç›¸åŒçš„å±‚æ¬¡é‡ŒæŠŠå®ä¾‹è½¬æ¢æˆå¦å¤–ä¸€ä¸ªç±»ç±»å‹ã€‚ä¸‹é¢ä¸‰ä¸ªä»£ç ç‰‡æ®µå®šä¹‰äº†ä¸€ç±»å±‚æ¬¡,è¿˜æœ‰ä¸€ä¸ªåŒ…å«è¿™äº›ç±»å®ä¾‹çš„æ•°ç»„, åœ¨ç±»å‹è½¬æ¢çš„ä¾‹å­ä¸­ä½¿ç”¨ã€‚</p>
<p>ç¬¬ä¸€ä¸ªä»£ç ç‰‡æ®µå®šä¹‰äº†äº†ä¸€ä¸ªæ–°çš„åŸºç±» MediaItem. è¿™ä¸ªç±»ä¸ºä»»ä½•å‡ºç°åœ¨æ•°å­—åª’ä½“åº“ä¸­çš„é¡¹ç›®æä¾›åŸºæœ¬çš„åŠŸèƒ½ã€‚ç‰¹åˆ«çš„æ˜¯, å®ƒå£°æ˜äº†ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„ nameå±æ€§, è¿˜æœ‰ä¸ªä¸€ä¸ª init æ„é€ å™¨ã€‚ (å®ƒå‡å®šæ‰€æœ‰åª’ä½“é¡¹,åŒ…æ‹¬ç”µå½±å’Œæ­Œæ›²,éƒ½æœ‰åå­—)<br><code><br>class MediaItem {<br>    var name: String<br>    init(name: String) {<br>        self.name = name<br>    }<br>}<br></code><br>ä¸‹é¢çš„ä»£ç ç‰‡æ®µå®šä¹‰äº†ä¸¤ä¸ª MediaItemçš„å­ç±»ã€‚ç¬¬ä¸€ä¸ªå­ç±», Movie, å°è£…äº†ä¸€éƒ¨ç”µå½±çš„é¢å¤–ä¿¡æ¯ã€‚å®ƒæ·»åŠ äº†ä¸€ä¸ª director å±æ€§å’Œä¸€ä¸ªå¯¹åº”çš„æ„é€ å™¨ã€‚ç¬¬äºŒä¸ªå­ç±», Song, æ·»åŠ äº†ä¸€ä¸ªaddå±æ€§å’Œä¸€ä¸ªæ„é€ å™¨:<br><code><br>class Movie: MediaItem {<br>    var director: String<br>    init(name: String, director: String) {<br>        self.director = director<br>        super.init(name: name)<br>    }<br>}</code></p>
<p>class Song: MediaItem {<br>    var artist: String<br>    init(name: String, artist: String) {<br>        self.artist = artist<br>        super.init(name: name)<br>    }<br>}<br><br>æœ€åçš„ä»£ç ç‰‡æ®µåˆ›å»ºäº†ä¸€ä¸ªå¸¸é‡æ•°ç»„ library, å®ƒåŒ…æ‹¬äº†ä¸¤ä¸ª Movie å®ä¾‹å’Œä¸‰ä¸ª Song å®ä¾‹ã€‚library æ•°ç»„çš„ç±»å‹é€šè¿‡ç”¨å­—é¢é‡å†…å®¹åˆå§‹åŒ–å¯ä»¥æ¨æ–­å‡ºæ¥ã€‚ Swift ç±»å‹æ£€æŸ¥è€…å¯ä»¥æ¨æ–­å‡º Movie å’Œ Song æœ‰ä¸€ä¸ªå…±åŒçš„åŸºç±» MediaItem, æ‰€ä»¥å®ƒæ¨æ–­library æ•°ç»„æ˜¯ [MediaItem] ç±»å‹:<br><code><br>let library = [<br>    Movie(name: â€œCasablancaâ€, director: â€œMichael Curtizâ€),<br>    Song(name: â€œBlue Suede Shoesâ€, artist: â€œElvis Presleyâ€),<br>    Movie(name: â€œCitizen Kaneâ€, director: â€œOrson Wellesâ€),<br>    Song(name: â€œThe One And Onlyâ€, artist: â€œChesney Hawkesâ€),<br>    Song(name: â€œNever Gonna Give You Upâ€, artist: â€œRick Astleyâ€)<br>]<br>// the type of â€œlibraryâ€ is inferred to be [MediaItem]<br></code><br>å®é™…ä¸Šå­˜å‚¨åœ¨ library æ•°ç»„é‡Œçš„ä¾ç„¶æ˜¯ Movie å’Œ Song å®ä¾‹ã€‚ä¸è¿‡, å¦‚æœéå†è¿™ä¸ªæ•°ç»„çš„å†…å®¹, ä½ è·å¾—çš„ç±»å‹æ˜¯ MediaItem, è€Œä¸æ˜¯ Movie æˆ–è€… Song. ä¸ºäº†ä½¿ç”¨å®ƒä»¬æœ¬æ¥çš„ç±»å‹, ä½ éœ€è¦æ£€æµ‹å®ƒä»¬çš„ç±»å‹, æˆ–è€…å‘ä¸‹è½¬æ¢å®ƒä»¬çš„ç±»å‹ã€‚0</p>
<h1 id="åˆ¤æ–­ç±»å‹"><a href="#åˆ¤æ–­ç±»å‹" class="headerlink" title="åˆ¤æ–­ç±»å‹"></a>åˆ¤æ–­ç±»å‹</h1><p>ä½¿ç”¨ç±»å‹åˆ¤æ–­æ“ä½œç¬¦ (is) æ¥åˆ¤æ–­ä¸€ä¸ªå®ä¾‹æ˜¯å¦æ˜¯æ¯ä¸ªå­ç±»ç±»å‹ã€‚å¦‚æœå®ä¾‹æ˜¯é‚£ä¸ªå­ç±»ç±»å‹,ç±»å‹åˆ¤æ–­æ“ä½œç¬¦å°±è¿”å›çœŸ,å¦åˆ™å°±è¿”å›å‡ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸¤ä¸ªå˜é‡, movieCount å’Œ songCount, ç”¨æ¥è®¡ç®—å­˜å‚¨åœ¨libraryæ•°ç»„ä¸­çš„ Movie å’Œ Song å®ä¾‹çš„æ•°é‡:<br><code><br>var movieCount = 0<br>var songCount = 0</code></p>
<p>for item in library {<br>    if item is Movie {<br>        movieCount += 1<br>    } else if item is Song {<br>        songCount += 1<br>    }<br>}</p>
<p>print(â€œMedia library contains (movieCount) movies and (songCount) songsâ€)<br>// æ‰“å° â€œMedia library contains 2 movies and 3 songsâ€<br><br>ä¸Šé¢çš„ä¾‹å­éå†libraryæ•°ç»„æ‰€æœ‰çš„é¡¹ã€‚æ¯æ¬¡ä¼ é€’, for-in å¾ªç¯æŠŠitemå¸¸é‡è®¾ç½®æˆæ•°ç»„é‡Œçš„ä¸‹ä¸€ä¸ª MediaItem.</p>
<p>å¦‚æœå½“å‰MediaItem æ˜¯ä¸€ä¸ªMovie å®ä¾‹, å°±è¿”å›çœŸã€‚å¦åˆ™å°±è¿”å›å‡ã€‚ç±»ä¼¼çš„, MediaItemæ˜¯ Song å°±åˆ¤æ–­å®ƒæ˜¯ä¸æ˜¯ä¸€ä¸ª Song å®ä¾‹ã€‚for-in å¾ªç¯ç»“æŸå, movieCount å’Œ songCount åŒ…å«äº†å¯¹åº”å®ä¾‹çš„æ•°é‡ã€‚</p>
<h1 id="å‘ä¸‹è½¬æ¢"><a href="#å‘ä¸‹è½¬æ¢" class="headerlink" title="å‘ä¸‹è½¬æ¢"></a>å‘ä¸‹è½¬æ¢</h1><p>å®é™…ä¸Š,ç‰¹å®šç±»ç±»å‹çš„å¸¸é‡æˆ–è€…å˜é‡è°ƒç”¨æ˜¯å­ç±»çš„å®ä¾‹ã€‚ä½ å¯ä»¥ä½¿ç”¨ç±»å‹è½¬æ¢æ“ä½œç¬¦(as? æˆ–è€… as!)å‘ä¸‹è½¬æ¢æˆå­ç±»ç±»å‹ã€‚</p>
<p>ç”±äºå‘ä¸‹è½¬æ¢ä¼šå¤±è´¥, æ‰€ä»¥ç±»å‹è½¬æ¢æ“ä½œç¬¦æœ‰ä¸¤ç§å½¢å¼ã€‚æ¡ä»¶å½¢å¼, as?, è¿”å›ä½ æƒ³è½¬æ¢ç±»å‹çš„å¯é€‰å€¼ã€‚å¼ºåˆ¶å½¢å¼, as!, å°è¯•å‘ä¸‹è½¬æ¢å¹¶å¼ºåˆ¶æ‹†åŒ…ç»“æœã€‚</p>
<p>å½“ä½ ä¸èƒ½ç¡®å®šå‘ä¸‹è½¬æ¢èƒ½å¦æˆåŠŸæ—¶,ä½¿ç”¨æ¡ä»¶å½¢å¼çš„ç±»å‹è½¬æ¢æ“ä½œç¬¦ (as?). è¿™ä¸ªæ“ä½œç¬¦æ€»æ˜¯è¿”å›ä¸€ä¸ªå¯é€‰å€¼, å¦‚æœå‘ä¸‹è½¬æ¢ä¸å¯èƒ½å°±ä¼šè¿”å›nil. è¿™ä¸ªç¡®ä¿ä½ å¯ä»¥åˆ¤æ–­è½¬æ¢çš„æˆåŠŸã€‚</p>
<p>å½“ä½ ç¡®å®šå‘ä¸‹è½¬æ¢å¯ä»¥æˆåŠŸæ—¶,ä½¿ç”¨å¼ºåˆ¶å½¢å¼çš„ç±»å‹è½¬æ¢æ“ä½œç¬¦ (as!). å¦‚æœä½ è½¬æ¢åˆ°ä¸€ä¸ªé”™è¯¯çš„ç±»ç±»å‹,è¿™ä¸ªå½¢å¼çš„æ“ä½œç¬¦ä¼šå¼•å‘ä¸€ä¸ªè¿è¡Œæ—¶çš„é”™è¯¯ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­éå†äº†libraryæ•°ç»„é‡Œçš„çš„æ¯ä¸€ä¸ª MediaItem , ç„¶åä¸ºæ¯ä¸€é¡¹æ‰“å°ä¸€æ¡å¯¹åº”çš„æè¿°ä¿¡æ¯ã€‚ä¸ºäº†å®ç°è¿™ä¸ª, å®ƒéœ€è¦æ¯ä¸€é¡¹ä½œä¸ºçœŸå®çš„ Movie æˆ–è€… Songæ¥è®¿é—®, ä¸ä»…ä»…æ˜¯ä½œä¸º MediaItem. ä¸ºäº†èƒ½å¯ä»¥è®¿é—® director æˆ–è€… artist å±æ€§,ç„¶åç”¨åœ¨æè¿°é‡Œ,è¿™æ ·åšæ˜¯å¿…é¡»çš„ã€‚</p>
<p>åœ¨è¿™ä¸ªä¾‹å­é‡Œ, æ•°ç»„é‡Œçš„æ¯ä¸€é¡¹æœ‰å¯èƒ½æ˜¯ Movie, æˆ–è€… Song. ä½ ä¸ä¼šæå‰çŸ¥é“æ¯ä¸€é¡¹å®é™…ä½¿ç”¨å“ªä¸ªç±», æ‰€ä»¥è¿™é‡Œå¾ˆé€‚åˆä½¿ç”¨æ¡ä»¶å½¢å¼çš„æ“ä½œç¬¦ (as?) æ¥åœ¨å¾ªç¯ä¸­åˆ¤æ–­å‘ä¸‹è½¬æ¢æˆåŠŸä¸å¦:<br><code><br>for item in library {<br>    if let movie = item as? Movie {<br>        print(â€œMovie: (movie.name), dir. (movie.director)â€)<br>    } else if let song = item as? Song {<br>        print(â€œSong: (song.name), by (song.artist)â€)<br>    }<br>}</code></p>
<p>// Movie: Casablanca, dir. Michael Curtiz<br>// Song: Blue Suede Shoes, by Elvis Presley<br>// Movie: Citizen Kane, dir. Orson Welles<br>// Song: The One And Only, by Chesney Hawkes<br>// Song: Never Gonna Give You Up, by Rick Astley<br><br>è¿™ä¸ªä¾‹å­å¼€å§‹å…ˆå°è¯•å°†å½“å‰é¡¹å‘ä¸‹è½¬æ¢åˆ°ç±»å‹ Movie. å› ä¸ºå½“å‰é¡¹æ˜¯ MediaItem å®ä¾‹, å®ƒæœ‰å¯èƒ½æ˜¯ä¸€ä¸ª Movie; å®ƒä¹Ÿæœ‰å¯èƒ½æ˜¯ä¸€ä¸ª Song, æˆ–è€…ä»…ä»…æ˜¯ä¸€ä¸ªåŸºæœ¬çš„ MediaItem. å› ä¸ºä¸ç¡®å®šæ€§, as? å½¢å¼çš„ç±»å‹è½¬æ¢ç¬¦ä¼šè¿”å›ä¸€ä¸ªå¯é€‰å€¼,åœ¨å°è¯•å‘ä¸‹è½¬æ¢æˆä¸€ä¸ªå­ç±»å‹æ—¶ã€‚item as? Movie è¿”å›ç»“æœæ˜¯ Movie? ç±»å‹, æˆ–è€… â€œå¯é€‰çš„ Movieâ€.</p>
<p>å¦‚æœå¯¹æ•°ç»„ä¸­çš„Songå®ä¾‹å‘ä¸‹è½¬æ¢åˆ° Movie å°±ä¼šå¤±è´¥ã€‚ä¸ºäº†å¤„ç†è¿™ä¸ªæƒ…å†µ, ä¾‹å­é‡Œä½¿ç”¨å¯é€‰ç»‘å®šæ¥åˆ¤æ–­å¯é€‰çš„l Movie æ˜¯å¦åŒ…å«äº†ä¸€ä¸ªå€¼ (å°±æ˜¯è¯´, åˆ¤æ–­å‘ä¸‹è½¬æ¢æ˜¯å¦æˆåŠŸ) å¯é€‰ç»‘å®šå†™ä½œ â€œif let movie = item as? Movieâ€, å®ƒå¯ä»¥è¿™æ ·è¯»:</p>
<p>â€œå°è¯•ä½œä¸ºä¸€ä¸ªMovieæ¥è®¿é—®ã€‚ å¦‚æœæˆåŠŸäº†, æŠŠå¯é€‰è¿”å›å€¼è®¾ç½®ç»™ä¸€ä¸ªä¸´æ—¶å¸¸é‡ movie.â€</p>
<p>å¦‚æœå‘ä¸‹è½¬æ¢æˆåŠŸäº†, movieçš„å±æ€§ç”¨æ¥ä¸ºMovieå®ä¾‹æ‰“å°ä¸€æ¡æè¿°ä¿¡æ¯, åŒ…æ‹¬å¯¼æ¼”åã€‚ç›¸ä¼¼çš„åŸåˆ™ç”¨äºåˆ¤æ–­ Song å®ä¾‹, åœ¨æ‰¾åˆ°Songå®ä¾‹çš„æ—¶å€™å°±æ‰“å°å¯¹åº”çš„æè¿°ä¿¡æ¯(åŒ…æ‹¬è‰ºæœ¯å®¶åå­—)ã€‚</p>
<p>å¤‡æ³¨</p>
<p>è½¬æ¢ä¸ä¼šä¿®æ”¹å®ä¾‹çš„å€¼ã€‚æ½œåœ¨çš„å®ä¾‹ä¾ç„¶ç›¸åŒ; å®ƒä¼šç®€å•å¤„ç†å’Œè®¿é—®ä½œä¸ºè½¬æ¢çš„ç±»å‹ã€‚</p>
<h1 id="Any-å’Œ-AnyObjectçš„ç±»å‹è½¬æ¢"><a href="#Any-å’Œ-AnyObjectçš„ç±»å‹è½¬æ¢" class="headerlink" title="Any å’Œ AnyObjectçš„ç±»å‹è½¬æ¢"></a>Any å’Œ AnyObjectçš„ç±»å‹è½¬æ¢</h1><p>Swift æä¾›ä¸¤ä¸ªç‰¹åˆ«ç±»å‹æ¥ä½¿ç”¨æœªæŒ‡å®šçš„ç±»å‹:</p>
<p>Any å¯ä»¥è¡¨ç¤ºä»»æ„ç±»å‹çš„å®ä¾‹, åŒ…æ‹¬å‡½æ•°ç±»å‹ã€‚<br>AnyObjectå¯ä»¥è¡¨ç¤ºä»»æ„ç±»ç±»å‹çš„å®ä¾‹ã€‚<br>å½“ä½ éœ€è¦å®ƒä»¬æä¾›çš„è¡Œä¸ºå’Œèƒ½åŠ›çš„æ—¶å€™, å¯ä»¥ä½¿ç”¨Any å’Œ AnyObject. æ›´å¥½çš„å»ºè®®æ˜¯,åœ¨ä½ çš„ä»£ç ä¸­æŒ‡å®šä½ å¸Œæœ›çš„ç±»å‹ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­ä½¿ç”¨Anyæ¥å¤„ç†ä¸åŒç±»å‹çš„æ··åˆ, åŒ…æ‹¬å‡½æ•°ç±»å‹å’Œéç±»çš„ç±»å‹ã€‚è¿™ä¸ªä¾‹å­åˆ›å»ºäº†ä¸€ä¸ªæ•°ç»„ things, å®ƒå¯ä»¥å­˜å‚¨Anyç±»å‹çš„å€¼:<br><code><br>var things = <a href="">Any</a></code></p>
<p>things.append(0)<br>things.append(0.0)<br>things.append(42)<br>things.append(3.14159)<br>things.append(â€œhelloâ€)<br>things.append((3.0, 5.0))<br>things.append(Movie(name: â€œGhostbustersâ€, director: â€œIvan Reitmanâ€))<br>things.append({ (name: String) -&gt; String in â€œHello, (name)â€ })<br><code><br>things æ•°ç»„åŒ…å«äº†ä¸¤ä¸ªæ•´å‹å€¼, ä¸¤ä¸ªæµ®ç‚¹å€¼, ä¸€ä¸ªå­—ç¬¦ä¸²å€¼, ä¸€ä¸ªå…ƒç»„ç±»å‹ (Double, Double), ç”µå½± â€œGhostbustersâ€, å’Œä¸€ç»„è¡¨è¾¾å¼,è¿™ä¸ªè¡¨è¾¾å¼æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°å’Œä¸€ä¸ªå­—ç¬¦ä¸²è¿”å›å€¼ã€‚</code></p>
<p>ä¸ºäº†æ‰¾å‡ºä¸€ä¸ªå¸¸é‡æˆ–è€…å˜é‡çš„ç‰¹å®šç±»å‹, Any å’Œ AnyObject ç±»å‹, ä½ å¯ä»¥åœ¨ä¸€ä¸ªswitchè¯­å¥åˆ†æ”¯é‡Œä½¿ç”¨isæˆ–è€…as. ä¸‹é¢çš„ä¾‹å­éå†äº†thingsæ•°ç»„é‡Œçš„æ¯ä¸€é¡¹,ç„¶åä½¿ç”¨ä¸€ä¸ªswitchè¯­å¥æ¥æŸ¥è¯¢å®ƒä»¬çš„ç±»å‹ã€‚ä¸€äº›åˆ†æ”¯ç»‘å®šäº†æŒ‡å®šç±»å‹å¸¸é‡çš„åŒ¹é…å€¼æ¥ç¡®ä¿å®ƒçš„å€¼è¢«æ‰“å°å‡ºæ¥:<br><code><br>for thing in things {<br>    switch thing {<br>    case 0 as Int:<br>        print(â€œzero as an Intâ€)<br>    case 0 as Double:<br>        print(â€œzero as a Doubleâ€)<br>    case let someInt as Int:<br>        print(â€œan integer value of (someInt)â€)<br>    case let someDouble as Double where someDouble &gt; 0:<br>        print(â€œa positive double value of (someDouble)â€)<br>    case is Double:<br>        print(â€œsome other double value that I donâ€™t want to printâ€)<br>    case let someString as String:<br>        print(â€œa string value of \â€(someString)\â€â€)<br>    case let (x, y) as (Double, Double):<br>        print(â€œan (x, y) point at (x), (y)â€)<br>    case let movie as Movie:<br>        print(â€œa movie called (movie.name), dir. (movie.director)â€)<br>    case let stringConverter as (String) -&gt; String:<br>        print(stringConverter(â€œMichaelâ€))<br>    default:<br>        print(â€œsomething elseâ€)<br>    }<br>}</code></p>
<p>// zero as an Int<br>// zero as a Double<br>// an integer value of 42<br>// a positive double value of 3.14159<br>// a string value of â€œhelloâ€<br>// an (x, y) point at 3.0, 5.0<br>// a movie called Ghostbusters, dir. Ivan Reitman<br>// Hello, Michael<br><br>NOTE</p>
<p>Any ç±»å‹è¡¨ç¤ºä»»æ„ç±»å‹å€¼, åŒ…æ‹¬å¯é€‰ç±»å‹ã€‚å¦‚æœæŸä¸ªåœ°æ–¹éœ€è¦ä¸€ä¸ªAnyç±»å‹å€¼,ä½ è€Œä½ ä½¿ç”¨äº†å¯é€‰å€¼, Swift ä¼šç»™ä½ ä¸€ä¸ªè­¦å‘Šã€‚å¦‚æœä½ çœŸçš„éœ€è¦ä½¿ç”¨ä¸€ä¸ªå¯é€‰å€¼ä½œä¸º Any å€¼, ä½ å¯ä»¥ä½¿ç”¨ as æ“ä½œç¬¦æ˜¾å¼è½¬æ¢ optional ä¸º Any, å°±åƒä¸‹é¢å±•ç¤ºçš„è¿™æ ·ã€‚<br><code><br>let optionalNumber: Int? = 3<br>things.append(optionalNumber)        // Warning<br>things.append(optionalNumber as Any) // No warning<br></code></p>
<h1 id="åµŒå¥—ç±»å‹"><a href="#åµŒå¥—ç±»å‹" class="headerlink" title="åµŒå¥—ç±»å‹"></a>åµŒå¥—ç±»å‹</h1><p>æšä¸¾é€šå¸¸ç”¨æ¥æ”¯æŒä¸€ä¸ªç‰¹å®šç±»æˆ–è€…ç»“æ„ä½“çš„åŠŸèƒ½ã€‚ç±»ä¼¼çš„, æœ‰æ—¶å€™åœ¨ä¸€ä¸ªå¤æ‚ç±»å‹çš„å†…éƒ¨å®šä¹‰å·¥å…·ç±»æˆ–è€…ç»“æ„ä½“æ¥ä½¿ç”¨æ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚ä¸ºäº†å®Œæˆè¿™ä¸ª, Swift ç¡®ä¿ä½ å¯ä»¥å®šä¹‰åµŒå¥—ç±»å‹, å³åœ¨æ”¯æŒç±»å‹å®šä¹‰ä¸­å†…åµŒæ”¯æŒçš„æšä¸¾,ç±»å’Œç»“æ„ä½“ã€‚</p>
<p>ä¸ºäº†åœ¨å…¶ä»–ç±»å‹ä¸­å†…åµŒä¸€ä¸ªç±»å‹, åœ¨å®ƒæ”¯æŒç±»å‹çš„å¤–éƒ¨å¤§æ‹¬å·å†…å†™å®šä¹‰ã€‚ç±»å‹å¯ä»¥æŒ‰ç…§éœ€è¦å†…åµŒå¤šå±‚ã€‚</p>
<h1 id="å†…åµŒç±»å‹çš„è¡Œä¸º"><a href="#å†…åµŒç±»å‹çš„è¡Œä¸º" class="headerlink" title="å†…åµŒç±»å‹çš„è¡Œä¸º"></a>å†…åµŒç±»å‹çš„è¡Œä¸º</h1><p>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªç»“æ„ä½“ BlackjackCard, å®ƒæ¨¡æ‹Ÿäº†åœ¨Blackjack æ¸¸æˆä¸­ç©ç‰Œã€‚BlackJack ç»“æ„ä½“åŒ…å«äº†ä¸¤ä¸ªå†…åµŒçš„æšä¸¾ç±»å‹ Suit å’Œ Rank.</p>
<p>åœ¨ Blackjacké‡Œ, Ace ç‰Œé¢å€¼æˆ–è€…æ˜¯ä¸€æˆ–è€…æ˜¯åä¸€ã€‚è¿™ä¸ªç‰¹æ€§ç”¨ä¸€ä¸ªç»“æ„ä½“ Valuesæ¥è¡¨ç¤º, å®ƒåµŒå¥—åœ¨ Rank æšä¸¾é‡Œ:<br><code><br>struct BlackjackCard {</code></p>
<pre><code>// nested Suit enumeration
enum Suit: Character {
    case spades = &quot;â™ &quot;, hearts = &quot;â™¡&quot;, diamonds = &quot;â™¢&quot;, clubs = &quot;â™£&quot;
}

// nested Rank enumeration
enum Rank: Int {
    case two = 2, three, four, five, six, seven, eight, nine, ten
    case jack, queen, king, ace
    struct Values {
        let first: Int, second: Int?
    }
    var values: Values {
        switch self {
        case .ace:
            return Values(first: 1, second: 11)
        case .jack, .queen, .king:
            return Values(first: 10, second: nil)
        default:
            return Values(first: self.rawValue, second: nil)
        }
    }
}

// BlackjackCard properties and methods
let rank: Rank, suit: Suit
var description: String {
    var output = &quot;suit is \(suit.rawValue),&quot;
    output += &quot; value is \(rank.values.first)&quot;
    if let second = rank.values.second {
        output += &quot; or \(second)&quot;
    }
    return output
}
</code></pre><p>}<br><br>Suit æšä¸¾æè¿°äº†ç©ç‰Œçš„å››ç§èŠ±è‰², å¸¦æœ‰raw å­—ç¬¦å€¼æ¥è¡¨ç¤ºå®ƒä»¬çš„ç¬¦å·ã€‚</p>
<p>Rank æšä¸¾æè¿°äº†13ç§ç©ç‰Œæ’å, å¸¦æœ‰ä¸€ä¸ªraw æ•´å‹å€¼æ¥è¡¨ç¤ºå®ƒä»¬çš„ç‰Œé¢å€¼ (è¿™ä¸ªrawæ•´å‹å€¼æ²¡æœ‰ç”¨äºJack, Queen, King, å’Œ Ace)</p>
<p>æ­£å¦‚ä¸Šé¢æåˆ°çš„,Rank æšä¸¾å®šä¹‰äº†æ›´æ·±çš„åµŒå¥—ç»“æ„ä½“ Values. è¿™ä¸ªç»“æ„ä½“å°è£…äº†å¤§å¤šæ•°ç‰Œéƒ½æœ‰ä¸€ä¸ªå€¼çš„äº‹å®, ä¸è¿‡ Ace ç‰Œæœ‰ä¸¤ä¸ªå€¼ã€‚ Values ç»“æ„ä½“å®šä¹‰äº†ä¸¤ä¸ªå±æ€§æ¥è¡¨ç¤ºè¿™ä¸ª:</p>
<p>ç¬¬ä¸€ä¸ª, ç±»å‹æ˜¯ Int<br>ç¬¬äºŒä¸ª, ç±»å‹æ˜¯ Int?, æˆ–è€…â€œå¯é€‰ Intâ€<br>Rank åŒæ—¶å®šä¹‰äº†ä¸€ä¸ªè®¡ç®—å±æ€§values, å®ƒä¼šè¿”å› Values ç»“æ„ä½“çš„å®ä¾‹ã€‚è¿™ä¸ªè®¡ç®—å±æ€§è€ƒå¯Ÿç‰Œçš„æ’åå¹¶ä¸”åŸºäºæ’åç”¨å¯¹åº”çš„å€¼æ¥åˆå§‹åŒ–æ–°çš„ Values å®ä¾‹ã€‚å®ƒä¸ºjack, queen, king, å’Œ aceä½¿ç”¨ç‰¹åˆ«çš„å€¼ã€‚å¯¹äºæ•°å­ç‰Œ, å®ƒä½¿ç”¨ raw æ•´å‹å€¼ã€‚</p>
<p>BlackjackCard ç»“æ„ä½“è‡ªå·±æœ‰ä¸¤ä¸ªå±æ€§â€”rank å’Œ suit. å®ƒä¹Ÿå®šä¹‰äº†ä¸€ä¸ªè®¡ç®—å±æ€§description, å®ƒä½¿ç”¨rank å’Œ suitä¸­çš„å€¼å»ºç«‹ç‰Œåå­—å’Œæ•°å€¼çš„æè¿°ã€‚description å±æ€§ä½¿ç”¨å¯é€‰ç»‘å®šæ¥åˆ¤æ–­æ˜¯å¦æœ‰ç¬¬äºŒä¸ªå€¼éœ€è¦å±•ç¤º, å¦‚æœæ˜¯, æŠŠç¬¬äºŒä¸ªå€¼æ’å…¥æè¿°ä¿¡æ¯ã€‚</p>
<p>ç”±äº BlackjackCard æ˜¯ä¸€ä¸ªæ²¡æœ‰è‡ªå®šä¹‰æ„é€ å™¨çš„ç»“æ„ä½“, å®ƒæœ‰ä¸€ä¸ªéšå¼çš„æˆå‘˜æ„é€ å™¨ã€‚ä½ å¯ä»¥ç”¨è¿™ä¸ªæ„é€ å™¨æ¥æ„é€ ä¸€ä¸ªæ–°çš„å¸¸é‡theAceOfSpades:<br><code><br>let theAceOfSpades = BlackjackCard(rank: .ace, suit: .spades)<br>print(â€œtheAceOfSpades: (theAceOfSpades.description)â€)<br>// æ‰“å° â€œtheAceOfSpades: suit is â™ , value is 1 or 11â€<br></code><br>å°½ç®¡ Rank å’Œ Suit åµŒå¥—åœ¨ BlackjackCardé‡Œé¢, å®ƒä»¬çš„ç±»å‹å¯ä»¥é€šè¿‡ä¸Šä¸‹æ–‡æ¨æ–­å‡ºæ¥, æ‰€ä»¥è¿™ä¸ªå®ä¾‹çš„åˆå§‹åŒ–å¯ä»¥æ ¹æ®åˆ†æ”¯åè°ƒç”¨æšä¸¾åˆ†æ”¯ (.ace å’Œ .spades) . ä¸Šé¢çš„ä¾‹å­é‡Œ, description å±æ€§æ­£ç¡®æŠ¥å‡ºé»‘æ¡ƒ Ace ç‰Œé¢å€¼æ˜¯1æˆ–è€…11.</p>
<h1 id="è°ƒç”¨åµŒå¥—ç±»å‹"><a href="#è°ƒç”¨åµŒå¥—ç±»å‹" class="headerlink" title="è°ƒç”¨åµŒå¥—ç±»å‹"></a>è°ƒç”¨åµŒå¥—ç±»å‹</h1><p>åœ¨å®šä¹‰ä¸Šä¸‹æ–‡ä¹‹å¤–è°ƒç”¨åµŒå¥—ç±»å‹, è¦åœ¨å®ƒçš„åå­—å‰åŠ ä¸Šå®ƒå†…åµŒçš„ç±»å‹å:<br><code><br>let heartsSymbol = BlackjackCard.Suit.hearts.rawValue<br>// heartsSymbol is â€œâ™¡â€<br></code></p>
<h1 id="æ‰©å±•"><a href="#æ‰©å±•" class="headerlink" title="æ‰©å±•"></a>æ‰©å±•</h1><p>æ‰©å±•å¯ä»¥ç»™å­˜åœ¨çš„ç±»,ç»“æ„ä½“,æšä¸¾æˆ–è€…åè®®ç±»å‹æ·»åŠ æ–°åŠŸèƒ½ã€‚åŒ…æ‹¬ç»™ä½ æ— æ³•è®¿é—®çš„æºä»£ç æ‰©å±•ç±»å‹çš„èƒ½åŠ› (ä¹Ÿå°±æ˜¯é€†å‘å»ºæ¨¡)ã€‚ æ‰©å±•ç±»ä¼¼äºObjective-C çš„åˆ†ç±»ã€‚ (è·Ÿ Objective-C åˆ†ç±»çš„æ˜¯, Swift æ‰©å±•æ²¡æœ‰åå­—)</p>
<h1 id="Swift-æ‰©å±•å¯ä»¥"><a href="#Swift-æ‰©å±•å¯ä»¥" class="headerlink" title="Swift æ‰©å±•å¯ä»¥:"></a>Swift æ‰©å±•å¯ä»¥:</h1><p>æ·»åŠ è®¡ç®—å®ä¾‹å±æ€§å’Œè®¡ç®—ç±»å‹å±æ€§<br>å®šä¹‰å®ä¾‹æ–¹æ³•å’Œç±»å‹æ–¹æ³•<br>æä¾›æ–°çš„æ„é€ å™¨<br>å®šä¹‰ä¸‹æ ‡<br>å®šä¹‰å’Œä½¿ç”¨æ–°çš„åµŒå¥—ç±»å‹<br>è®©å·²å­˜åœ¨çš„ç±»å‹ç¬¦åˆä¸€ä¸ªåè®®<br>åœ¨ Swifté‡Œ, ä½ ç”šè‡³å¯ä»¥æ‰©å±•ä¸€ä¸ªåè®®æ¥æä¾›éœ€è¦çš„å®ç°æˆ–è€…æˆ–è€…æ·»åŠ é¢å¤–çš„åŠŸèƒ½ç¬¦åˆä½¿ç”¨çš„ç±»å‹ã€‚</p>
<p>å¤‡æ³¨</p>
<p>æ‰©å±•å¯ä»¥ç»™ä¸€ä¸ªç±»å‹æ·»åŠ æ–°åŠŸèƒ½, ä½†æ˜¯å®ƒä»¬ä¸èƒ½è¦†ç›–å·²ç»å­˜åœ¨çš„åŠŸèƒ½ã€‚</p>
<h1 id="æ‰©å±•è¯­æ³•"><a href="#æ‰©å±•è¯­æ³•" class="headerlink" title="æ‰©å±•è¯­æ³•"></a>æ‰©å±•è¯­æ³•</h1><p>ä½¿ç”¨ extension å…³é”®å­—æ¥å£°æ˜æ‰©å±•:<br><code><br>extension SomeType {<br>    // new functionality to add to SomeType goes here<br>}<br></code><br>æ‰©å±•å¯ä»¥è®©å·²å­˜åœ¨çš„ç±»å‹ç¬¦åˆä¸€ä¸ªæˆ–è€…å¤šä¸ªåè®®ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹, åè®®åè·Ÿç±»å’Œç»“æ„ä½“çš„åå­—å†™æ³•ä¸€æ ·:<br><code><br>extension SomeType: SomeProtocol, AnotherProtocol {<br>    // implementation of protocol requirements goes here<br>}<br></code></p>
<p>å¤‡æ³¨</p>
<p>å¦‚æœå®šä¹‰ä¸€ä¸ªæ‰©å±•æ¥ç»™å·²å­˜åœ¨çš„ç±»å‹æ·»åŠ æ–°åŠŸèƒ½, è¿™ä¸ªæ–°åŠŸèƒ½ç»™æ‰€æœ‰è¿™ç§ç±»å‹çš„å®ä¾‹ä½¿ç”¨, å³ä½¿å®ƒä»¬åœ¨æ‰©å±•å®šä¹‰å‰å·²ç»åˆ›å»ºã€‚</p>
<h1 id="è®¡ç®—å±æ€§"><a href="#è®¡ç®—å±æ€§" class="headerlink" title="è®¡ç®—å±æ€§"></a>è®¡ç®—å±æ€§</h1><p>æ‰©å±•å¯ä»¥ç»™å·²å­˜åœ¨ç±»å‹æ·»åŠ è®¡ç®—å®ä¾‹å±æ€§å’Œè®¡ç®—ç±»å‹å±æ€§ã€‚ä¸‹é¢çš„ä¾‹å­ç»™Swiftçš„å†…å»ºæµ®ç‚¹ç±»å‹æ·»åŠ äº†äº”ä¸ªè®¡ç®—å®ä¾‹å±æ€§, æä¾›äº†åŸºæœ¬æ”¯æŒæ¥ä½¿ç”¨è·ç¦»å•ä½:<br><code><br>extension Double {<br>    var km: Double { return self * 1_000.0 }<br>    var m: Double { return self }<br>    var cm: Double { return self / 100.0 }<br>    var mm: Double { return self / 1_000.0 }<br>    var ft: Double { return self / 3.28084 }<br>}<br>let oneInch = 25.4.mm<br>print(â€œOne inch is (oneInch) metersâ€)<br>// æ‰“å° â€œOne inch is 0.0254 metersâ€<br>let threeFeet = 3.ft<br>print(â€œThree feet is (threeFeet) metersâ€)<br>// æ‰“å° â€œThree feet is 0.914399970739201 metersâ€<br></code><br>è¿™äº›è®¡ç®—å±æ€§è¡¨ç¤º,ä¸€ä¸ªæµ®ç‚¹å€¼åº”è¯¥è¢«å½“åšä¸€ä¸ªç‰¹å®šçš„é•¿åº¦å•ä½ã€‚å°½ç®¡å®ƒä»¬å®ç°æˆè®¡ç®—å±æ€§, è¿™äº›å±æ€§çš„åå­—å¯ä»¥ç”¨ç‚¹è¯­æ³•æ·»åŠ åˆ°æµ®ç‚¹å€¼çš„åé¢, ä½¿ç”¨è¿™äº›å­—é¢é‡æ¥æ‰§è¡Œè·ç¦»çš„è½¬æ¢ã€‚</p>
<p>åœ¨è¿™ä¸ªä¾‹å­é‡Œ, æµ®ç‚¹å€¼ 1.0 è¢«è®¤ä¸ºè¡¨ç¤º1ç±³ã€‚å°±æ˜¯ä¸ºä»€ä¹ˆmè®¡ç®—å±æ€§è¿”å›selfâ€”1.m è¡¨è¾¾å¼è¢«è®¤ä¸ºæ˜¯è®¡ç®—1.0çš„æµ®ç‚¹å€¼ã€‚</p>
<p>å…¶ä»–å•ä½è½¬æ¢ä½¿ç”¨ç±³æµ‹é‡ã€‚ä¸€åƒç±³ç›¸å½“äº 1,000 ç±³, æ‰€ä»¥kmè®¡ç®—å±æ€§æŠŠæ•°å€¼ä¹˜ä»¥1_000.00 æ¥è½¬æ¢æˆç”¨ç±³è¡¨ç¤ºçš„æ•°ã€‚ç›¸ä¼¼çš„, ä¸€ç±³æœ‰3.28084 å°º, æ‰€ä»¥ ft è®¡ç®—å±æ€§ç”¨æ½œåœ¨çš„æµ®ç‚¹æ•°å€¼é™¤ä»¥3.28084, æŠŠå°ºè½¬æ¢ä¸ºç±³ã€‚</p>
<p>è¿™äº›å±æ€§æ˜¯åªè¯»çš„è®¡ç®—å±æ€§, æ‰€ä»¥å®ƒä»¬è¡¨ç¤ºçš„æ—¶å€™æ²¡æœ‰å¸¦ä¸Š get å…³é”®å­—, ä¸ºäº†ç®€æ´æ€§ã€‚å®ƒä»¬çš„è¿”å›å€¼æ˜¯æµ®ç‚¹å‹, å¯ä»¥ç”¨åœ¨æ¥å—æµ®ç‚¹æ•°çš„æ•°å­¦è¿ç®—ä¸­ã€‚<br><code><br>let aMarathon = 42.km + 195.m<br>print(â€œA marathon is (aMarathon) meters longâ€)<br>// æ‰“å° â€œA marathon is 42195.0 meters longâ€<br></code><br>å¤‡æ³¨</p>
<p>æ‰©å±•å¯ä»¥æ·»åŠ æ–°çš„è®¡ç®—å±æ€§, ä½†æ˜¯å®ƒä»¬ä¸èƒ½æ·»åŠ å­˜å‚¨å±æ€§, ä¹Ÿä¸èƒ½ç»™å·²å­˜åœ¨çš„å±æ€§æ·»åŠ è§‚å¯Ÿè€…ã€‚</p>
<h1 id="æ„é€ å™¨"><a href="#æ„é€ å™¨" class="headerlink" title="æ„é€ å™¨"></a>æ„é€ å™¨</h1><p>æ‰©å±•å¯ä»¥ç»™å·²å­˜åœ¨ç±»å‹æ·»åŠ æ–°çš„æ„é€ å™¨ã€‚è¿™è®©ä½ å¯ä»¥æ‰©å±•å…¶ä»–ç±»å‹æ¥æ¥å—ä½ è‡ªå®šçš„ç±»å‹ä½œä¸ºæ„é€ å™¨çš„å‚æ•°, æˆ–è€…æä¾›é¢å¤–çš„æ„é€ é€‰é¡¹,è¿™äº›ä¸ä¼šåŒ…å«åœ¨ç±»å‹çš„åŸå§‹å®ç°ä»£ç ä¸­ã€‚</p>
<p>æ‰©å±•å¯ä»¥ç»™ä¸€ä¸ªç±»æ·»åŠ æ–°çš„ä¾¿åˆ©æ„é€ å™¨, ä½†æ˜¯ä¸èƒ½æ·»åŠ æ–°çš„æŒ‡å®šæ„é€ å™¨æˆ–è€…ææ„å™¨ã€‚æŒ‡å®šæ„é€ å™¨å’Œææ„å™¨å¿…é¡»åœ¨åŸå§‹ç±»å®ç°ä¸­æä¾›ã€‚</p>
<p>å¤‡æ³¨</p>
<p>å¦‚æœä½¿ç”¨æ‰©å±•ä¸ºå€¼ç±»å‹æ·»åŠ ä¸€ä¸ªæ„é€ å™¨, ä¸ºæ‰€æœ‰çš„å­˜å‚¨å±æ€§æä¾›é»˜è®¤å€¼,åŒæ—¶ä¸ä¼šå®šä¹‰ä»»ä½•è‡ªå®šä¹‰çš„æ„é€ å™¨ã€‚ä½ å¯ä»¥åœ¨ä½ çš„æ‰©å±•æ„é€ å™¨é‡Œè°ƒç”¨é»˜è®¤çš„æ„é€ å™¨å’Œæˆå‘˜æ„é€ å™¨ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ª Rect ç»“æ„ä½“æ¥è¡¨ç¤ºä¸€ä¸ªç®—æœ¯çŸ©å½¢ã€‚è¿™ä¸ªä¾‹å­åŒæ—¶å®šä¹‰äº†ä¸¤ä¸ªè¾…åŠ©çš„ç»“æ„ä½“Size å’Œ Point, ä¸¤ä¸ªç»“æ„ä½“éƒ½ç»™æ‰€æœ‰çš„å±æ€§æä¾›é»˜è®¤å€¼ 0.0:<br><code><br>struct Size {<br>    var width = 0.0, height = 0.0<br>}<br>struct Point {<br>    var x = 0.0, y = 0.0<br>}<br>struct Rect {<br>    var origin = Point()<br>    var size = Size()<br>}<br></code><br>ç”±äº Rect ç»“æ„ä½“ç»™æ‰€æœ‰çš„å±æ€§æä¾›äº†é»˜è®¤å€¼, å®ƒä¼šæœ‰ä¸€ä¸ªé»˜è®¤çš„æ„é€ å™¨å’Œä¸€ä¸ªæˆå‘˜æ„é€ å™¨ã€‚ è¿™äº›æ„é€ å™¨å¯ä»¥ç”¨æ¥åˆ›å»ºæ–°çš„ Rect å®ä¾‹:<br><code><br>let defaultRect = Rect()<br>let memberwiseRect = Rect(origin: Point(x: 2.0, y: 2.0),<br>                          size: Size(width: 5.0, height: 5.0))<br>                          </code><br>ä½ å¯ä»¥æ‰©å±•Rectç»“æ„ä½“,æä¾›ä¸€ä¸ªé¢å¤–çš„æ„é€ å™¨,å¸¦æœ‰ä¸€ä¸ªæŒ‡å®šçš„ä¸­å¿ƒç‚¹å’Œå¤§å°:<br><code><br>extension Rect {<br>    init(center: Point, size: Size) {<br>        let originX = center.x - (size.width / 2)<br>        let originY = center.y - (size.height / 2)<br>        self.init(origin: Point(x: originX, y: originY), size: size)<br>    }<br>}<br> </code><br>æ–°çš„æ„é€ å™¨ä¸€å¼€å§‹å…ˆåŸºäºæä¾›çš„ä¸­å¿ƒç‚¹å’Œå¤§å°,è®¡ç®—å‡ºä¸€ä¸ªå¯¹åº”çš„åŸç‚¹ã€‚ç„¶åè°ƒç”¨ç»“æ„ä½“çš„æˆå‘˜æ„é€ å™¨ init(origin:size:), å®ƒåœ¨å¯¹åº”çš„å±æ€§ä¸­å­˜å‚¨æœ€æ–°çš„åŸç‚¹å’Œå¤§å°å€¼:<br><code><br>let centerRect = Rect(center: Point(x: 4.0, y: 4.0),<br>                      size: Size(width: 3.0, height: 3.0))<br>// centerRectâ€™s origin is (2.5, 2.5) and its size is (3.0, 3.0)<br></code><br>å¤‡æ³¨</p>
<p>å¦‚æœä½ ç”¨æ‰©å±•æ¥æä¾›æ–°çš„æ„é€ å™¨, ä½ æœ‰è´£ä»»ç¡®ä¿åˆå§‹åŒ–å®Œæˆæ—¶,æ‰€æœ‰å®ä¾‹éƒ½è¢«å®Œå…¨çš„æ„é€ äº†ã€‚</p>
<h1 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h1><p>æ‰©å±•å¯ä»¥ç»™å·²å­˜åœ¨çš„ç±»å‹æ·»åŠ å®ä¾‹æ–¹æ³•å’Œç±»å‹æ–¹æ³•ã€‚ä¸‹é¢çš„ä¾‹å­ç»™Intç±»å‹æ·»åŠ äº†ä¸€ä¸ªæ–°çš„å®ä¾‹æ–¹æ³•repetitions:<br><code><br>extension Int {<br>    func repetitions(task: () -&gt; Void) {<br>        for _ in 0..<self {="" task()="" }="" <="" code=""><br>repetitions(task:) æ–¹æ³•åªæœ‰ä¸€ä¸ªå‚æ•° () -&gt; Void, å®ƒè¡¨æ˜ä¸€ä¸ªæ²¡æœ‰å‚æ•°å’Œè¿”å›å€¼çš„å‡½æ•°ã€‚</self></code></p>
<p>æ‰©å±•å®šä¹‰ä¹‹å, ä½ å¯ä»¥åœ¨ä»»ä½•æ•´æ•°ä¸Šè°ƒç”¨ repetitions(task:) æ–¹æ³•æ¥æ‰§è¡Œå¤šæ¬¡åŒæ ·çš„ä»»åŠ¡:<br><code><br>3.repetitions {<br>    print(â€œHello!â€)<br>}<br>// Hello!<br>// Hello!<br>// Hello!<br></code></p>
<h1 id="æ”¹å˜å®ä¾‹æ–¹æ³•"><a href="#æ”¹å˜å®ä¾‹æ–¹æ³•" class="headerlink" title="æ”¹å˜å®ä¾‹æ–¹æ³•"></a>æ”¹å˜å®ä¾‹æ–¹æ³•</h1><p>ç”¨æ‰©å±•æ·»åŠ çš„å®ä¾‹æ–¹æ³•ä¹Ÿå¯ä»¥æ”¹å˜å®ä¾‹æœ¬èº«ã€‚ç»“æ„ä½“å’Œæšä¸¾æ–¹æ³•,èƒ½æ”¹å˜è‡ªèº«æˆ–è€…å±æ€§çš„å¿…é¡»æ ‡è®°ä¸º mutating, å°±åƒæ¥è‡ªåŸå§‹å®ç°çš„ mutating æ–¹æ³•ä¸€æ ·ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­ç»™Swiftçš„æ•´å‹æ·»åŠ äº†ä¸€ä¸ªæ–°çš„ mutating æ–¹æ³•, å®ƒç”¨æ¥è®¡ç®—åŸå§‹å€¼çš„å¹³æ–¹:<br><code><br>extension Int {<br>    mutating func square() {<br>        self = self * self<br>    }<br>}<br>var someInt = 3<br>someInt.square()<br>// someInt is now 9<br></code></p>
<h1 id="ä¸‹æ ‡"><a href="#ä¸‹æ ‡" class="headerlink" title="ä¸‹æ ‡"></a>ä¸‹æ ‡</h1><p>æ‰©å±•å¯ä»¥ç»™å·²å­˜åœ¨çš„ç±»å‹æ·»åŠ ä¸‹æ ‡ã€‚ä¸‹é¢çš„ä¾‹å­ç»™Swift å†…å»ºæ•´å‹æ·»åŠ äº†ä¸ªæ•´å‹ä¸‹æ ‡ã€‚ä¸‹æ ‡ [n] è¿”å›ä»å³è¾¹ç®—ç¬¬nä¸ªåè¿›åˆ¶æ•°å­—:</p>
<p>123456789[0] returns 9<br>123456789[1] returns 8<br>â€¦and so on:<br><code><br>extension Int {<br>    subscript(digitIndex: Int) -&gt; Int {<br>        var decimalBase = 1<br>        for _ in 0..<digitindex 2="" 5="" 7="" 9="" 10="" {="" decimalbase="" *="10" }="" return="" (self="" decimalbase)="" %="" 746381295[0]="" returns="" 746381295[1]="" 746381295[2]="" 746381295[8]="" <="" code=""><br>å¦‚æœæ•´æ•°æ²¡æœ‰è¶³å¤Ÿçš„ä½æ•°æ»¡è¶³è¯·æ±‚ç´¢å¼•, ä¸‹æ ‡å®ç°ä¼šè¿”å› 0, å¥½åƒè¿™ä¸ªæ•°å­—å·¦è¾¹å¡«å……äº†0:<br><code><br>746381295[9]<br>// returns 0, as if you had requested:<br>0746381295[9]<br></code></digitindex></code></p>
<h1 id="åµŒå¥—ç±»å‹-1"><a href="#åµŒå¥—ç±»å‹-1" class="headerlink" title="åµŒå¥—ç±»å‹"></a>åµŒå¥—ç±»å‹</h1><p>æ‰©å±•å¯ä»¥ç»™å·²å­˜åœ¨çš„ç±»,ç»“æ„ä½“å’Œæšä¸¾æ·»åŠ æ–°çš„åµŒå¥—ç±»å‹:<br><code><br>extension Int {<br>    enum Kind {<br>        case negative, zero, positive<br>    }<br>    var kind: Kind {<br>        switch self {<br>        case 0:<br>            return .zero<br>        case let x where x &gt; 0:<br>            return .positive<br>        default:<br>            return .negative<br>        }<br>    }<br>}<br></code><br>è¿™ä¸ªä¾‹å­å‘Intç±»å‹æ·»åŠ äº†ä¸€ä¸ªæ–°çš„åµŒå¥—æšä¸¾ã€‚è¿™ä¸ªæšä¸¾ Kind, è¡¨ç¤ºä¸€ä¸ªæ•´æ•°è¡¨ç¤ºçš„æ•°å­—ç§ç±»ã€‚ç‰¹åˆ«çš„æ˜¯, å®ƒè¡¨ç¤ºè¿™ä¸ªæ•°ç»„æ˜¯å¦æ˜¯æ­£æ•°,0,æˆ–è€…è´Ÿæ•°ã€‚</p>
<p>è¿™ä¸ªä¾‹å­åŒæ—¶ä¹Ÿæ·»åŠ äº†ä¸€ä¸ªæ–°çš„è®¡ç®—å±æ€§ kind, å®ƒä¼šæ ¹æ®æ•´æ•°è¿”å›å¯¹åº”çš„ Kind æšä¸¾åˆ†æ”¯ã€‚</p>
<p>è¿™ä¸ªåµŒå¥—çš„æšä¸¾å¯ä»¥ç”¨åœ¨ä»»æ„æ•´æ•°å€¼:<br><code><br>func printIntegerKinds(<em> numbers: [Int]) {<br>    for number in numbers {<br>        switch number.kind {<br>        case .negative:<br>            print(â€œ- â€œ, terminator: â€œâ€)<br>        case .zero:<br>            print(â€œ0 â€œ, terminator: â€œâ€)<br>        case .positive:<br>            print(â€œ+ â€œ, terminator: â€œâ€)<br>        }<br>    }<br>    print(â€œâ€)<br>}<br>printIntegerKinds([3, 19, -27, 0, -6, 0, 7])<br>// æ‰“å° â€œ+ + - 0 - 0 + â€œ<br></em></code><br>è¿™ä¸ªå‡½æ•° printIntegerKinds(:), è¾“å…¥ä¸€ä¸ªæ•´æ•°æ•°ç»„ç„¶åéå†è¿™äº›å€¼ã€‚å¯¹äºæ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªæ•´æ•°æ¥è¯´, å‡½æ•°ä¼šæ£€æŸ¥å®ƒçš„kindè®¡ç®—å±æ€§, ç„¶åæ‰“å°å¯¹åº”çš„æè¿°ä¿¡æ¯ã€‚</p>
<p>å¤‡æ³¨</p>
<p>number.kind å·²ç»çŸ¥é“æ˜¯ Int.Kind ç±»å‹ã€‚å› ä¸ºè¿™ä¸ªåŸå› , æ‰€æœ‰ Int.Kind åˆ†æ”¯å€¼åœ¨switchè¯­å¥ä¸­éƒ½æ˜¯ç®€å†™, æ¯”å¦‚ .negative rather è€Œä¸æ˜¯ Int.Kind.negative.</p>
<h1 id="åè®®"><a href="#åè®®" class="headerlink" title="åè®®"></a>åè®®</h1><p>A protocol defines a blueprint of methods, properties, and other requirements that suit a particular task or piece of functionality. The protocol can then be adopted by a class, structure, or enumeration to provide an actual implementation of those requirements. Any type that satisfies the requirements of a protocol is said to conform to that protocol.</p>
<p>In addition to specifying requirements that conforming types must implement, you can extend a protocol to implement some of these requirements or to implement additional functionality that conforming types can take advantage of.</p>
<h1 id="åè®®è¯­æ³•"><a href="#åè®®è¯­æ³•" class="headerlink" title="åè®®è¯­æ³•"></a>åè®®è¯­æ³•</h1><p>å®šä¹‰åè®®çš„æ–¹å¼è·Ÿç±»,ç»“æ„ä½“å’Œæšä¸¾å¾ˆç›¸ä¼¼:<br><code><br>protocol SomeProtocol {<br>    // protocol definition goes here<br>}<br></code><br>è‡ªå®šä¹‰ç±»å‹è§„å®š,éµå®ˆæŸä¸ªåè®®,è¦æŠŠåè®®åå†™åœ¨ç±»å‹åçš„åé¢,ç”¨å†’å·åˆ†å¼€ã€‚å¤šä¸ªåè®®å¯ä»¥ç”¨é€—å·éš”å¼€:<br><code><br>struct SomeStructure: FirstProtocol, AnotherProtocol {<br>    // structure definition goes here<br>}<br></code><br>å¦‚æœä¸€ä¸ªç±»æœ‰è¶…ç±», æŠŠè¶…ç±»åå†™åœ¨æ‰€æœ‰åè®®çš„å‰é¢, åé¢è·Ÿç€é€—å·:<br><code><br>class SomeClass: SomeSuperclass, FirstProtocol, AnotherProtocol {<br>    // class definition goes here<br>}<br></code></p>
<h1 id="å±æ€§éœ€æ±‚"><a href="#å±æ€§éœ€æ±‚" class="headerlink" title="å±æ€§éœ€æ±‚"></a>å±æ€§éœ€æ±‚</h1><p>ä¸€ä¸ªåè®®å¯ä»¥è¦æ±‚ç¬¦åˆç±»å‹å»æä¾›ä¸€ä¸ªå¸¦æœ‰åå­—å’Œç±»å‹çš„å®ä¾‹å±æ€§æˆ–è€…ç±»å‹å±æ€§ã€‚åè®®ä¸èƒ½æŒ‡å®šå±æ€§æ˜¯å¦åº”è¯¥æ˜¯ä¸€ä¸ªå­˜å‚¨å±æ€§è¿˜æ˜¯ä¸€ä¸ªè®¡ç®—å±æ€§â€”å®ƒåªèƒ½æŒ‡å®šéœ€è¦çš„å±æ€§çš„åå­—å’Œç±»å‹ã€‚åè®®ä¹ŸæŒ‡å®šäº†æ˜¯å¦æ¯ä¸€ä¸ªå±æ€§å¿…é¡»æ˜¯ gettable æˆ–è€…åŒæ—¶æ˜¯ gettable å’Œ settable.</p>
<p>å¦‚æœä¸€ä¸ªåè®®è¦æ±‚å±æ€§æ˜¯ gettable å’Œ settable, è¿™ä¸ªå±æ€§è¦æ±‚å¯¹äºä¸€ä¸ªå¸¸é‡å­˜å‚¨å±æ€§æˆ–è€…ä¸€ä¸ªåªè¯»è®¡ç®—å±æ€§æ˜¯æ²¡æœ‰åŠæ³•å®Œæˆçš„ã€‚å¦‚æœåè®®åªè¦æ±‚å±æ€§æ˜¯ gettable, è¿™ä¸ªè¦æ±‚å¯ä»¥è¢«ä»»æ„ç±»å‹çš„å±æ€§æ»¡è¶³, å¦‚æœè¿™ä¸ªå¯¹ä½ è‡ªå·±çš„ä»£ç æœ‰ç”¨çš„è¯,å¯¹äºsettableçš„å±æ€§ä¹Ÿæ˜¯æœ‰æ•ˆçš„ã€‚</p>
<p>å±æ€§éœ€æ±‚æ€»æ˜¯å£°æ˜ä¸ºå˜é‡å±æ€§, å‰é¢æ˜¯varå…³é”®å­—ã€‚Gettable å’Œ settable å±æ€§,åœ¨å®ƒä»¬çš„ç±»å‹å£°æ˜åé¢å†™ä¸Š { get set } æ¥æ ‡æ˜ã€‚gettable å±æ€§åªéœ€å†™ä¸Š { get }.<br><code><br>protocol SomeProtocol {<br>    var mustBeSettable: Int { get set }<br>    var doesNotNeedToBeSettable: Int { get }<br>}<br></code><br>å½“ä½ å®šä¹‰ç±»å‹å±æ€§éœ€æ±‚æ—¶,æ€»æ˜¯è¦åœ¨å®ƒä»¬å‰é¢åŠ ä¸Šstatic å…³é”®å­—ã€‚å°½ç®¡ç±»å‹å±æ€§éœ€æ±‚å‰ç¼€å¯ä»¥æ˜¯staticæˆ–è€…class,è¿™ä¸ªè§„åˆ™åœ¨ç”¨ç±»å®ç°çš„æ—¶å€™åŒæ ·é€‚ç”¨:<br><code><br>protocol AnotherProtocol {<br>    static var someTypeProperty: Int { get set }<br>}<br></code><br>è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­,åè®®åªæœ‰ä¸€ä¸ªå®ä¾‹å±æ€§éœ€æ±‚:<br><code><br>protocol FullyNamed {<br>    var fullName: String { get }<br>}<br></code><br>FullyNamed åè®®è¦æ±‚ç¬¦åˆç±»å‹æä¾›ä¸€ä¸ªå®Œå…¨é™å®šçš„åå­—ã€‚åè®®ä¸èƒ½æŒ‡å®šå…¶ä»–å…³äºç¬¦åˆç±»å‹æœ¬èº«çš„ä¸œè¥¿â€”å®ƒåªèƒ½æŒ‡å®šç±»å‹å¿…é¡»æä¾›ä¸€ä¸ªå…¨åã€‚åè®®è§„å®šä»»ä½• FullyNamed ç±»å‹å¿…é¡»æœ‰ä¸€ä¸ª gettable å®ä¾‹å±æ€§ fullName, å®ƒæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªç»“æ„ä½“çš„ä¾‹å­,å®ƒé‡‡ç”¨å¹¶ç¬¦åˆäº† FullyNamed åè®®:<br><code><br>struct Person: FullyNamed {<br>    var fullName: String<br>}<br>let john = Person(fullName: â€œJohn Appleseedâ€)<br>// john.fullName is â€œJohn Appleseedâ€<br></code><br>è¿™ä¸ªä¾‹å­å®šä¹‰äº†ä¸€ä¸ªç»“æ„ä½“ Person, å®ƒè¡¨ç¤ºä¸€ä¸ªæŒ‡å®šåå­—çš„äººã€‚å®ƒè§„å®š,é‡‡ç”¨ FullyNamed åè®®ä½œä¸ºå®ç°çš„ç¬¬ä¸€è¡Œçš„éƒ¨åˆ†ã€‚</p>
<p>Person æ¯ä¸ªå®ä¾‹éƒ½åªæœ‰ä¸€ä¸ªå­˜å‚¨å±æ€§ fullName, å®ƒä»¬æ˜¯å­—ç¬¦ä¸²ç±»å‹ã€‚è¿™ä¸ªåŒ¹é…äº† FullyNamed åè®®çš„å”¯ä¸€éœ€æ±‚, è¯´æ˜ Person æ­£ç¡®éµå®ˆäº†è¿™ä¸ªåè®®ã€‚ (å¦‚æœåè®®è¦æ±‚æ²¡æœ‰å®ç°,Swift ä¼šæŠ¥ç¼–è¯‘æœŸé”™è¯¯)</p>
<p>è¿™é‡Œæœ‰ä¸ªæ›´å¤æ‚çš„ç±», å®ƒä¹Ÿæ˜¯é‡‡ç”¨å¹¶éµå®ˆäº† FullyNamed åè®®:<br><code><br>class Starship: FullyNamed {<br>    var prefix: String?<br>    var name: String<br>    init(name: String, prefix: String? = nil) {<br>        self.name = name<br>        self.prefix = prefix<br>    }<br>    var fullName: String {<br>        return (prefix != nil ? prefix! + â€œ â€œ : â€œâ€) + name<br>    }<br>}<br>var ncc1701 = Starship(name: â€œEnterpriseâ€, prefix: â€œUSSâ€)<br>// ncc1701.fullName is â€œUSS Enterpriseâ€<br></code><br>è¿™ä¸ªç±»æŠŠfullName å±æ€§å®ç°ä¸ºä¸€ä¸ªåªè¯»è®¡ç®—å±æ€§ã€‚ æ¯ä¸ªStarship ç±»å®ä¾‹å­˜å‚¨ä¸€ä¸ªå¼ºåˆ¶åå’Œä¸€ä¸ªå¯é€‰çš„å‰ç¼€ã€‚å¦‚æœå‰ç¼€å­˜åœ¨,fullName å±æ€§å°±ä½¿ç”¨å®ƒã€‚æ”¾åœ¨ name å‰,ä¸º starship åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„åå­—ã€‚</p>
<h1 id="æ–¹æ³•éœ€æ±‚"><a href="#æ–¹æ³•éœ€æ±‚" class="headerlink" title="æ–¹æ³•éœ€æ±‚"></a>æ–¹æ³•éœ€æ±‚</h1><p>åè®®å¯ä»¥è¦æ±‚ç¬¦åˆç±»å‹å®ç°ç‰¹å®šçš„å®ä¾‹æ–¹æ³•å’Œç±»å‹æ–¹æ³•ã€‚è¿™äº›æ–¹æ³•å†™åœ¨åè®®å®šä¹‰é‡Œé¢,è·Ÿæ™®é€šå®ä¾‹æ–¹æ³•å’Œç±»å‹æ–¹æ³•å†™æ³•ä¸€è‡´ã€‚ä½†æ˜¯æ²¡æœ‰èŠ±æ‹¬å·æˆ–è€…æ–¹æ³•ä½“ã€‚å…è®¸æœ‰å¯å˜å‚æ•°, éµå®ˆæ™®é€šæ–¹æ³•çš„è§„åˆ™é™åˆ¶ã€‚ä¸è¿‡,åè®®å®šä¹‰ä¸­çš„æ–¹æ³•å‚æ•°ä¸èƒ½æŒ‡å®šé»˜è®¤å€¼ã€‚</p>
<p>åƒç±»å‹å±æ€§éœ€æ±‚ä¸€æ ·, å®šä¹‰åœ¨åè®®é‡Œçš„ç±»å‹æ–¹æ³•éœ€è¦åœ¨å‰é¢åŠ ä¸Šstaticå…³é”®å­—:<br><code><br>protocol SomeProtocol {<br>    static func someTypeMethod()<br>}<br></code><br>ä¸‹é¢çš„ä¾‹å­,å®šä¹‰äº†ä¸€ä¸ªåè®®,é‡Œé¢æœ‰ä¸€ä¸ªå®ä¾‹æ–¹æ³•:<br><code><br>protocol RandomNumberGenerator {<br>    func random() -&gt; Double<br>}<br></code><br>è¿™ä¸ªåè®®, RandomNumberGenerator, è¦æ±‚ä»»ä½•ç¬¦åˆç±»å‹å¿…é¡»æœ‰ä¸€ä¸ªå®ä¾‹æ–¹æ³• random, è¿™ä¸ªæ–¹æ³•è°ƒç”¨åä¼šè¿”å›ä¸€ä¸ªæµ®ç‚¹å€¼ã€‚ å°½ç®¡å®ƒä¸æ˜¯åè®®æŒ‡å®šçš„éƒ¨åˆ†, å®ƒå‡è®¾è¿™ä¸ªå€¼ä¼šä»0.0 åˆ° 1.0 (ä½†æ˜¯ä¸åŒ…æ‹¬)</p>
<p>RandomNumberGenerator åè®®ä¸ä¼šå‡è®¾æ¯ä¸ªéšæœºæ•°æ€ä¹ˆäº§ç”Ÿâ€”å®ƒç®€å•è¦æ±‚ç”Ÿæˆå™¨æä¾›ä¸€ä¸ªæ ‡å‡†æ–¹æ³•æ¥äº§ç”Ÿæ–°çš„éšæœºæ•°ã€‚</p>
<p>è¿™é‡Œå®ç°äº†ä¸€ä¸ªç±»,å®ƒé‡‡ç”¨å¹¶éµå®ˆäº† RandomNumberGenerator åè®®ã€‚è¿™ä¸ªç±»å®ç°äº†ä¸€ä¸ªä¼ªéšæœºæ•°ç®—æ³•,çº¿æ€§åŒä½™ç”Ÿæˆå™¨:<br><code><br>class LinearCongruentialGenerator: RandomNumberGenerator {<br>    var lastRandom = 42.0<br>    let m = 139968.0<br>    let a = 3877.0<br>    let c = 29573.0<br>    func random() -&gt; Double {<br>        lastRandom = ((lastRandom * a + c).truncatingRemainder(dividingBy:m))<br>        return lastRandom / m<br>    }<br>}<br>let generator = LinearCongruentialGenerator()<br>print(â€œHereâ€™s a random number: (generator.random())â€)<br>// æ‰“å° â€œHereâ€™s a random number: 0.37464991998171â€<br>print(â€œAnd another one: (generator.random())â€)<br>// æ‰“å° â€œAnd another one: 0.729023776863283â€<br></code></p>
<h1 id="å˜å¼‚æ–¹æ³•éœ€æ±‚"><a href="#å˜å¼‚æ–¹æ³•éœ€æ±‚" class="headerlink" title="å˜å¼‚æ–¹æ³•éœ€æ±‚"></a>å˜å¼‚æ–¹æ³•éœ€æ±‚</h1><p>å¯¹äºæ–¹æ³•æ¥è¯´,æœ‰æ—¶å€™éœ€è¦æ”¹å˜æˆ–è€…ç¼–è¯‘å®ƒæ‰€å±çš„å®ä¾‹ã€‚å¯¹äºå€¼ç±»å‹çš„å®ä¾‹æ–¹æ³• (ç»“æ„ä½“å’Œæšä¸¾),å¯ä»¥åœ¨funcå…³é”®å­—å‰åŠ ä¸Š mutating å…³é”®å­—æ¥è¡¨æ˜,å…è®¸è¿™ä¸ªæ–¹æ³•æ”¹å˜å®ƒæ‰€å±çš„å®ä¾‹å’Œè¿™ä¸ªå®ä¾‹çš„æ‰€æœ‰å±æ€§ã€‚</p>
<p>å¦‚æœä½ å®šä¹‰äº†ä¸€ä¸ªåè®®å®ä¾‹æ–¹æ³•,æƒ³è¦æ”¹å˜é‡‡ç”¨è¿™ä¸ªåè®®çš„ä»»æ„ç±»å‹çš„å®ä¾‹, åœ¨åè®®å®šä¹‰é‡Œ,åœ¨æ–¹æ³•å‰æ ‡è®°ä¸Š mutating å…³é”®å­—ã€‚ è¿™è®©ç»“æ„ä½“å’Œæšä¸¾å¯ä»¥é‡‡ç”¨è¿™ä¸ªåè®®å¹¶ä¸”æ»¡è¶³æ–¹æ³•éœ€æ±‚ã€‚</p>
<p>å¤‡æ³¨</p>
<p>å¦‚æœä½ æŠŠåè®®å®ä¾‹æ–¹æ³•éœ€æ±‚æ ‡è®°ä¸º mutating, é‚£ä¹ˆåœ¨ä¸ºç±»å®ç°è¯¥æ–¹æ³•çš„æ—¶å€™,å°±ä¸éœ€è¦å†™ä¸Š mutating å…³é”®å­—ã€‚mutating å…³é”®å­—åªæ˜¯ç”¨åœ¨ç»“æ„ä½“å’Œæšä¸¾ä¸Šã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªåè®® Togglable, å®ƒåªå®šä¹‰äº†ä¸€ä¸ªå®ä¾‹æ–¹æ³•éœ€æ±‚ toggle. å°±åƒå®ƒåå­—æç¤ºçš„, toggle() æ–¹æ³•ä¼šè§¦å‘æˆ–è€…æ”¹å˜ç¬¦åˆç±»å‹çš„çŠ¶æ€ã€‚é€šå¸¸æ˜¯ä¿®æ”¹ç±»å‹çš„æŸä¸ªå±æ€§ã€‚</p>
<p>toggle() æ–¹æ³•ç”¨ mutating å…³é”®å­—æ ‡è®°,ä½œä¸ºTogglable åè®®å®šä¹‰çš„ä¸€éƒ¨åˆ†ã€‚è¡¨ç¤ºè¢«è°ƒç”¨æ—¶,å¸Œæœ›æ”¹å˜ç¬¦åˆç±»å‹å®ä¾‹çš„çŠ¶æ€:<br><code><br>protocol Togglable {<br>    mutating func toggle()<br>}<br></code><br>å¦‚æœä½ ä¸ºä¸€ä¸ªç»“æ„ä½“æˆ–è€…æšä¸¾å®ç°è¿™ä¸ªåè®®, é€šè¿‡å®ç°æ ‡è®°ä¸ºmutating çš„toggle()æ–¹æ³•,è¿™ä¸ªç»“æ„ä½“æˆ–è€…æšä¸¾å°±å¯ä»¥ç¬¦åˆè¿™ä¸ªåè®®äº†ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªæšä¸¾ OnOffSwitch. è¿™ä¸ªæšä¸¾å¼€å…³æœ‰ä¸¤ä¸ªçŠ¶æ€, ç”¨æšä¸¾åˆ†æ”¯ on å’Œ offè¡¨ç¤ºã€‚æšä¸¾å¼€å…³å®ç°æ ‡è®°ä¸º mutating, ä¸ºäº†åŒ¹é… Togglable åè®®çš„éœ€æ±‚:<br><code><br>enum OnOffSwitch: Togglable {<br>    case off, on<br>    mutating func toggle() {<br>        switch self {<br>        case .off:<br>            self = .on<br>        case .on:<br>            self = .off<br>        }<br>    }<br>}<br>var lightSwitch = OnOffSwitch.off<br>lightSwitch.toggle()<br>// lightSwitch is now equal to .on<br></code></p>
<h1 id="æ„é€ å™¨éœ€æ±‚"><a href="#æ„é€ å™¨éœ€æ±‚" class="headerlink" title="æ„é€ å™¨éœ€æ±‚"></a>æ„é€ å™¨éœ€æ±‚</h1><p>åè®®å¯ä»¥è¦æ±‚ç¬¦åˆç±»å‹å®ç°æŒ‡å®šçš„æ„é€ å™¨ã€‚åè®®å®šä¹‰ä¸­çš„æ„é€ å™¨å’Œæ™®é€šæ„é€ å™¨çš„å†™æ³•æ˜¯ä¸€æ ·çš„, ä½†æ˜¯æ²¡æœ‰èŠ±æ‹¬å·å’Œæ„é€ ä½“:<br><code><br>protocol SomeProtocol {<br>    init(someParameter: Int)<br>}<br></code></p>
<h1 id="ç±»å®ç°åè®®æ„é€ å™¨éœ€æ±‚"><a href="#ç±»å®ç°åè®®æ„é€ å™¨éœ€æ±‚" class="headerlink" title="ç±»å®ç°åè®®æ„é€ å™¨éœ€æ±‚"></a>ç±»å®ç°åè®®æ„é€ å™¨éœ€æ±‚</h1><p>ä½ å¯ä»¥åœ¨ç¬¦åˆåè®®çš„ç±»ä¸­,æŠŠåè®®æ„é€ å™¨å®ç°æˆæŒ‡å®šæ„é€ å™¨æˆ–è€…ä¾¿åˆ©æ„é€ å™¨ã€‚åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹, ä½ å¿…é¡»ç”¨required ä¿®é¥°ç¬¦æ¥æ ‡è®°æ„é€ å™¨çš„å®ç°:<br><code><br>class SomeClass: SomeProtocol {<br>    required init(someParameter: Int) {<br>        // initializer implementation goes here<br>    }<br>}<br></code><br>ä½¿ç”¨required ä¿®é¥°ç¬¦ç¡®ä¿ä½ åœ¨æ‰€æœ‰ç¬¦åˆåè®®çš„å­ç±»ä¸Š,æä¾›ä¸€ä¸ªæ˜¾å¼æˆ–è€…ç»§æ‰¿çš„æ„é€ å™¨éœ€æ±‚å®ç°, å®ƒä»¬ä¹Ÿéµå®ˆè¿™ä¸ªåè®®ã€‚</p>
<p>å¤‡æ³¨</p>
<p>å¦‚æœç¬¦åˆåè®®çš„ç±»æ ‡è®°äº†finalä¿®é¥°ç¬¦,ä½ å°±ä¸éœ€è¦ç”¨requiredæ ‡è®°åè®®æ„é€ å™¨çš„å®ç°,å› ä¸ºfinal ç±»ä¸èƒ½å­ç±»åŒ–ã€‚</p>
<p>å¦‚æœä¸€ä¸ªå­ç±»é‡å†™äº†è¶…ç±»çš„æŒ‡å®šæ„é€ å™¨, ç„¶ä¹Ÿå®ç°äº†åè®®çš„æ„é€ å™¨éœ€æ±‚, è¿™ä¸ªæ„é€ å™¨å°±è¦åŒæ—¶æ ‡è®°required å’Œ overrideçš„ä¿®é¥°ç¬¦:<br><code><br>protocol SomeProtocol {<br>    init()<br>}</code></p>
<p>class SomeSuperClass {<br>    init() {<br>        // initializer implementation goes here<br>    }<br>}</p>
<p>class SomeSubClass: SomeSuperClass, SomeProtocol {<br>    // â€œrequiredâ€ from SomeProtocol conformance; â€œoverrideâ€ from SomeSuperClass<br>    required override init() {<br>        // initializer implementation goes here<br>    }<br>}<br></p>
<h1 id="å¤±è´¥æ„é€ å™¨éœ€æ±‚"><a href="#å¤±è´¥æ„é€ å™¨éœ€æ±‚" class="headerlink" title="å¤±è´¥æ„é€ å™¨éœ€æ±‚"></a>å¤±è´¥æ„é€ å™¨éœ€æ±‚</h1><p>åè®®å¯ä»¥ä¸ºç¬¦åˆç±»å‹å®šä¹‰å¤±è´¥æ„é€ å™¨ã€‚</p>
<p>ç¬¦åˆç±»å‹çš„å¤±è´¥æˆ–è€…éå¤±è´¥æ„é€ å™¨å¯ä»¥æ»¡è¶³åè®®çš„å¤±è´¥æ„é€ å™¨éœ€æ±‚ã€‚è€Œä¸€ä¸ªéå¤±è´¥æ„é€ å™¨éœ€æ±‚,åªèƒ½ç”¨ä¸€ä¸ªéå¤±è´¥æ„é€ å™¨æˆ–è€…ä¸€ä¸ªéšå¼æ‹†åŒ…å¤±è´¥æ„é€ å™¨æ‰èƒ½æ»¡è¶³ã€‚</p>
<h1 id="åè®®ä½œä¸ºç±»å‹"><a href="#åè®®ä½œä¸ºç±»å‹" class="headerlink" title="åè®®ä½œä¸ºç±»å‹"></a>åè®®ä½œä¸ºç±»å‹</h1><p>åè®®æœ¬èº«ä¸å®ç°ä»»ä½•åŠŸèƒ½ã€‚ å°½ç®¡å¦‚æ­¤, ä½ åˆ›å»ºçš„åè®®åœ¨ä»£ç ä¸­ä¾ç„¶æ˜¯å®Œå…¨æˆç†Ÿçš„ç±»å‹ã€‚</p>
<p>å› ä¸ºåè®®æ˜¯ä¸€ä¸ªç±»å‹, åªè¦å…¶ä»–ç±»å‹å…è®¸,ä½ å¯ä»¥åœ¨å¾ˆå¤šåœ°æ–¹ä½¿ç”¨å®ƒã€‚åŒ…æ‹¬:</p>
<p>åœ¨å‡½æ•°,æ–¹æ³•æˆ–è€…æ„é€ å™¨ä¸­ä½œä¸ºå‚æ•°ç±»å‹æˆ–è€…è¿”å›ç±»å‹<br>ä½œä¸ºä¸€ä¸ªå¸¸é‡,å˜é‡æˆ–è€…å±æ€§ç±»å‹<br>ä½œä¸ºæ•°ç»„,å­—å…¸æˆ–è€…å…¶ä»–å®¹å™¨ä¸­é¡¹ç›®çš„ç±»å‹<br>å¤‡æ³¨</p>
<p>å› ä¸ºåè®®æ˜¯ç±»å‹, å®ƒä»¬çš„åå­—å¼€å§‹æ˜¯ä¸€ä¸ªå¤§å†™å­—æ¯ (ä¾‹å¦‚ FullyNamed å’Œ RandomNumberGenerator) ,å’ŒSwift ä¸­å…¶ä»–ç±»å‹åå­—å¾ˆåŒ¹é… (ä¾‹å¦‚ Int, String, å’Œ Double).</p>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªåè®®ä½œä¸ºç±»å‹ä½¿ç”¨çš„ä¾‹å­:<br><code><br>class Dice {<br>    let sides: Int<br>    let generator: RandomNumberGenerator<br>    init(sides: Int, generator: RandomNumberGenerator) {<br>        self.sides = sides<br>        self.generator = generator<br>    }<br>    func roll() -&gt; Int {<br>        return Int(generator.random() * Double(sides)) + 1<br>    }<br>}<br></code><br>è¿™ä¸ªä¾‹å­å®šä¹‰äº†ä¸€ä¸ªæ–°ç±» Dice, å®ƒåœ¨æ£‹ç›˜æ¸¸æˆé‡Œä»£è¡¨ä¸€ä¸ªné¢çš„éª°å­ã€‚ Dice å®ä¾‹æœ‰ä¸€ä¸ªæ•´æ•°å±æ€§ sides, å®ƒè¡¨ç¤ºéª°å­æœ‰å¤šå°‘é¢,ç„¶åè¿˜æœ‰ä¸€ä¸ªå±æ€§ generator, å®ƒç”¨æ¥äº§ç”Ÿä¸€ä¸ªéšæœºæ•°ä½œä¸ºéª°å­çš„å€¼ã€‚</p>
<p>generator å±æ€§æ˜¯ RandomNumberGenerator ç±»å‹ã€‚å› æ­¤, ä½ å¯ä»¥ç”¨ä»»ä½•é‡‡ç”¨RandomNumberGeneratoråè®®çš„ç±»å‹æ¥è®¾ç½®å®ƒã€‚ ä½ èµ‹å€¼ç»™è¿™ä¸ªå±æ€§çš„å®ä¾‹æ— éœ€å…¶ä»–, ä¸»è¦è¿™ä¸ªå®ä¾‹é‡‡ç”¨RandomNumberGenerator åè®®å³å¯ã€‚</p>
<p>Dice ä¹Ÿæœ‰ä¸€ä¸ªæ„é€ å™¨, æ¥è®¾ç½®å®ƒçš„åˆå§‹çŠ¶æ€ã€‚è¿™ä¸ªæ„é€ å™¨æœ‰ä¸€ä¸ªå‚æ•° generator, å®ƒä¹Ÿæ˜¯ RandomNumberGenerator ç±»å‹ã€‚åœ¨åˆå§‹åŒ–æ–°çš„Diceå®ä¾‹æ—¶,ä½ å¯ä»¥ä¼ å…¥ä»»ä½•ç¬¦åˆç±»å‹çš„å€¼ä½œä¸ºè¿™ä¸ªå‚æ•°ã€‚</p>
<p>Dice è¿˜æä¾›äº†ä¸€ä¸ªå®ä¾‹æ–¹æ³•, roll, å®ƒè¿”å›éª°å­çš„å€¼ã€‚è¿™ä¸ªæ–¹æ³•è°ƒç”¨äº†ç”Ÿæˆå™¨çš„ random() æ–¹æ³•æ¥åˆ›å»ºä¸€ä¸ª0.0åˆ°1.0çš„éšæœºæ•°ã€‚ ç„¶åä½¿ç”¨éšæœºæ•°æ¥ç”Ÿæˆä¸€ä¸ªæ­£ç¡®çš„å€¼ã€‚å› ä¸ºç”Ÿæˆå™¨é‡‡ç”¨äº† RandomNumberGenerator, å®ƒä¼šä¿è¯æœ‰ä¸€ä¸ªrandom() æ–¹æ³•å¯ä»¥è°ƒç”¨ã€‚</p>
<p>è¿™é‡Œå±•ç¤ºDiceç±»å¦‚ä½•äº§ç”Ÿä¸€ä¸ª6é¢çš„éª°å­, å®ƒä½¿ç”¨ä¸€ä¸ªLinearCongruentialGenerator å®ä¾‹ä½œä¸ºéšæœºæ•°ç”Ÿæˆå™¨:<br><code><br>var d6 = Dice(sides: 6, generator: LinearCongruentialGenerator())<br>for _ in 1â€¦5 {<br>    print(â€œRandom dice roll is (d6.roll())â€)<br>}<br>// Random dice roll is 3<br>// Random dice roll is 5<br>// Random dice roll is 4<br>// Random dice roll is 5<br>// Random dice roll is 4<br></code></p>
<h1 id="å§”æ‰˜"><a href="#å§”æ‰˜" class="headerlink" title="å§”æ‰˜"></a>å§”æ‰˜</h1><p>å§”æ‰˜æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼, è®©ç±»æˆ–è€…ç»“æ„ä½“å¯ä»¥æŠŠè‡ªå·±çš„ä¸€äº›è´£ä»»å§”æ‰˜ç»™å…¶ä»–ç±»å‹çš„å®ä¾‹ã€‚è¿™ä¸ªè®¾è®¡æ¨¡å¼é€šè¿‡å®šä¹‰åè®®æ¥å®ç°,è¿™ä¸ªåè®®å°è£…äº†å§”æ‰˜çš„è´£ä»»ã€‚ç¬¦åˆç±»å‹ç¡®ä¿æä¾›å§”æ‰˜çš„åŠŸèƒ½ã€‚å§”æ‰˜å¯ä»¥ç”¨æ¥å“åº”ç‰¹å®šçš„è¡Œä¸º, æˆ–è€…æ— éœ€çŸ¥é“æ½œåœ¨èµ„æºç±»å‹,å³å¯ä»èµ„æºè·å–æ•°æ®ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸¤ä¸ªåè®®, ç”¨æ¥ä½¿ç”¨åŸºäºéª°å­çš„æ£‹ç›˜æ¸¸æˆ:<br><code><br>protocol DiceGame {<br>    var dice: Dice { get }<br>    func play()<br>}<br>protocol DiceGameDelegate {<br>    func gameDidStart(<em> game: DiceGame)<br>    func game(</em> game: DiceGame, didStartNewTurnWithDiceRoll diceRoll: Int)<br>    func gameDidEnd(_ game: DiceGame)<br>}<br></code><br>DiceGame åè®®å¯ä»¥è¢«ä»»ä½•åŒ…å«éª°å­çš„æ¸¸æˆé‡‡ç”¨ã€‚DiceGameDelegate åè®®å¯ä»¥è¢«ä»»ä½•è·Ÿè¸ªDiceGameè¿‡ç¨‹çš„ç±»å‹é‡‡ç”¨ã€‚</p>
<p>è¿™é‡Œæ˜¯æœ‰ä¸€ä¸ªå‰é¢æ§åˆ¶æµä¸­ä»‹ç»è¿‡çš„è›‡ä¸æ¢¯å­çš„æ¸¸æˆã€‚è¿™ä¸ªç‰ˆæœ¬ä½¿ç”¨ä¸€ä¸ª Dice å®ä¾‹æ¥æ‘‡éª°å­; é‡‡ç”¨äº† DiceGame åè®®; ç„¶åé€šçŸ¥DiceGameDelegate æ¸¸æˆçš„è¿›ç¨‹:<br><code><br>class SnakesAndLadders: DiceGame {<br>    let finalSquare = 25<br>    let dice = Dice(sides: 6, generator: LinearCongruentialGenerator())<br>    var square = 0<br>    var board: [Int]<br>    init() {<br>        board = Array(repeating: 0, count: finalSquare + 1)<br>        board[03] = +08; board[06] = +11; board[09] = +09; board[10] = +02<br>        board[14] = -10; board[19] = -11; board[22] = -02; board[24] = -08<br>    }<br>    var delegate: DiceGameDelegate?<br>    func play() {<br>        square = 0<br>        delegate?.gameDidStart(self)<br>        gameLoop: while square != finalSquare {<br>            let diceRoll = dice.roll()<br>            delegate?.game(self, didStartNewTurnWithDiceRoll: diceRoll)<br>            switch square + diceRoll {<br>            case finalSquare:<br>                break gameLoop<br>            case let newSquare where newSquare &gt; finalSquare:<br>                continue gameLoop<br>            default:<br>                square += diceRoll<br>                square += board[square]<br>            }<br>        }<br>        delegate?.gameDidEnd(self)<br>    }<br>}<br></code></p>
<p>è¿™ä¸ªç‰ˆæœ¬çš„æ¸¸æˆåŒ…è£…æˆä¸€ä¸ªç±» SnakesAndLadders, å®ƒé‡‡ç”¨äº† DiceGame åè®®ã€‚å®ƒæä¾›äº†ä¸€ä¸ª gettable dice å±æ€§å’Œä¸€ä¸ª play() æ–¹æ³•æ¥éµå®ˆè¿™ä¸ªåè®®ã€‚(dice å±æ€§å£°æ˜ä¸ºå¸¸é‡,å› ä¸ºå®ƒåœ¨åˆå§‹åŒ–åå°±ä¸éœ€è¦å˜åŒ–, åè®®åªè¦æ±‚å®ƒæ˜¯ gettable.)</p>
<p>è›‡ä¸æ¢¯å­æ¸¸æˆçš„æ£‹ç›˜åœ¨æ„é€ å™¨ init() é‡Œè®¾ç½®ã€‚æ¸¸æˆçš„æ‰€æœ‰é€»è¾‘éƒ½æ¬åˆ°åè®®çš„play æ–¹æ³•é‡Œ, å®ƒä½¿ç”¨åè®®çš„ required dice å±æ€§æ¥æä¾›éª°å­å€¼ã€‚</p>
<p>æ³¨æ„ delegate å±æ€§å®šä¹‰ä¸ºå¯é€‰çš„ DiceGameDelegate, å› ä¸ºå§”æ‰˜ä¸è¦æ±‚å¿…é¡»ç©æ¸¸æˆã€‚å› ä¸ºå®ƒæ˜¯ä¸€ä¸ªå¯é€‰ç±»å‹, delegateå±æ€§è‡ªåŠ¨åˆå§‹åŒ–ä¸ºnil. ä¹‹å, è¿™ä¸ªæ¸¸æˆå®ä¾‹ä¼šæœ‰ä¸€ä¸ªé€‰é¡¹æ¥è®¾ç½®è¿™ä¸ªå±æ€§ä¸ºä¸€ä¸ªå›ºå®šçš„ä»£ç†ã€‚</p>
<p>DiceGameDelegate æä¾›äº†ä¸‰ä¸ªæ–¹æ³•æ¥è·Ÿè¸ªæ¸¸æˆçš„è¿‡ç¨‹ã€‚ è¿™ä¸‰ä¸ªæ–¹æ³•å·²ç»åˆå¹¶è¿› play()æ–¹æ³•ä¸­ã€‚åœ¨æ–°æ¸¸æˆå¼€å§‹æ—¶ä¼šè°ƒç”¨, æ–°ä¸€è½®å¼€å§‹, æˆ–è€…æ¸¸æˆç»“æŸã€‚</p>
<p>ç”±äºdelegate å±æ€§æ˜¯ä¸€ä¸ªå¯é€‰çš„DiceGameDelegate, play()åœ¨ä»£ç†ä¸Šè°ƒç”¨ä¸€ä¸ªæ–¹æ³•æ—¶, å®ƒä¼šä½¿ç”¨å¯é€‰é“¾æ¥ã€‚å¦‚æœ delegate  å±æ€§ä¸ºnil, è¿™äº›è°ƒç”¨ä¼šå¤±è´¥è€Œä¸ä¼šå‘ç”Ÿé”™è¯¯ã€‚å¦‚æœ delegate å±æ€§énil, ä»£ç†æ–¹æ³•ä¼šè¢«è°ƒç”¨, ç„¶åä¼ å…¥SnakesAndLadders å®ä¾‹ä½œä¸ºä¸€ä¸ªå‚æ•°ã€‚</p>
<p>ä¸‹é¢ä¾‹å­å±•ç¤ºäº†ä¸€ä¸ªç±» DiceGameTracker, å®ƒé‡‡ç”¨äº† DiceGameDelegate åè®®:<br><code><br>class DiceGameTracker: DiceGameDelegate {<br>    var numberOfTurns = 0<br>    func gameDidStart(<em> game: DiceGame) {<br>        numberOfTurns = 0<br>        if game is SnakesAndLadders {<br>            print(â€œStarted a new game of Snakes and Laddersâ€)<br>        }<br>        print(â€œThe game is using a (game.dice.sides)-sided diceâ€)<br>    }<br>    func game(</em> game: DiceGame, didStartNewTurnWithDiceRoll diceRoll: Int) {<br>        numberOfTurns += 1<br>        print(â€œRolled a (diceRoll)â€)<br>    }<br>    func gameDidEnd(_ game: DiceGame) {<br>        print(â€œThe game lasted for (numberOfTurns) turnsâ€)<br>    }<br>}<br></code><br>DiceGameTracker å®ç°äº†æ‰€æœ‰ DiceGameDelegate åè®®è¦æ±‚çš„æ–¹æ³•ã€‚å®ƒç”¨ä¸‰ä¸ªæ–¹æ³•æ¥è·Ÿè¸ªæ¸¸æˆç©äº†å‡ è½®ã€‚å®ƒåœ¨æ¸¸æˆå¼€å§‹æ—¶é‡ç½® numberOfTurns å±æ€§çš„å€¼ä¸º0, åœ¨æ¯æ¬¡æ¸¸æˆå¼€å§‹çš„æ—¶å€™åŠ 1, ç„¶ååœ¨æ¸¸æˆç»“æŸåæ‰“å°å‡ºæ¸¸æˆçš„æ€»è½®æ•°ã€‚</p>
<p>gameDidStart(<em>:) å‡½æ•°ä½¿ç”¨äº†game å‚æ•°æ¥æ‰“å°ä¸€äº›æ¸¸æˆä»‹ç»çš„ä¿¡æ¯ã€‚game å‚æ•°ç±»å‹æ˜¯ DiceGame, è€Œä¸æ˜¯ SnakesAndLadders,  gameDidStart(</em>:) å¯ä»¥è®¿é—®å’Œä½¿ç”¨, ä½œä¸ºDiceGame åè®®éƒ¨åˆ†è¢«å®ç°çš„æ–¹æ³•å’Œå±æ€§ã€‚ä¸è¿‡, è¿™ä¸ªæ–¹æ³•ä»ç„¶å¯ä»¥ä½¿ç”¨ç±»å‹è½¬æ¢æ¥æŸ¥è¯¢æ½œåœ¨å®ä¾‹çš„ç±»å‹ã€‚åœ¨è¿™ä¸ªä¾‹å­é‡Œ, å®ƒä¼šåˆ¤æ–­æœ‰äº›æ˜¯å¦æ˜¯ä¸€ä¸ªSnakesAndLadders å®ä¾‹, ç„¶åæ‰“å°ä¸€æ¡å¯¹åº”çš„ä¿¡æ¯ã€‚</p>
<p>gameDidStart(<em>:) æ–¹æ³•ä¹Ÿä¼šè®¿é—®gameå‚æ•°çš„ diceå±æ€§ã€‚å› ä¸ºå·²ç»çŸ¥é“ game éµå®ˆäº†DiceGame åè®®, å®ƒå¯ä»¥ä¿è¯æœ‰ä¸€ä¸ª dice å±æ€§, æ‰€ä»¥ gameDidStart(</em>:) æ–¹æ³•ä¹Ÿå¯ä»¥è®¿é—®å’Œæ‰“å°dice çš„ sides å±æ€§, è€Œä¸ç”¨ç®¡æ­£åœ¨ç©ä»€ä¹ˆç±»å‹çš„æ¸¸æˆã€‚</p>
<p>è¿™é‡Œæ˜¯ DiceGameTracker çš„è¡Œä¸º:<br><code><br>let tracker = DiceGameTracker()<br>let game = SnakesAndLadders()<br>game.delegate = tracker<br>game.play()<br>// Started a new game of Snakes and Ladders<br>// The game is using a 6-sided dice<br>// Rolled a 3<br>// Rolled a 5<br>// Rolled a 4<br>// Rolled a 5<br>// The game lasted for 4 turns<br></code></p>
<h1 id="ç»™æ‰©å±•æ·»åŠ åè®®"><a href="#ç»™æ‰©å±•æ·»åŠ åè®®" class="headerlink" title="ç»™æ‰©å±•æ·»åŠ åè®®"></a>ç»™æ‰©å±•æ·»åŠ åè®®</h1><p>ä½ å¯ä»¥æ‰©å±•ä¸€ä¸ªå·²å­˜åœ¨çš„ç±»å‹æ¥é‡‡ç”¨å’Œéµå®ˆä¸€ä¸ªæ–°çš„åè®®, å³ä½¿ä½ æ— æ³•è®¿é—®å·²å­˜åœ¨ç±»å‹çš„æºä»£ç ã€‚æ‰©å±•å¯ä»¥ç»™å·²å­˜åœ¨çš„ç±»å‹æ·»åŠ æ–°å±æ€§,æ–¹æ³•å’Œä¸‹æ ‡, å› æ­¤å¯ä»¥æ·»åŠ åè®®è¦æ±‚çš„ä»»ä½•éœ€æ±‚ã€‚</p>
<p>å¤‡æ³¨</p>
<p>å½“åœ¨æ‰©å±•é‡Œç»™ä¸€ä¸ªå®ä¾‹ç±»å‹æ·»åŠ åè®®æ—¶, è¿™ä¸ªå®ä¾‹å°±ä¼šè‡ªåŠ¨é‡‡ç”¨å’Œéµå®ˆè¿™ä¸ªåè®®ã€‚</p>
<p>ä¾‹å¦‚, è¿™ä¸ªåè®® TextRepresentable, ä»»ä½•å¯ä»¥è¡¨ç¤ºä¸ºæ–‡æœ¬çš„ç±»å‹éƒ½å¯ä»¥å®ç°ã€‚è¿™å¯èƒ½æ˜¯è‡ªæˆ‘çš„æè¿°æˆ–è€…å½“å‰çŠ¶æ€çš„æ–‡æœ¬ç‰ˆæœ¬:<br><code><br>protocol TextRepresentable {<br>    var textualDescription: String { get }<br>}<br></code><br>æ—©å‰çš„ Dice ç±»å¯ä»¥æ‰©å±•æˆé‡‡ç”¨å’Œéµå®ˆ TextRepresentable åè®®:<br><code><br>extension Dice: TextRepresentable {<br>    var textualDescription: String {<br>        return â€œA (sides)-sided diceâ€<br>    }<br>}<br></code><br>æ‰©å±•é‡‡ç”¨æ–°åè®®çš„æ–¹å¼è·ŸåŸæ¥Diceæä¾›çš„å®ç°ä¸€æ ·ã€‚åè®®åå†™åœ¨ç±»å‹åå,ç”¨å†’å·éš”å¼€, åè®®éœ€æ±‚çš„æ‰€æœ‰å®ç°éƒ½å†™åœ¨æ‰©å±•çš„èŠ±æ‹¬å·ä¸­ã€‚</p>
<p>æ‰€ä»¥ Dice å®ä¾‹éƒ½å¯ä»¥è®¤ä¸ºæ˜¯ TextRepresentable:<br><code><br>let d12 = Dice(sides: 12, generator: LinearCongruentialGenerator())<br>print(d12.textualDescription)<br>// æ‰“å° â€œA 12-sided diceâ€<br></code><br>ç±»ä¼¼çš„, SnakesAndLadders ä¹Ÿå¯ä»¥æ‰©å±•æˆé‡‡ç”¨å’Œéµå®ˆTextRepresentableåè®®:<br><code><br>extension SnakesAndLadders: TextRepresentable {<br>    var textualDescription: String {<br>        return â€œA game of Snakes and Ladders with (finalSquare) squaresâ€<br>    }<br>}<br>print(game.textualDescription)<br>// æ‰“å° â€œA game of Snakes and Ladders with 25 squaresâ€<br></code></p>
<h1 id="ç”¨æ‰©å±•å£°æ˜åè®®"><a href="#ç”¨æ‰©å±•å£°æ˜åè®®" class="headerlink" title="ç”¨æ‰©å±•å£°æ˜åè®®"></a>ç”¨æ‰©å±•å£°æ˜åè®®</h1><p>å¦‚æœä¸€ä¸ªç±»å‹ç¬¦åˆäº†åè®®çš„æ‰€æœ‰éœ€æ±‚, ä½†æ˜¯å°šæœªå£°æ˜å®ƒé‡‡ç”¨è¿™ä¸ªåè®®, ä½ å¯ä»¥ç”¨ä¸€ä¸ªç©ºçš„æ‰©å±•,è®©å®ƒé‡‡ç”¨è¿™ä¸ªåè®®:<br><code><br>struct Hamster {<br>    var name: String<br>    var textualDescription: String {<br>        return â€œA hamster named (name)â€<br>    }<br>}<br>extension Hamster: TextRepresentable {}<br></code><br>ç°åœ¨éœ€è¦TextRepresentable ç±»å‹çš„åœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨ Hamster å®ä¾‹:<br><code><br>let simonTheHamster = Hamster(name: â€œSimonâ€)<br>let somethingTextRepresentable: TextRepresentable = simonTheHamster<br>print(somethingTextRepresentable.textualDescription)<br>// æ‰“å° â€œA hamster named Simonâ€<br></code><br>å¤‡æ³¨</p>
<p>ä»…ä»…æ»¡è¶³åè®®çš„éœ€æ±‚,ç±»å‹è¿˜ä¸ä¼šè‡ªåŠ¨é‡‡ç”¨è¿™ä¸ªåè®®ã€‚å¿…é¡»æ˜¾å¼å£°æ˜å®ƒä»¬é‡‡ç”¨äº†è¿™ä¸ªåè®®ã€‚</p>
<h1 id="åè®®ç±»å‹é›†åˆ"><a href="#åè®®ç±»å‹é›†åˆ" class="headerlink" title="åè®®ç±»å‹é›†åˆ"></a>åè®®ç±»å‹é›†åˆ</h1><p>ä¸€ä¸ªåè®®å¯ä»¥ç”¨ä½œä¸€ä¸ªç±»å‹,å­˜å‚¨åœ¨è¯¸å¦‚æ•°ç»„æˆ–è€…å­—å…¸çš„é›†åˆä¸­ã€‚ä¸‹é¢çš„ä¾‹å­åˆ›å»ºäº†ä¸€ç»„ TextRepresentable:<br><code><br>let things: [TextRepresentable] = [game, d12, simonTheHamster]<br></code><br>ç°åœ¨å¯ä»¥éå†æ•°ç»„ä¸­çš„æ‰€æœ‰é¡¹ç›®, ç„¶åæ‰“å°æ¯ä¸€é¡¹çš„æ–‡å­—æè¿°:<br><code><br>for thing in things {<br>    print(thing.textualDescription)<br>}<br>// A game of Snakes and Ladders with 25 squares<br>// A 12-sided dice<br>// A hamster named Simon<br></code><br>æ³¨æ„ thing å¸¸é‡çš„ç±»å‹æ˜¯ TextRepresentable. ä¸æ˜¯ Dice, æˆ–è€… DiceGame, æˆ–è€… Hamsterç±»å‹, å°½ç®¡èƒŒåæ˜¯è¿™äº›ç±»å‹ã€‚ ç”±äºå®ƒæ˜¯ TextRepresentable ç±»å‹, å®ƒåˆä¸€ä¸ª textualDescription å±æ€§, é€šè¿‡å¾ªç¯æ¯æ¬¡è®¿é—®thing.textualDescription æ˜¯å®‰å…¨çš„ã€‚</p>
<h1 id="åè®®ç»§æ‰¿"><a href="#åè®®ç»§æ‰¿" class="headerlink" title="åè®®ç»§æ‰¿"></a>åè®®ç»§æ‰¿</h1><p>ä¸€ä¸ªåè®®å¯ä»¥ç»§æ‰¿ä¸€ä¸ªæˆ–å¤šä¸ªå…¶ä»–åè®®,åœ¨ç»§æ‰¿çš„éœ€æ±‚é¡¶å±‚è¿˜å¯ä»¥æ·»åŠ æ›´å¤šçš„éœ€æ±‚ã€‚åè®®ç»§æ‰¿çš„è¯­æ³•å’Œç±»ç»§æ‰¿çš„è¯­æ³•å¾ˆç›¸ä¼¼, ä½†æ˜¯å¯ä»¥é€‰æ‹©åˆ—å‡ºå¤šä¸ªç»§æ‰¿åè®®, ç„¶åç”¨é€—å·åˆ†å¼€:<br><code><br>protocol InheritingProtocol: SomeProtocol, AnotherProtocol {<br>    // protocol definition goes here<br>}<br></code><br>è¿™é‡Œæœ‰ä¸€ä¸ªåè®®çš„ä¾‹å­,å®ƒç»§æ‰¿äº†ä¸Šé¢çš„ TextRepresentable åè®®:<br><code><br>protocol PrettyTextRepresentable: TextRepresentable {<br>    var prettyTextualDescription: String { get }<br>}<br></code><br>è¿™ä¸ªä¾‹å­å®šä¹‰äº†ä¸€ä¸ªæ–°åè®®, PrettyTextRepresentable, å®ƒç»§æ‰¿è‡ª TextRepresentable. ä»»ä½•é‡‡ç”¨ PrettyTextRepresentable åè®®çš„éƒ½å¿…é¡»æ»¡è¶³TextRepresentable å¼ºåˆ¶è¦æ±‚çš„æ‰€æœ‰éœ€æ±‚, ç„¶ååŠ ä¸ŠPrettyTextRepresentable å¼ºåˆ¶è¦æ±‚çš„é¢å¤–éœ€æ±‚ã€‚åœ¨è¿™ä¸ªä¾‹å­é‡Œ, PrettyTextRepresentable åªæ·»åŠ äº†ä¸€ä¸ªéœ€æ±‚, æä¾›äº†ä¸€ä¸ª gettable å±æ€§ prettyTextualDescription æ¥è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p>
<p>SnakesAndLadders ç±»å¯ä»¥æ‰©å±•æˆé‡‡ç”¨å’Œéµå®ˆ PrettyTextRepresentable åè®®:<br><code><br>extension SnakesAndLadders: PrettyTextRepresentable {<br>    var prettyTextualDescription: String {<br>        var output = textualDescription + â€œ:\nâ€<br>        for index in 1â€¦finalSquare {<br>            switch board[index] {<br>            case let ladder where ladder &gt; 0:<br>                output += â€œâ–² â€œ<br>            case let snake where snake &lt; 0:<br>                output += â€œâ–¼ â€œ<br>            default:<br>                output += â€œâ—‹ â€œ<br>            }<br>        }<br>        return output<br>    }<br>}<br></code><br>è¿™ä¸ªæ‰©å±•è¡¨æ˜å®ƒé‡‡ç”¨äº† PrettyTextRepresentable åè®®,ç„¶åä¸ºSnakesAndLaddersç±»å‹æä¾›äº†prettyTextualDescriptionå±æ€§çš„å®ç°ã€‚ä»»ä½•æ˜¯ PrettyTextRepresentable ç±»å‹çš„ä¹Ÿæ˜¯ TextRepresentable ç±»å‹, å› æ­¤ prettyTextualDescription å®ç°çš„å¼€å§‹å°±æ˜¯è®¿é—®TextRepresentableçš„å±æ€§ textualDescription,ç”¨å®ƒä½œä¸ºè¾“å‡ºå­—ç¬¦ä¸²çš„å¼€å§‹éƒ¨åˆ†ã€‚å®ƒå¾€åé¢æ·»åŠ ä¸€ä¸ªå†’å·å’Œä¸€ä¸ªæ¢è¡Œç¬¦, ç„¶åä½¿ç”¨å®ƒä½œä¸ºæ–‡æœ¬çš„å¼€å§‹ã€‚ç„¶åå®ƒéå†æ£‹ç›˜æ–¹æ ¼æ•°ç»„çš„é¡¹ç›®, ç„¶åæŠŠä»£è¡¨æ¯ä¸ªæ–¹æ ¼çš„å‡ ä½•å½¢çŠ¶æ·»åŠ åˆ°æœ€å:</p>
<p>å¦‚æœæ–¹æ ¼çš„å€¼å¤§äº0, å®ƒæ˜¯æ¢¯å­çš„åº•, ç”¨ â–²è¡¨ç¤ºã€‚<br>å¦‚æœæ–¹æ ¼çš„å€¼å°äº0, å®ƒæ˜¯è›‡çš„å¤´, ç”¨ â–¼è¡¨ç¤ºã€‚<br>å¦åˆ™, æ–¹æ ¼çš„å€¼ç­‰äº 0, è¿™æ˜¯ä¸€ä¸ªç©ºæ–¹æ ¼, ç”¨ â—‹ è¡¨ç¤ºã€‚<br>ç°åœ¨ prettyTextualDescription å±æ€§å¯ä»¥ç”¨æ¥ä¸ºSnakesAndLadderså®ä¾‹æ‰“å°ä¸€æ¡æ–‡æœ¬æè¿°:<br><code><br>print(game.prettyTextualDescription)<br>// A game of Snakes and Ladders with 25 squares:<br>// â—‹ â—‹ â–² â—‹ â—‹ â–² â—‹ â—‹ â–² â–² â—‹ â—‹ â—‹ â–¼ â—‹ â—‹ â—‹ â—‹ â–¼ â—‹ â—‹ â–¼ â—‹ â–¼ â—‹<br></code></p>
<h1 id="åªç”¨äºç±»çš„åè®®"><a href="#åªç”¨äºç±»çš„åè®®" class="headerlink" title="åªç”¨äºç±»çš„åè®®"></a>åªç”¨äºç±»çš„åè®®</h1><p>é€šè¿‡æ·»åŠ ä¸€ä¸ªclasså…³é”®å­—åˆ°ä¸€ä¸ªåè®®ç»§æ‰¿åˆ—è¡¨,ä½ å¯ä»¥é™åˆ¶åè®®åªè¢«ç±»é‡‡ç”¨ (ä¸æ˜¯ç»“æ„ä½“ä¹Ÿä¸æ˜¯æšä¸¾)ã€‚classå…³é”®å­—åº”è¯¥æ€»æ˜¯å‡ºç°åœ¨åè®®ç»§æ‰¿åˆ—è¡¨çš„ç¬¬ä¸€ä¸ª, åœ¨ä»»ä½•ç»§æ‰¿åè®®ä¹‹å‰:<br><code><br>protocol SomeClassOnlyProtocol: class, SomeInheritedProtocol {<br>    // class-only protocol definition goes here<br>}<br></code><br>ä¸Šé¢çš„ä¾‹å­é‡Œ, SomeClassOnlyProtocol åªèƒ½è¢«ç±»é‡‡ç”¨ã€‚å¦‚æœè®©ç»“æ„ä½“æˆ–è€…æšä¸¾æ¥é‡‡ç”¨è¿™ä¸ªåè®®,ä¼šæŠ¥ä¸€ä¸ªç¼–è¯‘æœŸé”™è¯¯ã€‚</p>
<p>å¤‡æ³¨</p>
<p>å½“åè®®éœ€æ±‚å®šä¹‰çš„è¡Œä¸ºå‡è®¾æˆ–è€…è¦æ±‚ç¬¦åˆç±»å‹æ‹¥æœ‰å¼•ç”¨è¯­ä¹‰è€Œéå€¼è¯­ä¹‰çš„æ—¶å€™ï¼Œè¦ä½¿ç”¨åªç”¨äºç±»çš„åè®®ã€‚</p>
<h1 id="åè®®ç»„åˆ"><a href="#åè®®ç»„åˆ" class="headerlink" title="åè®®ç»„åˆ"></a>åè®®ç»„åˆ</h1><p>ä¸€æ¬¡è¦æ±‚ä¸€ä¸ªç±»å‹ç¬¦åˆå¤šä¸ªåè®®æ˜¯æœ‰ç”¨çš„ã€‚ä½¿ç”¨ä¸€ä¸ªåè®®ç»„åˆ,ä½ å¯ä»¥æŠŠå¤šä¸ªåè®®åˆå¹¶åˆ°ä¸€ä¸ªéœ€æ±‚ã€‚åè®®ç»„åˆçš„æ ·å¼æ˜¯ SomeProtocol &amp; AnotherProtocol. ä½ å¯ä»¥åˆ—å‡ºå°½å¯èƒ½å¤šçš„åè®®, ç”¨ (&amp;)åˆ†å¼€ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­æŠŠä¸¤ä¸ªåè®® Named å’Œ Aged,åˆå¹¶åˆ°ä¸€ä¸ªåè®®ç»„åˆéœ€æ±‚.ä½œä¸ºä¸€ä¸ªå‡½æ•°å‚æ•°:<br><code><br>protocol Named {<br>    var name: String { get }<br>}<br>protocol Aged {<br>    var age: Int { get }<br>}<br>struct Person: Named, Aged {<br>    var name: String<br>    var age: Int<br>}<br>func wishHappyBirthday(to celebrator: Named &amp; Aged) {<br>    print(â€œHappy birthday, (celebrator.name), youâ€™re (celebrator.age)!â€)<br>}<br>let birthdayPerson = Person(name: â€œMalcolmâ€, age: 21)<br>wishHappyBirthday(to: birthdayPerson)<br>// æ‰“å° â€œHappy birthday, Malcolm, youâ€™re 21!â€<br></code><br>è¿™ä¸ªä¾‹å­å®šä¹‰äº†ä¸€ä¸ªåè®® Named, éœ€è¦ä¸€ä¸ª gettable å­—ç¬¦ä¸²å±æ€§ name. åŒæ—¶å®ƒä¹Ÿå®šä¹‰äº†å¦å¤–ä¸€ä¸ªåè®® Aged,éœ€è¦ä¸€ä¸ªçš„ gettable æ•´å‹å±æ€§ age. è¿™ä¸ªä¸¤ä¸ªåè®®éƒ½è¢«ä¸€ä¸ªç»“æ„ä½“ Person é‡‡ç”¨ã€‚</p>
<p>è¿™ä¸ªä¾‹å­è¿˜å®šä¹‰äº†ä¸€ä¸ªå‡½æ•° wishHappyBirthday(to:), celebrator å‚æ•°ç±»å‹æ˜¯ Named &amp; Aged, æ„æ€æ˜¯ â€œä»»ä½•éµå®ˆ Named å’Œ Aged åè®®çš„ç±»å‹â€ å®ƒä¸å…³å¿ƒä¼ å…¥çš„ç±»å‹æ˜¯ä»€ä¹ˆ, åªè¦å®ƒéµå®ˆè¿™ä¸¤ä¸ªåè®®çš„è¦æ±‚ã€‚</p>
<p>è¿™ä¸ªä¾‹å­ç„¶ååˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ Person å®ä¾‹ birthdayPerson, ç„¶åæŠŠè¿™ä¸ªæ–°å®ä¾‹ä¼ å…¥ wishHappyBirthday(to:) å‡½æ•°ã€‚å› ä¸º Person éµå®ˆä¸¤ä¸ªåè®®, è¿™æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„è°ƒç”¨, wishHappyBirthday(to:) å‡½æ•°å¯ä»¥æ‰“å°ç”Ÿæ—¥ç¥ç¦ã€‚</p>
<p>å¤‡æ³¨</p>
<p>åè®®ç»„åˆæ²¡æœ‰å®šä¹‰ä¸€ä¸ªæ–°çš„,æ°¸ä¹…çš„åè®®ç±»å‹ã€‚ç›¸å, å®ƒä»¬åªæ˜¯å®šä¹‰äº†ä¸€ä¸ªæœ¬åœ°ä¸´æ—¶çš„åè®®,ç”¨æ¥åˆå¹¶ç»„åˆä¸­æ‰€æœ‰åè®®çš„éœ€æ±‚ã€‚</p>
<h1 id="åˆ¤æ–­åè®®ä¸€è‡´æ€§"><a href="#åˆ¤æ–­åè®®ä¸€è‡´æ€§" class="headerlink" title="åˆ¤æ–­åè®®ä¸€è‡´æ€§"></a>åˆ¤æ–­åè®®ä¸€è‡´æ€§</h1><p>You can use the is and as operators described in Type Casting to check for protocol conformance, and to cast to a specific protocol. Checking for and casting to a protocol follows exactly the same syntax as checking for and casting to a type:</p>
<p>The is operator returns true if an instance conforms to a protocol and returns false if it does not.<br>The as? version of the downcast operator returns an optional value of the protocolâ€™s type, and this value is nil if the instance does not conform to that protocol.<br>The as! version of the downcast operator forces the downcast to the protocol type and triggers a runtime error if the downcast does not succeed.<br>This example defines a protocol called HasArea, with a single property requirement of a gettable Double property called area:</p>
<p>protocol HasArea {<br>    var area: Double { get }<br>}<br>Here are two classes, Circle and Country, both of which conform to the HasArea protocol:</p>
<p>class Circle: HasArea {<br>    let pi = 3.1415927<br>    var radius: Double<br>    var area: Double { return pi <em> radius </em> radius }<br>    init(radius: Double) { self.radius = radius }<br>}<br>class Country: HasArea {<br>    var area: Double<br>    init(area: Double) { self.area = area }<br>}<br>The Circle class implements the area property requirement as a computed property, based on a stored radius property. The Country class implements the area requirement directly as a stored property. Both classes correctly conform to the HasArea protocol.</p>
<p>Hereâ€™s a class called Animal, which does not conform to the HasArea protocol:</p>
<p>class Animal {<br>    var legs: Int<br>    init(legs: Int) { self.legs = legs }<br>}<br>The Circle, Country and Animal classes do not have a shared base class. Nonetheless, they are all classes, and so instances of all three types can be used to initialize an array that stores values of type AnyObject:</p>
<p>let objects: [AnyObject] = [<br>    Circle(radius: 2.0),<br>    Country(area: 243_610),<br>    Animal(legs: 4)<br>]<br>The objects array is initialized with an array literal containing a Circle instance with a radius of 2 units; a Country instance initialized with the surface area of the United Kingdom in square kilometers; and an Animal instance with four legs.</p>
<p>The objects array can now be iterated, and each object in the array can be checked to see if it conforms to the HasArea protocol:</p>
<p>for object in objects {<br>    if let objectWithArea = object as? HasArea {<br>        print(â€œArea is (objectWithArea.area)â€)<br>    } else {<br>        print(â€œSomething that doesnâ€™t have an areaâ€)<br>    }<br>}<br>// Area is 12.5663708<br>// Area is 243610.0<br>// Something that doesnâ€™t have an area<br>Whenever an object in the array conforms to the HasArea protocol, the optional value returned by the as? operator is unwrapped with optional binding into a constant called objectWithArea. The objectWithArea constant is known to be of type HasArea, and so its area property can be accessed and printed in a type-safe way.</p>
<p>Note that the underlying objects are not changed by the casting process. They continue to be a Circle, a Country and an Animal. However, at the point that they are stored in the objectWithArea constant, they are only known to be of type HasArea, and so only their area property can be accessed.</p>
<p>Optional Protocol Requirements</p>
<p>You can define optional requirements for protocols, These requirements do not have to be implemented by types that conform to the protocol. Optional requirements are prefixed by the optional modifier as part of the protocolâ€™s definition. Optional requirements are available so that you can write code that interoperates with Objective-C. Both the protocol and the optional requirement must be marked with the @objc attribute. Note that @objc protocols can be adopted only by classes that inherit from Objective-C classes or other @objc classes. They canâ€™t be adopted by structures or enumerations.</p>
<p>When you use a method or property in an optional requirement, its type automatically becomes an optional. For example, a method of type (Int) -&gt; String becomes ((Int) -&gt; String)?. Note that the entire function type is wrapped in the optional, not the methodâ€™s return value.</p>
<p>An optional protocol requirement can be called with optional chaining, to account for the possibility that the requirement was not implemented by a type that conforms to the protocol. You check for an implementation of an optional method by writing a question mark after the name of the method when it is called, such as someOptionalMethod?(someArgument). For information on optional chaining, see Optional Chaining.</p>
<p>The following example defines an integer-counting class called Counter, which uses an external data source to provide its increment amount. This data source is defined by the CounterDataSource protocol, which has two optional requirements:</p>
<p>@objc protocol CounterDataSource {<br>    @objc optional func increment(forCount count: Int) -&gt; Int<br>    @objc optional var fixedIncrement: Int { get }<br>}<br>The CounterDataSource protocol defines an optional method requirement called increment(forCount:) and an optional property requirement called fixedIncrement. These requirements define two different ways for data sources to provide an appropriate increment amount for a Counter instance.</p>
<p>NOTE</p>
<p>Strictly speaking, you can write a custom class that conforms to CounterDataSource without implementing either protocol requirement. They are both optional, after all. Although technically allowed, this wouldnâ€™t make for a very good data source.</p>
<p>The Counter class, defined below, has an optional dataSource property of type CounterDataSource?:</p>
<p>class Counter {<br>    var count = 0<br>    var dataSource: CounterDataSource?<br>    func increment() {<br>        if let amount = dataSource?.increment?(forCount: count) {<br>            count += amount<br>        } else if let amount = dataSource?.fixedIncrement {<br>            count += amount<br>        }<br>    }<br>}<br>The Counter class stores its current value in a variable property called count. The Counter class also defines a method called increment, which increments the count property every time the method is called.</p>
<p>The increment() method first tries to retrieve an increment amount by looking for an implementation of the increment(forCount:) method on its data source. The increment() method uses optional chaining to try to call increment(forCount:), and passes the current count value as the methodâ€™s single argument.</p>
<p>Note that two levels of optional chaining are at play here. First, it is possible that dataSource may be nil, and so dataSource has a question mark after its name to indicate that increment(forCount:) should be called only if dataSource isnâ€™t nil. Second, even if dataSource does exist, there is no guarantee that it implements increment(forCount:), because it is an optional requirement. Here, the possibility that increment(forCount:) might not be implemented is also handled by optional chaining. The call to increment(forCount:) happens only if increment(forCount:) existsâ€”that is, if it isnâ€™t nil. This is why increment(forCount:) is also written with a question mark after its name.</p>
<p>Because the call to increment(forCount:) can fail for either of these two reasons, the call returns an optional Int value. This is true even though increment(forCount:) is defined as returning a nonoptional Int value in the definition of CounterDataSource. Even though there are two optional chaining operations, one after another, the result is still wrapped in a single optional. For more information about using multiple optional chaining operations, see Linking Multiple Levels of Chaining.</p>
<p>After calling increment(forCount:), the optional Int that it returns is unwrapped into a constant called amount, using optional binding. If the optional Int does contain a valueâ€”that is, if the delegate and method both exist, and the method returned a valueâ€”the unwrapped amount is added onto the stored count property, and incrementation is complete.</p>
<p>If it is not possible to retrieve a value from the increment(forCount:) methodâ€”either because dataSource is nil, or because the data source does not implement increment(forCount:)â€”then the increment() method tries to retrieve a value from the data sourceâ€™s fixedIncrement property instead. The fixedIncrement property is also an optional requirement, so its value is an optional Int value, even though fixedIncrement is defined as a nonoptional Int property as part of the CounterDataSource protocol definition.</p>
<p>Hereâ€™s a simple CounterDataSource implementation where the data source returns a constant value of 3 every time it is queried. It does this by implementing the optional fixedIncrement property requirement:</p>
<p>class ThreeSource: NSObject, CounterDataSource {<br>    let fixedIncrement = 3<br>}<br>You can use an instance of ThreeSource as the data source for a new Counter instance:</p>
<p>var counter = Counter()<br>counter.dataSource = ThreeSource()<br>for _ in 1â€¦4 {<br>    counter.increment()<br>    print(counter.count)<br>}<br>// 3<br>// 6<br>// 9<br>// 12<br>The code above creates a new Counter instance; sets its data source to be a new ThreeSource instance; and calls the counterâ€™s increment() method four times. As expected, the counterâ€™s count property increases by three each time increment() is called.</p>
<p>Hereâ€™s a more complex data source called TowardsZeroSource, which makes a Counter instance count up or down towards zero from its current count value:</p>
<p>@objc class TowardsZeroSource: NSObject, CounterDataSource {<br>    func increment(forCount count: Int) -&gt; Int {<br>        if count == 0 {<br>            return 0<br>        } else if count &lt; 0 {<br>            return 1<br>        } else {<br>            return -1<br>        }<br>    }<br>}<br>The TowardsZeroSource class implements the optional increment(forCount:) method from the CounterDataSource protocol and uses the count argument value to work out which direction to count in. If count is already zero, the method returns 0 to indicate that no further counting should take place.</p>
<p>You can use an instance of TowardsZeroSource with the existing Counter instance to count from -4 to zero. Once the counter reaches zero, no more counting takes place:</p>
<p>counter.count = -4<br>counter.dataSource = TowardsZeroSource()<br>for _ in 1â€¦5 {<br>    counter.increment()<br>    print(counter.count)<br>}<br>// -3<br>// -2<br>// -1<br>// 0<br>// 0<br>Protocol Extensions</p>
<p>Protocols can be extended to provide method and property implementations to conforming types. This allows you to define behavior on protocols themselves, rather than in each typeâ€™s individual conformance or in a global function.</p>
<p>For example, the RandomNumberGenerator protocol can be extended to provide a randomBool() method, which uses the result of the required random() method to return a random Bool value:</p>
<p>extension RandomNumberGenerator {<br>    func randomBool() -&gt; Bool {<br>        return random() &gt; 0.5<br>    }<br>}<br>By creating an extension on the protocol, all conforming types automatically gain this method implementation without any additional modification.</p>
<p>let generator = LinearCongruentialGenerator()<br>print(â€œHereâ€™s a random number: (generator.random())â€)<br>// Prints â€œHereâ€™s a random number: 0.37464991998171â€<br>print(â€œAnd hereâ€™s a random Boolean: (generator.randomBool())â€)<br>// Prints â€œAnd hereâ€™s a random Boolean: trueâ€<br>Providing Default Implementations</p>
<p>You can use protocol extensions to provide a default implementation to any method or computed property requirement of that protocol. If a conforming type provides its own implementation of a required method or property, that implementation will be used instead of the one provided by the extension.</p>
<p>NOTE</p>
<p>Protocol requirements with default implementations provided by extensions are distinct from optional protocol requirements. Although conforming types donâ€™t have to provide their own implementation of either, requirements with default implementations can be called without optional chaining.</p>
<p>For example, the PrettyTextRepresentable protocol, which inherits the TextRepresentable protocol can provide a default implementation of its required prettyTextualDescription property to simply return the result of accessing the textualDescription property:</p>
<p>extension PrettyTextRepresentable  {<br>    var prettyTextualDescription: String {<br>        return textualDescription<br>    }<br>}<br>Adding Constraints to Protocol Extensions</p>
<p>When you define a protocol extension, you can specify constraints that conforming types must satisfy before the methods and properties of the extension are available. You write these constraints after the name of the protocol youâ€™re extending using a generic where clause, as described in Generic Where Clauses.</p>
<p>For instance, you can define an extension to the Collection protocol that applies to any collection whose elements conform to the TextRepresentable protocol from the example above.</p>
<p>extension Collection where Iterator.Element: TextRepresentable {<br>    var textualDescription: String {<br>        let itemsAsText = self.map { $0.textualDescription }<br>        return â€œ[â€œ + itemsAsText.joined(separator: â€œ, â€œ) + â€œ]â€<br>    }<br>}<br>The textualDescription property returns the textual description of the entire collection by concatenating the textual representation of each element in the collection into a comma-separated list, enclosed in brackets.</p>
<p>Consider the Hamster structure from before, which conforms to the TextRepresentable protocol, and an array of Hamster values:</p>
<p>let murrayTheHamster = Hamster(name: â€œMurrayâ€)<br>let morganTheHamster = Hamster(name: â€œMorganâ€)<br>let mauriceTheHamster = Hamster(name: â€œMauriceâ€)<br>let hamsters = [murrayTheHamster, morganTheHamster, mauriceTheHamster]<br>Because Array conforms to Collection and the arrayâ€™s elements conform to the TextRepresentable protocol, the array can use the textualDescription property to get a textual representation of its contents:</p>
<p>print(hamsters.textualDescription)<br>// Prints â€œ[A hamster named Murray, A hamster named Morgan, A hamster named Maurice]â€<br>NOTE</p>
<p>If a conforming type satisfies the requirements for multiple constrained extensions that provide implementations for the same method or property, Swift will use the implementation corresponding to the most specialized constraints.</p>
</element>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;åŸºæœ¬ä»‹ç»&quot;&gt;&lt;a href=&quot;#åŸºæœ¬ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;åŸºæœ¬ä»‹ç»&quot;&gt;&lt;/a&gt;åŸºæœ¬ä»‹ç»&lt;/h1&gt;&lt;p&gt;Swift æ˜¯ä¸º iOSï¼ŒmacOSï¼ŒwatchOSï¼Œå’Œ tvOS åº”ç”¨å¼€å‘çš„ä¸€é—¨æ–°çš„å¼€å‘è¯­è¨€ï¼Œå°½ç®¡å¦‚æ­¤ï¼ŒSwiftå¾ˆå¤šéƒ¨åˆ†
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>ç†™å¥-æŒä¸Šå¿ƒç”µè·åƒä¸‡å…ƒAè½®èèµ„</title>
    <link href="http://yoursite.com/2016/09/21/%E7%86%99%E5%81%A5-%E6%8E%8C%E4%B8%8A%E5%BF%83%E7%94%B5%E8%8E%B7%E5%8D%83%E4%B8%87%E5%85%83A%E8%BD%AE%E8%9E%8D%E8%B5%84/"/>
    <id>http://yoursite.com/2016/09/21/ç†™å¥-æŒä¸Šå¿ƒç”µè·åƒä¸‡å…ƒAè½®èèµ„/</id>
    <published>2016-09-21T03:02:14.000Z</published>
    <updated>2016-09-21T03:09:36.000Z</updated>
    
    <content type="html"><![CDATA[<div style="text-align:center"><br><img src="http://cdn.lieyunwang.com/wp-content/uploads/2016/09/150a5329e5b8ae6.png?imageMogr2/strip/interlace/0/quality/85/format/jpg" width="500" height="300"><br></div>

<p>æ®æ‚‰ï¼Œ<a href="http://www.mhealth365.cn/" target="_blank" rel="external"><em>æŒä¸Šå¿ƒç”µ</em></a>å·²è·å¾—ç”±å…ˆå£°è¯ä¸šæŠ•èµ„çš„æ•°åƒä¸‡å…ƒAè½®èèµ„ã€‚èèµ„å°†ä¸»è¦ç”¨äºå¸‚åœºå¼€å‘å’Œè¿è¥ã€‚</p>
<p>æŒä¸Šå¿ƒç”µçš„åˆ›å§‹äºº<em>ç‹é•¿æ´¥</em>æœ‰20å¤šå¹´ä¼ ç»ŸåŒ»ç–—å™¨æ¢°ä»ä¸šç»éªŒï¼Œä»–åœ¨2013å¹´åˆ›åŠäº†å…¬å¸ï¼Œä¸“æ³¨äºåŒ»ç–—å¥åº·é¢†åŸŸï¼Œæä¾›ä¸ªæ€§åŒ–ã€åŠæ—¶æ€§çš„ç§»åŠ¨åŒ»ç–—ä¿å¥æœåŠ¡ã€‚</p>
<p>ç†™å¥æŒä¸Šå¿ƒç”µï¼ˆ<em>SnapECG-RUN</em>ï¼‰æ˜¯ä¸€æ¬¾å¿ƒè„ä¿å¥è®¾å¤‡ï¼Œé€šè¿‡ä¸æ™ºèƒ½è®¾å¤‡è¿æ¥ï¼Œå³å¯éšæ—¶éšåœ°é‡‡é›†å¿ƒç”µä¿¡æ¯ï¼ŒæŠŠå¤æ‚éš¾æ‡‚çš„å¿ƒç”µå›¾å‘ˆç°ä¸ºäººäººèƒ½çœ‹æ‡‚çš„å¥åº·æç¤ºã€‚</p>
<p>é€šè¿‡ç”¨æˆ·ç«¯å’ŒåŒ»ç”Ÿç«¯APPä»¥åŠç½‘é¡µç®¡ç†ç«¯ï¼Œä¸ä¸“ä¸šäººå‘˜å»ºç«‹æœåŠ¡å…³ç³»ï¼Œå…¨æ–¹ä½æä¾›å¿ƒè„ä¿å¥æœåŠ¡ã€‚è¿™å°†å¤§å¹…åº¦å‡å°‘å¿ƒè„‘è¡€ç®¡ç–¾ç—…çš„çªå‘çŠ¶å†µï¼Œä¹Ÿå°†ä¸ºæ…¢æ€§ç—…æ‚£è€…æŒæ¡è‡ªèº«å¥åº·çŠ¶å†µã€æ§åˆ¶ç–¾ç—…å‘å±•æä¾›æ”¯æŒã€‚ç›®å‰æŒä¸Šå¿ƒç”µå·²è·å¾—CFDAå’ŒCEè®¤è¯ã€‚</p>
<p>æ®å›½å®¶å¿ƒè¡€ç®¡ç—…ä¸­å¿ƒçš„æ•°æ®æ˜¾ç¤ºï¼Œä¸­å›½å¿ƒè¡€ç®¡ç—…æ‚£è€…çº¦ä¸º2.9äº¿ï¼Œæ¯å¹´çº¦æœ‰350ä¸‡äººæ­»äºå¿ƒè¡€ç®¡ç—…ï¼Œ5ä¸ªæˆå¹´äººä¸­å°±æœ‰1ä¸ªæ‚£æœ‰å¿ƒè¡€ç®¡ç—…ã€‚</p>
<p>ä¸è¿‡ï¼Œç›®å‰åœ¨æ”¿ç­–å’Œåˆ©ç›Šåˆ†é…æ–¹å¼ç­‰é—®é¢˜æ²¡å¾—åˆ°æœ‰é™è§£å†³çš„å‰æä¸‹ï¼ŒåŒ»ç”Ÿï¼ˆç‰¹åˆ«æ˜¯ä¸‰ç”²åŒ»é™¢çš„åŒ»ç”Ÿï¼‰å¾ˆéš¾é€šè¿‡è¿™äº›ç§»åŠ¨åŒ»ç–—è®¾å¤‡åŠAppä¸ºå®¢æˆ·æä¾›è¯¦ç»†å……è¶³çš„ä¸“ä¸šå»ºè®®ã€‚æ‰€ä»¥ï¼Œleiâ€™siä¼ä¸šéœ€è¦èŠ±æ›´å¤šå¿ƒè¡€æ‰“ç£¨ç¡¬ä»¶è®¾å¤‡çš„åç«¯æœåŠ¡ï¼Œ</p>
<p>æ®æ‚‰ï¼ŒæŒä¸Šå¿ƒç”µå·²ç»å’Œåå¤šå®¶ä¼ä¸šã€æ•°åå®¶åŒ»é™¢è¾¾æˆäº†åˆä½œã€‚</p>
<p>2014å¹´9æœˆæŒä¸Šå¿ƒç”µæ›¾è·å¾—åˆ›æ–°å·¥åœºæ•°ç™¾ä¸‡ç¾å…ƒçš„å¤©ä½¿è½®èèµ„ã€‚</p>
<p><a href="http://www.lieyunwang.com/archives/214041" target="_blank" rel="external"><em>åŸæ–‡é“¾æ¥</em></a></p>
]]></content>
    
    <summary type="html">
    
      &lt;div style=&quot;text-align:center&quot;&gt;&lt;br&gt;&lt;img src=&quot;http://cdn.lieyunwang.com/wp-content/uploads/2016/09/150a5329e5b8ae6.png?imageMogr2/strip/inter
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>XCode 8 æ–°ç‰¹æ€§</title>
    <link href="http://yoursite.com/2016/09/21/XCode-8-%E6%96%B0%E7%89%B9%E6%80%A7/"/>
    <id>http://yoursite.com/2016/09/21/XCode-8-æ–°ç‰¹æ€§/</id>
    <published>2016-09-21T00:56:17.000Z</published>
    <updated>2016-09-21T02:56:05.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Xcode-8"><a href="#Xcode-8" class="headerlink" title="Xcode 8"></a>Xcode 8</h1><p>Xcode 8 åŒ…å«äº†åˆ›å»º <em>iPhone, iPad, Mac, Apple Watch, and Apple TV </em> åº”ç”¨ä½ æ‰€éœ€è¦çš„çš„ä¸€åˆ‡ã€‚ è¿™æ˜¯æœ€å¿«çš„IDEç‰ˆæœ¬, æ–°çš„ç¼–è¾‘å™¨æ‰©å±•ç‰¹æ€§ä½¿ä½ å¯ä»¥å®Œå…¨å®šåˆ¶ä½ çš„ç¼–ç ä¹ æƒ¯ã€‚ æ–°çš„è¿è¡Œæ—¶é—®é¢˜æé†’ä½ å†…å­˜æ³„éœ²å¼•èµ·çš„éšè—bug, ä¸€ä¸ªæ–°çš„ <em>Memory Debugger</em> æ·±å…¥ä½ çš„å¯¹è±¡å›¾å½¢ã€‚ Swift 3 åŒ…å«äº†æ›´è‡ªç„¶ä¸€è‡´çš„ API å‘½å, ä½ å¯ä»¥åœ¨iPadä¸Šå°è¯•æ–°çš„ Playgrounds åº”ç”¨ç¨‹åºã€‚</p>
<div style="text-align:center"><br><img src="http://a3.qpic.cn/psb?/V13UfvND3TZFZo/RNcaIoqMXSQ7nCoBRioXM8W7CL0bYZ*kQLUL3LHhsw0!/b/dPgAAAAAAAAA&bo=IAPeAQAAAAADB94!&rf=viewer_4" width="500" height="300"><br></div>



<h1 id="æ›´å¿«çš„Interface-Builder"><a href="#æ›´å¿«çš„Interface-Builder" class="headerlink" title="æ›´å¿«çš„Interface Builder"></a>æ›´å¿«çš„Interface Builder</h1><p><em>Interface Builder</em> é‡æ–°è®¾è®¡äº†ç”»å¸ƒ, è®©ä½ èƒ½æ›´å¿«çš„å·¥ä½œå’Œæœ‰æ›´å¤šçš„æ§åˆ¶æƒã€‚ ä»»ä½•è‹¹æœè®¾å¤‡éƒ½å¯ä»¥çœ‹åˆ°å®æ—¶ç²¾ç¡®çš„ç¨‹åºé¢„è§ˆã€‚ å½“ä½ åœ¨ä¸åŒè®¾å¤‡é—´å¿«é€Ÿåˆ‡æ¢ä¸º<em>size classes</em> å®šåˆ¶UIæ—¶, ä½ ä¼šçœ‹åˆ°ç›¸åŒçš„ç•Œé¢ã€‚ æ‹–åŠ¨æ”¾ç¼©éå¸¸å¿«, ç”šè‡³å½“ä½ å®Œå…¨ç¼©å°é¸Ÿç°æ•…äº‹æ¿è§†å›¾æ—¶è¿˜å¯ä»¥ç¼–è¾‘ä½ çš„ç•Œé¢ã€‚</p>
<div style="text-align:center"><br><img src="http://a1.qpic.cn/psb?/V13UfvND3TZFZo/z99xQxqCq4XHoOHAb*asuoJ7SBPNlgG3Vu2CaEkKprs!/b/dK4AAAAAAAAA&bo=IAPSAQAAAAADB9I!&rf=viewer_4" width="500" height="300"><br></div>

<h1 id="ç¼–è¾‘å™¨æ‰©å±•"><a href="#ç¼–è¾‘å™¨æ‰©å±•" class="headerlink" title="ç¼–è¾‘å™¨æ‰©å±•"></a>ç¼–è¾‘å™¨æ‰©å±•</h1><p>æ–°çš„ Xcode æºç¼–è¾‘å™¨æ‰©å±•è®©ä½ å¯ä»¥å®šåˆ¶ç¼–ç ä¹ æƒ¯ã€‚ ä½¿ç”¨æ‰©å±•åœ¨ä½ çš„ç¼–è¾‘å™¨æ–‡å­—åŒºå¯¼èˆª, é€‰æ‹©, ä¿®æ”¹, è½¬æ¢ä»£ç ã€‚ ç»‘å®šä½ æœ€å–œæ¬¢çš„æ‰©å±•åˆ°å¿«æ·é”®, è®©æ ¼å¼åŒ–å·¥ä½œæ˜“å¦‚åæŒã€‚ Xcode åŒ…å«äº†ä¸€ä¸ªæ–°çš„æ¨¡æ¿ï¼Œè®©ä½ å¯ä»¥è½»æ¾åˆ›å»ºç¼–è¾‘å™¨æ‰©å±•å¹¶åœ¨Macåº”ç”¨å•†åº—å‘å¸ƒ, æˆ–è€…ç”¨ä½ çš„å¼€å‘è€…è´¦å·ç­¾åæ‰©å±•ç„¶ååœ¨çº¿åˆ†äº«ã€‚ å› ä¸ºæ‰©å±•æ˜¯ç‹¬ç«‹è¿›ç¨‹è¿è¡Œçš„,  æ‰€ä»¥Xcode ä¼šå¾ˆå®‰å…¨ç¨³å®šã€‚</p>
<p></p><p>æ–°çš„ Xcode 8 ç¼–è¾‘å™¨è¿˜åŒ…æ‹¬ä¸‹é¢ä¸€äº›ç‰¹æ€§:</p><p></p>
<ol><br><li><code>San Francisco Mono å­—ä½“çš„æ–°ä¸»é¢˜</code></li><br><li><code>è‡ªåŠ¨ç”Ÿæˆå¿«é€Ÿå¸®åŠ©æ–‡æ¡£</code></li><br><li><code>é«˜äº®æ˜¾ç¤ºå½“å‰è¡Œ</code> </li><br><li><code>Swift ä»£ç é‡Œçš„å›¾ç‰‡å’Œé¢œè‰²å€¼</code></li><br><li><code>å›¾ç‰‡åä»£ç è¡¥å…¨</code></li><br></ol>

<div style="text-align:center"><br><img src="http://a4.qpic.cn/psb?/V13UfvND3TZFZo/AB*sU2gRXg7wXjFzf.VS0cpYirSYVpJ1PI7m.18VQZo!/m/dP8AAAAAAAAA&bo=qwChAAAAAAADByg!&rf=photolist" width="150" height="150"><br></div>

<h1 id="Swift-3"><a href="#Swift-3" class="headerlink" title="Swift 3"></a>Swift 3</h1><p>Swift 3 æ˜¯åˆ›æ–°ç¼–ç¨‹è¯­è¨€çš„é¦–æ¬¡é‡å¤§å‘å¸ƒï¼Œ å¯¹ <em>Swift.org</em> ç¤¾åŒºå¼€å‘è€…å®Œå…¨å¼€æ”¾ã€‚ è¿™ä¸ªç‰ˆæœ¬åŸºäºä¸€ä¸ªæ–°çš„APIå‘½åæŒ‡å¯¼æ–‡æ¡£ç»Ÿä¸€äº†æ ¸å¿ƒAPIçš„å‘½åè§„åˆ™ï¼Œè¿™è®©ä¹¦å†™  Swift ä»£ç æ›´åŠ è‡ªç„¶ã€‚ <code>Core Graphics</code> å’Œ <code>Grand Central Dispatch</code> è¿™äº›æµè¡Œçš„ç³»ç»ŸAPI æ›´æœ‰è¡¨ç°åŠ›ï¼Œä¸ Swift æ›´åŠ åè°ƒã€‚ ä½ å¯ä»¥åœ¨<em>iPad Playgrounds</em> åº”ç”¨ç¨‹åºé‡Œä½“éªŒ Swift 3 ã€‚</p>
<h1 id="è¿è¡Œæ—¶é—®é¢˜"><a href="#è¿è¡Œæ—¶é—®é¢˜" class="headerlink" title="è¿è¡Œæ—¶é—®é¢˜"></a>è¿è¡Œæ—¶é—®é¢˜</h1><p>è¿è¡Œç¨‹åºæ—¶ï¼Œæ–°ç‰¹æ€§æŠ¥å‘Šçš„é—®é¢˜æ˜¯ Xcode è‡ªåŠ¨è¯†åˆ«çš„, æ•è·é‚£äº›éš¾ä»¥å‘ç°çš„bugï¼Œè¿™äº›bugé€šå¸¸éš¾ä»¥å‘ç°ç›´åˆ°åº”ç”¨åˆ°äº†ç”¨æˆ·æ‰‹ä¸­ã€‚ æ–°çš„ <em>Thread Sanitizer </em>ç”¨äºç«æ€æ•°æ®å˜åŒ–å’Œå…¶ä»–çº¿ç¨‹ç›¸å…³çš„bugã€‚ ç›‘æµ‹UIçº¦æŸé—®é¢˜ä½¿ç”¨æœ€æ–°çš„ <em>View Debugger</em>ï¼Œå®ƒå…·æœ‰æ›´é«˜çš„ä¿çœŸåº¦å’Œè§†è§‰ç²¾åº¦, åœ¨æ–°çš„ <em>Memory Debugger</em> è·Ÿè¸ªå†…å­˜æ³„éœ².</p>
<div style="text-align:center"><br><img src="http://a2.qpic.cn/psb?/V13UfvND3TZFZo/cf4dXQphPBVKKEWM7x58NOpuMKHlDJ*WxB2rwMOn*p8!/m/dK0AAAAAAAAA&bo=IAPdAQAAAAADB90!&rf=photolist" width="500" height="300"><br></div>

<h1 id="å®¹æ˜“å’Œå¼ºå¤§çš„ç­¾å"><a href="#å®¹æ˜“å’Œå¼ºå¤§çš„ç­¾å" class="headerlink" title="å®¹æ˜“å’Œå¼ºå¤§çš„ç­¾å"></a>å®¹æ˜“å’Œå¼ºå¤§çš„ç­¾å</h1><p>è®¾å¤‡è®¾ç½®å’Œä»£ç ç­¾åæå¤§çš„ç®€åŒ–äº†, ä½ éœ€è¦çš„æ—¶å€™æä¾›æ›´å¤šçš„æ§åˆ¶ã€‚ æ–°çš„è‡ªåŠ¨ç®¡ç†ä»£ç ç­¾åä¼šç”Ÿæˆä½ éœ€è¦æ­£ç¡®é…ç½®çš„æ‰€æœ‰ä¸œè¥¿ã€‚ åªéœ€é€‰æ‹©ä½ çš„å¼€å‘å›¢é˜Ÿï¼Œå…¶ä»– Xcode å¸®ä½ åšäº†ã€‚ ä½ å¯ä»¥æ‰‹åŠ¨é…ç½®ä¸€åˆ‡ã€‚ å¦‚æœä½ é‡è§é—®é¢˜, æ”¹è¿›çš„é”™è¯¯ä¿¡æ¯å’Œæ—¥å¿—å¯ä»¥åœ¨ <em>Report Navigator</em> æŸ¥çœ‹ã€‚ å¦‚æœä½ æœ‰å¤šå° Mac ç”µè„‘, Xcode ä¼šè‡ªåŠ¨ä¸ºæ¯å° Mac ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„å¼€å‘è¯ä¹¦ã€‚</p>
<p>åœ¨ä½ çš„è‹¹æœè®¾å¤‡ä¸Šå¼€å‘å’Œè¿è¡Œæ‚¨çš„åº”ç”¨ç¨‹åºå’Œè¿›å…¥Xcodeçš„åå¥½è®¾ç½®è¾“å…¥Apple IDä¸€æ ·å®¹æ˜“ã€‚è‹¹æœå¼€å‘è€…è´¦å·ä¸æ˜¯å¿…éœ€çš„ã€‚</p>
<p>Provisioning Profile æ–‡ä»¶é€‰å–ï¼Œå·²ç»ä»Buiid Settingsç§»åŠ¨åˆ°äº†Generalä¸­,Buiid Settingsä¸­å·²ç»æ ‡è¯†äº† Deprecatedã€‚</p>
<div style="text-align:center"><br><img src="http://cc.cocimg.com/api/uploads/20160615/1465977531625569.jpg" width="400" height="300"><br></div><br><div style="text-align:center"><br><img src="http://cc.cocimg.com/api/uploads/20160615/1465977537567515.jpg" width="600" height="300"><br></div>

<p>ä½¿ç”¨Xcode 8åˆ›å»ºæ–°é¡¹ç›®çš„æ—¶å€™ï¼Œä¼šè®©ä½ é€‰æ‹©å¼€å‘è€…å›¢é˜Ÿä¸ºäº†è‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„è¯ä¹¦ã€‚</p>
<p>åœ¨æ–°è€é¡¹ç›®çš„<em>General</em>ä¸­ä¹Ÿå¯ä»¥å¯¹ç­¾åè¿›è¡Œè®¾ç½®,å‹¾é€‰è‡ªåŠ¨ç®¡ç†è¯ä¹¦(å¯é€‰çš„)ï¼ŒXcode ä¼šè‡ªåŠ¨æ›¿ä½ ç”Ÿæˆè°ƒè¯•è¯ä¹¦å’Œæè¿°é—®é¢˜ï¼Œè¯ä¹¦ä¸æè¿°æ–‡ä»¶æœ‰æ•ˆæœŸä¸º6å¤©ï¼Œé¿å…äº†å¤§é‡çš„åƒåœ¾å†—ä½™è¯ä¹¦å ç”¨é—®é¢˜ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Xcode-8&quot;&gt;&lt;a href=&quot;#Xcode-8&quot; class=&quot;headerlink&quot; title=&quot;Xcode 8&quot;&gt;&lt;/a&gt;Xcode 8&lt;/h1&gt;&lt;p&gt;Xcode 8 åŒ…å«äº†åˆ›å»º &lt;em&gt;iPhone, iPad, Mac, Apple Watch, 
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>CALayerå¼€å‘æŒ‡å—</title>
    <link href="http://yoursite.com/2016/09/19/CALayer%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97/"/>
    <id>http://yoursite.com/2016/09/19/CALayerå¼€å‘æŒ‡å—/</id>
    <published>2016-09-19T07:16:18.000Z</published>
    <updated>2016-10-28T05:28:54.000Z</updated>
    
    <content type="html"><![CDATA[<html lang="en-US" class="no-js windows"><br><br><link rel="stylesheet" id="wpsqt-main-css" href="https://cdn3.raywenderlich.com/wp-content/plugins/wp-survey-and-quiz-tool/css/main.css?ver=4.5.2" type="text/css" media="all"><br><link rel="stylesheet" id="style-main-css" href="https://cdn4.raywenderlich.com/wp-content/themes/raywenderlich/style.min.css?ver=1471520796" type="text/css" media="all"><br><br><div id="attachment_114189" style="width: 260px" class="wp-caption alignright"><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/LayersScreenshot-316x320.png" width="316" height="320" class="alignright size-medium wp-image-91873" srcset="https://cdn1.raywenderlich.com/wp-content/uploads/2014/12/LayersScreenshot-316x320.png 316w, https://cdn1.raywenderlich.com/wp-content/uploads/2014/12/LayersScreenshot-494x500.png 494w, https://cdn1.raywenderlich.com/wp-content/uploads/2014/12/LayersScreenshot-32x32.png 32w, https://cdn1.raywenderlich.com/wp-content/uploads/2014/12/LayersScreenshot-64x64.png 64w, https://cdn1.raywenderlich.com/wp-content/uploads/2014/12/LayersScreenshot-96x96.png 96w, https://cdn1.raywenderlich.com/wp-content/uploads/2014/12/LayersScreenshot.png 608w" sizes="(max-width: 316px) 100vw, 316px"></div><br><br><p>ä¹Ÿè®¸ä½ çŸ¥é“, ä½ åœ¨iOSç¨‹åºä¸Šçœ‹åˆ°çš„ä¸€åˆ‡éƒ½æ˜¯è§†å›¾ã€‚ æœ‰æŒ‰é’®è§†å›¾, åˆ—è¡¨è§†å›¾, æ»‘å—è§†å›¾, ç”šè‡³æ˜¯åŒ…å«å…¶ä»–è§†å›¾çš„çˆ¶è§†å›¾ã€‚</p><br><p>ä¸è¿‡ä½ å¯èƒ½ä¸çŸ¥é“,æ¯ä¸ªè§†å›¾éƒ½ç”±ä¸€ä¸ªå«åšå›¾å±‚çš„ç±»æ”¯æŒ â€“ ä¸€ä¸ªç‰¹å®šçš„ CALayer ã€‚ </p><br><p>é€šè¿‡è¿™ç¯‡æ–‡ç« , ä½ ä¼šäº†è§£ CALayer æ˜¯ä»€ä¹ˆ, å¦‚ä½•å·¥ä½œçš„ã€‚ ä½ è¿˜ä¼šçœ‹åˆ°10ä¸ªç”¨ CALayers å®ç°çš„ç‚«é…·æ•ˆæœ, æ¯”å¦‚å‡ ä½•å›¾å½¢, æ¸å˜, ç”šè‡³æ˜¯ç²’å­ç³»ç»Ÿã€‚</p><br><p>è¿™ç¯‡æ–‡ç« å‡è®¾ä½ ä¼šç”¨Swiftå¼€å‘iOSåº”ç”¨ç¨‹åº, åŒ…æ‹¬ç”¨æ•…äº‹æ¿æ„é€ ç•Œé¢ã€‚ </p><br><br><h2>å¼€å§‹</h2><br><p>ç†è§£å›¾å±‚åˆ°åº•æ˜¯ä»€ä¹ˆçš„æœ€å®¹æ˜“çš„æ–¹æ³•å°±æ˜¯çœ‹ä»–ä»¬æ€ä¹ˆè¿è¡Œã€‚ æ‰€ä»¥è®©æˆ‘ä»¬ä»å¤´åˆ›å»ºä¸€ä¸ªç®€å•çš„å·¥ç¨‹æ¥ç©è½¬å›¾å±‚ã€‚</p><br><p>å‡†å¤‡å¥½å†™ä»£ç äº†å—? ä¸é”™! å¯åŠ¨ Xcode å¹¶ä¸”:</p><br><ol><br><li>ä»èœå•é€‰æ‹© <em>File\New\Project&#8230;</em> . </li><br><li>ä»å¯¹è¯æ¡†ä¸­é€‰æ‹© <em>iOS\Application\Single View Application</em> . </li><br><li>ç‚¹å‡» <em>Next</em>, è¾“å…¥ <em>CALayerPlayground</em> ä½œä¸ºäº§å“å,è¾“å…¥æœºæ„åå’Œæ ‡è¯†ç¬¦ã€‚ </li><br><li>é€‰æ‹© <em>Swift</em>ä½œä¸ºå¼€å‘è¯­è¨€åŒæ—¶é€‰æ‹©  <em>Universal</em> . </li><br><li>ä¸è¦é€‰ä¸­ <em>Core Data</em> , ç„¶åç‚¹å‡» <em>Next</em>. </li><br><li>ç»™ä½ çš„å·¥ç¨‹æ‰¾ä¸ªå¥½ä½ç½® (æˆ‘æŠŠå·¥ç¨‹æ”¾åœ¨ä¸€ä¸ªå« Source çš„ç”¨æˆ·æ–‡ä»¶å¤¹), ç„¶åç‚¹å‡» <em>Create</em>.</li><br><p>å¥½äº†, ç°åœ¨æ–‡ä»¶åˆ›å»ºå¥½äº†,ä¸‹ä¸€æ­¥æ˜¯åˆ›å»ºä¸€ä¸ªè§†å›¾:</p><br><li>åœ¨ Project navigator, é€‰æ‹© <em>Main.storyboard</em>. </li><br><li>ä»èœå•ä¸­é€‰æ‹© <em>View\Assistant Editor\Show Assistant Editor</em> , å¦‚æœæ²¡æœ‰æ˜¾ç¤ºå‡ºæ¥å°±é€‰æ‹© <em>View\Utilities\Show Object Library</em> . </li><br><li>ä¹Ÿå¯ä»¥é€‰æ‹© <em>Editor\Canvas\Show Bounds Rectangles</em>, è¿™æ ·ä½ ä¼šçœ‹åˆ°å°†è¦åŠ å…¥sceneçš„è§†å›¾è¾¹ç•Œè½®å»“ã€‚ </li><br><li>ä» Object library ä¸­, æ‹–ä¸€ä¸ªè§†å›¾åˆ° View Controller Scene. é€‰ä¸­å®ƒ, å» Size inspector (<em>View\Utilities\Show Size Inspector</em>)è®¾ç½® <em>x</em> å’Œ <em>y</em> ä¸º <em>150</em> , <em>width</em> å’Œ <em>height</em> ä¸º <em>300</em>. </li><br><li>ä¿æŒè§†å›¾é€‰ä¸­, ç‚¹å‡»è‡ªåŠ¨å¸ƒå±€å·¥å…·æ¡ä¸Šçš„ <em>Align</em> æŒ‰é’® (æ•…äº‹æ¿å³ä¸‹æ–¹) é€‰ä¸­ <em>Horizontal Center in Container</em> å’Œ <em>Vertical Center in Container</em>, ä¸¤ä¸ªå€¼éƒ½è®¾ä¸º <em>0</em>, ç„¶åç‚¹å‡» <em>Add 2 Constraints</em>. </li><br><li>ç‚¹å‡» <em>Pin</em> æŒ‰é’®, é€‰ä¸­ <em>Width</em> å’Œ <em>Height</em>, ç¡®ä¿ä¸¤ä¸ªå€¼éƒ½è®¾æˆ <em>300</em>, ç‚¹å‡» <em>Add 2 Constraints</em>.</li><br></ol><br><p>æœ€å, æŒ‰ä½controlæ‹–ä½åœ¨ <em>ViewController.swift</em> åˆ›å»ºçš„è§†å›¾, æ‹–åˆ° <code>viewDidLoad()</code> æ–¹æ³•ä¸Šé¢ã€‚ å¼¹å‡ºæç¤ºç»™å‡ºçš„outlet åå­—æ˜¯ <em>viewForLayer</em>. ä½ çš„ Xcode çœ‹èµ·æ¥æ˜¯è¿™æ ·:</p><br><p><a href="http://www.raywenderlich.com/wp-content/uploads/2014/12/Xcode-CreateOutlet.png" target="_blank" rel="external"><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/Xcode-CreateOutlet-700x215.png" width="700" height="215" class="aligncenter size-large wp-image-90649" srcset="https://cdn2.raywenderlich.com/wp-content/uploads/2014/12/Xcode-CreateOutlet-700x215.png 700w, https://cdn2.raywenderlich.com/wp-content/uploads/2014/12/Xcode-CreateOutlet-480x147.png 480w, https://cdn2.raywenderlich.com/wp-content/uploads/2014/12/Xcode-CreateOutlet.png 1404w" sizes="(max-width: 700px) 100vw, 700px"></a></p><br><p>ç‚¹å‡» <em>Connect</em> åˆ›å»º outlet. </p><br><p>ç”¨ä¸‹é¢çš„ä»£ç æ›¿æ¢ <em>ViewController.swift</em> çš„å†…å®¹:</p><br><br><div class="wp_codebox"><table><tr id="p904881"><td class="code" id="p90488code1"><pre class="swift" style="font-family:monospace;"><span style="color: #a61390;">import</span> UIKit<br>&nbsp;<br><span style="color: #a61390;">class</span> ViewController<span style="color: #002200;">:</span> <span style="color: #400080;">UIViewController</span> <span style="color: #002200;">&#123;</span><br>&nbsp;<br>  @IBOutlet weak <span style="color: #a61390;">var</span> viewForLayer<span style="color: #002200;">:</span> <span style="color: #400080;">UIView</span><span style="color: #002200;">!</span><br>&nbsp;<br>  <span style="color: #a61390;">var</span> l<span style="color: #002200;">:</span> <span style="color: #400080;">CALayer</span> <span style="color: #002200;">&#123;</span><br>    <span style="color: #a61390;">return</span> viewForLayer.layer<br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br>  <span style="color: #a61390;">override</span> <span style="color: #a61390;">func</span> viewDidLoad<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>    <span style="color: #a61390;">super</span>.viewDidLoad<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>    setUpLayer<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br>  <span style="color: #a61390;">func</span> setUpLayer<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>    l.backgroundColor <span style="color: #002200;">=</span> <span style="color: #400080;">UIColor</span>.blueColor<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span>.<span style="color: #400080;">CGColor</span><br>    l.borderWidth <span style="color: #002200;">=</span> <span style="color: #2400d9;">100.0</span><br>    l.borderColor <span style="color: #002200;">=</span> <span style="color: #400080;">UIColor</span>.redColor<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span>.<span style="color: #400080;">CGColor</span><br>    l.shadowOpacity <span style="color: #002200;">=</span> <span style="color: #2400d9;">0.7</span><br>    l.shadowRadius <span style="color: #002200;">=</span> <span style="color: #2400d9;">10.0</span><br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br><span style="color: #002200;">&#125;</span></pre></td></tr></table></div><br><br><p>æ­£å¦‚å‰é¢æåˆ°çš„, æ¯ä¸ªè§†å›¾éƒ½æœ‰ä¸€ä¸ªå›¾å±‚, ä½ å¯ä»¥ç”¨ <code>yourView.layer</code> è·å–è¿™ä¸ªå›¾å±‚ã€‚ è¿™ä¸ªä»£ç é¦–å…ˆåšçš„æ˜¯åˆ›å»ºä¸€ä¸ªè®¡ç®—å±æ€§â€lâ€ (å°å†™çš„ L) æ¥è®¿é—® <code>viewForLayer</code> çš„å›¾å±‚, è¿™ä¸ªå¯ä»¥èŠ‚çœä½ å†™åç»­ä»£ç çš„æ•²å‡»ã€‚ </p><br><p> <code>setUpLayer</code> è´Ÿè´£ç»™å›¾å±‚è®¾ç½®ä¸€äº›å±æ€§; é˜´å½±, è“è‰²çš„èƒŒæ™¯, çº¢è‰²å¤§è¾¹æ¡†ã€‚ ç¨åä½ ä¼šäº†è§£æ›´å¤š <code>setUpLayer()</code> , ä¸è¿‡å…ˆç¼–è¯‘è¿è¡Œæ¨¡æ‹Ÿå™¨æ¥æŸ¥çœ‹ä½ çš„è‡ªå®šä¹‰å›¾å±‚ (æˆ‘é€‰çš„æ˜¯ <em>iPhone 6</em>) :</p><br><p><a href="http://www.raywenderlich.com/wp-content/uploads/2014/12/CALayerPlayground-1.png" target="_blank" rel="external"><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/CALayerPlayground-1-179x320.png" width="179" height="320" class="aligncenter size-medium wp-image-90653 bordered" srcset="https://cdn3.raywenderlich.com/wp-content/uploads/2014/12/CALayerPlayground-1-179x320.png 179w, https://cdn3.raywenderlich.com/wp-content/uploads/2014/12/CALayerPlayground-1-281x500.png 281w" sizes="(max-width: 179px) 100vw, 179px"></a></p><br><p>å‡ è¡Œä»£ç çš„æ•ˆæœå¾ˆé…·å§,  å› ä¸ºæ¯ä¸ªè§†å›¾èƒŒåéƒ½æœ‰å›¾å±‚, ä½ å¯ä»¥åœ¨ç¨‹åº <i>ä»»æ„</i> è§†å›¾ä¸­åšè¿™äº›ã€‚ æˆ‘ä»¬æ¥ä»”ç»†çœ‹ä¸€ä¸‹ã€‚</p><br><h2>åŸºæœ¬çš„ CALayer å±æ€§</h2><br><p>CALayer æœ‰å‡ ä¸ªå±è®©ä½ å¯ä»¥è‡ªå®šä¹‰å®ƒçš„å¤–è§‚ã€‚ å›æƒ³ä¸€ä¸‹ä½ å‰é¢åšè¿‡çš„:</p><br><ul><br><li>èƒŒæ™¯è‰²ä»æ— åˆ°è“è‰²<br></li><li>æŠŠè¾¹æ¡†å®½åº¦ä»0æ”¹æˆ100<br></li><li>æŠŠè¾¹æ¡†è‰²ä»é»‘è‰²å˜æˆçº¢è‰²<br></li><li>æœ€å, æ”¹å˜é˜´å½±é€æ˜åº¦çš„å€¼åˆ°0.7; è¿™ä¼šäº§ç”Ÿé˜´å½±æ•ˆæœ, ä½ å¯ä»¥è¿›ä¸€æ­¥æŠŠå®ƒçš„é˜´å½±åŠå¾„ä»3æ”¹æˆ10ã€‚</li><br></ul><br><p>CALayer ä»…æœ‰å‡ ä¸ªå±æ€§å¯ä»¥è®¾ç½®ã€‚ æˆ‘ä»¬å†è¯•ä¸¤ä¸ªã€‚ åœ¨<code>setUpLayer()</code> ä¸‹æ·»åŠ ä¸‹é¢å‡ è¡Œä»£ç :</p><br><br><div class="wp_codebox"><table><tr id="p904882"><td class="code" id="p90488code2"><pre class="swift" style="font-family:monospace;">l.contents <span style="color: #002200;">=</span> <span style="color: #400080;">UIImage</span><span style="color: #002200;">&#40;</span>named<span style="color: #002200;">:</span> <span style="color: #bf1d1a;">&quot;star&quot;</span><span style="color: #002200;">&#41;</span>?.CGImage<br>l.contentsGravity <span style="color: #002200;">=</span> kCAGravityCenter</pre></td></tr></table></div><br><br><p> <code>contents</code> å±æ€§å…è®¸ä½ ç»™å›¾å±‚å†…å®¹è®¾ç½®å›¾ç‰‡, æ‰€ä»¥è¿™é‡Œä½ ç»™å®ƒè®¾äº†å›¾ç‰‡å« &#8220;star&#8221;. å¯¹äºè¿™ä¸ªå·¥ä½œ, ä½ è¦å…ˆæŠŠå›¾ç‰‡åŠ åˆ°ä½ çš„å·¥ç¨‹é‡Œ,  <a href="http://www.raywenderlich.com/wp-content/uploads/2014/12/star.png" title="Star image" download="star.png" target="_blank" rel="external">ä¸‹è½½æˆ‘åšçš„æ˜Ÿæ˜Ÿå›¾ç‰‡</a> ç„¶åæ·»åŠ åˆ°ä½ çš„å·¥ç¨‹é‡Œã€‚</p><br><p>ç¼–è¯‘è¿è¡Œç¨‹åº, æ¬£èµä¸€ä¼šè¿™ä»¶è‰ºæœ¯å“: </p><br><p><a href="http://www.raywenderlich.com/wp-content/uploads/2014/12/CALayerPlayground-2.png" target="_blank" rel="external"><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/CALayerPlayground-2-179x320.png" width="179" height="320" class="aligncenter size-medium wp-image-90655 bordered" srcset="https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/CALayerPlayground-2-179x320.png 179w, https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/CALayerPlayground-2-281x500.png 281w" sizes="(max-width: 179px) 100vw, 179px"></a></p><br><p>æ³¨æ„æ˜Ÿæ˜Ÿæ˜¯å¦‚ä½•å±…ä¸­çš„ &#8211; è¿™æ˜¯ä½ å› ä¸ºæŠŠ <code>contentsGravity</code> å±æ€§è®¾ç½®æˆäº† <code>kCAGravityCenter</code>. å¦‚ä½ æ‰€æ„¿, ä½ å¯ä»¥æ”¹å˜å®ƒçš„é‡å¿ƒä¸ºä¸Š, å³ä¸Š, å³, å³ä¸‹, ä¸‹,å·¦ä¸‹, å·¦å’Œå·¦ä¸Šã€‚ </p><br><h2>æ”¹å˜å›¾å±‚çš„å¤–è§‚</h2><br><p>ä»…ä»…ä¸ºäº†å¥½ç©, æˆ‘ä»¬æ·»åŠ ä¸€äº›æ‰‹åŠ¿æ¥æ“ä½œå›¾å±‚çš„å¤–è§‚ã€‚ åœ¨ Xcode é‡Œ, æ‹–ä¸€ä¸ªç‚¹å‡»æ‰‹åŠ¿åˆ° <code>viewForLayer</code> . ä»…ä¾›å‚è€ƒ, æ·»åŠ ç‚¹å‡»æ‰‹åŠ¿åº”è¯¥æ˜¯è¿™ä¸ªæ ·å­çš„:</p><br><p><a href="http://www.raywenderlich.com/wp-content/uploads/2014/12/Xcode-AddTapGestureRecognizer.png" target="_blank" rel="external"><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/Xcode-AddTapGestureRecognizer-700x478.png" width="700" height="478" class="aligncenter size-large wp-image-90656" srcset="https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/Xcode-AddTapGestureRecognizer-700x478.png 700w, https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/Xcode-AddTapGestureRecognizer-468x320.png 468w, https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/Xcode-AddTapGestureRecognizer.png 1109w" sizes="(max-width: 700px) 100vw, 700px"></a></p><br><div class="note"><br><p><em>å¤‡æ³¨</em>: å¦‚æœä½ ä¸ç†Ÿæ‚‰æ‰‹åŠ¿, å¯ä»¥æŸ¥çœ‹ <a href="http://www.raywenderlich.com/76020/using-uigesturerecognizer-with-swift-tutorial" title="Using UIGestureRecognizer with Swift" target="_blank" rel="external"> Using UIGestureRecognizer with Swift</a>. </p><br></div><br><p>é‡å¤æ­¥éª¤æ·»åŠ ä¸€ä¸ªæåˆæ‰‹åŠ¿åˆ° <code>viewForLayer</code> .</p><br><p>ç„¶åæŒ‰ä½ controlæ‹–åŠ¨æ¯ä¸ªæ‰‹åŠ¿åˆ°<em>ViewController.swift</em>, ä¸€ä¸ªæ¥ç€ä¸€ä¸ª, æŠŠå®ƒä»¬æ”¾<code>setUpLayer()</code> å’Œç±»çš„å¤§æ‹¬å·ä¹‹é—´ã€‚ </p><br><p>åœ¨å¼¹å‡ºæ¡†é‡Œ, æŠŠè¿æ¥æŒ‰é’®æ”¹æˆ <em>Action</em> å‘½åç‚¹å‡»æ‰‹åŠ¿åä¸º <code>tapGestureRecognized</code> , æåˆæ‰‹åŠ¿åä¸º <code>pinchGestureRecognized</code>. ä¾‹å¦‚:</p><br><p><a href="http://www.raywenderlich.com/wp-content/uploads/2014/12/Xcode-CreateAction.png" target="_blank" rel="external"><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/Xcode-CreateAction-700x253.png" width="700" height="253" class="aligncenter size-large wp-image-90658" srcset="https://cdn2.raywenderlich.com/wp-content/uploads/2014/12/Xcode-CreateAction-700x253.png 700w, https://cdn2.raywenderlich.com/wp-content/uploads/2014/12/Xcode-CreateAction-480x173.png 480w, https://cdn2.raywenderlich.com/wp-content/uploads/2014/12/Xcode-CreateAction.png 1102w" sizes="(max-width: 700px) 100vw, 700px"></a></p><br><p>ä¿®æ”¹ <code>tapGestureRecognized(_:)</code> åƒè¿™æ ·:</p><br><br><div class="wp_codebox"><table><tr id="p904883"><td class="code" id="p90488code3"><pre class="swift" style="font-family:monospace;">@IBAction <span style="color: #a61390;">func</span> tapGestureRecognized<span style="color: #002200;">&#40;</span>sender<span style="color: #002200;">:</span> <span style="color: #400080;">UITapGestureRecognizer</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>  l.shadowOpacity <span style="color: #002200;">=</span> l.shadowOpacity <span style="color: #002200;">==</span> <span style="color: #2400d9;">0.7</span> ? <span style="color: #2400d9;">0.0</span> <span style="color: #002200;">:</span> <span style="color: #2400d9;">0.7</span><br><span style="color: #002200;">&#125;</span></pre></td></tr></table></div><br><br><p>è¿™æ˜¯å‘Šè¯‰ <code>viewForLayer</code> ç‚¹å‡»æ—¶åœ¨0.7å’Œ0çš„é˜´å½±ä¸é€æ˜åº¦ä¹‹é—´åˆ‡æ¢å›¾å±‚çš„é˜´å½±ã€‚ </p><br><p>ä½ è¯´çš„è¿™ä¸ªè§†å›¾? é‡å†™ CALayer&#8217;çš„ <code>hitTest(<em>:)</em></code> æ–¹æ³•ä¹Ÿå¯ä»¥å®ç°, å®é™…ä¸Šåœ¨æ–‡ç« çš„åé¢ä½ ä¼šçœ‹åˆ°è¿™ä¸ªæ–¹æ³•ã€‚ ä¸è¿‡è¿™é‡Œæ˜¯ä¸Šé¢æ–¹æ³•çš„é€»è¾‘:  hit testing æ˜¯å›¾å±‚å”¯ä¸€å¯ä»¥åšçš„, å› ä¸ºå®ƒä¸å“åº”æ‰‹åŠ¿ã€‚ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ è¦åœ¨è§†å›¾ä¸Šæ·»åŠ æ‰‹åŠ¿Tã€‚ </p><br><p>ç°åœ¨ä¿®æ”¹ <code>pinchGestureRecognized(:)</code> åƒè¿™æ ·:</p><br><br><div class="wp_codebox"><table><tr id="p904884"><td class="code" id="p90488code4"><pre class="swift" style="font-family:monospace;">@IBAction <span style="color: #a61390;">func</span> pinchGestureRecognized<span style="color: #002200;">&#40;</span>sender<span style="color: #002200;">:</span> UIPinchGestureRecognizer<span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>  <span style="color: #a61390;">let</span> offset<span style="color: #002200;">:</span> <span style="color: #400080;">CGFloat</span> <span style="color: #002200;">=</span> sender.scale &lt; <span style="color: #2400d9;">1</span> ? <span style="color: #2400d9;">5.0</span> <span style="color: #002200;">:</span> <span style="color: #002200;">-</span><span style="color: #2400d9;">5.0</span><br>  <span style="color: #a61390;">let</span> oldFrame <span style="color: #002200;">=</span> l.frame<br>  <span style="color: #a61390;">let</span> oldOrigin <span style="color: #002200;">=</span> oldFrame.origin<br>  <span style="color: #a61390;">let</span> newOrigin <span style="color: #002200;">=</span> <span style="color: #400080;">CGPoint</span><span style="color: #002200;">&#40;</span>x<span style="color: #002200;">:</span> oldOrigin.x <span style="color: #002200;">+</span> offset, y<span style="color: #002200;">:</span> oldOrigin.y <span style="color: #002200;">+</span> offset<span style="color: #002200;">&#41;</span><br>  <span style="color: #a61390;">let</span> newSize <span style="color: #002200;">=</span> <span style="color: #400080;">CGSize</span><span style="color: #002200;">&#40;</span>width<span style="color: #002200;">:</span> oldFrame.width <span style="color: #002200;">+</span> <span style="color: #002200;">&#40;</span>offset <span style="color: #002200;"><em></em></span> <span style="color: #002200;">-</span><span style="color: #2400d9;">2.0</span><span style="color: #002200;">&#41;</span>, height<span style="color: #002200;">:</span> oldFrame.height <span style="color: #002200;">+</span> <span style="color: #002200;">&#40;</span>offset <span style="color: #002200;"></span> <span style="color: #002200;">-</span><span style="color: #2400d9;">2.0</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span><br>  <span style="color: #a61390;">let</span> newFrame <span style="color: #002200;">=</span> <span style="color: #400080;">CGRect</span><span style="color: #002200;">&#40;</span>origin<span style="color: #002200;">:</span> newOrigin, size<span style="color: #002200;">:</span> newSize<span style="color: #002200;">&#41;</span><br>  <span style="color: #a61390;">if</span> newFrame.width &gt;<span style="color: #002200;">=</span> <span style="color: #2400d9;">100.0</span> <span style="color: #002200;">&amp;&amp;</span> newFrame.width &lt;<span style="color: #002200;">=</span> <span style="color: #2400d9;">300.0</span> <span style="color: #002200;">&#123;</span><br>    l.borderWidth <span style="color: #002200;">-=</span> offset<br>    l.cornerRadius <span style="color: #002200;">+=</span> <span style="color: #002200;">&#40;</span>offset <span style="color: #002200;">/</span> <span style="color: #2400d9;">2.0</span><span style="color: #002200;">&#41;</span><br>    l.frame <span style="color: #002200;">=</span> newFrame<br>  <span style="color: #002200;">&#125;</span><br><span style="color: #002200;">&#125;</span></pre></td></tr></table></div><br><br><p>ä½ åœ¨è¿™é‡ŒåŸºäºç”¨æˆ·æåˆåˆ›å»ºäº†æ­£è´Ÿåç§»é‡, ç„¶åè°ƒæ•´å›¾å±‚åŒºåŸŸçš„å°ºå¯¸,è¾¹æ¡†çš„å®½åº¦å’Œåœ†è§’åŠå¾„ã€‚ </p><br><p>å›¾å±‚çš„åœ†è§’åŠå¾„é»˜è®¤ä¸º0, æ˜¯ä¸ª90åº¦åœ†è§’çš„æ ‡å‡†çŸ©å½¢ã€‚ å¢åŠ åŠå¾„åˆ›å»ºåœ†è§’ã€‚ æƒ³æŠŠæ­£æ–¹å½¢å˜æˆåœ†å—? æŠŠåœ†è§’åŠå¾„è®¾ç½®ä¸ºå®½åº¦çš„ä¸€åŠå°±å¯ä»¥äº†ã€‚ </p><br><p>æ³¨æ„,è°ƒæ•´åœ†è§’åŠå¾„å¹¶ä¸ä¼šè£å‰ªå›¾å±‚çš„å†…å®¹ (æ˜Ÿæ˜Ÿå›¾ç‰‡) é™¤éå›¾å±‚çš„ <code>masksToBounds</code> å±æ€§è®¾ç½®æˆ <code>true</code>.</p><br><p>ç¼–è¯‘è¿è¡Œ, è¯•ç€å•å‡»å’Œæåˆè§†å›¾:</p><br><p><a href="http://www.raywenderlich.com/wp-content/uploads/2014/12/CALayerPlayground-3.png" target="_blank" rel="external"><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/CALayerPlayground-3-179x320.png" width="179" height="320" class="aligncenter size-medium wp-image-90661 bordered" srcset="https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/CALayerPlayground-3-179x320.png 179w, https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/CALayerPlayground-3-281x500.png 281w" sizes="(max-width: 179px) 100vw, 179px"></a></p><br><p>å—¨, æ…¢æ…¢æ‰“ç£¨,ä½ å¯ä»¥æˆä¸ºä¸€ä¸ªä¸é”™çš„å¤´åƒåˆ¶é€ å•†! :]</p><br><h2>ä¼Ÿå¤§çš„ CALayer ä¹‹æ—…</h2><br><p><a href="http://www.raywenderlich.com/wp-content/uploads/2015/01/CaLayerTour-e1421621716326.png" target="_blank" rel="external"><img src="http://www.raywenderlich.com/wp-content/uploads/2015/01/CaLayerTour-e1421621716326.png" width="441" height="423" class="aligncenter size-full wp-image-93973" srcset="https://cdn4.raywenderlich.com/wp-content/uploads/2015/01/CaLayerTour-e1421621716326.png 441w, https://cdn4.raywenderlich.com/wp-content/uploads/2015/01/CaLayerTour-e1421621716326-334x320.png 334w, https://cdn4.raywenderlich.com/wp-content/uploads/2015/01/CaLayerTour-e1421621716326-32x32.png 32w" sizes="(max-width: 441px) 100vw, 441px"></a> </p><br><p>CALayer å·²ç»å¤šäº†ä¸€äº›å±æ€§å’Œæ–¹æ³•, ä»¥åŠä¸€äº›æ‹¥æœ‰ç‰¹å®šå±æ€§å’Œæ–¹æ³•çš„å­ç±»ã€‚ </p><br><p>å¯¹äºå‰©ä¸‹çš„æ–‡ç« , ä½ ä¼šéœ€è¦ä¸‹é¢çš„:</p><br><ul><br><li><a href="http://bit.ly/AppStoreLayerPlayer" title="Layer Player on App Store" target="_blank">The Layer Player App</a></li><br><li><a href="http://bit.ly/LayerPlayer" title="Layer Player at GitHub" target="_blank">The Layer Player Source Code</a></li><br></ul><br><p>è¿™ä¸ªç¨‹åºåŒ…å«10ç§ä¸åŒ CALayers çš„ç¤ºä¾‹, è¿™äº›ç¤ºä¾‹ä½ ä¼šåœ¨æ–‡ç« é‡Œå­¦åˆ°ã€‚ è¿™æ˜¯10ä¸ªç¤ºä¾‹çš„é¢„è§ˆ:</p><br><p><a href="http://www.raywenderlich.com/wp-content/uploads/2014/12/CALayerTourScenes.png" target="_blank" rel="external"><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/CALayerTourScenes-700x415.png" width="700" height="415" class="aligncenter size-large wp-image-92164 bordered" srcset="https://cdn2.raywenderlich.com/wp-content/uploads/2014/12/CALayerTourScenes-700x415.png 700w, https://cdn2.raywenderlich.com/wp-content/uploads/2014/12/CALayerTourScenes-480x284.png 480w" sizes="(max-width: 700px) 100vw, 700px"></a></p><br><p>é€šè¿‡ä¸‹é¢çš„ä¾‹å­, æˆ‘å»ºè®®ä½ åœ¨ CALayer ç¨‹åºä¸­ç©ç©,é€‰æ‹©æ€§çš„çœ‹ä¸€äº›æºç ã€‚ å‰©ä½™çš„æ–‡ç« ä½ ä¸éœ€è¦ç¼–ç , åä¸‹æ¥é˜…è¯»å§ :]</p><br><p>è¿™é‡Œæœ‰ä¸€äº›å¾ˆæ£’çš„ç¤ºä¾‹ä½ å¯ä»¥æ·»åŠ ä¸åŒç±»å‹ CALayers åˆ°ä½ çš„å·¥ç¨‹ã€‚ å¸Œæœ›ä½ å–œæ¬¢!</p><br><h2>ç¤ºä¾‹1: CALayer</h2><br><p>ä½ å·²ç»çœ‹è¿‡ä¸€ä¸ªä½¿ç”¨ CALayer çš„ç¤ºä¾‹, å¹¶ä¸”è®¾ç½®äº†ä¸€äº›å±æ€§ã€‚ </p><br><p>è¿™é‡Œæœ‰ä¸€äº›å…³äº CALayers çš„äº‹æˆ‘è¿˜æ²¡æœ‰æåŠ:</p><br><ul><br><li><em>å›¾å±‚å¯ä»¥æœ‰å­å›¾å±‚</em>. å°±åƒè§†å›¾æœ‰å­è§†å›¾, å›¾å±‚ä¹Ÿæœ‰å­å›¾å±‚ã€‚ ä½ å¯ä»¥ç”¨è¿™ä¸ªå®ç°ä¸€äº›ç‚«é…·çš„æ•ˆæœ!</li><br><li><em>å›¾å±‚å±æ€§æ˜¯åŠ¨ç”»çš„</em>. å½“ä½ æ”¹å˜ä¸€ä¸ªå›¾å±‚çš„å±æ€§æ—¶, é»˜è®¤å®ƒä¼šéšç€æ—¶é—´äº§ç”ŸåŠ¨ç”»ã€‚ ä½ ä¹Ÿå¯ä»¥æŒ‰ç…§è‡ªå·±çš„æ—¶æœºå®šåˆ¶åŠ¨ç”»ã€‚</li><br><li><em>å›¾å±‚æ˜¯è½»é‡çº§çš„</em>. å›¾å±‚æ¯”è§†å›¾è½»é‡çº§, å› æ­¤å®ƒä»¬å¯ä»¥å¸®ä½ å®ç°æ›´å¥½çš„æ•ˆæœã€‚</li><br><li><em>å›¾å±‚æœ‰å¾ˆå¤šæœ‰ç”¨çš„å±æ€§.</em> ä½ å·²ç»çœ‹åˆ°ä¸€äº›äº†, ä¸è¿‡è®©æˆ‘ä»¬å†çœ‹ä¸€äº›!</li><br></ul><br><p>å¦‚ä½ æ—©å‰çœ‹åˆ°çš„, å›¾å±‚æœ‰å¾ˆå¤šæœ‰ç”¨çš„å±æ€§ã€‚ è®©æˆ‘æµè§ˆå®Œæ•´çš„ CALayer å±æ€§åˆ—è¡¨ &#8211; ä¸€äº›ä½ æ²¡æœ‰çœ‹è¿‡çš„ä½†æ˜¯å¾ˆä¾¿æ·çš„!</p><br><br><div class="wp_codebox"><table><tr id="p904885"><td class="code" id="p90488code5"><pre class="swift" style="font-family:monospace;"><span style="color: #11740a; font-style: italic;">// 1</span><br><span style="color: #a61390;">let</span> layer <span style="color: #002200;">=</span> <span style="color: #400080;">CALayer</span><span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>layer.frame <span style="color: #002200;">=</span> someView.bounds<br>&nbsp;<br><span style="color: #11740a; font-style: italic;">// 2</span><br>layer.contents <span style="color: #002200;">=</span> <span style="color: #400080;">UIImage</span><span style="color: #002200;">&#40;</span>named<span style="color: #002200;">:</span> <span style="color: #bf1d1a;">&quot;star&quot;</span><span style="color: #002200;">&#41;</span>?.CGImage<br>layer.contentsGravity <span style="color: #002200;">=</span> kCAGravityCenter<br>&nbsp;<br><span style="color: #11740a; font-style: italic;">// 3</span><br>layer.magnificationFilter <span style="color: #002200;">=</span> kCAFilterLinear<br>layer.geometryFlipped <span style="color: #002200;">=</span> <span style="color: #a61390;">false</span><br>&nbsp;<br><span style="color: #11740a; font-style: italic;">// 4</span><br>layer.backgroundColor <span style="color: #002200;">=</span> <span style="color: #400080;">UIColor</span><span style="color: #002200;">&#40;</span>red<span style="color: #002200;">:</span> <span style="color: #2400d9;">11</span><span style="color: #002200;">/</span><span style="color: #2400d9;">255.0</span>, green<span style="color: #002200;">:</span> <span style="color: #2400d9;">86</span><span style="color: #002200;">/</span><span style="color: #2400d9;">255.0</span>, blue<span style="color: #002200;">:</span> <span style="color: #2400d9;">14</span><span style="color: #002200;">/</span><span style="color: #2400d9;">255.0</span>, alpha<span style="color: #002200;">:</span> <span style="color: #2400d9;">1.0</span><span style="color: #002200;">&#41;</span>.<span style="color: #400080;">CGColor</span><br>layer.opacity <span style="color: #002200;">=</span> <span style="color: #2400d9;">1.0</span><br>layer.hidden <span style="color: #002200;">=</span> <span style="color: #a61390;">false</span><br>layer.masksToBounds <span style="color: #002200;">=</span> <span style="color: #a61390;">false</span><br>&nbsp;<br><span style="color: #11740a; font-style: italic;">// 5</span><br>layer.cornerRadius <span style="color: #002200;">=</span> <span style="color: #2400d9;">100.0</span><br>layer.borderWidth <span style="color: #002200;">=</span> <span style="color: #2400d9;">12.0</span><br>layer.borderColor <span style="color: #002200;">=</span> <span style="color: #400080;">UIColor</span>.whiteColor<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span>.<span style="color: #400080;">CGColor</span><br>&nbsp;<br><span style="color: #11740a; font-style: italic;">// 6</span><br>layer.shadowOpacity <span style="color: #002200;">=</span> <span style="color: #2400d9;">0.75</span><br>layer.shadowOffset <span style="color: #002200;">=</span> <span style="color: #400080;">CGSize</span><span style="color: #002200;">&#40;</span>width<span style="color: #002200;">:</span> <span style="color: #2400d9;">0</span>, height<span style="color: #002200;">:</span> <span style="color: #2400d9;">3</span><span style="color: #002200;">&#41;</span><br>layer.shadowRadius <span style="color: #002200;">=</span> <span style="color: #2400d9;">3.0</span><br>someView.layer.addSublayer<span style="color: #002200;">&#40;</span>layer<span style="color: #002200;">&#41;</span></pre></td></tr></table></div><br><br><p>åœ¨ä¸Šé¢çš„ä»£ç é‡Œ:</p><br><ol><br><li>åˆ›å»ºä¸€ä¸ª CALayer å®ä¾‹å¹¶æŠŠä»–è®¾ç½®æˆ <code>someView</code> çš„è¾¹ç•Œ.</li><br><li>ç»™å›¾å±‚è®¾ç½®ä¸€å¼ å›¾ç‰‡ä½œä¸ºå†…å®¹å¹¶å±…ä¸­ã€‚ æ³¨æ„ç”¨ä¸‹é¢çš„å›¾ç‰‡æ•°æ®  (<code>CGImage</code>) èµ‹å€¼. </li><br><li>é€šè¿‡<code>contentsGravity</code>æ”¾å¤§å›¾ç‰‡æ—¶ä½¿ç”¨è¿‡æ»¤å™¨, å¯ä»¥åŒæ—¶æ”¹å˜å¤§å° (resize, resize aspect, and resize aspect fill) å’Œ ä½ç½® (center, top, top-right, right, etc.). </li><br><p>å‰é¢çš„å˜åŒ–æ²¡æœ‰åŠ¨ç”»æ•ˆæœ, å¦‚æœ <code>geometryFlipped</code> æ²¡æœ‰è®¾ç½®æˆ <code>true</code>, å‡ ä½•ä½ç½®å’Œé˜´å½±ä¼šæ˜¯é¢ å€’çš„ã€‚ç»§ç»­: </p><br><li>ä½ è®¾ç½®äº†èƒŒæ™¯è‰²æ˜¯è•¾æœ€å–œæ¬¢çš„ç»¿è‰²é˜´å½± :] å¹¶ä¸”è®©å›¾å±‚å˜çš„ä¸é€æ˜å¯è§ã€‚ åŒæ—¶, ä½ è®©è§†å›¾ä¸è¦é®æŒ¡å®ƒçš„å†…å®¹, æ„æ€æ˜¯å¦‚æœå®ƒçš„å°ºå¯¸å°äºå®ƒçš„å†…å®¹ (æ˜Ÿæ˜Ÿå›¾), å›¾ç‰‡ä¸ä¼šè¢«è£å‰ªã€‚ </li><br><li>å›¾å±‚çš„åœ†è§’åŠå¾„è®¾æˆå®½åº¦çš„ä¸€åŠå¯ä»¥åˆ›é€ åœ†å½¢è¾¹æ¡†çš„è§†è§‰æ•ˆæœ; æ³¨æ„å›¾å±‚é¢œè‰²ç”¨ Quartz é¢œè‰²èµ‹å€¼ (<code>CGColor</code>).</li><br><li>åˆ›å»ºé˜´å½±åŒæ—¶è®¾ç½® <code>shouldRasterize</code> ä¸º <code>true</code> (ä¸‹é¢è®¨è®º), ç„¶åæŠŠå›¾å±‚æ·»åŠ åˆ°è§†å›¾ç»“æ„ã€‚</li><br></ol><br><p>è¿™æ˜¯è¿è¡Œç»“æœ:</p><br><p><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/CALayer-250x250.png" width="250" height="250" class="aligncenter size-thumbnail wp-image-90712" srcset="https://cdn3.raywenderlich.com/wp-content/uploads/2014/12/CALayer-250x250.png 250w, https://cdn3.raywenderlich.com/wp-content/uploads/2014/12/CALayer-320x320.png 320w, https://cdn3.raywenderlich.com/wp-content/uploads/2014/12/CALayer-500x500.png 500w, https://cdn3.raywenderlich.com/wp-content/uploads/2014/12/CALayer-32x32.png 32w, https://cdn3.raywenderlich.com/wp-content/uploads/2014/12/CALayer-64x64.png 64w, https://cdn3.raywenderlich.com/wp-content/uploads/2014/12/CALayer-96x96.png 96w, https://cdn3.raywenderlich.com/wp-content/uploads/2014/12/CALayer-128x128.png 128w, https://cdn3.raywenderlich.com/wp-content/uploads/2014/12/CALayer.png 800w" sizes="(max-width: 250px) 100vw, 250px"></p><br><p>CALayer æœ‰ä¸¤ä¸ªé¢å¤–çš„å±æ€§å¯ä»¥æé«˜æ€§èƒ½: <code>shouldRasterize</code> å’Œ <code>drawsAsynchronously</code>. </p><br><p><code>shouldRasterize</code> é»˜è®¤æ˜¯ <code>false</code> , å½“è¢«è®¾ç½®æˆ <code>true</code> å®ƒå¯ä»¥æå‡æ€§èƒ½é«˜, å› ä¸ºå›¾å±‚å†…å®¹åªéœ€è¦æ¸²æŸ“ä¸€æ¬¡å°±å¤Ÿäº†ã€‚ å¯¹äºåœ¨å±å¹•ä¸Šå±•ç¤ºåŠ¨ç”»è€Œåˆä¸éœ€è¦æ”¹å˜å¤–è§‚çš„å¯¹è±¡æ¥è¯´è¿™æ˜¯å®Œç¾çš„ã€‚ </p><br><p><code>drawsAsynchronously</code> æ˜¯ <code>shouldRasterize</code> ç›¸åçš„ä¸€ç§å±æ€§ã€‚ å®ƒçš„å€¼é»˜è®¤ä¹Ÿæ˜¯ <code>false</code> . æŠŠå®ƒè®¾ç½®æˆ <code>true</code> ,åœ¨å†…å®¹å¿…é¡»é‡å¤ç»˜åˆ¶æ—¶èƒ½æå‡æ€§èƒ½, æ¯”å¦‚å½“ä½ ä½¿ç”¨å‘å°„å™¨å›¾å±‚ä¸æ–­æ¸²æŸ“åŠ¨ç”»é¢—ç²’çš„æ—¶å€™ã€‚) </p><br><div class="note"><br><p><em>ä¸€ä¸ªè­¦å‘Š</em>: æŠŠå›¾å±‚çš„ <code>shouldRasterize</code> æˆ–è€… <code>drawsAsynchronously</code> å€¼è®¾ç½®æˆtrue ä¹‹å‰è¦è€ƒè™‘æ¸…æ¥šå®ƒçš„å½±å“ã€‚ æ¯”è¾ƒå€¼ä¸ºçœŸå‡æ—¶å€™çš„æ€§èƒ½,è¿™æ ·ä½ ä¼šæ˜ç™½æ˜¯å¦éœ€è¦å¼€å¯è¿™äº›ç‰¹æ€§å»æå‡æ€§èƒ½ã€‚ å¦‚æœæ»¥ç”¨, æ€§èƒ½å¯èƒ½ä¼šæ€¥å‰§ä¸‹é™ã€‚<br></p></div><br><p>ç°åœ¨æš‚æ—¶è½¬ç§»æ³¨æ„åŠ›åˆ° Layer Player. å®ƒåŒ…å«å¯ä»¥æ“ä½œCALayer å±æ€§çš„å¾ˆå¤šæ§ä»¶:</p><br><p><a href="http://www.raywenderlich.com/wp-content/uploads/2014/12/CALayer_5.5.png" target="_blank" rel="external"><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/CALayer_5.5-180x320.png" width="180" height="320" class="aligncenter size-medium wp-image-91212 bordered" srcset="https://cdn1.raywenderlich.com/wp-content/uploads/2014/12/CALayer_5.5-180x320.png 180w, https://cdn1.raywenderlich.com/wp-content/uploads/2014/12/CALayer_5.5-281x500.png 281w, https://cdn1.raywenderlich.com/wp-content/uploads/2014/12/CALayer_5.5.png 1242w" sizes="(max-width: 180px) 100vw, 180px"></a></p><br><p>ç©ç©è¿™äº›æ§ä»¶; è¿™æ˜¯æ„Ÿå— CALayer å¯ä»¥åšä»€ä¹ˆçš„ä¸€ç§å¾ˆå¥½çš„æ–¹å¼!</p><br><div class="note"><em>å¤‡æ³¨:</em> å›¾å±‚ä¸æ˜¯å“åº”é“¾çš„ä¸€éƒ¨åˆ†,æ‰€ä»¥å®ƒä¸èƒ½å“åº”è§¦ç¢°æˆ–è€…è§†å›¾é‚£ç§æ‰‹åŠ¿, å°±åƒä½ åœ¨ CALayerPlayground ç¤ºä¾‹ä¸­çœ‹åˆ°çš„é‚£æ ·ã€‚ <p></p><br><p>ä¸è¿‡, ä½ å¯ä»¥æ•²å‡»æµ‹è¯•å®ƒä»¬, ä½ ä¼šåœ¨ CATransformLayer ä¸­çœ‹åˆ°ç¤ºä¾‹ä»£ç ã€‚ ä½ ä¹Ÿå¯ä»¥å¾€å›¾å±‚æ·»åŠ è‡ªå®šä¹‰åŠ¨ç”», è¿™äº›åŠ¨ç”»ä¼šåœ¨ CAReplicatorLayer ä¸­çœ‹åˆ°ã€‚</p></div><br><h2>ç¤ºä¾‹2: CAScrollLayer</h2><br><p>CAScrollLayer æ˜¾ç¤ºæ»šåŠ¨å›¾å±‚çš„ä¸€éƒ¨åˆ†ã€‚ å®ƒå¾ˆåŸºç¡€,ä¸èƒ½å“åº”ç”¨æˆ·çš„è§¦æ‘¸ç”šè‡³ä¸èƒ½ç¡®å®šæ»šåŠ¨å›¾å±‚çš„è¾¹ç•Œ, æ‰€ä»¥å®ƒå¯ä»¥æ— é™åšç±»ä¼¼é˜²æ­¢æ»šå‡ºè¾¹ç•Œè¿™ç§å¾ˆé…·çš„äº‹! :] </p><br><p>UIScrollView ä¸ç”¨ CAScrollLayer æ¥åšè¿™ä»¶äº‹, å–è€Œä»£ä¹‹çš„ç›´æ¥æ”¹å˜å®ƒçš„å›¾å±‚è¾¹ç•Œã€‚ </p><br><p>ç”¨ CAScrollLayer å¯ä»¥åšçš„æ˜¯è®¾ç½®å®ƒçš„æ»šåŠ¨æ¨¡å¼ä¸ºæ°´å¹³æˆ–è€…å‚ç›´, ä½ å¯ä»¥ç¼–ç¨‹è®©å®ƒæ»šåŠ¨åˆ°ç‰¹å®šçš„ä½ç½®æˆ–åŒºåŸŸ:</p><br><br><div class="wp_codebox"><table><tr id="p904886"><td class="code" id="p90488code6"><pre class="swift" style="font-family:monospace;"><span style="color: #11740a; font-style: italic;">// In ScrollingView.swift</span><br><span style="color: #a61390;">import</span> UIKit<br>&nbsp;<br><span style="color: #a61390;">class</span> ScrollingView<span style="color: #002200;">:</span> <span style="color: #400080;">UIView</span> <span style="color: #002200;">&#123;</span><br>  <span style="color: #11740a; font-style: italic;">// 1</span><br>  <span style="color: #a61390;">override</span> <span style="color: #a61390;">class</span> <span style="color: #a61390;">func</span> layerClass<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">-</span>&gt; AnyClass <span style="color: #002200;">&#123;</span><br>    <span style="color: #a61390;">return</span> CAScrollLayer.<span style="color: #a61390;">self</span><br>  <span style="color: #002200;">&#125;</span><br><span style="color: #002200;">&#125;</span><br>&nbsp;<br><span style="color: #11740a; font-style: italic;">// In CAScrollLayerViewController.swift</span><br><span style="color: #a61390;">import</span> UIKit<br>&nbsp;<br><span style="color: #a61390;">class</span> CAScrollLayerViewController<span style="color: #002200;">:</span> <span style="color: #400080;">UIViewController</span> <span style="color: #002200;">&#123;</span><br>  @IBOutlet weak <span style="color: #a61390;">var</span> scrollingView<span style="color: #002200;">:</span> ScrollingView<span style="color: #002200;">!</span><br>&nbsp;<br>  <span style="color: #11740a; font-style: italic;">// 2</span><br>  <span style="color: #a61390;">var</span> scrollingViewLayer<span style="color: #002200;">:</span> CAScrollLayer <span style="color: #002200;">&#123;</span><br>    <span style="color: #a61390;">return</span> scrollingView.layer <span style="color: #a61390;">as</span> CAScrollLayer<br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br>  <span style="color: #a61390;">override</span> <span style="color: #a61390;">func</span> viewDidLoad<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>    <span style="color: #a61390;">super</span>.viewDidLoad<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>    <span style="color: #11740a; font-style: italic;">// 3</span><br>    scrollingViewLayer.scrollMode <span style="color: #002200;">=</span> kCAScrollBoth<br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br>  @IBAction <span style="color: #a61390;">func</span> tapRecognized<span style="color: #002200;">&#40;</span>sender<span style="color: #002200;">:</span> <span style="color: #400080;">UITapGestureRecognizer</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>    <span style="color: #11740a; font-style: italic;">// 4</span><br>    <span style="color: #a61390;">var</span> newPoint <span style="color: #002200;">=</span> <span style="color: #400080;">CGPoint</span><span style="color: #002200;">&#40;</span>x<span style="color: #002200;">:</span> <span style="color: #2400d9;">250</span>, y<span style="color: #002200;">:</span> <span style="color: #2400d9;">250</span><span style="color: #002200;">&#41;</span><br>    <span style="color: #400080;">UIView</span>.animateWithDuration<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">0.3</span>, delay<span style="color: #002200;">:</span> <span style="color: #2400d9;">0</span>, options<span style="color: #002200;">:</span> .CurveEaseInOut, animations<span style="color: #002200;">:</span> <span style="color: #002200;">&#123;</span><br>      <span style="color: #002200;">&#91;</span>unowned <span style="color: #a61390;">self</span><span style="color: #002200;">&#93;</span> <span style="color: #a61390;">in</span><br>      <span style="color: #a61390;">self</span>.scrollingViewLayer.scrollToPoint<span style="color: #002200;">&#40;</span>newPoint<span style="color: #002200;">&#41;</span><br>      <span style="color: #002200;">&#125;</span>, completion<span style="color: #002200;">:</span> <span style="color: #a61390;">nil</span><span style="color: #002200;">&#41;</span><br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br><span style="color: #002200;">&#125;</span></pre></td></tr></table></div><br><br><p>ä¸Šé¢çš„ä»£ç :</p><br><ol><br><li>è‡ªå®šä¹‰ <code>UIView</code> å­ç±»é€šè¿‡é‡å†™ <code>layerClass()</code> æ¥è¿”å› <code>CAScrollLayer</code>; è¿™æ˜¯åˆ›å»ºä¸€ä¸ªæ–°å›¾å±‚å¹¶ä¸”æ·»åŠ å®ƒä½œä¸ºä¸€ä¸ªå­å›¾å±‚çš„ä¸€ç§é€‰æ‹©, å°±åƒç¤ºä¾‹åšçš„ä¸€æ ·ã€‚ </li><br><li>ä¸€ä¸ªè®¡ç®—å±æ€§ç”¨æ¥ç»„ç»‡å’Œè‡ªå®šä¹‰è§†å›¾æ»šåŠ¨å›¾å±‚çš„å·¥ä½œã€‚</li><br><li>æ»šåŠ¨è®¾ç½®ä¸ºæ”¯æŒæ°´å¹³å’Œå‚ç›´ã€‚ </li><br><li>å½“ä¸€ä¸ªç‚¹å‡»è¢«è¯†åˆ«å, æ–°çš„ä½ç½®è¢«åˆ›å»º, æ»šåŠ¨å›¾å±‚åœ¨ä¸€ä¸ª <code>UIView</code> åŠ¨ç”»ä¸­æ»šåŠ¨åˆ°é‚£ä¸ªä½ç½®ã€‚ å¤‡æ³¨: <code>scrollToPoint(<em>:)</em></code> å’Œ <code>scrollToRect(:)</code> ä¸ä¼šè‡ªåŠ¨å‘ç”ŸåŠ¨ç”»ã€‚ </li><br></ol><br><p>æ¡ˆä¾‹å­¦ä¹ : ä¸€ä¸ªScrollingView å®ä¾‹, å®ƒåŒ…å«ä¸€ä¸ªå›¾ç‰‡è§†å›¾,è¿™ä¸ªè§†å›¾çš„å›¾ç‰‡æ¯”æ»šåŠ¨è§†å›¾çš„è¾¹ç•Œè¿˜å¤§ã€‚ å½“ä½ æ‰§è¡Œä¸Šé¢çš„ä»£ç å¹¶å•å‡»è§†å›¾, å¯èƒ½æ˜¯è¿™æ ·:</p><br><p><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/CAScrollLayer.gif" width="250" height="250" class="aligncenter size-full wp-image-90738" srcset="https://cdn2.raywenderlich.com/wp-content/uploads/2014/12/CAScrollLayer.gif 250w, https://cdn2.raywenderlich.com/wp-content/uploads/2014/12/CAScrollLayer-32x32.gif 32w, https://cdn2.raywenderlich.com/wp-content/uploads/2014/12/CAScrollLayer-64x64.gif 64w, https://cdn2.raywenderlich.com/wp-content/uploads/2014/12/CAScrollLayer-96x96.gif 96w, https://cdn2.raywenderlich.com/wp-content/uploads/2014/12/CAScrollLayer-128x128.gif 128w" sizes="(max-width: 250px) 100vw, 250px"></p><br><p>Layer Player åŒ…å«å¾ˆå¤šé”å®šæ°´å¹³å’Œå‚ç›´æ»šåŠ¨çš„æ§ä»¶ã€‚ </p><br><p>æœ‰ä¸€äº›ç»éªŒè§„åˆ™å†³å®šç”¨æˆ–ä¸ç”¨ CAScrollLayer:</p><br><ul><br><li><em>å¦‚æœåªæ˜¯æƒ³è¦è½»é‡çº§å¹¶ä¸”éœ€è¦ç¼–ç¨‹å®ç°æ»šåŠ¨</em>: è€ƒè™‘ä½¿ç”¨ CAScrollLayer.</li><br><li><em>å¦‚æœä½ æƒ³è®©ç”¨æˆ·æ»šåŠ¨</em>: æœ€å¥½ç”¨ UIScrollView. æƒ³äº†è§£æ›´å¤š, æŸ¥çœ‹ <a href="http://www.raywenderlich.com/93104/video-tutorial-swift-scroll-view-school-part-0-introduction" target="_blank" rel="external">18-part video tutorial series</a> .</li><br><li><em>å¦‚æœä½ åœ¨æ»šåŠ¨ä¸€ä¸ªå¾ˆå¤§çš„å›¾</em>: è€ƒè™‘ä½¿ç”¨ CATiledLayer (æ›´å¤šä¿¡æ¯åœ¨ä¸‹é¢)ã€‚</li><br></ul><br><h2>ç¤ºä¾‹3: CATextLayer</h2><br><p>CATextLayer æä¾›ç®€å•å¿«é€Ÿçš„çº¯æ–‡æœ¬æˆ–è€…å±æ€§å­—ç¬¦ä¸²æ¸²æŸ“ã€‚ ä¸åƒ UILabel, CATextLayer æ²¡æœ‰æŒ‡å®šçš„ UIFont, åªæœ‰ CTFontRef æˆ– CGFontRef. </p><br><p>ä¸‹é¢è¿™å—ä»£ç ä¸€æ ·, åƒåŠ¨æ€å˜åŒ–ä¸€æ ·å»æ“ä½œå­—ä½“ï¼Œå­—ä½“å¤§å°ï¼Œé¢œè‰²ï¼Œå¯¹é½æ–¹å¼ï¼ŒåŒ…å›´å’Œæˆªæ–­:</p><br><br><div class="wp_codebox"><table><tr id="p904887"><td class="code" id="p90488code7"><pre class="swift" style="font-family:monospace;"><span style="color: #11740a; font-style: italic;">// 1</span><br><span style="color: #a61390;">let</span> textLayer <span style="color: #002200;">=</span> CATextLayer<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>textLayer.frame <span style="color: #002200;">=</span> someView.bounds<br>&nbsp;<br><span style="color: #11740a; font-style: italic;">// 2</span><br><span style="color: #a61390;">var</span> string <span style="color: #002200;">=</span> <span style="color: #bf1d1a;">&quot;&quot;</span><br><span style="color: #a61390;">for</span> _ <span style="color: #a61390;">in</span> <span style="color: #2400d9;">1</span>â€¦20 <span style="color: #002200;">&#123;</span><br>  string <span style="color: #002200;">+=</span> <span style="color: #bf1d1a;">&quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce auctor arcu quis velit congue dictum. &quot;</span><br><span style="color: #002200;">&#125;</span><br>&nbsp;<br>textLayer.string <span style="color: #002200;">=</span> string<br>&nbsp;<br><span style="color: #11740a; font-style: italic;">// 3</span><br><span style="color: #a61390;">let</span> fontName<span style="color: #002200;">:</span> CFStringRef <span style="color: #002200;">=</span> <span style="color: #bf1d1a;">&quot;Noteworthy-Light&quot;</span><br>textLayer.font <span style="color: #002200;">=</span> CTFontCreateWithName<span style="color: #002200;">&#40;</span>fontName, fontSize, <span style="color: #a61390;">nil</span><span style="color: #002200;">&#41;</span><br>&nbsp;<br><span style="color: #11740a; font-style: italic;">// 4</span><br>textLayer.foregroundColor <span style="color: #002200;">=</span> <span style="color: #400080;">UIColor</span>.darkGrayColor<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span>.<span style="color: #400080;">CGColor</span><br>textLayer.wrapped <span style="color: #002200;">=</span> <span style="color: #a61390;">true</span><br>textLayer.alignmentMode <span style="color: #002200;">=</span> kCAAlignmentLeft<br>textLayer.contentsScale <span style="color: #002200;">=</span> UIScreen.mainScreen<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span>.scale<br>someView.layer.addSublayer<span style="color: #002200;">&#40;</span>textLayer<span style="color: #002200;">&#41;</span></pre></td></tr></table></div><br><br><p>è§£é‡Šä¸Šé¢çš„ä»£ç :</p><br><ol><br><li>åˆ›å»ºä¸€ä¸ª CATextLayer å®ä¾‹å¹¶æŠŠå®ƒçš„åŒºåŸŸè®¾ç½®æˆ<code>someView</code>çš„åŒºåŸŸã€‚ </li><br><li>åˆ›å»ºä¸€ä¸ªé‡å¤çš„å­—ç¬¦ä¸²å¹¶æŠŠå®ƒè®¾ç½®åˆ°æ–‡å­—å±‚ã€‚ </li><br><li>åˆ›å»ºä¸€ä¸ªå­—ä½“å¹¶æŠŠè®¾ç½®åˆ°æ–‡å­—å±‚ã€‚ </li><br><li>è®¾ç½®æ–‡å­—å±‚åŒ…å›´å’Œå·¦å¯¹é½, (ä½ å¯ä»¥é€‰æ‹©è®¾æˆ natural, right, center å’Œ justified.),  <code>contentsScale</code> è®¾ç½®æˆè·Ÿéšå±å¹•, ç„¶åæŠŠå›¾å±‚æ·»åŠ åˆ°è§†å›¾å±‚çº§ä¸­ã€‚</li><br></ol><br><p>æ‰€æœ‰å›¾å±‚ç±», ä¸ä»…ä»…æ˜¯ CATextLayer, é»˜è®¤æŒ‰ç…§1å€å› å­æ¸²æŸ“ã€‚ è¿æ¥åˆ°è§†å›¾çš„æ—¶å€™, å›¾å±‚æŒ‰ç…§å½“å‰å±å¹•è‡ªåŠ¨è®¾ç½® <code>contentsScale</code> åˆé€‚çš„æ¯”ä¾‹ã€‚ æ‰‹åŠ¨åˆ›å»ºçš„å›¾å±‚éœ€è¦æ˜¾ç¤ºè®¾ç½® <code>contentsScale</code> , å¦åˆ™ç¼©æ”¾æ¯”ä¾‹æ˜¯1ï¼Œä½ åœ¨è§†ç½‘è†œå±å¹•çœ‹åˆ°çš„æ˜¯æ¨¡ç³Šçš„æ–‡å­—ã€‚</p><br><p>å¦‚æœæ·»åŠ åˆ°æ­£æ–¹å½¢çš„ <code>someView</code>, åˆ›å»ºçš„æ–‡å­—å›¾å±‚ä¼šåƒä¸‹é¢è¿™æ ·:</p><br><p><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/CATextLayer-250x250.png" width="250" height="250" class="aligncenter size-thumbnail wp-image-90750" srcset="https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/CATextLayer-250x250.png 250w, https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/CATextLayer-320x320.png 320w, https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/CATextLayer-500x500.png 500w, https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/CATextLayer-32x32.png 32w, https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/CATextLayer-64x64.png 64w, https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/CATextLayer-96x96.png 96w, https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/CATextLayer-128x128.png 128w, https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/CATextLayer.png 800w" sizes="(max-width: 250px) 100vw, 250px"></p><br><p>ä½ å¯ä»¥ç©ç©æˆªæ–­è®¾ç½®, å½“ä½ æƒ³ç”¨çœç•¥å·åˆ‡æ–­æ–‡æœ¬çš„æ—¶å€™å®ƒè¡¨ç°å¾ˆå¥½ã€‚ é»˜è®¤æ²¡æœ‰è®¾ç½®æˆªæ–­ï¼Œå½“ç„¶ä½ å¯ä»¥è®¾ç½®æˆé¦–éƒ¨æˆªæ–­ï¼Œæœ«å°¾æˆªæ–­å’Œä¸­é—´æˆªæ–­:</p><br><p><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/CATextLayer-MiddleTruncation.png.png" width="250" height="26" class="aligncenter size-full wp-image-90764"></p><br><p><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/CATextLayer-StartTruncation.png.png" width="250" height="26" class="aligncenter size-full wp-image-90765"></p><br><p><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/CATextLayer-EndTruncation.png" width="250" height="26" class="aligncenter size-full wp-image-90763"></p><br><p>Layer Player æœ‰å¾ˆå¤šæ§ä»¶æ¥æ”¹å˜ CATextLayer çš„å±æ€§:</p><br><p><a href="http://www.raywenderlich.com/wp-content/uploads/2014/12/CATextLayer_5.5.png" target="_blank" rel="external"><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/CATextLayer_5.5-180x320.png" width="180" height="320" class="aligncenter size-medium wp-image-91214 bordered" srcset="https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/CATextLayer_5.5-180x320.png 180w, https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/CATextLayer_5.5-281x500.png 281w, https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/CATextLayer_5.5.png 1242w" sizes="(max-width: 180px) 100vw, 180px"></a></p><br><h2>ç¤ºä¾‹4: AVPlayerLayer</h2><br><p>AVPlayerLayer å‘ AVFoundation æ·»åŠ äº†ä¸€ä¸ªå›¾å±‚ã€‚ å®ƒæ‹¥æœ‰ä¸€ä¸ª AVPlayer æ¥æ’­æ”¾ AV åª’ä½“æ–‡ä»¶ (AVPlayerItems). è¿™é‡Œæœ‰ä¸ªåˆ›å»º AVPlayerLayer çš„ä¾‹å­:</p><br><br><div class="wp_codebox"><table><tr id="p904888"><td class="code" id="p90488code8"><pre class="swift" style="font-family:monospace;"><span style="color: #a61390;">override</span> <span style="color: #a61390;">func</span> viewDidLoad<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>  <span style="color: #a61390;">super</span>.viewDidLoad<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>  <span style="color: #11740a; font-style: italic;">// 1</span><br>  <span style="color: #a61390;">let</span> playerLayer <span style="color: #002200;">=</span> AVPlayerLayer<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>  playerLayer.frame <span style="color: #002200;">=</span> someView.bounds<br>&nbsp;<br>  <span style="color: #11740a; font-style: italic;">// 2</span><br>  <span style="color: #a61390;">let</span> url <span style="color: #002200;">=</span> <span style="color: #400080;">NSBundle</span>.mainBundle<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span>.URLForResource<span style="color: #002200;">&#40;</span><span style="color: #bf1d1a;">&quot;someVideo&quot;</span>, withExtension<span style="color: #002200;">:</span> <span style="color: #bf1d1a;">&quot;m4v&quot;</span><span style="color: #002200;">&#41;</span><br>  <span style="color: #a61390;">let</span> player <span style="color: #002200;">=</span> AVPlayer<span style="color: #002200;">&#40;</span>URL<span style="color: #002200;">:</span> url<span style="color: #002200;">&#41;</span><br>&nbsp;<br>  <span style="color: #11740a; font-style: italic;">// 3</span><br>  player.actionAtItemEnd <span style="color: #002200;">=</span> .None<br>  playerLayer.player <span style="color: #002200;">=</span> player<br>  someView.layer.addSublayer<span style="color: #002200;">&#40;</span>playerLayer<span style="color: #002200;">&#41;</span><br>&nbsp;<br>  <span style="color: #11740a; font-style: italic;">// 4</span><br>  <span style="color: #400080;">NSNotificationCenter</span>.defaultCenter<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span>.addObserver<span style="color: #002200;">&#40;</span><span style="color: #a61390;">self</span>, selector<span style="color: #002200;">:</span> <span style="color: #bf1d1a;">&quot;playerDidReachEndNotificationHandler:&quot;</span>, name<span style="color: #002200;">:</span> <span style="color: #bf1d1a;">&quot;AVPlayerItemDidPlayToEndTimeNotification&quot;</span>, object<span style="color: #002200;">:</span> player.currentItem<span style="color: #002200;">&#41;</span><br><span style="color: #002200;">&#125;</span><br>&nbsp;<br><span style="color: #a61390;">deinit</span> <span style="color: #002200;">&#123;</span><br>  <span style="color: #400080;">NSNotificationCenter</span>.defaultCenter<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span>.removeObserver<span style="color: #002200;">&#40;</span><span style="color: #a61390;">self</span><span style="color: #002200;">&#41;</span><br><span style="color: #002200;">&#125;</span><br>&nbsp;<br><span style="color: #11740a; font-style: italic;">// 5</span><br>@IBAction <span style="color: #a61390;">func</span> playButtonTapped<span style="color: #002200;">&#40;</span>sender<span style="color: #002200;">:</span> <span style="color: #400080;">UIButton</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>  <span style="color: #a61390;">if</span> playButton.titleLabel?.text <span style="color: #002200;">==</span> <span style="color: #bf1d1a;">&quot;Play&quot;</span> <span style="color: #002200;">&#123;</span><br>    player.play<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>    playButton.setTitle<span style="color: #002200;">&#40;</span><span style="color: #bf1d1a;">&quot;Pause&quot;</span>, forState<span style="color: #002200;">:</span> .Normal<span style="color: #002200;">&#41;</span><br>  <span style="color: #002200;">&#125;</span> <span style="color: #a61390;">else</span> <span style="color: #002200;">&#123;</span><br>    player.pause<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>    playButton.setTitle<span style="color: #002200;">&#40;</span><span style="color: #bf1d1a;">&quot;Play&quot;</span>, forState<span style="color: #002200;">:</span> .Normal<span style="color: #002200;">&#41;</span><br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br>  updatePlayButtonTitle<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>  updateRateSegmentedControl<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br><span style="color: #002200;">&#125;</span><br>&nbsp;<br><span style="color: #11740a; font-style: italic;">// 6</span><br><span style="color: #a61390;">func</span> playerDidReachEndNotificationHandler<span style="color: #002200;">&#40;</span>notification<span style="color: #002200;">:</span> <span style="color: #400080;">NSNotification</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>  <span style="color: #a61390;">let</span> playerItem <span style="color: #002200;">=</span> notification.object <span style="color: #a61390;">as</span> AVPlayerItem<br>  playerItem.seekToTime<span style="color: #002200;">&#40;</span>kCMTimeZero<span style="color: #002200;">&#41;</span><br><span style="color: #002200;">&#125;</span></pre></td></tr></table></div><br><br><p>åˆ†è§£ä¸Šé¢çš„ä»£ç :</p><br><ol><br><li>åˆ›å»ºæ–°çš„æ’­æ”¾å™¨å›¾å±‚å¹¶è®¾ç½®å®ƒçš„åŒºåŸŸã€‚</li><br><li>ç”¨ AV åº“åˆ›å»ºä¸€ä¸ªæ’­æ”¾å™¨ã€‚ </li><br><li>å‘Šè¯‰æ’­æ”¾å™¨æ’­æ”¾å®Œæˆå‰ä»€ä¹ˆéƒ½ä¸åš; æ·»åŠ é™„åŠ é€‰é¡¹ï¼ŒåŒ…æ‹¬æš‚åœï¼Œåˆ‡æ¢åˆ°ä¸‹ä¸€é¦–ã€‚ </li><br><li>ç»™ AVPlayer æ³¨å†Œæ’­æ”¾ç»“æŸçš„é€šçŸ¥ (åœ¨ deinit ç§»é™¤é€šçŸ¥)ã€‚ </li><br><li>å½“æ’­æ”¾æŒ‰é’®è¢«ç‚¹å‡», å®ƒä¼šè§¦å‘æ§ä»¶å»æ’­æ”¾æ­Œæ›²å¹¶è®¾ç½®æŒ‰é’®çš„æ ‡é¢˜ã€‚</li><br></ol><br><p>æ³¨æ„è¿™åªæ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹å¸®åŠ©ä½ å¼€å§‹ã€‚ åœ¨çœŸå®çš„é¡¹ç›®é‡Œ, ä»¥æŒ‰é’®æ–‡å­—ä¸ºä¸­å¿ƒæ˜¯ä¸å¯å–çš„ã€‚</p><br><p>AVPlayerLayer å’Œ ä¸Šé¢åˆ›å»ºçš„ AVPlayer è§†è§‰è¡¨ç°ä¸º AVPlayerItem å®ä¾‹çš„ç¬¬ä¸€å¸§, åƒè¿™æ ·:</p><br><p><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/AVPlayerItem.png" width="250" height="141" class="aligncenter size-full wp-image-91221"></p><br><p>AVPlayerLayer æœ‰ä¸¤ä¸ªé™„åŠ çš„å±æ€§:</p><br><ul><br><li><code>videoGravity</code> è®¾ç½®è§†é¢‘æ˜¾ç¤ºå¤§å°ã€‚ </li><br><li><code>readyForDisplay</code> æ£€æµ‹è§†é¢‘æ˜¯å¦å‡†å¤‡å¥½æ’­æ”¾ã€‚ </li><br></ul><br><p><code>AVPlayer</code>, å¦ä¸€æ–¹é¢, åªæœ‰å¾ˆå°‘çš„é™„åŠ å±æ€§å’Œæ–¹æ³•ã€‚ æœ‰ä¸€ä¸ªè¦æ³¨æ„çš„æ˜¯ <code>rate</code>, åŒ…å«ä» 0 åˆ° 1çš„å›æ”¾é€Ÿç‡ã€‚ é›¶ä»£è¡¨æš‚åœï¼Œ1ä»£è¡¨æ­£å¸¸é€Ÿç‡æ’­æ”¾è§†é¢‘ (1å€é€Ÿ)ã€‚ </p><br><p>ç„¶è€Œ, è®¾ç½® <code>rate</code> ä¹Ÿä¼šæŒ‡ç¤ºå›æ”¾æŒ‰ç…§è¿™ä¸ªé€Ÿåº¦å¼€å§‹ã€‚ æ¢ç§è¯´æ³•, è°ƒç”¨ <code>pause()</code> å’Œ è®¾ç½® <code>rate</code> ä¸º 0 æ•ˆæœæ˜¯ä¸€æ ·çš„, è·Ÿè°ƒç”¨ <code>play()</code> å’ŒæŠŠ <code>rate</code> è®¾ç½®æˆ 1æ˜¯ä¸€å›äº‹</p><br><p>é‚£ä¹ˆå¿«è¿›ï¼Œæ…¢é•œæˆ–è€…åå‘æ’­æ”¾å‘¢? AVPlayerLayer ä¹Ÿå·²ç»åŒ…å«ã€‚ è®¾ç½® <code>rate</code> æ¯”1å¤§å°±ç­‰äºè¦æ±‚æ’­æ”¾å™¨ä»¥è¿™ä¸ªå€æ•°çš„é€Ÿç‡å¼€å§‹æ’­æ”¾, ä¾‹å¦‚, è®¾ç½® <code>rate</code> ä¸º 2 æ„å‘³ç€åŒå€é€Ÿã€‚ </p><br><p>ä½ å¯èƒ½ä¼šæƒ³, æŠŠ <code>rate</code> è®¾ç½®æˆè´Ÿæ•°å°±ä¼šæŒ‡ç¤ºæ’­æ”¾å™¨æŒ‰ç…§å¯¹åº”çš„å€é€Ÿå¼€å§‹å€’ç€æ’­æ”¾ã€‚ </p><br><p>å½“æ¯”æ­£å¸¸å€é€Ÿæ›´å¿«å›æ”¾å‰ (å¿«è¿›), ä¸ç®¡æ€æ ·, AVPlayerItem å®ä¾‹ä¼šè°ƒç”¨é€‚å½“çš„æ–¹æ³•æ¥éªŒè¯å®ƒå¯ä»¥ä»¥è¿™ä¸ªé€Ÿåº¦å›æ”¾: </p><br><ul><br><li><code>canPlayFastForward()</code> é’ˆå¯¹æ¯” 1 å¤§çš„æƒ…å†µ</li><br><li><code>canPlaySlowForward()</code> é’ˆå¯¹ 0 å’Œ 1 ä¹‹é—´çš„æƒ…å†µ</li><br><li><code>canPlayReverse()</code> é’ˆå¯¹ -1</li><br><li><code>canPlaySlowReverse()</code> é’ˆå¯¹ -1 å’Œ 0 ä¹‹é—´çš„æƒ…å†µ</li><br><li><code>canPlayFastReverse()</code> é’ˆå¯¹å°äº -1 çš„æƒ…å†µ </li><br></ul><br><p>å¤§å¤šæ•°è§†é¢‘éƒ½å¯ä»¥å„ç§å¿«è¿›, ä½†æ˜¯å¾ˆå°‘æœ‰å¯ä»¥å€’ç€æ’­æ”¾çš„ã€‚ Layer Player ä¹ŸåŒ…å«å›æ”¾æ§ä»¶:</p><br><p><a href="http://www.raywenderlich.com/wp-content/uploads/2014/12/AVLayerPlayer_5.5.png" target="_blank" rel="external"><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/AVLayerPlayer_5.5-180x320.png" width="180" height="320" class="aligncenter size-medium wp-image-91216 bordered" srcset="https://cdn3.raywenderlich.com/wp-content/uploads/2014/12/AVLayerPlayer_5.5-180x320.png 180w, https://cdn3.raywenderlich.com/wp-content/uploads/2014/12/AVLayerPlayer_5.5-281x500.png 281w, https://cdn3.raywenderlich.com/wp-content/uploads/2014/12/AVLayerPlayer_5.5.png 1242w" sizes="(max-width: 180px) 100vw, 180px"></a></p><br><h2>ç¤ºä¾‹5: CAGradientLayer</h2><br><p>CAGradientLayer ä½¿å¾—æ··åˆä¸¤ç§æˆ–å¤šç§é¢œè‰²å˜å¾—å®¹æ˜“, è¿™æ ·å°¤å…¶é€‚åˆåšèƒŒæ™¯ã€‚ è¦é…ç½®å®ƒ, ä½ è¦æŒ‡å®š CGColors æ•°ç»„, ä¹Ÿè¦æŒ‡å®š <code>startPoint</code> å’Œ <code>endPoint</code> æ¥æŒ‡å®šæ¢¯åº¦å›¾å±‚å“ªé‡Œå¼€å§‹å’Œç»“æŸã€‚ </p><br><p>è®°ä½, <code>startPoint</code> å’Œ <code>endPoint</code> ä¸æ˜¯æ˜ç¡®çš„ç‚¹ã€‚ ç›¸å, ä»–ä»¬åœ¨å•å…ƒåæ ‡ç©ºé—´å®šä¹‰ç„¶ååœ¨ç»˜åˆ¶æ—¶æ˜ å°„åˆ°å›¾å±‚è¾¹ç•Œã€‚ æ¢å¥è¯è¯´,  x å€¼ä¸º1è¡¨ç¤ºè¿™ä¸ªç‚¹åœ¨å›¾å±‚çš„å³è¾¹ç•Œ, y å€¼ä¸º1è¡¨ç¤ºè¿™ä¸ªç‚¹åœ¨å›¾å±‚çš„åº•è¾¹ç•Œã€‚ </p><br><p>CAGradientLayer æœ‰ä¸ª <code>type</code> å±æ€§, å°½ç®¡ <code>kCAGradientLayerAxial</code> æ˜¯å”¯ä¸€çš„é€‰é¡¹, å®ƒé€šè¿‡æ•°ç»„ä¸­çš„é¢œè‰²è¿›è¡Œçº¿æ€§è½¬æ¢ã€‚ </p><br><p>è¿™æ„å‘³ç€å¦‚æœä½ åœ¨ <code>startPoint</code> å’Œ <code>endPoint</code> ä¹‹é—´ç»˜åˆ¶ä¸€æ¡çº¿ (A), æ¸å˜æ²¿ç€ä¸€æ¡è™šæ‹Ÿçš„çº¿ (B) å‘ç”Ÿï¼Œè¿™æ¡çº¿å‚ç›´äº A, æ‰€æœ‰æ²¿ç€ B çš„ç‚¹éƒ½æ˜¯åŒæ ·çš„é¢œè‰²:</p><br><p><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/AxialGradientLayerType.gif" width="300" class="aligncenter size-full wp-image-91240"></p><br><p>æˆ–è€…, ä½ å¯ä»¥ç”¨0å’Œ1ä¹‹é—´çš„æ•°ç»„æ§åˆ¶ <code>locations</code> å±æ€§ï¼ŒæŒ‡å®šç›¸å¯¹åœæ­¢çš„ä½ç½®ï¼Œåœ¨è¿™é‡Œæ¢¯åº¦å›¾å±‚åº”è¯¥ä½¿ç”¨ <code>colors</code> æ•°ç»„é‡Œçš„ä¸‹ä¸€ä¸ªé¢œè‰²ã€‚ </p><br><p>å¦‚æœæœªæŒ‡å®šï¼Œé»˜è®¤åœæ­¢ä½ç½®æ˜¯å‡åŒ€åˆ†å¸ƒçš„ã€‚ å¦‚æœ <code>locations</code> è¢«è®¾ç½®, é‚£ä¹ˆå®ƒçš„çš„æ•°é‡å¿…é¡»åŒ¹é… <code>colors</code> çš„æ•°é‡, å¦åˆ™åäº‹è¦å‘ç”Ÿã€‚ :[</p><br><p>è¿™é‡Œæœ‰ä¸€ä¸ªåˆ›å»ºæ¢¯åº¦å›¾å±‚çš„ä¾‹å­:</p><br><br><div class="wp_codebox"><table><tr id="p904889"><td class="code" id="p90488code9"><pre class="swift" style="font-family:monospace;"><span style="color: #a61390;">let</span> gradientLayer <span style="color: #002200;">=</span> CAGradientLayer<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>gradientLayer.frame <span style="color: #002200;">=</span> someView.bounds<br>gradientLayer.colors <span style="color: #002200;">=</span> <span style="color: #002200;">&#91;</span>cgColorForRed<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">209.0</span>, green<span style="color: #002200;">:</span> <span style="color: #2400d9;">0.0</span>, blue<span style="color: #002200;">:</span> <span style="color: #2400d9;">0.0</span><span style="color: #002200;">&#41;</span>,<br>  cgColorForRed<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">255.0</span>, green<span style="color: #002200;">:</span> <span style="color: #2400d9;">102.0</span>, blue<span style="color: #002200;">:</span> <span style="color: #2400d9;">34.0</span><span style="color: #002200;">&#41;</span>,<br>  cgColorForRed<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">255.0</span>, green<span style="color: #002200;">:</span> <span style="color: #2400d9;">218.0</span>, blue<span style="color: #002200;">:</span> <span style="color: #2400d9;">33.0</span><span style="color: #002200;">&#41;</span>,<br>  cgColorForRed<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">51.0</span>, green<span style="color: #002200;">:</span> <span style="color: #2400d9;">221.0</span>, blue<span style="color: #002200;">:</span> <span style="color: #2400d9;">0.0</span><span style="color: #002200;">&#41;</span>,<br>  cgColorForRed<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">17.0</span>, green<span style="color: #002200;">:</span> <span style="color: #2400d9;">51.0</span>, blue<span style="color: #002200;">:</span> <span style="color: #2400d9;">204.0</span><span style="color: #002200;">&#41;</span>,<br>  cgColorForRed<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">34.0</span>, green<span style="color: #002200;">:</span> <span style="color: #2400d9;">0.0</span>, blue<span style="color: #002200;">:</span> <span style="color: #2400d9;">102.0</span><span style="color: #002200;">&#41;</span>,<br>  cgColorForRed<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">51.0</span>, green<span style="color: #002200;">:</span> <span style="color: #2400d9;">0.0</span>, blue<span style="color: #002200;">:</span> <span style="color: #2400d9;">68.0</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#93;</span><br>gradientLayer.startPoint <span style="color: #002200;">=</span> <span style="color: #400080;">CGPoint</span><span style="color: #002200;">&#40;</span>x<span style="color: #002200;">:</span> <span style="color: #2400d9;">0</span>, y<span style="color: #002200;">:</span> <span style="color: #2400d9;">0</span><span style="color: #002200;">&#41;</span><br>gradientLayer.endPoint <span style="color: #002200;">=</span> <span style="color: #400080;">CGPoint</span><span style="color: #002200;">&#40;</span>x<span style="color: #002200;">:</span> <span style="color: #2400d9;">0</span>, y<span style="color: #002200;">:</span> <span style="color: #2400d9;">1</span><span style="color: #002200;">&#41;</span><br>someView.layer.addSublayer<span style="color: #002200;">&#40;</span>gradientLayer<span style="color: #002200;">&#41;</span><br>&nbsp;<br><span style="color: #a61390;">func</span> cgColorForRed<span style="color: #002200;">&#40;</span>red<span style="color: #002200;">:</span> <span style="color: #400080;">CGFloat</span>, green<span style="color: #002200;">:</span> <span style="color: #400080;">CGFloat</span>, blue<span style="color: #002200;">:</span> <span style="color: #400080;">CGFloat</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">-</span>&gt; <span style="color: #a61390;">AnyObject</span> <span style="color: #002200;">&#123;</span><br>  <span style="color: #a61390;">return</span> <span style="color: #400080;">UIColor</span><span style="color: #002200;">&#40;</span>red<span style="color: #002200;">:</span> red<span style="color: #002200;">/</span><span style="color: #2400d9;">255.0</span>, green<span style="color: #002200;">:</span> green<span style="color: #002200;">/</span><span style="color: #2400d9;">255.0</span>, blue<span style="color: #002200;">:</span> blue<span style="color: #002200;">/</span><span style="color: #2400d9;">255.0</span>, alpha<span style="color: #002200;">:</span> <span style="color: #2400d9;">1.0</span><span style="color: #002200;">&#41;</span>.<span style="color: #400080;">CGColor</span> <span style="color: #a61390;">as</span> <span style="color: #a61390;">AnyObject</span><br><span style="color: #002200;">&#125;</span></pre></td></tr></table></div><br><br><p>ä¸Šé¢çš„ä»£ç , ä½ åˆ›å»ºäº†ä¸€ä¸ªæ¢¯åº¦å›¾å±‚, åŒºåŸŸè·Ÿ <code>someView</code> è¾¹ç•Œç›¸åŒ¹é…, èµ‹å€¼äº†ä¸€ä¸ªé¢œè‰²æ•°ç»„, è®¾ç½®äº†å¼€å§‹ç»“æŸçš„åæ ‡ç‚¹, å¹¶ä¸”æŠŠæ¢¯åº¦å›¾å±‚æ·»åŠ åˆ°è§†å›¾å±‚çº§ã€‚ æ•ˆæœå¦‚ä¸‹:</p><br><p><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/CAGradientLayer-250x250.png" width="250" height="250" class="aligncenter size-thumbnail wp-image-91248 bordered" srcset="https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/CAGradientLayer-250x250.png 250w, https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/CAGradientLayer-320x320.png 320w, https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/CAGradientLayer-500x500.png 500w, https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/CAGradientLayer-32x32.png 32w, https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/CAGradientLayer-64x64.png 64w, https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/CAGradientLayer-96x96.png 96w, https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/CAGradientLayer-128x128.png 128w, https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/CAGradientLayer.png 609w" sizes="(max-width: 250px) 100vw, 250px"></p><br><p>è‰²å½©ç¼¤çº·! ä¸‹ä¸€æ­¥, ä½ è¦ç¼–ä¸€ä¸ªè´è¶çš„ç¨‹åºï¼Œç„¶åé£å‡ºappï¼Œæ¥åˆ°ä½ çš„é¢å‰ã€‚ :]</p><br><p>Layer Player æä¾›æ§ä»¶æ¥æ”¹å˜èµ·å§‹ä½ç½®ï¼Œé¢œè‰²å’Œä½ç½®:</p><br><p><a href="http://www.raywenderlich.com/wp-content/uploads/2014/12/CAGradientLayer_5.5.png" target="_blank" rel="external"><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/CAGradientLayer_5.5-180x320.png" width="180" height="320" class="aligncenter size-medium wp-image-91244 bordered" srcset="https://cdn2.raywenderlich.com/wp-content/uploads/2014/12/CAGradientLayer_5.5-180x320.png 180w, https://cdn2.raywenderlich.com/wp-content/uploads/2014/12/CAGradientLayer_5.5-281x500.png 281w, https://cdn2.raywenderlich.com/wp-content/uploads/2014/12/CAGradientLayer_5.5.png 1242w" sizes="(max-width: 180px) 100vw, 180px"></a></p><br><h2>ç¤ºä¾‹6: CAReplicatorLayer</h2><br><p>CAReplicatorLayer å¤åˆ¶å›¾å±‚æŒ‡å®šçš„æ¬¡æ•°, ç”¨æ¥åˆ›å»ºä¸€äº›å¾ˆé…·çš„æ•ˆæœã€‚ </p><br><p>æ¯ä¸ªå›¾å±‚æ‹·è´éƒ½æœ‰è‡ªå·±çš„é¢œè‰²å’Œå®šä½æ”¹å˜, å¹¶ä¸”å®ƒçš„ç»˜åˆ¶å¯ä»¥æ¨è¿Ÿåˆ°ç»™æ‰€æœ‰çš„å¤åˆ¶å™¨å›¾å±‚ä¸€ä¸ªåŠ¨ç”»æ•ˆæœã€‚ æ·±åº¦å¯ä»¥ä¿å­˜ç»™å¤åˆ¶å™¨å›¾å±‚ä¸€ä¸ª3Dæ•ˆæœã€‚ è¿™é‡Œæ˜¯ä¸€ä¸ªä¾‹å­:</p><br><br><div class="wp_codebox"><table><tr id="p9048810"><td class="code" id="p90488code10"><pre class="swift" style="font-family:monospace;"><span style="color: #11740a; font-style: italic;">// 1</span><br><span style="color: #a61390;">let</span> replicatorLayer <span style="color: #002200;">=</span> CAReplicatorLayer<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>replicatorLayer.frame <span style="color: #002200;">=</span> someView.bounds<br>&nbsp;<br><span style="color: #11740a; font-style: italic;">// 2</span><br>replicatorLayer.instanceCount <span style="color: #002200;">=</span> <span style="color: #2400d9;">30</span><br>replicatorLayer.instanceDelay <span style="color: #002200;">=</span> CFTimeInterval<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">1</span> <span style="color: #002200;">/</span> <span style="color: #2400d9;">30.0</span><span style="color: #002200;">&#41;</span><br>replicatorLayer.preservesDepth <span style="color: #002200;">=</span> <span style="color: #a61390;">false</span><br>replicatorLayer.instanceColor <span style="color: #002200;">=</span> <span style="color: #400080;">UIColor</span>.whiteColor<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span>.<span style="color: #400080;">CGColor</span><br>&nbsp;<br><span style="color: #11740a; font-style: italic;">// 3</span><br>replicatorLayer.instanceRedOffset <span style="color: #002200;">=</span> <span style="color: #2400d9;">0.0</span><br>replicatorLayer.instanceGreenOffset <span style="color: #002200;">=</span> <span style="color: #002200;">-</span><span style="color: #2400d9;">0.5</span><br>replicatorLayer.instanceBlueOffset <span style="color: #002200;">=</span> <span style="color: #002200;">-</span><span style="color: #2400d9;">0.5</span><br>replicatorLayer.instanceAlphaOffset <span style="color: #002200;">=</span> <span style="color: #2400d9;">0.0</span><br>&nbsp;<br><span style="color: #11740a; font-style: italic;">// 4</span><br><span style="color: #a61390;">let</span> angle <span style="color: #002200;">=</span> <span style="color: #a61390;">Float</span><span style="color: #002200;">&#40;</span>M_PI <span style="color: #002200;"><em></em></span> <span style="color: #2400d9;">2.0</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">/</span> <span style="color: #2400d9;">30</span><br>replicatorLayer.instanceTransform <span style="color: #002200;">=</span> CATransform3DMakeRotation<span style="color: #002200;">&#40;</span><span style="color: #400080;">CGFloat</span><span style="color: #002200;">&#40;</span>angle<span style="color: #002200;">&#41;</span>, <span style="color: #2400d9;">0.0</span>, <span style="color: #2400d9;">0.0</span>, <span style="color: #2400d9;">1.0</span><span style="color: #002200;">&#41;</span><br>someView.layer.addSublayer<span style="color: #002200;">&#40;</span>replicatorLayer<span style="color: #002200;">&#41;</span><br>&nbsp;<br><span style="color: #11740a; font-style: italic;">// 5</span><br><span style="color: #a61390;">let</span> instanceLayer <span style="color: #002200;">=</span> <span style="color: #400080;">CALayer</span><span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br><span style="color: #a61390;">let</span> layerWidth<span style="color: #002200;">:</span> <span style="color: #400080;">CGFloat</span> <span style="color: #002200;">=</span> <span style="color: #2400d9;">10.0</span><br><span style="color: #a61390;">let</span> midX <span style="color: #002200;">=</span> CGRectGetMidX<span style="color: #002200;">&#40;</span>someView.bounds<span style="color: #002200;">&#41;</span> <span style="color: #002200;">-</span> layerWidth <span style="color: #002200;">/</span> <span style="color: #2400d9;">2.0</span><br>instanceLayer.frame <span style="color: #002200;">=</span> <span style="color: #400080;">CGRect</span><span style="color: #002200;">&#40;</span>x<span style="color: #002200;">:</span> midX, y<span style="color: #002200;">:</span> <span style="color: #2400d9;">0.0</span>, width<span style="color: #002200;">:</span> layerWidth, height<span style="color: #002200;">:</span> layerWidth <span style="color: #002200;"></span> <span style="color: #2400d9;">3.0</span><span style="color: #002200;">&#41;</span><br>instanceLayer.backgroundColor <span style="color: #002200;">=</span> <span style="color: #400080;">UIColor</span>.whiteColor<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span>.<span style="color: #400080;">CGColor</span><br>replicatorLayer.addSublayer<span style="color: #002200;">&#40;</span>instanceLayer<span style="color: #002200;">&#41;</span><br>&nbsp;<br><span style="color: #11740a; font-style: italic;">// 6</span><br><span style="color: #a61390;">let</span> fadeAnimation <span style="color: #002200;">=</span> <span style="color: #400080;">CABasicAnimation</span><span style="color: #002200;">&#40;</span>keyPath<span style="color: #002200;">:</span> <span style="color: #bf1d1a;">&quot;opacity&quot;</span><span style="color: #002200;">&#41;</span><br>fadeAnimation.fromValue <span style="color: #002200;">=</span> <span style="color: #2400d9;">1.0</span><br>fadeAnimation.toValue <span style="color: #002200;">=</span> <span style="color: #2400d9;">0.0</span><br>fadeAnimation.duration <span style="color: #002200;">=</span> <span style="color: #2400d9;">1</span><br>fadeAnimation.repeatCount <span style="color: #002200;">=</span> <span style="color: #a61390;">Float</span><span style="color: #002200;">&#40;</span><span style="color: #a61390;">Int</span>.<span style="color: #a61390;">max</span><span style="color: #002200;">&#41;</span><br>&nbsp;<br><span style="color: #11740a; font-style: italic;">// 7</span><br>instanceLayer.opacity <span style="color: #002200;">=</span> <span style="color: #2400d9;">0.0</span><br>instanceLayer.addAnimation<span style="color: #002200;">&#40;</span>fadeAnimation, forKey<span style="color: #002200;">:</span> <span style="color: #bf1d1a;">&quot;FadeAnimation&quot;</span><span style="color: #002200;">&#41;</span></pre></td></tr></table></div><br><br><p>ä¸Šé¢çš„ä»£ç åšäº†ä¸‹é¢è¿™äº›äº‹:</p><br><ol><br><li>åˆ›å»ºä¸€ä¸ª CAReplicatorLayer å®ä¾‹å¹¶ä¸”æŠŠåŒºåŸŸè®¾æˆ <code>someView</code> çš„è¾¹ç•Œã€‚ </li><br><li>è®¾ç½®å¤åˆ¶å™¨å›¾å±‚æ‹·è´æ•° (<code>instanceCount</code>) å¹¶ä¸”æ¨è¿Ÿç»˜åˆ¶ã€‚è®¾ç½®å¤åˆ¶å™¨å›¾å±‚ä¸º 2D (<code>preservesDepth = false</code>) åŒæ—¶è®¾ç½®å®ƒçš„å®ä¾‹é¢œè‰²ä¸ºç™½è‰²ã€‚ </li><br><li>ç»™è¿ç»­çš„é‡å¤å®ä¾‹æ·»åŠ çº¢ç»¿è“é¢œè‰²å€¼åç§»é‡ã€‚ é»˜è®¤å€¼éƒ½æ˜¯0, åœ¨æ‰€æœ‰å®ä¾‹æœ‰æ•ˆä¿ç•™é¢œè‰²å€¼ã€‚ ç„¶è€Œ, è¿™ç§æƒ…å†µä¸‹, å®ä¾‹é¢œè‰²æœ€åˆè®¾ç½®ä¸ºç™½è‰², ä»¥ä¸ºæ„å‘³ç€çº¢ç»¿è“éƒ½æ˜¯ 1.0 ã€‚ æ‰€ä»¥, è®¾ç½®çº¢è‰²ä¸º 0 åŒæ—¶ç»¿è“åç§»å€¼ä¸ºè´Ÿæ•°å¯ä»¥çªå‡ºçº¢è‰²è°ƒã€‚ åŒæ ·çš„, æŠŠalpha åç§»é‡è®¾ç½®åˆ°è¿ç»­é‡å¤å›¾å±‚çš„ alpha ã€‚ </li><br><li>åˆ›å»ºä¸€ä¸ªå˜æ¢å®ç°åœ†å½¢æ—‹è½¬ã€‚ </li><br><li>ä¸ºå¤åˆ¶å™¨å›¾å±‚åˆ›å»ºä¸€ä¸ªå®ä¾‹å›¾å±‚åŒæ—¶è®¾ç½®åŒºåŸŸï¼Œ ç¬¬ä¸€ä¸ªå®ä¾‹ä¼šåœ¨ä¸­å¿ƒ x å’Œ  <code>someView</code>åŒºåŸŸçš„é¡¶éƒ¨ç»˜åˆ¶ã€‚ è¿™å—ä»£ç åŒæ—¶è®¾ç½®å®ä¾‹çš„é¢œè‰²ï¼Œç„¶åæŠŠå®ä¾‹å›¾å±‚æ·»åŠ åˆ°å¤åˆ¶å™¨å›¾å±‚ã€‚ </li><br><li>äº§ç”Ÿä¸€ä¸ªæ·¡å…¥æ·¡å‡ºçš„åŠ¨ç”»ï¼Œé€æ˜åº¦ä» 1 åˆ° 0 ã€‚ </li><br><li>è®¾ç½®å®ä¾‹å›¾å±‚ä¸é€æ˜åº¦ä¸º0ï¼Œ é‚£ä¹ˆå®ƒå°±æ˜¯é€æ˜çš„ï¼Œç›´åˆ°æ¯ä¸ªå®ä¾‹è¢«ç»˜åˆ¶ï¼ŒåŒæ—¶å®ƒçš„é¢œè‰²å’Œ alpha å€¼è¢«è®¾ç½®ã€‚</li><br></ol><br><p>ä»£ç æ‰§è¡Œç»“æœç»“æœå¦‚ä¸‹:</p><br><p><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/CAReplicatorLayer.gif" width="250" height="250" class="aligncenter size-full wp-image-91334" srcset="https://cdn3.raywenderlich.com/wp-content/uploads/2014/12/CAReplicatorLayer.gif 250w, https://cdn3.raywenderlich.com/wp-content/uploads/2014/12/CAReplicatorLayer-32x32.gif 32w, https://cdn3.raywenderlich.com/wp-content/uploads/2014/12/CAReplicatorLayer-64x64.gif 64w, https://cdn3.raywenderlich.com/wp-content/uploads/2014/12/CAReplicatorLayer-96x96.gif 96w, https://cdn3.raywenderlich.com/wp-content/uploads/2014/12/CAReplicatorLayer-128x128.gif 128w" sizes="(max-width: 250px) 100vw, 250px"></p><br><p>Layer Player åŒ…å«äº†æ§ä»¶å»æ“ä½œå¤§å¤šçš„å±æ€§:</p><br><p><a href="http://www.raywenderlich.com/wp-content/uploads/2014/12/CAReplicatorLayer_5.5.png" target="_blank" rel="external"><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/CAReplicatorLayer_5.5-180x320.png" width="180" height="320" class="aligncenter size-medium wp-image-91349 bordered" srcset="https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/CAReplicatorLayer_5.5-180x320.png 180w, https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/CAReplicatorLayer_5.5-281x500.png 281w, https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/CAReplicatorLayer_5.5.png 1242w" sizes="(max-width: 180px) 100vw, 180px"></a></p><br><h2>ç¤ºä¾‹7: CATiledLayer</h2><br><p>CATiledLayer ä»¥ç“·ç –å½¢å¼å¼‚æ­¥ç»˜åˆ¶å›¾å±‚å†…å®¹ã€‚ å¯¹äºå¤§å›¾æˆ–è€…å†…å®¹å¾ˆå¤šä½ æ¯æ¬¡åªéœ€è¦çœ‹å¾ˆå°ä¸€å—ï¼Œè¿™å¾ˆæœ‰ç”¨, å› ä¸ºä½ å¯ä»¥å¼€å§‹çœ‹ä½ çš„å†…å®¹è€Œä¸æ˜¯ä¸€æ¬¡æ€§æŠŠå®ƒä»¬åŠ å…¥å†…å­˜ã€‚</p><br><p>æœ‰ä¸ªä¸¤ä¸ªæ–¹å¼æ¥å¤„ç†ç»˜åˆ¶ã€‚ ä¸€ç§æ˜¯é‡å†™ UIView ï¼Œä½¿ç”¨ CATiledLayer é‡å¤ç»˜åˆ¶ç“·ç –æ¥å¡«æ»¡è§†å›¾çš„èƒŒæ™¯, åƒè¿™æ ·:</p><br><br><div class="wp_codebox"><table><tr id="p9048811"><td class="code" id="p90488code11"><pre class="swift" style="font-family:monospace;"><span style="color: #11740a; font-style: italic;">// In ViewController.swift</span><br><span style="color: #a61390;">import</span> UIKit<br>&nbsp;<br><span style="color: #a61390;">class</span> ViewController<span style="color: #002200;">:</span> <span style="color: #400080;">UIViewController</span> <span style="color: #002200;">&#123;</span><br>&nbsp;<br>  <span style="color: #11740a; font-style: italic;">// 1</span><br>  @IBOutlet weak <span style="color: #a61390;">var</span> tiledBackgroundView<span style="color: #002200;">:</span> TiledBackgroundView<span style="color: #002200;">!</span><br>&nbsp;<br><span style="color: #002200;">&#125;</span><br>&nbsp;<br><span style="color: #11740a; font-style: italic;">// In TiledBackgroundView.swift</span><br><span style="color: #a61390;">import</span> UIKit<br>&nbsp;<br><span style="color: #a61390;">class</span> TiledBackgroundView<span style="color: #002200;">:</span> <span style="color: #400080;">UIView</span> <span style="color: #002200;">&#123;</span><br>&nbsp;<br>  <span style="color: #a61390;">let</span> sideLength <span style="color: #002200;">=</span> <span style="color: #400080;">CGFloat</span><span style="color: #002200;">&#40;</span><span style="color: #2400d9;">50.0</span><span style="color: #002200;">&#41;</span><br>&nbsp;<br>  <span style="color: #11740a; font-style: italic;">// 2</span><br>  <span style="color: #a61390;">override</span> <span style="color: #a61390;">class</span> <span style="color: #a61390;">func</span> layerClass<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">-</span>&gt; AnyClass <span style="color: #002200;">&#123;</span><br>    <span style="color: #a61390;">return</span> CATiledLayer.<span style="color: #a61390;">self</span><br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br>  <span style="color: #11740a; font-style: italic;">// 3</span><br>  required <span style="color: #a61390;">init</span><span style="color: #002200;">&#40;</span>coder aDecoder<span style="color: #002200;">:</span> <span style="color: #400080;">NSCoder</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>    <span style="color: #a61390;">super</span>.<span style="color: #a61390;">init</span><span style="color: #002200;">&#40;</span>coder<span style="color: #002200;">:</span> aDecoder<span style="color: #002200;">&#41;</span><br>    srand48<span style="color: #002200;">&#40;</span><span style="color: #a61390;">Int</span><span style="color: #002200;">&#40;</span><span style="color: #400080;">NSDate</span><span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span>.timeIntervalSince1970<span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span><br>    <span style="color: #a61390;">let</span> layer <span style="color: #002200;">=</span> <span style="color: #a61390;">self</span>.layer <span style="color: #a61390;">as</span> CATiledLayer<br>    <span style="color: #a61390;">let</span> scale <span style="color: #002200;">=</span> UIScreen.mainScreen<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span>.scale<br>    layer.contentsScale <span style="color: #002200;">=</span> scale<br>    layer.tileSize <span style="color: #002200;">=</span> <span style="color: #400080;">CGSize</span><span style="color: #002200;">&#40;</span>width<span style="color: #002200;">:</span> sideLength <span style="color: #002200;"><em></em></span> scale, height<span style="color: #002200;">:</span> sideLength <span style="color: #002200;"></span> scale<span style="color: #002200;">&#41;</span><br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br>  <span style="color: #11740a; font-style: italic;">// 4</span><br>  <span style="color: #a61390;">override</span> <span style="color: #a61390;">func</span> drawRect<span style="color: #002200;">&#40;</span>rect<span style="color: #002200;">:</span> <span style="color: #400080;">CGRect</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>    <span style="color: #a61390;">let</span> context <span style="color: #002200;">=</span> <span style="color: #400080;">UIGraphicsGetCurrentContext</span><span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>    <span style="color: #a61390;">var</span> red <span style="color: #002200;">=</span> <span style="color: #400080;">CGFloat</span><span style="color: #002200;">&#40;</span>drand48<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span><br>    <span style="color: #a61390;">var</span> green <span style="color: #002200;">=</span> <span style="color: #400080;">CGFloat</span><span style="color: #002200;">&#40;</span>drand48<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span><br>    <span style="color: #a61390;">var</span> blue <span style="color: #002200;">=</span> <span style="color: #400080;">CGFloat</span><span style="color: #002200;">&#40;</span>drand48<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span><br>    CGContextSetRGBFillColor<span style="color: #002200;">&#40;</span>context, red, green, blue, <span style="color: #2400d9;">1.0</span><span style="color: #002200;">&#41;</span><br>    CGContextFillRect<span style="color: #002200;">&#40;</span>context, rect<span style="color: #002200;">&#41;</span><br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br><span style="color: #002200;">&#125;</span></pre></td></tr></table></div><br><br><p>ä»£ç è§£é‡Š:</p><br><ol><br><li><code>tiledBackgroundView</code> æ”¾ç½®åœ¨ (150, 150) ï¼Œå®½é«˜éƒ½æ˜¯ 300. </li><br><li><code>layerClass()</code> é‡å†™ï¼Œè§†å›¾å›¾å±‚è¢«åˆ›å»ºä¸º CATiledLayer çš„å®ä¾‹ã€‚ </li><br><li><code>rand48()</code> æ–¹æ³•ç”¨æ¥äº§ç”Ÿéšæœºé¢œè‰²ç”¨åœ¨ <code>drawRect()</code> é‡Œã€‚ ç„¶åæ‰©å±•å›¾å±‚å†…å®¹ (è½¬æ¢ä¸º CATiledLayer) æ¥åŒ¹é…å±å¹•çš„å°ºå¯¸ï¼Œæ¥ç€è®¾ç½®å¤§å°ã€‚ </li><br><li>é‡å†™ <code>drawRect()</code> æ¥ç”¨éšæœºé¢œè‰²å¡«å……è§†å›¾ã€‚</li><br></ol><br><p>æœ€å, ä¸Šé¢çš„ä»£ç ç»˜åˆ¶äº†ä¸€ä¸ª 6&#215;6 éšæœºè‰²çš„ç“·ç –, åƒè¿™æ ·:</p><br><p><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/CATiledLayer-250x250.png" width="250" height="250" class="aligncenter size-thumbnail wp-image-91465" srcset="https://cdn1.raywenderlich.com/wp-content/uploads/2014/12/CATiledLayer-250x250.png 250w, https://cdn1.raywenderlich.com/wp-content/uploads/2014/12/CATiledLayer-320x320.png 320w, https://cdn1.raywenderlich.com/wp-content/uploads/2014/12/CATiledLayer-32x32.png 32w, https://cdn1.raywenderlich.com/wp-content/uploads/2014/12/CATiledLayer-64x64.png 64w, https://cdn1.raywenderlich.com/wp-content/uploads/2014/12/CATiledLayer-96x96.png 96w, https://cdn1.raywenderlich.com/wp-content/uploads/2014/12/CATiledLayer-128x128.png 128w, https://cdn1.raywenderlich.com/wp-content/uploads/2014/12/CATiledLayer.png 451w" sizes="(max-width: 250px) 100vw, 250px"></p><br><p>Layer Player åœ¨ç“·ç –èƒŒæ™¯å›¾ä¸Šç»˜åˆ¶äº†ä¸€æ¡è·¯å¾„æ¥è¯¦ç»†è¯´æ˜è¿™ä¸ªç”¨æ³•:</p><br><p><a href="http://www.raywenderlich.com/wp-content/uploads/2014/12/CATiledLayer_5.5.png" target="_blank" rel="external"><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/CATiledLayer_5.5-180x320.png" width="180" height="320" class="aligncenter size-medium wp-image-91469 bordered" srcset="https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/CATiledLayer_5.5-180x320.png 180w, https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/CATiledLayer_5.5-281x500.png 281w, https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/CATiledLayer_5.5.png 1242w" sizes="(max-width: 180px) 100vw, 180px"></a></p><br><p>ä¸Šé¢æˆªå›¾çš„æ˜Ÿæ˜Ÿåœ¨æ”¾å¤§æ˜¾ç¤ºæ—¶ä¼šå˜çš„æ¨¡ç³Šä¸æ¸…:</p><br><p><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/CATiledLayerZoomedBlurry-250x250.png" width="250" height="250" class="aligncenter size-thumbnail wp-image-91473" srcset="https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/CATiledLayerZoomedBlurry-250x250.png 250w, https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/CATiledLayerZoomedBlurry-320x320.png 320w, https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/CATiledLayerZoomedBlurry-32x32.png 32w, https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/CATiledLayerZoomedBlurry-64x64.png 64w, https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/CATiledLayerZoomedBlurry-96x96.png 96w, https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/CATiledLayerZoomedBlurry-128x128.png 128w, https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/CATiledLayerZoomedBlurry.png 374w" sizes="(max-width: 250px) 100vw, 250px"></p><br><p>æ¨¡ç³Šåº¦æ˜¯ç»†èŠ‚è‰²é˜¶çš„ç»“æœï¼Œè¿™ä¸ªæ˜¯å›¾å±‚ç»´æŠ¤çš„ã€‚ CATiledLayer æœ‰ä¸¤ä¸ªå±æ€§ <code>levelsOfDetail</code> å’Œ <code>levelsOfDetailBias</code>. </p><br><p><code>levelsOfDetail</code>, å¦‚å®ƒåå­—æ‰€è¯´, æ˜¯å›¾å±‚ç»´æŠ¤çš„ç»†èŠ‚è‰²é˜¶æ•°ã€‚ é»˜è®¤ä¸º0, å¹¶ä¸”æ¯æ¬¡æå‡è‰²é˜¶ä¼šæŒ‰ä»¥å‰è‰²é˜¶çš„ä¸€åŠçš„åˆ†è¾¨ç‡ç¼“å­˜ã€‚ <code>levelsOfDetail</code> æœ€å¤§å€¼æ˜¯æœ€ä½ç»†èŠ‚è‰²é˜¶è‡³å°‘æ˜¯ä¸€ä¸ªåƒç´ ã€‚ </p><br><p><code>levelsOfDetailBias</code>, æ¢ç§è¯´æ³•, æ˜¯å›¾å±‚ç¼“å­˜çš„ <i>magnified</i> ç»†èŠ‚è‰²é˜¶çš„æ•°é‡ã€‚ é»˜è®¤ä¸º0, æ„å‘³ç€æ²¡æœ‰é¢å¤–çš„æ”¾å¤§çš„è‰²é˜¶è¢«ç¼“å­˜, å¹¶ä¸”æ¯æ¬¡æå‡è‰²é˜¶å°†ä¼šæŒ‰ç…§å…ˆå‰è‰²é˜¶åˆ†è¾¨ç‡çš„ä¸¤å€ç¼“å­˜ã€‚ </p><br><p>ä¾‹å¦‚, æŠŠä¸Šé¢æ¨¡ç³Šçš„ç“·ç –å›¾å±‚çš„ <code>levelsOfDetailBias</code> å€¼å¢åŠ åˆ° 5ï¼Œå°†ä¼šå¯¼è‡´ç¼“å­˜è‰²é˜¶æŒ‰ç…§ 2x, 4x, 8x, 16x å’Œ 32x æ”¾å¤§, ç¼©æ”¾æ•ˆæœå¦‚ä¸‹:</p><br><p><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/CATiledLayerZoomed-250x250.png" width="250" height="250" class="aligncenter size-thumbnail wp-image-91475" srcset="https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/CATiledLayerZoomed-250x250.png 250w, https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/CATiledLayerZoomed-320x320.png 320w, https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/CATiledLayerZoomed-32x32.png 32w, https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/CATiledLayerZoomed-64x64.png 64w, https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/CATiledLayerZoomed-96x96.png 96w, https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/CATiledLayerZoomed-128x128.png 128w, https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/CATiledLayerZoomed.png 374w" sizes="(max-width: 250px) 100vw, 250px"></p><br><p>å¾ˆé…·, æ˜¯ä¸æ˜¯? ä¸è¿‡ç­‰ä¸€ç­‰ï¼Œè¿˜æœ‰æ›´é…·çš„! </p><br><p>Layer Player åŒ…å«äº†ä¸€ä¸ªå›¾å½¢æ‰©å±•ï¼Œæ–‡ä»¶å« <a href="https://github.com/scotteg/LayerPlayer/blob/master/LayerPlayer/UIImage%2BTileCutter.swift" title="UIImage+TileCutter.swift" target="_blank">UIImage+TileCutter.swift</a>. è¾…å¯¼å›¢é˜Ÿæˆå‘˜ <a href="http://www.raywenderlich.com/u/nicklockwood" title="Nick Lockwood" target="_blank" rel="external">Nick Lockwood</a> ä¸ºä»–çš„ç»ˆç«¯appæ”¹é€ äº†è¿™ä¸ªä»£ç , è¿™ä¸ªåœ¨ä»–çš„ä¹¦é‡Œæä¾›äº†, <i>iOS Core Animation: Advanced Techniques</i>. </p><br><p>å®ƒçš„å·¥ä½œå°±æ˜¯æŠŠæºå›¾åƒåˆ†æˆè‹¥å¹²æŒ‡å®šå¤§å°çš„æ–¹å½¢å›¾å—, æ ¹æ®æ¯å—å›¾çš„è¡Œåˆ—ä½ç½®å‘½å; ä¾‹å¦‚, windingRoad_6_2.png åœ¨ 7åˆ—ï¼Œ 3è¡Œ (ç´¢å¼•ä»0å¼€å§‹):</p><br><p><a href="http://www.raywenderlich.com/wp-content/uploads/2014/12/windingRoad.png" target="_blank" rel="external"><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/windingRoad-480x300.png" width="480" height="300" class="aligncenter size-medium wp-image-91653" srcset="https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/windingRoad-480x300.png 480w, https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/windingRoad-700x437.png 700w, https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/windingRoad.png 1200w" sizes="(max-width: 480px) 100vw, 480px"></a></p><br><p>ç»™è¿™äº›å›¾å—æ”¾ç½®ä½ç½®, è‡ªå®šä¹‰ä¸€ä¸ª UIView å­ç±»å¯ä»¥ç”¨æ¥ç»˜åˆ¶è¿™äº›å›¾å—:</p><br><br><div class="wp_codebox"><table><tr id="p9048812"><td class="code" id="p90488code12"><pre class="swift" style="font-family:monospace;"><span style="color: #a61390;">import</span> UIKit<br>&nbsp;<br><span style="color: #a61390;">class</span> TilingViewForImage<span style="color: #002200;">:</span> <span style="color: #400080;">UIView</span> <span style="color: #002200;">&#123;</span><br>&nbsp;<br>  <span style="color: #11740a; font-style: italic;">// 1</span><br>  <span style="color: #a61390;">let</span> sideLength <span style="color: #002200;">=</span> <span style="color: #400080;">CGFloat</span><span style="color: #002200;">&#40;</span><span style="color: #2400d9;">640.0</span><span style="color: #002200;">&#41;</span><br>  <span style="color: #a61390;">let</span> fileName <span style="color: #002200;">=</span> <span style="color: #bf1d1a;">&quot;windingRoad&quot;</span><br>  <span style="color: #a61390;">let</span> cachesPath <span style="color: #002200;">=</span> NSSearchPathForDirectoriesInDomains<span style="color: #002200;">&#40;</span>.CachesDirectory, .UserDomainMask, <span style="color: #a61390;">true</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#91;</span><span style="color: #2400d9;">0</span><span style="color: #002200;">&#93;</span> <span style="color: #a61390;">as</span> <span style="color: #a61390;">String</span><br>&nbsp;<br>  <span style="color: #11740a; font-style: italic;">// 2</span><br>  <span style="color: #a61390;">override</span> <span style="color: #a61390;">class</span> <span style="color: #a61390;">func</span> layerClass<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">-</span>&gt; AnyClass <span style="color: #002200;">&#123;</span><br>    <span style="color: #a61390;">return</span> CATiledLayer.<span style="color: #a61390;">self</span><br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br>  <span style="color: #11740a; font-style: italic;">// 3</span><br>  required <span style="color: #a61390;">init</span><span style="color: #002200;">&#40;</span>coder aDecoder<span style="color: #002200;">:</span> <span style="color: #400080;">NSCoder</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>    <span style="color: #a61390;">super</span>.<span style="color: #a61390;">init</span><span style="color: #002200;">&#40;</span>coder<span style="color: #002200;">:</span> aDecoder<span style="color: #002200;">&#41;</span><br>    <span style="color: #a61390;">let</span> layer <span style="color: #002200;">=</span> <span style="color: #a61390;">self</span>.layer <span style="color: #a61390;">as</span> CATiledLayer<br>    layer.tileSize <span style="color: #002200;">=</span> <span style="color: #400080;">CGSize</span><span style="color: #002200;">&#40;</span>width<span style="color: #002200;">:</span> sideLength, height<span style="color: #002200;">:</span> sideLength<span style="color: #002200;">&#41;</span><br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br>  <span style="color: #11740a; font-style: italic;">// 4</span><br>  <span style="color: #a61390;">override</span> <span style="color: #a61390;">func</span> drawRect<span style="color: #002200;">&#40;</span>rect<span style="color: #002200;">:</span> <span style="color: #400080;">CGRect</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>    <span style="color: #a61390;">let</span> firstColumn <span style="color: #002200;">=</span> <span style="color: #a61390;">Int</span><span style="color: #002200;">&#40;</span>CGRectGetMinX<span style="color: #002200;">&#40;</span>rect<span style="color: #002200;">&#41;</span> <span style="color: #002200;">/</span> sideLength<span style="color: #002200;">&#41;</span><br>    <span style="color: #a61390;">let</span> lastColumn <span style="color: #002200;">=</span> <span style="color: #a61390;">Int</span><span style="color: #002200;">&#40;</span>CGRectGetMaxX<span style="color: #002200;">&#40;</span>rect<span style="color: #002200;">&#41;</span> <span style="color: #002200;">/</span> sideLength<span style="color: #002200;">&#41;</span><br>    <span style="color: #a61390;">let</span> firstRow <span style="color: #002200;">=</span> <span style="color: #a61390;">Int</span><span style="color: #002200;">&#40;</span>CGRectGetMinY<span style="color: #002200;">&#40;</span>rect<span style="color: #002200;">&#41;</span> <span style="color: #002200;">/</span> sideLength<span style="color: #002200;">&#41;</span><br>    <span style="color: #a61390;">let</span> lastRow <span style="color: #002200;">=</span> <span style="color: #a61390;">Int</span><span style="color: #002200;">&#40;</span>CGRectGetMaxY<span style="color: #002200;">&#40;</span>rect<span style="color: #002200;">&#41;</span> <span style="color: #002200;">/</span> sideLength<span style="color: #002200;">&#41;</span><br>&nbsp;<br>    <span style="color: #a61390;">for</span> row <span style="color: #a61390;">in</span> firstRowâ€¦lastRow <span style="color: #002200;">&#123;</span><br>      <span style="color: #a61390;">for</span> column <span style="color: #a61390;">in</span> firstColumnâ€¦lastColumn <span style="color: #002200;">&#123;</span><br>        <span style="color: #a61390;">if</span> <span style="color: #a61390;">let</span> tile <span style="color: #002200;">=</span> imageForTileAtColumn<span style="color: #002200;">&#40;</span>column, row<span style="color: #002200;">:</span> row<span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>          <span style="color: #a61390;">let</span> x <span style="color: #002200;">=</span> sideLength <span style="color: #002200;"><em></em></span> <span style="color: #400080;">CGFloat</span><span style="color: #002200;">&#40;</span>column<span style="color: #002200;">&#41;</span><br>          <span style="color: #a61390;">let</span> y <span style="color: #002200;">=</span> sideLength <span style="color: #002200;"></span> <span style="color: #400080;">CGFloat</span><span style="color: #002200;">&#40;</span>row<span style="color: #002200;">&#41;</span><br>          <span style="color: #a61390;">let</span> point <span style="color: #002200;">=</span> <span style="color: #400080;">CGPoint</span><span style="color: #002200;">&#40;</span>x<span style="color: #002200;">:</span> x, y<span style="color: #002200;">:</span> y<span style="color: #002200;">&#41;</span><br>          <span style="color: #a61390;">let</span> size <span style="color: #002200;">=</span> <span style="color: #400080;">CGSize</span><span style="color: #002200;">&#40;</span>width<span style="color: #002200;">:</span> sideLength, height<span style="color: #002200;">:</span> sideLength<span style="color: #002200;">&#41;</span><br>          <span style="color: #a61390;">var</span> tileRect <span style="color: #002200;">=</span> <span style="color: #400080;">CGRect</span><span style="color: #002200;">&#40;</span>origin<span style="color: #002200;">:</span> point, size<span style="color: #002200;">:</span> size<span style="color: #002200;">&#41;</span><br>          tileRect <span style="color: #002200;">=</span> CGRectIntersection<span style="color: #002200;">&#40;</span>bounds, tileRect<span style="color: #002200;">&#41;</span><br>          tile.drawInRect<span style="color: #002200;">&#40;</span>tileRect<span style="color: #002200;">&#41;</span><br>        <span style="color: #002200;">&#125;</span><br>      <span style="color: #002200;">&#125;</span><br>    <span style="color: #002200;">&#125;</span><br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br>  <span style="color: #a61390;">func</span> imageForTileAtColumn<span style="color: #002200;">&#40;</span>column<span style="color: #002200;">:</span> <span style="color: #a61390;">Int</span>, row<span style="color: #002200;">:</span> <span style="color: #a61390;">Int</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">-</span>&gt; <span style="color: #400080;">UIImage</span>? <span style="color: #002200;">&#123;</span><br>    <span style="color: #a61390;">let</span> filePath <span style="color: #002200;">=</span> <span style="color: #bf1d1a;">&quot;<span style="color: #2400d9;">(</span>cachesPath)/<span style="color: #2400d9;">(</span>fileName)<em><span style="color: #2400d9;">(</span>column)</em><span style="color: #2400d9;">(</span>row)&quot;</span><br>    <span style="color: #a61390;">return</span> <span style="color: #400080;">UIImage</span><span style="color: #002200;">&#40;</span>contentsOfFile<span style="color: #002200;">:</span> filePath<span style="color: #002200;">&#41;</span><br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br><span style="color: #002200;">&#125;</span></pre></td></tr></table></div><br><br><p>ä¸Šé¢çš„ä»£ç :</p><br><ol><br><li>ä¸ºå›¾å—ä¾§è¾¹é•¿åº¦åˆ›å»ºå±æ€§, å†ç”¨å›¾ç‰‡æ–‡ä»¶åå’Œç¼“å­˜ç›®å½•è·¯å¾„åˆ›å»ºï¼Œåè€…æ˜¯ TileCutter æ‰©å±•ä¿å­˜å›¾å—çš„åœ°æ–¹ã€‚ saves tiles. </li><br><li>é‡å†™ <code>layerClass()</code> è¿”å› CATiledLayer. </li><br><li>å®ç°  <code>init(_:)</code>, åœ¨è§†å›¾å›¾å±‚, è½¬æ¢ä¸ºå›¾å—å›¾å±‚å¹¶è®¾ç½®å›¾å—å¤§å°ã€‚ æ³¨æ„æ²¡æœ‰å¿…è¦è®© <code>contentsScale</code> åŒ¹é…å±å¹•å¤§å°, å› ä¸ºä½ ç›´æ¥ä½¿ç”¨è§†å›¾çš„æ”¯æŒå›¾å±‚ä¸åˆ›å»ºä¸€ä¸ªæ–°çš„å›¾å±‚å¹¶ä¸”ä½œä¸ºå­å›¾å±‚æ·»åŠ è¿›å»ã€‚ </li><br><li>é‡å†™ <code>drawRect()</code> ï¼Œæ ¹æ®ä½ è¡Œåˆ—ä½ç½®ç»˜åˆ¶æ¯ä¸ªå›¾å—ã€‚</li><br></ol><br><p>ç„¶åå­ç±»å‹çš„è§†å›¾, å’ŒåŸå§‹å›¾åƒå¤§å°ï¼Œå¯ä»¥åŠ å…¥æ»šåŠ¨è§†å›¾:</p><br><p><a href="http://www.raywenderlich.com/wp-content/uploads/2014/12/XcodeTilingViewForImageStoryboard.png" target="_blank" rel="external"><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/XcodeTilingViewForImageStoryboard-480x286.png" width="480" height="286" class="aligncenter size-medium wp-image-91656" srcset="https://cdn2.raywenderlich.com/wp-content/uploads/2014/12/XcodeTilingViewForImageStoryboard-480x286.png 480w, https://cdn2.raywenderlich.com/wp-content/uploads/2014/12/XcodeTilingViewForImageStoryboard-700x417.png 700w, https://cdn2.raywenderlich.com/wp-content/uploads/2014/12/XcodeTilingViewForImageStoryboard.png 1235w" sizes="(max-width: 480px) 100vw, 480px"></a></p><br><p>å°±è¿™æ ·, ä½ ç°åœ¨æœ‰äº†é»„æ²¹ä¸€æ ·æ»‘åŠ¨å¤§å›¾çš„æ‰‹æ„Ÿ (5120 x 3200 ), æ„Ÿè°¢ CATiledLayer:</p><br><p><a href="http://www.raywenderlich.com/wp-content/uploads/2014/12/CATiledImageLayer.gif" target="_blank" rel="external"><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/CATiledImageLayer.gif" width="332" height="500" class="aligncenter size-full wp-image-91663"></a></p><br><p>å¦‚ä½ æ‰€è§ï¼Œä¸Šé¢çš„åŠ¨ç”», å­˜åœ¨æ˜¾è‘—çš„å˜å½¢å½“æˆ‘ä»¬å¿«é€Ÿæ»šåŠ¨çš„æ—¶å€™ã€‚ æœ€å°åŒ–è¿™ç§å½±å“å¯ä»¥ä½¿ç”¨æ›´å°çš„å›¾å— (ä¸Šè¿°ä¾‹å­ä½¿ç”¨å›¾å—æ˜¯ 640 x 640) ç„¶ååˆ›å»ºä¸€ä¸ªCATiledLayer çš„å­ç±»ç„¶åé‡å†™ <code>fadeDuration()</code>ï¼Œè®©å®ƒè¿”å› 0:</p><br><br><div class="wp_codebox"><table><tr id="p9048813"><td class="code" id="p90488code13"><pre class="swift" style="font-family:monospace;"><span style="color: #a61390;">class</span> TiledLayer<span style="color: #002200;">:</span> CATiledLayer <span style="color: #002200;">&#123;</span><br>&nbsp;<br>  <span style="color: #a61390;">override</span> <span style="color: #a61390;">class</span> <span style="color: #a61390;">func</span> fadeDuration<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">-</span>&gt; CFTimeInterval <span style="color: #002200;">&#123;</span><br>    <span style="color: #a61390;">return</span> <span style="color: #2400d9;">0.0</span><br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br><span style="color: #002200;">&#125;</span></pre></td></tr></table></div><br><br><h2>ç¤ºä¾‹8: CAShapeLayer</h2><br><p>CAShapeLayer ä½¿ç”¨å¯æ‰©å±•çš„çŸ¢é‡è·¯å¾„å»ç»˜åˆ¶, è¿™æ¯”ä½¿ç”¨å›¾ç‰‡è¦å¿«å¾ˆå¤šã€‚å…¶ä»–å¥½å¤„æ˜¯ä½ ä¸ç”¨æä¾› @2x and @3x å°ºå¯¸çš„å›¾ç‰‡äº†ã€‚ çˆ½!</p><br><p>æ­¤å¤–, åœ¨ä½ å¤„ç†å®šåˆ¶çº¿çš„ç²—ç»†ï¼Œé¢œè‰², dashing, çº¿çš„åˆå¹¶ï¼Œéƒ½æœ‰å¾ˆå¤šå±æ€§, å¦‚æœçº¿é—­åˆæˆä¸€ä¸ªå°é—­åŒºåŸŸ, å¹¶ä¸”è¿™ä¸ªåŒºåŸŸéœ€è¦å¡«å……æŸç§é¢œè‰²ã€‚ ä¸‹é¢æ˜¯ä¸ªä¾‹å­:</p><br><br><div class="wp_codebox"><table><tr id="p9048814"><td class="code" id="p90488code14"><pre class="swift" style="font-family:monospace;"><span style="color: #a61390;">import</span> UIKit<br>&nbsp;<br><span style="color: #a61390;">class</span> ViewController<span style="color: #002200;">:</span> <span style="color: #400080;">UIViewController</span> <span style="color: #002200;">&#123;</span><br>&nbsp;<br>  @IBOutlet weak <span style="color: #a61390;">var</span> someView<span style="color: #002200;">:</span> <span style="color: #400080;">UIView</span><span style="color: #002200;">!</span><br>&nbsp;<br>  <span style="color: #11740a; font-style: italic;">// 1</span><br>  <span style="color: #a61390;">let</span> rwColor <span style="color: #002200;">=</span> <span style="color: #400080;">UIColor</span><span style="color: #002200;">&#40;</span>red<span style="color: #002200;">:</span> <span style="color: #2400d9;">11</span><span style="color: #002200;">/</span><span style="color: #2400d9;">255.0</span>, green<span style="color: #002200;">:</span> <span style="color: #2400d9;">86</span><span style="color: #002200;">/</span><span style="color: #2400d9;">255.0</span>, blue<span style="color: #002200;">:</span> <span style="color: #2400d9;">14</span><span style="color: #002200;">/</span><span style="color: #2400d9;">255.0</span>, alpha<span style="color: #002200;">:</span> <span style="color: #2400d9;">1.0</span><span style="color: #002200;">&#41;</span><br>  <span style="color: #a61390;">let</span> rwPath <span style="color: #002200;">=</span> <span style="color: #400080;">UIBezierPath</span><span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>  <span style="color: #a61390;">let</span> rwLayer <span style="color: #002200;">=</span> CAShapeLayer<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>&nbsp;<br>  <span style="color: #11740a; font-style: italic;">// 2</span><br>  <span style="color: #a61390;">func</span> setUpRWPath<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>    rwPath.moveToPoint<span style="color: #002200;">&#40;</span>CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">0.22</span>, <span style="color: #2400d9;">124.79</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span><br>    rwPath.addLineToPoint<span style="color: #002200;">&#40;</span>CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">0.22</span>, <span style="color: #2400d9;">249.57</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span><br>    rwPath.addLineToPoint<span style="color: #002200;">&#40;</span>CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">124.89</span>, <span style="color: #2400d9;">249.57</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span><br>    rwPath.addLineToPoint<span style="color: #002200;">&#40;</span>CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">249.57</span>, <span style="color: #2400d9;">249.57</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span><br>    rwPath.addLineToPoint<span style="color: #002200;">&#40;</span>CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">249.57</span>, <span style="color: #2400d9;">143.79</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span><br>    rwPath.addCurveToPoint<span style="color: #002200;">&#40;</span>CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">249.37</span>, <span style="color: #2400d9;">38.25</span><span style="color: #002200;">&#41;</span>, controlPoint1<span style="color: #002200;">:</span> CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">249.57</span>, <span style="color: #2400d9;">85.64</span><span style="color: #002200;">&#41;</span>, controlPoint2<span style="color: #002200;">:</span> CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">249.47</span>, <span style="color: #2400d9;">38.15</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span><br>    rwPath.addCurveToPoint<span style="color: #002200;">&#40;</span>CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">206.47</span>, <span style="color: #2400d9;">112.47</span><span style="color: #002200;">&#41;</span>, controlPoint1<span style="color: #002200;">:</span> CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">249.27</span>, <span style="color: #2400d9;">38.35</span><span style="color: #002200;">&#41;</span>, controlPoint2<span style="color: #002200;">:</span> CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">229.94</span>, <span style="color: #2400d9;">71.76</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span><br>    rwPath.addCurveToPoint<span style="color: #002200;">&#40;</span>CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">163.46</span>, <span style="color: #2400d9;">186.84</span><span style="color: #002200;">&#41;</span>, controlPoint1<span style="color: #002200;">:</span> CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">182.99</span>, <span style="color: #2400d9;">153.19</span><span style="color: #002200;">&#41;</span>, controlPoint2<span style="color: #002200;">:</span> CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">163.61</span>, <span style="color: #2400d9;">186.65</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span><br>    rwPath.addCurveToPoint<span style="color: #002200;">&#40;</span>CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">146.17</span>, <span style="color: #2400d9;">156.99</span><span style="color: #002200;">&#41;</span>, controlPoint1<span style="color: #002200;">:</span> CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">163.27</span>, <span style="color: #2400d9;">187.03</span><span style="color: #002200;">&#41;</span>, controlPoint2<span style="color: #002200;">:</span> CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">155.48</span>, <span style="color: #2400d9;">173.59</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span><br>    rwPath.addCurveToPoint<span style="color: #002200;">&#40;</span>CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">128.79</span>, <span style="color: #2400d9;">127.08</span><span style="color: #002200;">&#41;</span>, controlPoint1<span style="color: #002200;">:</span> CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">136.82</span>, <span style="color: #2400d9;">140.43</span><span style="color: #002200;">&#41;</span>, controlPoint2<span style="color: #002200;">:</span> CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">129.03</span>, <span style="color: #2400d9;">126.94</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span><br>    rwPath.addCurveToPoint<span style="color: #002200;">&#40;</span>CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">109.31</span>, <span style="color: #2400d9;">157.77</span><span style="color: #002200;">&#41;</span>, controlPoint1<span style="color: #002200;">:</span> CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">128.59</span>, <span style="color: #2400d9;">127.18</span><span style="color: #002200;">&#41;</span>, controlPoint2<span style="color: #002200;">:</span> CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">119.83</span>, <span style="color: #2400d9;">141.01</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span><br>    rwPath.addCurveToPoint<span style="color: #002200;">&#40;</span>CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">89.83</span>, <span style="color: #2400d9;">187.86</span><span style="color: #002200;">&#41;</span>, controlPoint1<span style="color: #002200;">:</span> CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">98.79</span>, <span style="color: #2400d9;">174.52</span><span style="color: #002200;">&#41;</span>, controlPoint2<span style="color: #002200;">:</span> CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">90.02</span>, <span style="color: #2400d9;">188.06</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span><br>    rwPath.addCurveToPoint<span style="color: #002200;">&#40;</span>CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">56.52</span>, <span style="color: #2400d9;">108.28</span><span style="color: #002200;">&#41;</span>, controlPoint1<span style="color: #002200;">:</span> CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">89.24</span>, <span style="color: #2400d9;">187.23</span><span style="color: #002200;">&#41;</span>, controlPoint2<span style="color: #002200;">:</span> CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">56.56</span>, <span style="color: #2400d9;">109.11</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span><br>    rwPath.addCurveToPoint<span style="color: #002200;">&#40;</span>CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">64.02</span>, <span style="color: #2400d9;">102.25</span><span style="color: #002200;">&#41;</span>, controlPoint1<span style="color: #002200;">:</span> CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">56.47</span>, <span style="color: #2400d9;">107.75</span><span style="color: #002200;">&#41;</span>, controlPoint2<span style="color: #002200;">:</span> CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">59.24</span>, <span style="color: #2400d9;">105.56</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span><br>    rwPath.addCurveToPoint<span style="color: #002200;">&#40;</span>CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">101.42</span>, <span style="color: #2400d9;">67.57</span><span style="color: #002200;">&#41;</span>, controlPoint1<span style="color: #002200;">:</span> CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">81.99</span>, <span style="color: #2400d9;">89.78</span><span style="color: #002200;">&#41;</span>, controlPoint2<span style="color: #002200;">:</span> CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">93.92</span>, <span style="color: #2400d9;">78.72</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span><br>    rwPath.addCurveToPoint<span style="color: #002200;">&#40;</span>CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">108.38</span>, <span style="color: #2400d9;">30.65</span><span style="color: #002200;">&#41;</span>, controlPoint1<span style="color: #002200;">:</span> CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">110.28</span>, <span style="color: #2400d9;">54.47</span><span style="color: #002200;">&#41;</span>, controlPoint2<span style="color: #002200;">:</span> CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">113.01</span>, <span style="color: #2400d9;">39.96</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span><br>    rwPath.addCurveToPoint<span style="color: #002200;">&#40;</span>CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">10.35</span>, <span style="color: #2400d9;">0.41</span><span style="color: #002200;">&#41;</span>, controlPoint1<span style="color: #002200;">:</span> CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">99.66</span>, <span style="color: #2400d9;">13.17</span><span style="color: #002200;">&#41;</span>, controlPoint2<span style="color: #002200;">:</span> CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">64.11</span>, <span style="color: #2400d9;">2.16</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span><br>    rwPath.addLineToPoint<span style="color: #002200;">&#40;</span>CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">0.22</span>, <span style="color: #2400d9;">0.07</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span><br>    rwPath.addLineToPoint<span style="color: #002200;">&#40;</span>CGPointMake<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">0.22</span>, <span style="color: #2400d9;">124.79</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span><br>    rwPath.closePath<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br>  <span style="color: #11740a; font-style: italic;">// 3</span><br>  <span style="color: #a61390;">func</span> setUpRWLayer<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>    rwLayer.path <span style="color: #002200;">=</span> rwPath.CGPath<br>    rwLayer.fillColor <span style="color: #002200;">=</span> rwColor.<span style="color: #400080;">CGColor</span><br>    rwLayer.fillRule <span style="color: #002200;">=</span> kCAFillRuleNonZero<br>    rwLayer.lineCap <span style="color: #002200;">=</span> kCALineCapButt<br>    rwLayer.lineDashPattern <span style="color: #002200;">=</span> <span style="color: #a61390;">nil</span><br>    rwLayer.lineDashPhase <span style="color: #002200;">=</span> <span style="color: #2400d9;">0.0</span><br>    rwLayer.lineJoin <span style="color: #002200;">=</span> kCALineJoinMiter<br>    rwLayer.lineWidth <span style="color: #002200;">=</span> <span style="color: #2400d9;">1.0</span><br>    rwLayer.miterLimit <span style="color: #002200;">=</span> <span style="color: #2400d9;">10.0</span><br>    rwLayer.strokeColor <span style="color: #002200;">=</span> rwColor.<span style="color: #400080;">CGColor</span><br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br>  <span style="color: #a61390;">override</span> <span style="color: #a61390;">func</span> viewDidLoad<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>    <span style="color: #a61390;">super</span>.viewDidLoad<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>&nbsp;<br>    <span style="color: #11740a; font-style: italic;">// 4</span><br>    setUpRWPath<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>    setUpRWLayer<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>    someView.layer.addSublayer<span style="color: #002200;">&#40;</span>rwLayer<span style="color: #002200;">&#41;</span><br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br><span style="color: #002200;">&#125;</span></pre></td></tr></table></div><br><br><p>ä»£ç è®²è§£:</p><br><ol><br><li>åˆ›å»ºé¢œè‰², è·¯å¾„, å’Œå½¢çŠ¶å›¾å±‚å¯¹è±¡ã€‚</li><br><li>ç»˜åˆ¶å½¢çŠ¶å›¾å±‚çš„è·¯å¾„ã€‚ å¦‚æœä½ ä¸æƒ³å†™æ ·æ¿ä»£ç , å–å‡º <a href="http://www.paintcodeapp.com" target="_blank" rel="external">PaintCode</a>; å®ƒé€šè¿‡æ§ä»¶æˆ–è€…è¾“å…¥å­˜åœ¨çš„çŸ¢é‡å›¾æˆ–è€…psdæ–‡ä»¶æ¥ç”Ÿæˆä»£ç ã€‚ </li><br><li>å»ºç«‹å½¢çŠ¶å›¾å±‚ã€‚ è·¯å¾„è®¾ç½®æˆç¬¬äºŒéƒ¨ç»˜åˆ¶çš„è·¯å¾„çš„ CGPath , å¡«å……é¢œè‰²ä¸ºç¬¬ä¸€æ­¥åˆ›å»ºçš„é¢œè‰²çš„ CGColor , å¡«å……è§„åˆ™æ˜¾ç¤ºè®¾ç½®æˆéé›¶é»˜è®¤å€¼ã€‚<br><ul><br><li>å…¶ä»–å”¯ä¸€é€‰é¡¹æ˜¯å¥‡å¶æ•°, å¯¹äºè¿™ä¸ªå½¢çŠ¶æ¥è¯´ï¼Œæ²¡æœ‰äº¤å‰è·¯å¾„ï¼Œå¡«å……è§„åˆ™æ²¡æœ‰å¤ªå¤§åŒºåˆ«ã€‚ </li><br><li>éé›¶è§„åˆ™æ•° left-to-right è·¯å¾„ +1 ï¼Œ right-to-left è·¯å¾„ -1; å®ƒåˆè®¡æ‰€æœ‰è·¯å¾„å€¼ï¼Œå¦‚æœæ€»æ•°å¤§äº 0 , å®ƒç”¨è¿™äº›è·¯å¾„å¡«å……è¿™äº›å½¢çŠ¶ã€‚ </li><br><li>æœ¬è´¨ä¸Š, éé›¶å¡«å……å½¢çŠ¶å†…éƒ¨æ‰€æœ‰ç‚¹ã€‚ </li><br><li>å¥‡å¶è§„åˆ™è®¡ç®—æ„æˆå›¾å½¢ <i>äº¤å‰è·¯å¾„</i> çš„æ€»æ•°ï¼Œå¹¶ä¸”ï¼Œå¦‚æœæŠ€æœ¯æ˜¯å¥‡æ•°, å½¢çŠ¶è¢«å¡«å……ã€‚ è¿™ç»å¯¹æ˜¯ä¸€å¼ å›¾èƒœè¿‡ä¸€åƒä¸ªå•è¯ã€‚ </li><br><p>æ„æˆäº”è¾¹å½¢çš„å¥‡å¶å›¾è¡¨äº¤å‰è·¯å¾„æ•°ç›®æ˜¯å¶æ•°, å› æ­¤äº”è§’æ˜Ÿæ²¡æœ‰è¢«å¡«å……, æ„æˆä¸‰è§’å½¢çš„äº¤å‰è·¯å¾„æ•°æ˜¯å¥‡æ•°, æ‰€ä»¥ä¸‰è§’å½¢è¢«å¡«å……äº†ã€‚<br><br><a href="http://www.raywenderlich.com/wp-content/uploads/2014/12/CAShapeLayerFillRules.png" target="_blank" rel="external"><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/CAShapeLayerFillRules-480x256.png" width="480" height="256" class="aligncenter size-medium wp-image-91890" srcset="https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/CAShapeLayerFillRules-480x256.png 480w, https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/CAShapeLayerFillRules.png 676w" sizes="(max-width: 480px) 100vw, 480px"></a></p></ul></li><br><li>è°ƒç”¨è·¯å¾„ç»˜åˆ¶å’Œå›¾å±‚å»ºç«‹çš„ä»£ç , ç„¶åæŠŠå›¾å±‚æ·»åŠ åˆ°è§†å›¾å±‚çº§ä¸­ã€‚ </li><br></ol><br><p>è¿™ä¸ªä»£ç ç»˜åˆ¶äº† raywenderlich.com çš„æ ‡å¿—å›¾:</p><br><p><a href="http://www.raywenderlich.com/wp-content/uploads/2014/12/RayWenderlichLogo.png" target="_blank" rel="external"><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/RayWenderlichLogo-250x250.png" width="250" height="250" class="aligncenter size-thumbnail wp-image-91840" srcset="https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/RayWenderlichLogo-250x250.png 250w, https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/RayWenderlichLogo-320x320.png 320w, https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/RayWenderlichLogo-32x32.png 32w, https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/RayWenderlichLogo-64x64.png 64w, https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/RayWenderlichLogo-96x96.png 96w, https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/RayWenderlichLogo-128x128.png 128w, https://cdn5.raywenderlich.com/wp-content/uploads/2014/12/RayWenderlichLogo.png 377w" sizes="(max-width: 250px) 100vw, 250px"></a></p><br><p>å‡ä½¿ä½ å¾ˆå¥½å¥‡æƒ³çŸ¥é“åœ¨ <a href="http://www.paintcodeapp.com" target="_blank" rel="external">PaintCode</a> ä¸­è¿™ä¸ªç»˜åˆ¶çœ‹èµ·æ¥æ˜¯:</p><br><p><a href="http://www.raywenderlich.com/wp-content/uploads/2014/12/PaintCodeRayWenderlichLogo.png" target="_blank" rel="external"><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/PaintCodeRayWenderlichLogo-480x265.png" width="480" height="265" class="aligncenter size-medium wp-image-91841" srcset="https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/PaintCodeRayWenderlichLogo-480x265.png 480w, https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/PaintCodeRayWenderlichLogo-700x387.png 700w, https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/PaintCodeRayWenderlichLogo.png 1280w" sizes="(max-width: 480px) 100vw, 480px"></a></p><br><p>Layer Player åŒ…å«å¾ˆå¤šæ§ä»¶å»æ“ä½œ CAShapeLayer çš„å¤šæ•°å±æ€§:</p><br><p><a href="http://www.raywenderlich.com/wp-content/uploads/2014/12/CAShapeLayer_5.5.png" target="_blank" rel="external"><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/CAShapeLayer_5.5-180x320.png" width="180" height="320" class="aligncenter size-medium wp-image-91843 bordered" srcset="https://cdn2.raywenderlich.com/wp-content/uploads/2014/12/CAShapeLayer_5.5-180x320.png 180w, https://cdn2.raywenderlich.com/wp-content/uploads/2014/12/CAShapeLayer_5.5-281x500.png 281w, https://cdn2.raywenderlich.com/wp-content/uploads/2014/12/CAShapeLayer_5.5.png 1242w" sizes="(max-width: 180px) 100vw, 180px"></a></p><br><div class="note"><br><p><em>å¤‡æ³¨</em>: ä½ å¯èƒ½æ³¨æ„åˆ°æˆ‘ä»¬è·³è¿‡äº† Layer Player åº”ç”¨ä¸Šçš„ä¸‹ä¸€ä¸ªç¤ºä¾‹ã€‚ è¿™æ˜¯å› ä¸º CAEAGLLayer è¢« CAMetalLayer æ·˜æ±°äº†, åè€…è·Ÿç€ Metal æ¡†æ¶ä¸€èµ·åœ¨ iOS 8 å‘å¸ƒã€‚ ä½ å¯ä»¥åœ¨ <a href="http://www.raywenderlich.com/77488/ios-8-metal-tutorial-swift-getting-started" title="iOS 8 Metal Tutorial with Swift: Getting Started" target="_blank" rel="external">è¿™é‡Œ</a> æ‰¾åˆ°å¾ˆæ£’çš„ CAMetalLayer è¾…å¯¼ææ–™ã€‚</p><br></div><br><h2>ç¤ºä¾‹9: CATransformLayer</h2><br><p>CATransformLayer å¤„ç† 3D ç»“æ„å¾ˆä¾¿æ·ã€‚ å®ƒå®é™…ä¸Šæ˜¯å­å›¾å±‚çš„å®¹å™¨, æ¯ä¸ªå­å›¾å±‚éƒ½æœ‰è‡ªå·±çš„å˜æ¢å’Œä¸é€æ˜å˜åŒ–, ä¸è¿‡, å®ƒä¼šå¿½ç•¥å…¶ä»–æ¸²æŸ“å›¾å±‚å±æ€§çš„å˜åŒ–, æ¯”å¦‚ è¾¹æ¡†å®½åº¦å’Œé¢œè‰²ã€‚ </p><br><p>ä½ ä¸èƒ½ç›´æ¥å¯¹å˜æ¢å›¾å±‚åšç‚¹å‡»æµ‹è¯•, å› ä¸ºå®ƒæ²¡æœ‰ 2D çš„åæ ‡ç©ºé—´å»åŒ¹é…è§¦æ‘¸ç‚¹, ä¸è¿‡, å¯ä»¥å¯¹ç‹¬ç«‹çš„å­å›¾å±‚åšç‚¹å‡»æµ‹è¯•ã€‚ è¿™å„¿æ˜¯ä¾‹å­:</p><br><br><div class="wp_codebox"><table><tr id="p9048815"><td class="code" id="p90488code15"><pre class="swift" style="font-family:monospace;"><span style="color: #a61390;">import</span> UIKit<br>&nbsp;<br><span style="color: #a61390;">class</span> ViewController<span style="color: #002200;">:</span> <span style="color: #400080;">UIViewController</span> <span style="color: #002200;">&#123;</span><br>&nbsp;<br>  @IBOutlet weak <span style="color: #a61390;">var</span> someView<span style="color: #002200;">:</span> <span style="color: #400080;">UIView</span><span style="color: #002200;">!</span><br>&nbsp;<br>  <span style="color: #11740a; font-style: italic;">// 1</span><br>  <span style="color: #a61390;">let</span> sideLength <span style="color: #002200;">=</span> <span style="color: #400080;">CGFloat</span><span style="color: #002200;">&#40;</span><span style="color: #2400d9;">160.0</span><span style="color: #002200;">&#41;</span><br>  <span style="color: #a61390;">var</span> redColor <span style="color: #002200;">=</span> <span style="color: #400080;">UIColor</span>.redColor<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>  <span style="color: #a61390;">var</span> orangeColor <span style="color: #002200;">=</span> <span style="color: #400080;">UIColor</span>.orangeColor<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>  <span style="color: #a61390;">var</span> yellowColor <span style="color: #002200;">=</span> <span style="color: #400080;">UIColor</span>.yellowColor<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>  <span style="color: #a61390;">var</span> greenColor <span style="color: #002200;">=</span> <span style="color: #400080;">UIColor</span>.greenColor<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>  <span style="color: #a61390;">var</span> blueColor <span style="color: #002200;">=</span> <span style="color: #400080;">UIColor</span>.blueColor<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>  <span style="color: #a61390;">var</span> purpleColor <span style="color: #002200;">=</span> <span style="color: #400080;">UIColor</span>.purpleColor<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>  <span style="color: #a61390;">var</span> transformLayer <span style="color: #002200;">=</span> CATransformLayer<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>&nbsp;<br>  <span style="color: #11740a; font-style: italic;">// 2</span><br>  <span style="color: #a61390;">func</span> setUpTransformLayer<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>    <span style="color: #a61390;">var</span> layer <span style="color: #002200;">=</span> sideLayerWithColor<span style="color: #002200;">&#40;</span>redColor<span style="color: #002200;">&#41;</span><br>    transformLayer.addSublayer<span style="color: #002200;">&#40;</span>layer<span style="color: #002200;">&#41;</span><br>&nbsp;<br>    layer <span style="color: #002200;">=</span> sideLayerWithColor<span style="color: #002200;">&#40;</span>orangeColor<span style="color: #002200;">&#41;</span><br>    <span style="color: #a61390;">var</span> transform <span style="color: #002200;">=</span> CATransform3DMakeTranslation<span style="color: #002200;">&#40;</span>sideLength <span style="color: #002200;">/</span> <span style="color: #2400d9;">2.0</span>, <span style="color: #2400d9;">0.0</span>, sideLength <span style="color: #002200;">/</span> <span style="color: #002200;">-</span><span style="color: #2400d9;">2.0</span><span style="color: #002200;">&#41;</span><br>    transform <span style="color: #002200;">=</span> CATransform3DRotate<span style="color: #002200;">&#40;</span>transform, degreesToRadians<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">90.0</span><span style="color: #002200;">&#41;</span>, <span style="color: #2400d9;">0.0</span>, <span style="color: #2400d9;">1.0</span>, <span style="color: #2400d9;">0.0</span><span style="color: #002200;">&#41;</span><br>    layer.transform <span style="color: #002200;">=</span> transform<br>    transformLayer.addSublayer<span style="color: #002200;">&#40;</span>layer<span style="color: #002200;">&#41;</span><br>&nbsp;<br>    layer <span style="color: #002200;">=</span> sideLayerWithColor<span style="color: #002200;">&#40;</span>yellowColor<span style="color: #002200;">&#41;</span><br>    layer.transform <span style="color: #002200;">=</span> CATransform3DMakeTranslation<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">0.0</span>, <span style="color: #2400d9;">0.0</span>, <span style="color: #002200;">-</span>sideLength<span style="color: #002200;">&#41;</span><br>    transformLayer.addSublayer<span style="color: #002200;">&#40;</span>layer<span style="color: #002200;">&#41;</span><br>&nbsp;<br>    layer <span style="color: #002200;">=</span> sideLayerWithColor<span style="color: #002200;">&#40;</span>greenColor<span style="color: #002200;">&#41;</span><br>    transform <span style="color: #002200;">=</span> CATransform3DMakeTranslation<span style="color: #002200;">&#40;</span>sideLength <span style="color: #002200;">/</span> <span style="color: #002200;">-</span><span style="color: #2400d9;">2.0</span>, <span style="color: #2400d9;">0.0</span>, sideLength <span style="color: #002200;">/</span> <span style="color: #002200;">-</span><span style="color: #2400d9;">2.0</span><span style="color: #002200;">&#41;</span><br>    transform <span style="color: #002200;">=</span> CATransform3DRotate<span style="color: #002200;">&#40;</span>transform, degreesToRadians<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">90.0</span><span style="color: #002200;">&#41;</span>, <span style="color: #2400d9;">0.0</span>, <span style="color: #2400d9;">1.0</span>, <span style="color: #2400d9;">0.0</span><span style="color: #002200;">&#41;</span><br>    layer.transform <span style="color: #002200;">=</span> transform<br>    transformLayer.addSublayer<span style="color: #002200;">&#40;</span>layer<span style="color: #002200;">&#41;</span><br>&nbsp;<br>    layer <span style="color: #002200;">=</span> sideLayerWithColor<span style="color: #002200;">&#40;</span>blueColor<span style="color: #002200;">&#41;</span><br>    transform <span style="color: #002200;">=</span> CATransform3DMakeTranslation<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">0.0</span>, sideLength <span style="color: #002200;">/</span> <span style="color: #002200;">-</span><span style="color: #2400d9;">2.0</span>, sideLength <span style="color: #002200;">/</span> <span style="color: #002200;">-</span><span style="color: #2400d9;">2.0</span><span style="color: #002200;">&#41;</span><br>    transform <span style="color: #002200;">=</span> CATransform3DRotate<span style="color: #002200;">&#40;</span>transform, degreesToRadians<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">90.0</span><span style="color: #002200;">&#41;</span>, <span style="color: #2400d9;">1.0</span>, <span style="color: #2400d9;">0.0</span>, <span style="color: #2400d9;">0.0</span><span style="color: #002200;">&#41;</span><br>    layer.transform <span style="color: #002200;">=</span> transform<br>    transformLayer.addSublayer<span style="color: #002200;">&#40;</span>layer<span style="color: #002200;">&#41;</span><br>&nbsp;<br>    layer <span style="color: #002200;">=</span> sideLayerWithColor<span style="color: #002200;">&#40;</span>purpleColor<span style="color: #002200;">&#41;</span><br>    transform <span style="color: #002200;">=</span> CATransform3DMakeTranslation<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">0.0</span>, sideLength <span style="color: #002200;">/</span> <span style="color: #2400d9;">2.0</span>, sideLength <span style="color: #002200;">/</span> <span style="color: #002200;">-</span><span style="color: #2400d9;">2.0</span><span style="color: #002200;">&#41;</span><br>    transform <span style="color: #002200;">=</span> CATransform3DRotate<span style="color: #002200;">&#40;</span>transform, degreesToRadians<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">90.0</span><span style="color: #002200;">&#41;</span>, <span style="color: #2400d9;">1.0</span>, <span style="color: #2400d9;">0.0</span>, <span style="color: #2400d9;">0.0</span><span style="color: #002200;">&#41;</span><br>    layer.transform <span style="color: #002200;">=</span> transform<br>    transformLayer.addSublayer<span style="color: #002200;">&#40;</span>layer<span style="color: #002200;">&#41;</span><br>&nbsp;<br>    transformLayer.anchorPointZ <span style="color: #002200;">=</span> sideLength <span style="color: #002200;">/</span> <span style="color: #002200;">-</span><span style="color: #2400d9;">2.0</span><br>    applyRotationForXOffset<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">16.0</span>, yOffset<span style="color: #002200;">:</span> <span style="color: #2400d9;">16.0</span><span style="color: #002200;">&#41;</span><br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br>  <span style="color: #11740a; font-style: italic;">// 3</span><br>  <span style="color: #a61390;">func</span> sideLayerWithColor<span style="color: #002200;">&#40;</span>color<span style="color: #002200;">:</span> <span style="color: #400080;">UIColor</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">-</span>&gt; <span style="color: #400080;">CALayer</span> <span style="color: #002200;">&#123;</span><br>    <span style="color: #a61390;">let</span> layer <span style="color: #002200;">=</span> <span style="color: #400080;">CALayer</span><span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>    layer.frame <span style="color: #002200;">=</span> <span style="color: #400080;">CGRect</span><span style="color: #002200;">&#40;</span>origin<span style="color: #002200;">:</span> CGPointZero, size<span style="color: #002200;">:</span> <span style="color: #400080;">CGSize</span><span style="color: #002200;">&#40;</span>width<span style="color: #002200;">:</span> sideLength, height<span style="color: #002200;">:</span> sideLength<span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span><br>    layer.position <span style="color: #002200;">=</span> <span style="color: #400080;">CGPoint</span><span style="color: #002200;">&#40;</span>x<span style="color: #002200;">:</span> CGRectGetMidX<span style="color: #002200;">&#40;</span>someView.bounds<span style="color: #002200;">&#41;</span>, y<span style="color: #002200;">:</span> CGRectGetMidY<span style="color: #002200;">&#40;</span>someView.bounds<span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span><br>    layer.backgroundColor <span style="color: #002200;">=</span> color.<span style="color: #400080;">CGColor</span><br>    <span style="color: #a61390;">return</span> layer<br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br>  <span style="color: #a61390;">func</span> degreesToRadians<span style="color: #002200;">&#40;</span>degrees<span style="color: #002200;">:</span> <span style="color: #a61390;">Double</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">-</span>&gt; <span style="color: #400080;">CGFloat</span> <span style="color: #002200;">&#123;</span><br>    <span style="color: #a61390;">return</span> <span style="color: #400080;">CGFloat</span><span style="color: #002200;">&#40;</span>degrees <span style="color: #002200;"><em></em></span> M_PI <span style="color: #002200;">/</span> <span style="color: #2400d9;">180.0</span><span style="color: #002200;">&#41;</span><br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br>  <span style="color: #11740a; font-style: italic;">// 4</span><br>  <span style="color: #a61390;">func</span> applyRotationForXOffset<span style="color: #002200;">&#40;</span>xOffset<span style="color: #002200;">:</span> <span style="color: #a61390;">Double</span>, yOffset<span style="color: #002200;">:</span> <span style="color: #a61390;">Double</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>    <span style="color: #a61390;">let</span> totalOffset <span style="color: #002200;">=</span> sqrt<span style="color: #002200;">&#40;</span>xOffset <span style="color: #002200;"></span> xOffset <span style="color: #002200;">+</span> yOffset <span style="color: #002200;"><em></em></span> yOffset<span style="color: #002200;">&#41;</span><br>    <span style="color: #a61390;">let</span> totalRotation <span style="color: #002200;">=</span> <span style="color: #400080;">CGFloat</span><span style="color: #002200;">&#40;</span>totalOffset <span style="color: #002200;"></span> M_PI <span style="color: #002200;">/</span> <span style="color: #2400d9;">180.0</span><span style="color: #002200;">&#41;</span><br>    <span style="color: #a61390;">let</span> xRotationalFactor <span style="color: #002200;">=</span> <span style="color: #400080;">CGFloat</span><span style="color: #002200;">&#40;</span>totalOffset<span style="color: #002200;">&#41;</span> <span style="color: #002200;">/</span> totalRotation<br>    <span style="color: #a61390;">let</span> yRotationalFactor <span style="color: #002200;">=</span> <span style="color: #400080;">CGFloat</span><span style="color: #002200;">&#40;</span>totalOffset<span style="color: #002200;">&#41;</span> <span style="color: #002200;">/</span> totalRotation<br>    <span style="color: #a61390;">let</span> currentTransform <span style="color: #002200;">=</span> CATransform3DTranslate<span style="color: #002200;">&#40;</span>transformLayer.sublayerTransform, <span style="color: #2400d9;">0.0</span>, <span style="color: #2400d9;">0.0</span>, <span style="color: #2400d9;">0.0</span><span style="color: #002200;">&#41;</span><br>    <span style="color: #a61390;">let</span> rotationTransform <span style="color: #002200;">=</span> CATransform3DRotate<span style="color: #002200;">&#40;</span>transformLayer.sublayerTransform, totalRotation,<br>      xRotationalFactor <span style="color: #002200;"><em></em></span> currentTransform.m12 <span style="color: #002200;">-</span> yRotationalFactor <span style="color: #002200;"></span> currentTransform.m11,<br>      xRotationalFactor <span style="color: #002200;"><em></em></span> currentTransform.m22 <span style="color: #002200;">-</span> yRotationalFactor <span style="color: #002200;"></span> currentTransform.m21,<br>      xRotationalFactor <span style="color: #002200;"><em></em></span> currentTransform.m32 <span style="color: #002200;">-</span> yRotationalFactor <span style="color: #002200;"></span> currentTransform.m31<span style="color: #002200;">&#41;</span><br>    transformLayer.sublayerTransform <span style="color: #002200;">=</span> rotationTransform<br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br>  <span style="color: #11740a; font-style: italic;">// 5</span><br>  <span style="color: #a61390;">override</span> <span style="color: #a61390;">func</span> touchesBegan<span style="color: #002200;">&#40;</span>touches<span style="color: #002200;">:</span> <span style="color: #400080;">NSSet</span>, withEvent event<span style="color: #002200;">:</span> <span style="color: #400080;">UIEvent</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>    <span style="color: #a61390;">if</span> <span style="color: #a61390;">let</span> location <span style="color: #002200;">=</span> touches.anyObject<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span>?.locationInView<span style="color: #002200;">&#40;</span>someView<span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>      <span style="color: #a61390;">for</span> layer <span style="color: #a61390;">in</span> transformLayer.sublayers <span style="color: #002200;">&#123;</span><br>        <span style="color: #a61390;">if</span> <span style="color: #a61390;">let</span> hitLayer <span style="color: #002200;">=</span> layer.hitTest<span style="color: #002200;">&#40;</span>location<span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>          <span style="color: #a61390;">println</span><span style="color: #002200;">&#40;</span><span style="color: #bf1d1a;">&quot;Transform layer tapped!&quot;</span><span style="color: #002200;">&#41;</span><br>          break<br>        <span style="color: #002200;">&#125;</span><br>      <span style="color: #002200;">&#125;</span><br>    <span style="color: #002200;">&#125;</span><br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br>  <span style="color: #a61390;">override</span> <span style="color: #a61390;">func</span> viewDidLoad<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>    <span style="color: #a61390;">super</span>.viewDidLoad<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>&nbsp;<br>    <span style="color: #11740a; font-style: italic;">// 6</span><br>    setUpTransformLayer<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>    someView.layer.addSublayer<span style="color: #002200;">&#40;</span>transformLayer<span style="color: #002200;">&#41;</span><br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br><span style="color: #002200;">&#125;</span></pre></td></tr></table></div><br><br><p>ä¸Šé¢çš„ä»£ç åšäº†ä»¥ä¸‹çš„äº‹:</p><br><ol><br><li>åˆ›å»ºè¾¹é•¿å±æ€§, æ­£æ–¹ä½“å„è¾¹çš„é¢œè‰², å’Œå˜æ¢å›¾å±‚ã€‚ </li><br><li>é€šè¿‡åˆ›å»º, æ—‹è½¬å’Œæ·»åŠ æ¯ä¸ªé¢åˆ°å˜æ¢å›¾å±‚æ¥æ„å»ºæ­£æ–¹ä½“ã€‚ ç„¶åå®ƒä¼šè®¾ç½®å˜æ¢å›¾å±‚çš„zè½´é”šç‚¹ï¼Œæ—‹è½¬æ­£æ–¹ä½“ç„¶åæ·»åŠ åˆ°è§†å›¾å±‚çº§ä¸­ã€‚ </li><br><li>åˆ›å»ºè¾…åŠ©ä»£ç ï¼Œç”¨æŒ‡å®šé¢œè‰²æ¥åˆ›å»ºæ­£æ–¹ä½“çš„æ¯ä¸ªé¢, ç„¶åæŠŠè§’åº¦è½¬æ¢ä¸ºå¼§åº¦ã€‚ ä¸ºä»€ä¹ˆç”¨å¼§åº¦? ç®€å•æ¥è¯´ï¼Œå› ä¸ºæˆ‘å‘ç°ç”¨è§’åº¦æ¯”ç”¨å¼§åº¦æ›´ç›´è§‚ã€‚ </li><br><li>åŸºäº x å’Œ y åç§»æ¥ä½¿ç”¨æ—‹è½¬ã€‚ æ³¨æ„è¿™ä¸ªä»£ç å˜æ¢è®¾ç½®ä¸º <code>sublayerTransform</code>, è¿™ä¼šåº”ç”¨åˆ°å˜æ¢å›¾å±‚çš„å­å›¾å±‚ã€‚ </li><br><li>é€šè¿‡å˜æ¢å›¾å±‚çš„å­å›¾å±‚æ¥è§‚å¯Ÿè§¦æ‘¸å’Œå¾ªç¯ã€‚ è¿™éƒ¨åˆ†ç‚¹å‡»æµ‹è¯•æ¯ä¸ªå›¾å±‚ï¼Œä¸€æ—¦æ£€æµ‹åˆ°ç‚¹å‡»ç«‹å³ä¸­æ–­æµ‹è¯•, å› ä¸ºæ²¡æœ‰å¿…è¦å»æµ‹è¯•å‰©ä½™çš„å›¾å±‚ã€‚ </li><br><li>å»ºç«‹è½¬æ¢å›¾å±‚å¹¶æŠŠå®ƒæ·»åŠ åˆ°è§†å›¾å±‚çº§ä¸­ã€‚</li><br></ol><br><div class="note"><br><p><em>å¤‡æ³¨</em>: è¿™äº› <code>currentTransform.m##</code> æ˜¯ä»€ä¹ˆé¬¼? æˆ‘å¾ˆé«˜å…´ä½ é—®åˆ°è¿™ä¸ªé—®é¢˜ã€‚ è¿™äº›éƒ½æ˜¯ CATransform3D çš„å±æ€§ï¼Œ è¡¨ç¤ºçŸ©é˜µçš„å…ƒç´ , è¿™ä¸ªçŸ©é˜µç”±ä¸€ä¸ªè¡Œåˆ—çŸ©å½¢æ•°ç»„æ„æˆã€‚<br></p><br><p>æƒ³è¦å­¦ä¹ æ›´å¤šç”¨åœ¨æœ¬ä¾‹çš„çŸ©é˜µå˜æ¢, å¯ä»¥ä¸‹è½½ <a href="https://github.com/jrturton/3DTransformFun" title="3DTransform Fun" target="_blank">3DTransformFun project</a> , è¿™æ˜¯ç”±è¾…å¯¼å°ç»„æˆå‘˜ <a href="http://www.raywenderlich.com/u/jrturton" title="Rich Turton" target="_blank" rel="external">Rich Turton</a> æä¾›ï¼Œ è¿˜æœ‰è¿™ä¸ª <a href="https://github.com/mpospese/EnterTheMatrix" title="Enter The Matrix" target="_blank">Enter The Matrix project</a> ç”± Mark Pospesel æä¾›ã€‚<br></p><br></div><br><p>è¿è¡Œä¸Šé¢çš„ä»£ç ï¼Œç”¨ä¸€ä¸ª 250 x 250 çš„è§†å›¾ <code>someView</code> ä¼šæœ‰ä¸‹é¢çš„ç»“æœ:</p><br><p><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/CATransformLayer-250x250.png" width="250" height="250" class="aligncenter size-thumbnail wp-image-91859" srcset="https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/CATransformLayer-250x250.png 250w, https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/CATransformLayer-32x32.png 32w, https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/CATransformLayer-64x64.png 64w, https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/CATransformLayer-96x96.png 96w, https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/CATransformLayer-128x128.png 128w, https://cdn4.raywenderlich.com/wp-content/uploads/2014/12/CATransformLayer.png 306w" sizes="(max-width: 250px) 100vw, 250px"></p><br><p>ç°åœ¨, å°è¯•ä¸€äº›ä¸œè¥¿: ç‚¹å‡»æ­£æ–¹ä½“ä»»ä½•åœ°æ–¹, &#8220;Transform layer tapped!&#8221; éƒ½ä¼šè¢«æ‰“å°åˆ°æ§åˆ¶å°ã€‚ </p><br><p>Layer Player åŒ…å«å¼€å…³å»åˆ‡æ¢æ¯ä¸€ä¸ªå­å›¾å±‚çš„ä¸é€æ˜åº¦,  <a href="http://bill.dudney.net/roller/objc/entry/trackball_3d_transforms_made_easy" title="TrackBall - 3D transforms made easy" target="_blank">TrackBall utility from Bill Dudney</a>, <a href="https://github.com/scotteg/TrackBall" title="Swift port of Bill Dudney's original TrackBall Objective-C source code" target="_blank">ported to Swift</a>, è¿™äº›ä½¿å¾—åŸºäºç”¨æˆ·æ‰‹åŠ¿åº”ç”¨ 3D å˜æ¢æ›´åŠ ç®€å•:</p><br><p><a href="http://www.raywenderlich.com/wp-content/uploads/2014/12/CATransformLayer_5.5.png" target="_blank" rel="external"><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/CATransformLayer_5.5-180x320.png" width="180" height="320" class="aligncenter size-medium wp-image-91862 bordered" srcset="https://cdn2.raywenderlich.com/wp-content/uploads/2014/12/CATransformLayer_5.5-180x320.png 180w, https://cdn2.raywenderlich.com/wp-content/uploads/2014/12/CATransformLayer_5.5-281x500.png 281w, https://cdn2.raywenderlich.com/wp-content/uploads/2014/12/CATransformLayer_5.5.png 1242w" sizes="(max-width: 180px) 100vw, 180px"></a></p><br><h2>ç¤ºä¾‹10: CAEmitterLayer</h2><br><p>CAEmitterLayer æ¸²æŸ“ CAEmitterCell å®ä¾‹çš„åŠ¨æ€é¢—ç²’ã€‚CAEmitterLayer å’Œ CAEmitterCell éƒ½æœ‰å±æ€§å¯ä»¥å»æ”¹å˜æ¸²æŸ“çš„é€Ÿç‡, å°ºå¯¸, å½¢çŠ¶, é¢œè‰², é€Ÿåº¦, ç”Ÿå‘½å‘¨æœŸå’Œå…¶ä»–æ›´å¤šã€‚ å®ä¾‹å¦‚ä¸‹:</p><br><br><div class="wp_codebox"><table><tr id="p9048816"><td class="code" id="p90488code16"><pre class="swift" style="font-family:monospace;"><span style="color: #a61390;">import</span> UIKit<br>&nbsp;<br><span style="color: #a61390;">class</span> ViewController<span style="color: #002200;">:</span> <span style="color: #400080;">UIViewController</span> <span style="color: #002200;">&#123;</span><br>&nbsp;<br>  <span style="color: #11740a; font-style: italic;">// 1</span><br>  <span style="color: #a61390;">let</span> emitterLayer <span style="color: #002200;">=</span> CAEmitterLayer<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>  <span style="color: #a61390;">let</span> emitterCell <span style="color: #002200;">=</span> CAEmitterCell<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>&nbsp;<br>  <span style="color: #11740a; font-style: italic;">// 2</span><br>  <span style="color: #a61390;">func</span> setUpEmitterLayer<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>    emitterLayer.frame <span style="color: #002200;">=</span> view.bounds<br>    emitterLayer.seed <span style="color: #002200;">=</span> UInt32<span style="color: #002200;">&#40;</span><span style="color: #400080;">NSDate</span><span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span>.timeIntervalSince1970<span style="color: #002200;">&#41;</span><br>    emitterLayer.renderMode <span style="color: #002200;">=</span> kCAEmitterLayerAdditive<br>    emitterLayer.drawsAsynchronously <span style="color: #002200;">=</span> <span style="color: #a61390;">true</span><br>    setEmitterPosition<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br>  <span style="color: #11740a; font-style: italic;">// 3</span><br>  <span style="color: #a61390;">func</span> setUpEmitterCell<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>    emitterCell.contents <span style="color: #002200;">=</span> <span style="color: #400080;">UIImage</span><span style="color: #002200;">&#40;</span>named<span style="color: #002200;">:</span> <span style="color: #bf1d1a;">&quot;smallStar&quot;</span><span style="color: #002200;">&#41;</span>?.CGImage<br>&nbsp;<br>    emitterCell.velocity <span style="color: #002200;">=</span> <span style="color: #2400d9;">50.0</span><br>    emitterCell.velocityRange <span style="color: #002200;">=</span> <span style="color: #2400d9;">500.0</span><br>&nbsp;<br>    emitterCell.color <span style="color: #002200;">=</span> <span style="color: #400080;">UIColor</span>.blackColor<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span>.<span style="color: #400080;">CGColor</span><br>    emitterCell.redRange <span style="color: #002200;">=</span> <span style="color: #2400d9;">1.0</span><br>    emitterCell.greenRange <span style="color: #002200;">=</span> <span style="color: #2400d9;">1.0</span><br>    emitterCell.blueRange <span style="color: #002200;">=</span> <span style="color: #2400d9;">1.0</span><br>    emitterCell.alphaRange <span style="color: #002200;">=</span> <span style="color: #2400d9;">0.0</span><br>    emitterCell.redSpeed <span style="color: #002200;">=</span> <span style="color: #2400d9;">0.0</span><br>    emitterCell.greenSpeed <span style="color: #002200;">=</span> <span style="color: #2400d9;">0.0</span><br>    emitterCell.blueSpeed <span style="color: #002200;">=</span> <span style="color: #2400d9;">0.0</span><br>    emitterCell.alphaSpeed <span style="color: #002200;">=</span> <span style="color: #002200;">-</span><span style="color: #2400d9;">0.5</span><br>&nbsp;<br>    <span style="color: #a61390;">let</span> zeroDegreesInRadians <span style="color: #002200;">=</span> degreesToRadians<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">0.0</span><span style="color: #002200;">&#41;</span><br>    emitterCell.spin <span style="color: #002200;">=</span> degreesToRadians<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">130.0</span><span style="color: #002200;">&#41;</span><br>    emitterCell.spinRange <span style="color: #002200;">=</span> zeroDegreesInRadians<br>    emitterCell.emissionRange <span style="color: #002200;">=</span> degreesToRadians<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">360.0</span><span style="color: #002200;">&#41;</span><br>&nbsp;<br>    emitterCell.lifetime <span style="color: #002200;">=</span> <span style="color: #2400d9;">1.0</span><br>    emitterCell.birthRate <span style="color: #002200;">=</span> <span style="color: #2400d9;">250.0</span><br>    emitterCell.xAcceleration <span style="color: #002200;">=</span> <span style="color: #002200;">-</span><span style="color: #2400d9;">800.0</span><br>    emitterCell.yAcceleration <span style="color: #002200;">=</span> <span style="color: #2400d9;">1000.0</span><br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br>  <span style="color: #11740a; font-style: italic;">// 4</span><br>  <span style="color: #a61390;">func</span> setEmitterPosition<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>    emitterLayer.emitterPosition <span style="color: #002200;">=</span> <span style="color: #400080;">CGPoint</span><span style="color: #002200;">&#40;</span>x<span style="color: #002200;">:</span> CGRectGetMidX<span style="color: #002200;">&#40;</span>view.bounds<span style="color: #002200;">&#41;</span>, y<span style="color: #002200;">:</span> CGRectGetMidY<span style="color: #002200;">&#40;</span>view.bounds<span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span><br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br>  <span style="color: #a61390;">func</span> degreesToRadians<span style="color: #002200;">&#40;</span>degrees<span style="color: #002200;">:</span> <span style="color: #a61390;">Double</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">-</span>&gt; <span style="color: #400080;">CGFloat</span> <span style="color: #002200;">&#123;</span><br>    <span style="color: #a61390;">return</span> <span style="color: #400080;">CGFloat</span><span style="color: #002200;">&#40;</span>degrees <span style="color: #002200;">*</span> M_PI <span style="color: #002200;">/</span> <span style="color: #2400d9;">180.0</span><span style="color: #002200;">&#41;</span><br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br>  <span style="color: #a61390;">override</span> <span style="color: #a61390;">func</span> viewDidLoad<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>    <span style="color: #a61390;">super</span>.viewDidLoad<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>&nbsp;<br>    <span style="color: #11740a; font-style: italic;">// 5</span><br>    setUpEmitterLayer<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>    setUpEmitterCell<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>    emitterLayer.emitterCells <span style="color: #002200;">=</span> <span style="color: #002200;">&#91;</span>emitterCell<span style="color: #002200;">&#93;</span><br>    view.layer.addSublayer<span style="color: #002200;">&#40;</span>emitterLayer<span style="color: #002200;">&#41;</span><br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br>  <span style="color: #11740a; font-style: italic;">// 6</span><br>  <span style="color: #a61390;">override</span> <span style="color: #a61390;">func</span> traitCollectionDidChange<span style="color: #002200;">&#40;</span>previousTraitCollection<span style="color: #002200;">:</span> UITraitCollection?<span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>    setEmitterPosition<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br><span style="color: #002200;">&#125;</span></pre></td></tr></table></div><br><br><p>ä¸Šé¢çš„ä»£ç åšäº†ä¸‹é¢çš„äº‹æƒ…:</p><br><ol><br><li>åˆ›å»ºå‘å°„å™¨å›¾å±‚å’Œå•å…ƒæ ¼ã€‚<br></li><li>é€šè¿‡å¦‚ä¸‹æ–¹å¼å»ºç«‹å‘å°„å™¨å›¾å±‚:<br><ul><br><li>ä¸ºå›¾å±‚éšæœºé€äº§ç”Ÿå™¨æä¾›ç§å­ï¼Œäº§ç”Ÿå™¨ä¼šä¸ºå›¾å±‚çš„å‘å°„å™¨å•å…ƒæ ¼éšæœºç”ŸæˆæŸç§å±æ€§, æ¯”å¦‚é€Ÿåº¦ã€‚ ä¸‹é¢çš„æ³¨é‡Šä¼šåšè¿›ä¸€æ­¥è§£é‡Šã€‚ </li><br><li>åœ¨ä¸Šé¢å›¾å±‚çš„èƒŒæ™¯è‰²å’Œè¾¹æ¡†ä¸Šæ¸²æŸ“å‘å°„å™¨å•å…ƒ, ä½¿ç”¨å‘½ä»¤ç”± <code>renderMode</code> æŒ‡å®šã€‚<br><div class="note"><br><p><em>å¤‡æ³¨</em>:  ç›®å‰è‹¹æœçš„æ–‡æ¡£é”™è¯¯çš„æŒ‡å‡º, è¿™ä¸ªå±æ€§å€¼å®šä¹‰åœ¨ Emitter Modes ä¸‹ã€‚ è€Œå®é™…ä¸Š, renderMode çš„å€¼å®šä¹‰åœ¨ Emitter Render Order ä¸‹ã€‚ é»˜è®¤å€¼æ˜¯æ— åºçš„, é¢å¤–çš„é€‰é¡¹åŒ…æ‹¬ oldest first, oldest last, back to front å’Œ additive. </p><br></div><br></li><br><li>æŠŠ <code>drawsAsynchronously</code> è®¾ç½®æˆ <code>true</code>, è¿™ä¸ªå¯ä»¥æå‡æ€§èƒ½, å› ä¸ºå‘å°„å™¨å›¾å±‚å¿…é¡»è¿ç»­é‡ç»˜å‘å°„å•å…ƒã€‚ </li><br><li>ä¸‹ä¸€æ­¥, å‘å°„ä½ç½®é€šè¿‡è¾…åŠ©æ–¹æ³•è®¾ç½®- æ³¨é‡Š4äº†è§£æ›´å¤šã€‚ è¿™æ˜¯å¥½ä¾‹å­å»å­¦ä¹ å¦‚ä½•æŠŠ <code>drawsAsynchronously</code> è®¾ç½®æˆ <code>true</code> , è¿™ä¼šæå‡æ€§èƒ½å¹¶ä½¿åŠ¨ç”»æ›´å¹³é¡ºã€‚</li><br></ul><br></li><li>è¿™å—åšäº†å¾ˆå¤šäº‹!<br><ul><br><li>ç»™å‘å°„å•å…ƒè®¾ç½®å›¾ç‰‡ä½œä¸ºå†…å®¹ (è¿™ä¸ªå›¾ç‰‡åœ¨ Layer Player å·¥ç¨‹é‡Œå¯ä»¥ç”¨)ã€‚ </li><br><li>ç„¶åæŒ‡å®šäº†åˆå§‹é€Ÿåº¦å’Œæœ€å¤§æ–¹å·® (<code>velocityRange</code>); å‘å°„å›¾å±‚ä½¿ç”¨ä¸Šè¿°çš„ç§å­åˆ›å»ºä¸€ä¸ªéšæœºæ•°ç”Ÿæˆå™¨ï¼Œè¿™ä¸ªå‘å°„å™¨åœ¨ (åˆå§‹å€¼ +/- èŒƒå›´å€¼) ä¹‹å†…ç”Ÿæˆéšæœºæ•°ã€‚ éšæœºå‘ç”Ÿåœ¨ <em>Range</em> ç»“å°¾çš„ä»»ä½•å±æ€§ä¸Šã€‚</li><br><li>é¢œè‰²è®¾ç½®æˆé»‘è‰², å…è®¸æ–¹å·® (ä¸‹é¢è®¨è®º) ä»é»˜è®¤ç™½è‰²æ”¹å˜, ç™½è‰²ä¼šäº§ç”Ÿæ˜äº®çš„é¢—ç²’ã€‚ </li><br><li>æ¥ä¸‹æ¥è®¾ç½®ä¸€ç³»åˆ—é¢œè‰², å¯¹ <code>velocityRange</code> ä½¿ç”¨ç›¸åŒçš„éšæœºåŒ–, è¿™ä¸ªæ—¶å€™ä¸ºæ¯ä¸ªé¢œè‰²æŒ‡å®šæ–¹å·®çš„èŒƒå›´ã€‚ ç§å­å€¼åœ¨å•å…ƒç”Ÿå‘½å‘¨æœŸæ§åˆ¶æ¯ä¸ªé¢œè‰²çš„å˜åŒ–é€Ÿåº¦ã€‚ </li><br><li>ä¸‹ä¸€æ­¥, ç¬¬ä¸‰å—ä»£ç æŒ‡å‡ºæ€æ ·å›´ç»•ä¸€ä¸ªå¾ªç¯çš„åœ†é”¥ä½“å‘å°„å•å…ƒæ ¼ã€‚ æ›´å¤šç»†èŠ‚: å®ƒè®¾ç½®äº†å‘å°„å•å…ƒçš„æ—‹è½¬é€Ÿåº¦å’Œå‘å°„èŒƒå›´ã€‚ æ­¤å¤–, å‘å°„èŒƒå›´å†³å®šå‘å°„å•å…ƒå¦‚ä½•å›´ç»•åœ†é”¥ä½“å‘å°„, è¿™ä¸ªå€¼å®šä¹‰åœ¨ <code>emissionRange</code> , ç”¨å¼§åº¦æŒ‡å®šã€‚<br></li><li>è®¾ç½®å•å…ƒæ ¼ç”Ÿå‘½å‘¨æœŸä¸º 1 ç§’ã€‚ è¿™ä¸ªå±æ€§é»˜è®¤å€¼æ˜¯ 0, æ‰€ä»¥å¦‚æœä½ ä¸æ˜¾ç¤ºçš„è®¾ç½®è¿™ä¸ªå€¼, å•å…ƒæ ¼æ°¸è¿œä¸ä¼šå‡ºç°! å¯¹ <code>birthRate</code> (æ¯ç§’) ä¹Ÿæ˜¯ä¸€æ ·; é»˜è®¤å€¼ä¹Ÿæ˜¯ 0, å› æ­¤è¿™ä¸ªå€¼å¿…é¡»è®¾ç½®æˆæŸä¸ªæ•´æ•°æ¥ä¿è¯å•å…ƒæ ¼ä¼šå‡ºç°ã€‚<br></li><li>æœ€å, å•å…ƒ x å’Œ y åŠ é€Ÿè¢«è®¾ç½®; è¿™äº›å€¼å½±å“é¢—ç²’å‘å°„çš„è§†è§‰è§’åº¦ã€‚</li><br></ul><br></li><li>æŠŠè§’åº¦è½¬æ¢ä¸ºå¼§åº¦, æŠŠå‘å°„å•å…ƒä½ç½®è®¾ç½®åˆ°è§†å›¾çš„ä¸­å¿ƒã€‚<br></li><li>å»ºç«‹å‘å°„å›¾å±‚å’Œå•å…ƒ, ç„¶åæŠŠå•å…ƒæ ¼æ·»åŠ åˆ°å›¾å±‚,å†æŠŠå›¾å±‚åŠ åˆ°è§†å›¾å±‚çº§ä¸­ã€‚<br></li></ol><br><p>çˆ½! æˆ‘çŸ¥é“è¿™ä¸ªä¿¡æ¯é‡å¤ªå¤§, ä¸è¿‡ä½ åšéŸ§çµæ´»ã€‚</p><br><p>ä»£ç è¿è¡Œç»“æœæé†’æˆ‘è¿™äº› <a href="https://www.youtube.com/watch?v=oT0JWGPXnTg" title="Sean Hayes - The More You Know Commercial" target="_blank">The More You Know</a> å•†ä¸šå¹¿å‘Š:</p><br><p><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/CAEmitterLayer2.gif" width="350" height="242" class="aligncenter size-full wp-image-92125"></p><br><p>Layer Player åŒ…å«æ§ä»¶æ¥è°ƒæ•´æ‰€æœ‰ä¸Šé¢æåˆ°çš„å±æ€§, è¿˜å¤šäº†å‡ ä¸ª:</p><br><p><a href="http://www.raywenderlich.com/wp-content/uploads/2014/12/CAEmitterLayer_5.5.png" target="_blank" rel="external"><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/CAEmitterLayer_5.5-180x320.png" width="180" height="320" class="aligncenter size-medium wp-image-92127 bordered" srcset="https://cdn1.raywenderlich.com/wp-content/uploads/2014/12/CAEmitterLayer_5.5-180x320.png 180w, https://cdn1.raywenderlich.com/wp-content/uploads/2014/12/CAEmitterLayer_5.5-281x500.png 281w, https://cdn1.raywenderlich.com/wp-content/uploads/2014/12/CAEmitterLayer_5.5.png 1242w" sizes="(max-width: 180px) 100vw, 180px"></a></p><br><p><img src="http://www.raywenderlich.com/wp-content/uploads/2014/12/victorious-e1419192669236.png" width="147" height="300" class="alignright size-full wp-image-92137"></p><br><br><br></html>
]]></content>
    
    <summary type="html">
    
      &lt;html lang=&quot;en-US&quot; class=&quot;no-js windows&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;link rel=&quot;stylesheet&quot; id=&quot;wpsqt-main-css&quot; href=&quot;https://cdn3.raywenderlich.com/wp-content/
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>UIStackView ä½¿ç”¨æŒ‡å—</title>
    <link href="http://yoursite.com/2016/09/14/UIStackView-%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/"/>
    <id>http://yoursite.com/2016/09/14/UIStackView-ä½¿ç”¨æŒ‡å—/</id>
    <published>2016-09-14T07:14:17.000Z</published>
    <updated>2016-09-19T08:38:23.000Z</updated>
    
    <content type="html"><![CDATA[<p></p>
<p><link rel="stylesheet" id="wpsqt-main-css" href="https://cdn3.raywenderlich.com/wp-content/plugins/wp-survey-and-quiz-tool/css/main.css?ver=4.5.2" type="text/css" media="all"></p>
<p><link rel="stylesheet" id="style-main-css" href="https://cdn4.raywenderlich.com/wp-content/themes/raywenderlich/style.min.css?ver=1471520796" type="text/css" media="all"></p>
<link rel="stylesheet" id="contact-form-7-css" href="https://cdn1.raywenderlich.com/wp-content/plugins/contact-form-7/includes/css/styles.css?ver=4.4.1" type="text/css" media="all">

<div id="attachment_114189" style="width: 260px" class="wp-caption alignright"><img class="wp-image-114189 size-thumbnail" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/iOS9_feast_UIStackView-250x250.jpg" width="250" height="250" srcset="https://cdn5.raywenderlich.com/wp-content/uploads/2015/09/iOS9_feast_UIStackView-250x250.jpg 250w, https://cdn5.raywenderlich.com/wp-content/uploads/2015/09/iOS9_feast_UIStackView-320x320.jpg 320w, https://cdn5.raywenderlich.com/wp-content/uploads/2015/09/iOS9_feast_UIStackView.jpg 500w, https://cdn5.raywenderlich.com/wp-content/uploads/2015/09/iOS9_feast_UIStackView-32x32.jpg 32w, https://cdn5.raywenderlich.com/wp-content/uploads/2015/09/iOS9_feast_UIStackView-64x64.jpg 64w, https://cdn5.raywenderlich.com/wp-content/uploads/2015/09/iOS9_feast_UIStackView-96x96.jpg 96w, https://cdn5.raywenderlich.com/wp-content/uploads/2015/09/iOS9_feast_UIStackView-128x128.jpg 128w" sizes="(max-width: 250px) 100vw, 250px"><p class="wp-caption-text">ä½ è‚¯å®šæƒ³çŸ¥é“åœ¨ä½¿ç”¨å †æ ˆè§†å›¾å‰æ˜¯æ€ä¹ˆæŒºè¿‡æ¥çš„!</p></div><br><p>æˆ‘ä»¬éƒ½é‡è§è¿‡ã€‚ æœ‰ä¸ªéœ€è¦åŠ¨æ€å¢åˆ è§†å›¾çš„æ–°éœ€æ±‚, ä¹Ÿéœ€è¦é‡æ–°å®šä½ä¸´è¿‘è§†å›¾ã€‚</p><br><p>ä½ ç”¨ä»€ä¹ˆæ–¹æ³•? ä½ é€šè¿‡åœ¨æ•…äº‹æ¿æ·»åŠ outletsæ¥çº¦æŸå®ç°æ¿€æ´»æˆ–è€…å»æ¿€æ´»è¿™äº›è§†å›¾? æˆ–è€…ç”¨ç¬¬ä¸‰æ–¹åº“? æˆ–è€…æ ¹æ®å¤æ‚åº¦ä½ ä¼šåœ¨ä»£ç å®ç°ã€‚</p><br><p>ç°åœ¨ä»‹ç» <code>UIStackView</code>,  Stack è§†å›¾æä¾›äº†ä¸€ç§æ–¹å¼å»æ°´å¹³æˆ–è€…å‚ç›´å¸ƒå±€ä¸€ç»„è§†å›¾ã€‚ é€šè¿‡é…ç½®ä¸€äº›ç®€å•çš„å±æ€§ä¾‹å¦‚å¯¹é½æ–¹å¼,åˆ†å¸ƒæ–¹å¼,é—´éš”, ä½ å¯ä»¥åœ¨å¯ç”¨ç©ºé—´é‡Œå®šä¹‰åŒ…å«çš„è§†å›¾è¯¥å¦‚ä½•è°ƒæ•´å¸ƒå±€ã€‚</p><br><br><h2>å¼€å§‹</h2><br><p>è¿™ç¯‡ UIStackView æŒ‡å¯¼, ä½ ä¼šå·¥ä½œåœ¨ä¸€ä¸ªå«<em>Vacation Spots</em>çš„ç¨‹åº. è¿™æ˜¯ä¸ªç®€å•çš„ç¨‹åºï¼Œå‘ä½ å±•ç¤ºä¸€ç³»åˆ—çš„åœ°æ–¹ï¼Œè®©ä½ è¿œç¦»å½“ä¸‹ä¸€åˆ‡ã€‚</p><br><p>ç°åœ¨å…ˆåˆ«æ‰“åŒ…è¡Œå›Š, å› ä¸ºæœ‰ä¸€äº›é—®é¢˜ä½ è¦ç”¨å †æ ˆè§†å›¾æ¥ä¿®å¤, è‚¯å®šæ¯”ä½ ç”¨ Auto Layoutç®€å•çš„å¤šã€‚</p><br><p>å…ˆä¸‹è½½ <a href="http://www.raywenderlich.com/wp-content/uploads/2015/09/VacationSpots_Starter.zip" target="_blank" rel="external">å¼€å§‹å·¥ç¨‹</a> åœ¨ <em>iPhone 6 Simulator</em>ä¸Šè¿è¡Œã€‚ ä½ ä¼šçœ‹ä½ ä¸€å †ä½ å¯ä»¥å»æ—…è¡Œçš„åœ°æ–¹ã€‚</p><br><p><img class="aligncenter size-large wp-image-114555 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/01-table-view-is-now-correct_750x1334-281x500.png" width="281" height="500" srcset="https://cdn1.raywenderlich.com/wp-content/uploads/2015/09/01-table-view-is-now-correct_750x1334-281x500.png 281w, https://cdn1.raywenderlich.com/wp-content/uploads/2015/09/01-table-view-is-now-correct_750x1334-180x320.png 180w, https://cdn1.raywenderlich.com/wp-content/uploads/2015/09/01-table-view-is-now-correct_750x1334.png 750w" sizes="(max-width: 281px) 100vw, 281px"></p><br><p>ç‚¹å‡» <em>London</em> å•å…ƒå¯ä»¥æŸ¥çœ‹ä¼¦æ•¦çš„è¯¦æƒ…ã€‚</p><br><p>æ‰«ä¸€çœ¼, è¿™ä¸ªç•Œé¢çœ‹èµ·æ¥è¿˜okay, ä½†æ˜¯æœ‰ä¸€äº›é—®é¢˜ã€‚</p><br><ol start="1"><br><li>çœ‹ä¸€ä¸‹ä½äºç•Œé¢åº•éƒ¨çš„æŒ‰é’®è¡Œã€‚ ä»–ä»¬ä¹‹é—´ç°åœ¨æ˜¯å›ºå®šé—´è·çš„ä½ç½®, æ‰€ä»¥ä»–ä»¬æ²¡æœ‰é€‚é…å±å¹•çš„å®½åº¦ã€‚ ä¸ºäº†çœ‹åˆ°é—®é¢˜, <em>Command-left</em> æ—‹è½¬å±å¹•çœ‹çœ‹ã€‚</li><br></ol><br><p><img class="aligncenter size-medium wp-image-114556 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/02-issues-visible-in-landscape-view_1334x750-480x270.png" width="480" height="270" srcset="https://cdn3.raywenderlich.com/wp-content/uploads/2015/09/02-issues-visible-in-landscape-view_1334x750-480x270.png 480w, https://cdn3.raywenderlich.com/wp-content/uploads/2015/09/02-issues-visible-in-landscape-view_1334x750-700x394.png 700w, https://cdn3.raywenderlich.com/wp-content/uploads/2015/09/02-issues-visible-in-landscape-view_1334x750-266x151.png 266w, https://cdn3.raywenderlich.com/wp-content/uploads/2015/09/02-issues-visible-in-landscape-view_1334x750.png 1334w" sizes="(max-width: 480px) 100vw, 480px"></p><br><ol start="2"><br><li>ç‚¹å‡»é è¿‘ <em>WEATHER</em> çš„ <em>Hide</em> æŒ‰é’®. å®ƒå¯ä»¥éšè—æ–‡å­—, å¯æ˜¯å®ƒä¸èƒ½å¤ä½ä½äºå®ƒä¸‹é¢çš„åŒºåŸŸ, ç•™ä¸‹äº†ä¸€å—ç©ºç™½ã€‚</li><br></ol><br><p><img class="aligncenter size-large wp-image-114557 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/03-hide-weather-issue_750x1334-281x500.png" width="281" height="500" srcset="https://cdn4.raywenderlich.com/wp-content/uploads/2015/09/03-hide-weather-issue_750x1334-281x500.png 281w, https://cdn4.raywenderlich.com/wp-content/uploads/2015/09/03-hide-weather-issue_750x1334-180x320.png 180w, https://cdn4.raywenderlich.com/wp-content/uploads/2015/09/03-hide-weather-issue_750x1334.png 750w" sizes="(max-width: 281px) 100vw, 281px"></p><br><ol start="3"><br><li>åŒºåŸŸé¡ºåºå¯ä»¥è°ƒæ•´ã€‚ <em>what to see</em> åŒºåŸŸåˆšå¥½ä½äº <em>why visit</em> ä¸‹æ–¹å¯èƒ½æ›´åˆé€»è¾‘, è€Œæ˜¯ä¸æ˜¯æœ‰ä¸ª <em>weather</em> åœ¨ä¸¤è€…ä¸­é—´ã€‚</li><br><li>æ¨ªå±çš„æ—¶å€™,åº•é¢çš„æŒ‰é’®ç»„å¤ªé è¿‘é¡µé¢è¾¹ç•Œäº†ã€‚ å‡å°‘ä¸åŒåŒºåŸŸçš„é—´è·å¯èƒ½ä¼šæ¯”è¾ƒå¥½ â€“ ä»…åœ¨æ¨ªå±æ¨¡å¼ä¸‹ã€‚</li><br></ol><br><p>æ—¢ç„¶æœ‰äº†æ”¹è¿›çš„æƒ³æ³•, æ˜¯æ—¶å€™ç ”ç©¶å·¥ç¨‹äº†ã€‚</p><br><p>æ‰“å¼€ <em>Main.storyboard</em> çœ‹ä¸€ä¸‹ <em>Spot Info View Controller</em> sceneã€‚ æœ‰ä¸€äº›é¢œè‰²åœ¨ä½ çš„å †æ ˆè§†å›¾ã€‚</p><br><p><img class="aligncenter size-large wp-image-114558 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/04-colorful-scene-in-storyboard_504x636-396x500.png" width="396" height="500" srcset="https://cdn1.raywenderlich.com/wp-content/uploads/2015/09/04-colorful-scene-in-storyboard_504x636-396x500.png 396w, https://cdn1.raywenderlich.com/wp-content/uploads/2015/09/04-colorful-scene-in-storyboard_504x636-254x320.png 254w, https://cdn1.raywenderlich.com/wp-content/uploads/2015/09/04-colorful-scene-in-storyboard_504x636.png 504w" sizes="(max-width: 396px) 100vw, 396px"></p><br><p>è¿™äº›æ ‡ç­¾å’ŒæŒ‰é’®è®¾ç½®äº†å¤ªå¤šçš„èƒŒæ™¯è‰²,åœ¨è¿è¡Œæ—¶å°†è¦è¢«æ¸…é™¤ã€‚ åœ¨è¿™ä¸ªæ•…äº‹æ¿, ä»–ä»¬åªæ˜¯ç”¨æ¥è§†è§‰å±•ç¤ºå¦‚ä½•é€šè¿‡æ”¹å˜å±æ€§å€¼å½±å“å†…åµŒè§†å›¾çš„frameã€‚</p><br><p>ä½ ç°åœ¨ä¸éœ€è¦åšè¿™äº›, ä½†æ˜¯å¦‚æœä½ æƒ³åœ¨è¿è¡Œæ—¶çœ‹åˆ°è¿™äº›èƒŒæ™¯è‰²,å¯ä»¥åœ¨ <code>SpotInfoViewController</code>é‡Œæ”¾å¼€<code>viewDidLoad()</code>ä¸‹é¢çš„ä»£ç ã€‚</p><br><br><div class="wp_codebox"><table><tr id="p1145521"><td class="code" id="p114552code1"><pre class="swift" style="font-family:monospace;"><span style="color: #11740a; font-style: italic;">// Clear background colors from labels and buttons</span><br><span style="color: #a61390;">for</span> view <span style="color: #a61390;">in</span> backgroundColoredViews <span style="color: #002200;">&#123;</span><br>  view.backgroundColor <span style="color: #002200;">=</span> <span style="color: #400080;">UIColor</span>.clearColor<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br><span style="color: #002200;">&#125;</span></pre></td></tr></table></div>

<p>åŒæ—¶, ä»»ä½•outlet-connectedçš„æ ‡ç­¾éƒ½è®¾ç½®æˆä»–ä»¬å…³è”çš„outletåå­—ã€‚ è¿™ä¸ªæ¯”è¾ƒå®¹æ˜“åŒºåˆ†å“ªä¸ªæ ‡ç­¾è¿è¡Œæ—¶æ›´æ–°äº†æ–‡å­—ã€‚ ä¾‹å¦‚,  <em>&lt;</em><em>whyVisitLabel&gt;</em> å…³è”åˆ°:</p>

<div class="wp_codebox"><table><tr id="p1145522"><td class="code" id="p114552code2"><pre class="swift" style="font-family:monospace;">@IBOutlet weak <span style="color: #a61390;">var</span> whyVisitLabel<span style="color: #002200;">:</span> <span style="color: #400080;">UILabel</span><span style="color: #002200;">!</span></pre></td></tr></table></div>

<p>å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯æ•…äº‹æ¿é‡Œçš„scenes ä¸æ˜¯é»˜è®¤çš„ 600 x 600ã€‚</p><br><p>Size classes ä»ç„¶å¯ä»¥ç”¨, ä½†æ˜¯åˆå§‹çš„å¯¼èˆªæ§åˆ¶å™¨å·²ç»è®¾ç½®æˆ <em>iPhone 4-inch</em> ,åœ¨ <em>Attributes inspector</em>çš„<em>Simulated Metrics</em> åŒºåŸŸã€‚ è¿™ä¸ªä»…ä»…ä¸ºäº†è·Ÿæ•…äº‹æ¿é…åˆä½¿ç”¨æ›´å®¹æ˜“ä¸€äº›; simulated metrics å±æ€§ä¸å½±å“è¿è¡Œ â€” è§†å›¾ä¼šæ ¹æ®ä¸åŒè®¾å¤‡è‡ªåŠ¨è°ƒæ•´å°ºå¯¸ã€‚</p><br><p><img class="aligncenter size-full wp-image-114559 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/05-simulated-metrics-iphone-4-inch_639x173.png" width="639" height="173" srcset="https://cdn4.raywenderlich.com/wp-content/uploads/2015/09/05-simulated-metrics-iphone-4-inch_639x173.png 639w, https://cdn4.raywenderlich.com/wp-content/uploads/2015/09/05-simulated-metrics-iphone-4-inch_639x173-480x130.png 480w" sizes="(max-width: 639px) 100vw, 639px"></p><br><h2>ä½ çš„ç¬¬ä¸€ä¸ªå †æ ˆè§†å›¾</h2><br><p>ä½¿ç”¨å †æ ˆè§†å›¾é¦–å…ˆè¦ä¿®å¤çš„é—®é¢˜æ˜¯åº•éƒ¨æŒ‰é’®è¡Œçš„é—´è·ã€‚ä¸€ä¸ªå †æ ˆè§†å›¾å¯ä»¥æ²¿ç€åæ ‡è½´ç”¨å¾ˆå¤šæ–¹å¼åˆ†å¸ƒä»–çš„è§†å›¾, å…¶ä¸­ä¹‹ä¸€å°±æ˜¯ä½¿è§†å›¾ä¹‹é—´æœ‰ç›¸ç­‰çš„é—´è·ã€‚</p><br><p>å¹¸è¿çš„æ˜¯, åœ¨ä¸€ä¸ªæ–°å †æ ˆè§†å›¾ä¸­åµŒå…¥è§†å›¾å¹¶ä¸å¤æ‚ã€‚ é¦–å…ˆ, é€‰ä¸­ <em>Spot Info View Controller</em>ä¸‹é¢çš„æ‰€æœ‰æŒ‰é’®, <em>clicking</em> ä¸€ä¸ª, ç„¶å <em>Command-click</em> å…¶ä»–ä¸¤ä¸ª:</p><br><p><img class="aligncenter size-full wp-image-114560 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/06-select-bottom-row-of-buttons_420x80.png" width="420" height="80"></p><br><p>å¦‚æœå¤§çº²è§†å›¾å°šæœªæ‰“å¼€, åœ¨æ•…äº‹æ¿ç”»å¸ƒçš„å·¦ä¸‹æ–¹é€šè¿‡ <em>Show Document Outline</em> æŒ‰é’®æ‰“å¼€:</p><br><p><img class="aligncenter size-full wp-image-114561 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/07-document-outline-button_120x40.png" width="120" height="40"></p><br><p>åœ¨å¤§çº²è§†å›¾ä¸­éªŒè¯3ä¸ªæŒ‰é’®æ˜¯å¦éƒ½å·²ç»é€‰ä¸­:</p><br><p><img class="aligncenter size-full wp-image-114562 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/08-verify-button-selection_360x90.png" width="360" height="90"></p><br><p>å¦‚æœæ²¡æœ‰å®Œå…¨é€‰ä¸­, ä½ å¯ä»¥ç”¨ <em>Command-click</em> åœ¨å¤§çº²è§†å›¾ä¸­é€‰ä¸­å®ƒä»¬ã€‚</p><br><p>é€‰å¥½å, ç‚¹å‡»æ•…äº‹æ¿ç”»å¸ƒå³ä¸‹æ–¹è‡ªåŠ¨å¸ƒå±€å·¥å…·æ¡ä¸‹çš„<em>Stack</em> æŒ‰é’®:</p><br><p><img class="aligncenter size-full wp-image-114563 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/09-stack_button_outlined_148x52.png" width="148" height="52"></p><br><p>æ‰€æœ‰çš„æŒ‰é’®ä¼šåµŒå…¥ä¸€ä¸ªæ–°çš„å †æ ˆè§†å›¾:</p><br><p><img class="aligncenter size-full wp-image-114564 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/10-bottom-row-is-now-in-stack-view_640x100.png" width="640" height="100" srcset="https://cdn5.raywenderlich.com/wp-content/uploads/2015/09/10-bottom-row-is-now-in-stack-view_640x100.png 640w, https://cdn5.raywenderlich.com/wp-content/uploads/2015/09/10-bottom-row-is-now-in-stack-view_640x100-480x75.png 480w" sizes="(max-width: 640px) 100vw, 640px"></p><br><p>ç°åœ¨æ‰€æœ‰æŒ‰é’®éƒ½æ˜¯é½å¹³çš„ â€“ ç¨åä½ å¯ä»¥è°ƒæ•´å®ƒä»¬ã€‚</p><br><p>è™½ç„¶å †æ ˆè§†å›¾è´Ÿè´£æŒ‰é’®çš„ä½ç½®, ä½ è¿˜æ˜¯éœ€è¦æ·»åŠ çº¦æŸæ¥çº¦å®šå †æ ˆè§†å›¾è‡ªèº«çš„ä½ç½®ã€‚</p><br><p>å½“ä½ åœ¨å †æ ˆè§†å›¾åµŒå…¥ä¸€ä¸ªè§†å›¾å, å®ƒä¸å…¶ä»–è§†å›¾çš„çº¦æŸå°±è¢«ç§»é™¤äº†ã€‚æ¯”å¦‚, ä¹‹å‰åœ¨ä¸€ä¸ªå †æ ˆè§†å›¾åµŒå…¥çš„æŒ‰é’®ç»„, <em>Submit Rating</em> æŒ‰é’®çš„é¡¶éƒ¨å’Œ<em>Rating</em>æ ‡ç­¾çš„åº•éƒ¨æœ‰ä¸€ä¸ªå‚ç›´çš„é—´è·çº¦æŸ:</p><br><p><img class="aligncenter size-full wp-image-114565 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/11-prior-constraint_420x90.png" width="420" height="90"></p><br><p>ç‚¹å‡» <em>Submit Rating</em> æŒ‰é’®å¯ä»¥çœ‹åˆ°å®ƒå·²ç»æ²¡æœ‰ä»»ä½•çº¦æŸäº†:</p><br><p><img class="aligncenter size-full wp-image-114566 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/12-no-more-constraints_400x80.png" width="400" height="80"></p><br><p>å¦å¤–ä¸€ä¸ªéªŒè¯çº¦æŸè¢«ç§»é™¤çš„æ–¹å¼æ˜¯æŸ¥çœ‹ <em>Size inspector</em> (âŒ¥âŒ˜5):</p><br><p><img class="aligncenter size-full wp-image-114567 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/13-check-size-inspector_640x80.png" width="640" height="80" srcset="https://cdn4.raywenderlich.com/wp-content/uploads/2015/09/13-check-size-inspector_640x80.png 640w, https://cdn4.raywenderlich.com/wp-content/uploads/2015/09/13-check-size-inspector_640x80-480x60.png 480w" sizes="(max-width: 640px) 100vw, 640px"></p><br><p>ä¸ºäº†æ·»åŠ å †æ ˆè§†å›¾è‡ªèº«ä½ç½®çš„çº¦æŸ, é¦–å…ˆä½ è¦é€‰ä¸­å®ƒã€‚ å¦‚æœå†…åµŒè§†å›¾å……æ»¡äº†å †æ ˆè§†å›¾,æƒ³åœ¨æ•…äº‹æ¿ä¸­æƒ³é€‰ä¸­å®ƒæœ‰ç‚¹æ£˜æ‰‹ã€‚</p><br><p>ç®€å•çš„æ–¹æ³•æ˜¯åœ¨å¤§çº²è§†å›¾ä¸­é€‰ä¸­å®ƒ:</p><br><p><img class="aligncenter size-full wp-image-114568 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/14-stack-view-document-outline-selection_660x80.png" width="660" height="80" srcset="https://cdn2.raywenderlich.com/wp-content/uploads/2015/09/14-stack-view-document-outline-selection_660x80.png 660w, https://cdn2.raywenderlich.com/wp-content/uploads/2015/09/14-stack-view-document-outline-selection_660x80-480x58.png 480w" sizes="(max-width: 660px) 100vw, 660px"></p><br><p>å¦å¤–ä¸€ä¸ªæ–¹æ³•æ˜¯æŒ‰ä½ <em>Shift</em> å’Œ <em>Right-click</em> é€‰ä¸­å †æ ˆè§†å›¾ä¸­çš„ä»»ä½•è§†å›¾, æˆ–è€…æŒ‰ä½ <em>Control-Shift-click</em> ,å¦‚æœä½ ä½¿ç”¨çš„æ˜¯è§¦æ‘¸æ¿ã€‚ åœ¨ä½ ç‚¹å‡»çš„åœ°æ–¹,ä¼šæ˜¾ç¤ºè§†å›¾å±‚çº§çš„èœå•, ä½ å¯ä»¥å¾ˆå®¹æ˜“åœ¨èœå•ä¸­é€‰ä¸­å †æ ˆè§†å›¾ ã€‚</p><br><p>ç°åœ¨, ä½¿ç”¨<em>Shift-Right-click</em> æ–¹æ³•æ¥é€‰ä¸­å®ƒ:</p><br><p><img class="aligncenter size-full wp-image-114569 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/15-select-stack-view-in-view-hierarchy-menu_400x280.png" width="400" height="280"></p><br><p>ç°åœ¨, ç‚¹å‡»è‡ªåŠ¨å¸ƒå±€å·¥å…·æ¡çš„ <em>Pin</em> æŒ‰é’®æ¥ç»™å®ƒæ·»åŠ çº¦æŸ:</p><br><p><img class="aligncenter size-full wp-image-114570 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/16-pin-button_142x57.png" width="142" height="57"></p><br><p>é¦–å…ˆé€‰ä¸­ <em>Constrain to margins</em>ã€‚ ç„¶åç»™å †æ ˆè§†å›¾çš„è¾¹ç•Œæ·»åŠ ä¸‹é¢çš„çº¦æŸ:</p>

<div class="wp_codebox"><table><tr id="p1145523"><td class="code" id="p114552code3"><pre class="bash" style="font-family:monospace;">Top: <span style="color: #000000;">20</span>, Leading: <span style="color: #000000;">0</span>, Trailing: <span style="color: #000000;">0</span>, Bottom: <span style="color: #000000;">0</span></pre></td></tr></table></div>

<p>ä»”ç»†æ£€æŸ¥ä¸Šä¸‹å·¦å³çš„çº¦æŸç¡®ä¿ <em>I-beams</em> æ˜¯é€‰ä¸­çš„ã€‚ ç„¶åç‚¹å‡» <em>Add 4 Constraints</em>:</p><br><p><img class="aligncenter size-full wp-image-114571 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/17-bottom-stack-view-constraints_264x364.png" width="264" height="364" srcset="https://cdn4.raywenderlich.com/wp-content/uploads/2015/09/17-bottom-stack-view-constraints_264x364.png 264w, https://cdn4.raywenderlich.com/wp-content/uploads/2015/09/17-bottom-stack-view-constraints_264x364-232x320.png 232w" sizes="(max-width: 264px) 100vw, 264px"></p><br><p>ç°åœ¨å †æ ˆè§†å›¾å°ºå¯¸æ˜¯æ­£ç¡®çš„äº†, å¯æ˜¯å®ƒæŠŠç¬¬ä¸€ä¸ªæŒ‰é’®æ‹‰ä¼¸æ¥å……æ»¡äº†é¢å¤–çš„ç©ºé—´:</p><br><p><img class="aligncenter size-full wp-image-114572 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/18-first-button-is-stretched_400x80.png" width="400" height="80"></p><br><p><code>distribution</code> å±æ€§ç”¨æ¥å†³å®šå †æ ˆè§†å›¾å¦‚ä½•æ²¿ç€åæ ‡è½´å¸ƒå±€å®ƒçš„è§†å›¾é›†ã€‚ ç°åœ¨, å®ƒçš„å€¼è®¾ä¸º <code>Fill</code>, æ„æ€æ˜¯æ‰€æœ‰è§†å›¾æ²¿ç€åæ ‡è½´å¡«å……å †æ ˆè§†å›¾ ã€‚ è¦è¾¾åˆ°è¿™ä¸ªç›®çš„, å †æ ˆè§†å›¾åªèƒ½æ‹‰ä¼¸ä¸€ä¸ªè§†å›¾æ¥å¡«å……é¢å¤–çš„ç©ºé—´, å®ƒæ‹‰ä¼¸æ°´å¹³å†…å®¹ä¼˜å…ˆçº§æœ€ä½çš„è§†å›¾, å¦‚æœæ‰€æœ‰çš„å±æ€§æ˜¯ä¸€æ ·çš„, å®ƒå°†æ‹‰ä¼¸ç¬¬ä¸€ä¸ªè§†å›¾ã€‚</p><br><p>ä¸è¿‡, ä½ ä¸æƒ³ä»–ä»¬å®Œå…¨å……æ»¡å †æ ˆè§†å›¾ â€“ ä½ å¸Œæœ›å®ƒä»¬ä¹‹é—´é—´è·ç›¸åŒã€‚</p><br><p>ç¡®ä¿å †æ ˆè§†å›¾ä»ç„¶æ˜¯é€‰ä¸­çš„, æ‰“å¼€ <em>Attributes inspector</em>ã€‚ æŠŠ <em>Distribution</em> çš„å€¼ä» <em>Fill</em> æ”¹æˆ <em>Equal Spacing</em>:</p><br><p><img class="aligncenter size-full wp-image-114573 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/19-change-distribution-to-equal-spacing_640x148.png" width="640" height="148" srcset="https://cdn2.raywenderlich.com/wp-content/uploads/2015/09/19-change-distribution-to-equal-spacing_640x148.png 640w, https://cdn2.raywenderlich.com/wp-content/uploads/2015/09/19-change-distribution-to-equal-spacing_640x148-480x111.png 480w" sizes="(max-width: 640px) 100vw, 640px"></p><br><p>ç°åœ¨ç¼–è¯‘è¿è¡Œ, ç‚¹å‡»ä»»æ„å•å…ƒæ ¼, æ—‹è½¬æ¨¡æ‹Ÿå™¨ (âŒ˜â†’). ä½ ä¼šå‘ç°åº•éƒ¨æŒ‰é’®ä¹‹é—´æ˜¯ç›¸ç­‰çš„é—´è·äº†!</p><br><p><img class="aligncenter size-medium wp-image-114574 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/20-now-buttons-are-equally-spaced_1334x750-480x270.png" width="480" height="270" srcset="https://cdn2.raywenderlich.com/wp-content/uploads/2015/09/20-now-buttons-are-equally-spaced_1334x750-480x270.png 480w, https://cdn2.raywenderlich.com/wp-content/uploads/2015/09/20-now-buttons-are-equally-spaced_1334x750-700x394.png 700w, https://cdn2.raywenderlich.com/wp-content/uploads/2015/09/20-now-buttons-are-equally-spaced_1334x750-266x151.png 266w, https://cdn2.raywenderlich.com/wp-content/uploads/2015/09/20-now-buttons-are-equally-spaced_1334x750.png 1334w" sizes="(max-width: 480px) 100vw, 480px"></p><br><p>åœ¨æ²¡æœ‰å †æ ˆè§†å›¾çš„æƒ…å†µä¸‹è¦å®ç°è¿™ä¸ª, ä½ éœ€è¦ç”¨å«ç‰‡è§†å›¾, æ¯ä¸ªæŒ‰é’®ä¹‹é—´è¦æœ‰ä¸€ä¸ªã€‚ ä½ è¿˜è¦ç»™å«ç‰‡è§†å›¾æ·»åŠ ç­‰è·é—´éš”,è¿˜è¦æ·»åŠ å¤§é‡çš„çº¦æŸæ¥ç¡®ä¿å«ç‰‡è§†å›¾çš„ä½ç½®æ˜¯æ­£ç¡®çš„ã€‚</p><br><p>å¤§æ¦‚åƒä¸‹é¢è¿™æ ·ã€‚ ä¸ºäº†å¯è§æ€§, å«ç‰‡è§†å›¾å·²ç»åŠ ä¸Šäº†ç°è‰²çš„èƒŒæ™¯:</p><br><p><img class="aligncenter size-full wp-image-114575 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/21-alternate-solution-1_346x76.png" width="346" height="76"></p><br><p>å¦‚æœåªæ˜¯åœ¨æ•…äº‹æ¿ä¸­åšä¸€æ¬¡,è¿™ä¹Ÿä¸æ˜¯å¤ªå¤§çš„äº‹, ä½†æ˜¯å¤§éƒ¨é—¨çš„è§†å›¾æ˜¯åŠ¨æ€çš„ã€‚ è¿è¡Œæ—¶æ·»åŠ ä¸€ä¸ªæ–°æŒ‰é’®æˆ–è€…éšè—å­˜åœ¨çš„æŒ‰é’®ä¸æ˜¯ä¸€ä¸ªç®€å•çš„å·¥ä½œ,å› ä¸ºé‚»è¿‘çš„å«ç‰‡è§†å›¾å’Œçº¦æŸã€‚</p><br><p>æƒ³è¦åœ¨å †æ ˆè§†å›¾ä¸­éšè—ä¸€ä¸ªè§†å›¾, ä½ è¦åšçš„æ‰€æœ‰çš„äº‹ä»…ä»…æ˜¯è®¾ç½®è§†å›¾çš„ <code>hidden</code> å±æ€§ä¸º <code>true</code> ,å †æ ˆè§†å›¾è´Ÿè´£å¤„ç†å‰©ä¸‹çš„è§†å›¾ã€‚ ä½ å¯ä»¥ç”¨è¿™ä¸ªæ–¹æ³•ä¿®å¤ <em>WEATHER</em> æ ‡ç­¾çš„é—®é¢˜å½“ç”¨æˆ·éšè—ä¸‹é¢çš„æ–‡å­—ã€‚ åœ¨æŠŠå¤©æ°”å—åŠ å…¥å †æ ˆè§†å›¾åï¼Œä½ å¯ä»¥æ™šç‚¹å¤„ç†è¿™ä¸ªã€‚</p><br><h2>è½¬æ¢åŒºåŸŸ</h2><br><p>ä½ è¦è½¬æ¢ <code>SpotInfoViewController</code> ä¸­æ‰€æœ‰å…¶ä»–çš„åŒºåŸŸå»ä½¿ç”¨å †æ ˆè§†å›¾ã€‚ è¿™ä¼šå¸®ä½ å¾ˆå®¹æ˜“çš„å®ç°å‰©ä½™çš„å·¥ä½œã€‚ ä¸‹ä¸€æ­¥ä½ å°†è½¬æ¢è¯„çº§åŒºåŸŸã€‚</p><br><h3>è¯„çº§åŒºåŸŸ</h3><br><p>åœ¨ä½ åˆ›å»ºçš„å †æ ˆè§†å›¾çš„ä¸Šæ–¹, é€‰æ‹© <em>RATING</em> æ ‡ç­¾å’Œé ç€å®ƒçš„æ˜Ÿæ˜Ÿæ ‡ç­¾:</p><br><p><img class="aligncenter wp-image-114576 size-full bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/22-select-rating-label-and-stars-label_640x74.png" width="640" height="74" srcset="https://cdn2.raywenderlich.com/wp-content/uploads/2015/09/22-select-rating-label-and-stars-label_640x74.png 640w, https://cdn2.raywenderlich.com/wp-content/uploads/2015/09/22-select-rating-label-and-stars-label_640x74-480x56.png 480w" sizes="(max-width: 640px) 100vw, 640px"></p><br><p>æ¥ç€ç‚¹å‡» <em>Stack</em> æŒ‰é’®æŠŠå®ƒä»¬åµŒå…¥å †æ ˆè§†å›¾:</p><br><p><img class="aligncenter size-full wp-image-114577 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/23-after-clicking-stack-button_640x74.png" width="640" height="74" srcset="https://cdn4.raywenderlich.com/wp-content/uploads/2015/09/23-after-clicking-stack-button_640x74.png 640w, https://cdn4.raywenderlich.com/wp-content/uploads/2015/09/23-after-clicking-stack-button_640x74-480x56.png 480w" sizes="(max-width: 640px) 100vw, 640px"></p><br><p>ç°åœ¨ç‚¹å‡» <em>Pin</em> æŒ‰é’®. é€‰ä¸­ <em>Constrain to margins</em> ç„¶åæ·»åŠ ä¸‹é¢ <em>three</em> constraints:</p>

<div class="wp_codebox"><table><tr id="p1145524"><td class="code" id="p114552code4"><pre class="bash" style="font-family:monospace;">Top: <span style="color: #000000;">20</span>, Leading: <span style="color: #000000;">0</span>, Bottom: <span style="color: #000000;">20</span></pre></td></tr></table></div>

<p><img class="aligncenter size-full wp-image-114578 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/24-add-second-stack-view-constraints_264x171.png" width="264" height="171"></p><br><p>ç°åœ¨å» <em>Attributes inspector</em> è®¾ç½®é—´è·ä¸º <em>8</em>:</p><br><p><img class="aligncenter size-full wp-image-114579 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/25-set-spacing-to-8_259x87.png" width="259" height="87"></p><br><p>æœ‰å¯èƒ½ä½ ä¼šçœ‹åˆ°é”™ä½çš„è§†å›¾è­¦å‘Šå¹¶ä¸”çœ‹åˆ°ç±»ä¼¼æ˜Ÿæ˜Ÿæ ‡ç­¾è¢«æ‹‰ä¼¸å‡ºè§†å›¾è¾¹ç•Œçš„æƒ…å†µ:</p><br><p><img class="aligncenter size-full wp-image-114580 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/26-stars-label-weirdly-stretched_640x85.png" width="640" height="85" srcset="https://cdn1.raywenderlich.com/wp-content/uploads/2015/09/26-stars-label-weirdly-stretched_640x85.png 640w, https://cdn1.raywenderlich.com/wp-content/uploads/2015/09/26-stars-label-weirdly-stretched_640x85-480x64.png 480w" sizes="(max-width: 640px) 100vw, 640px"></p><br><p>æœ‰æ—¶å€™ Xcodeä¼šä¸´æ—¶æ˜¾ç¤ºä¸€äº›è­¦å‘Šæˆ–è€…æ ‡è¯†è¯´å †æ ˆè§†å›¾ä½ç½®ä¸å¯¹, ä½†æ˜¯åœ¨ä½ åšäº†ä¸€äº›æ›´æ–°ä¹‹åè¿™äº›è­¦å‘Šå°±æ¶ˆå¤±äº†ã€‚é€šå¸¸ä½ å¯ä»¥å¿½è§†è¿™äº›é—®é¢˜ã€‚</p><br><p>æ— è®ºå¦‚ä½•, ç«‹å³ä¿®å¤è¿™ä¸ªé—®é¢˜, ä½ å¯ä»¥è®©å †æ ˆè§†å›¾é‡æ–°å¸ƒå±€ï¼Œé€šè¿‡ç§»åŠ¨å®ƒçš„åŒºåŸŸä¸€ç‚¹ç„¶åè¿˜æ„¿æˆ–è€…ä¸´æ—¶æ”¹å˜å…¶ä¸­ä¸€ä¸ªçš„å¸ƒå±€å±æ€§ã€‚</p><br><p>ä¸ºäº†è¯æ˜è¿™ä¸ª, æ”¹å˜ <em>Alignment</em> çš„å€¼ä» <em>Fill</em> åˆ° <em>Top</em> ç„¶åè¿˜åŸæˆ <em>Fill</em>ã€‚ä½ ä¼šå‘ç°æ˜Ÿæ˜Ÿæ ‡ç­¾çš„ä½ç½®æ­£ç¡®äº†:</p><br><p><img class="aligncenter size-full wp-image-114581 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/27-change-alignment-to-top-and-back_640x85.png" width="640" height="85" srcset="https://cdn2.raywenderlich.com/wp-content/uploads/2015/09/27-change-alignment-to-top-and-back_640x85.png 640w, https://cdn2.raywenderlich.com/wp-content/uploads/2015/09/27-change-alignment-to-top-and-back_640x85-480x64.png 480w" sizes="(max-width: 640px) 100vw, 640px"></p><br><p>ç¼–è¯‘è¿è¡Œç¨‹åºå»éªŒè¯ä¸€åˆ‡æ˜¯ä¸æ˜¯è·ŸåŸæ¥ä¸€æ ·ã€‚</p><br><h3>å–æ¶ˆåµŒå…¥åˆ°å †æ ˆè§†å›¾</h3><br><p>åœ¨ä½ èµ°çš„å¤ªè¿œä¹‹å‰, åšä¸€äº›åŸºæœ¬çš„â€œæ€¥æ•‘â€è®­ç»ƒæ˜¯æå¥½çš„ã€‚ æœ‰æ—¶å€™ä½ å‘ç°è‡ªå·±ä¸å†éœ€è¦ä¸€ä¸ªå †æ ˆè§†å›¾, å¯èƒ½å› ä¸ºå®éªŒ, é‡æ„æˆ–è€…çªç„¶çš„åŸå› ã€‚</p><br><p>å¹¸è¿çš„æ˜¯, å¾ˆå®¹ä»å †æ ˆè§†å›¾ <i>unembed</i> è§†å›¾ã€‚</p><br><p>é¦–å…ˆ, é€‰ä¸­æƒ³è¦ç§»é™¤çš„å †æ ˆè§†å›¾ã€‚ æŒ‰ä½ <em>Option</em> é”®åŒæ—¶ç‚¹å‡» <em>Stack</em> æŒ‰é’®ã€‚ ç‚¹å‡»èœå•ä¸Šçš„ <em>Unembed</em>:</p><br><p><img class="aligncenter size-full wp-image-114582 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/28-how-to-unembed_186x71.png" width="186" height="71"></p><br><p>å¦å¤–ä¸€ç§æ–¹å¼æ˜¯,é€‰ä¸­å †æ ˆè§†å›¾ç„¶åä»èœå•ä¸­é€‰æ‹© <em>Editor </em><em>\</em><em> Unembed</em> ã€‚</p><br><h3>ä½ çš„ç¬¬ä¸€ä¸ªå‚ç›´å †æ ˆè§†å›¾</h3><br><p>ç°åœ¨, ä½ å°†åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªå‚ç›´å †æ ˆè§†å›¾ã€‚ é€‰ä¸­ <em>WHY VISIT</em> æ ‡ç­¾å’Œä¸‹æ–¹çš„ <em>&lt;</em><em>whyVisitLabel&gt;</em> :</p><br><p><img class="aligncenter size-full wp-image-114583 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/29-select-why-visit-labels_640x90.png" width="640" height="90" srcset="https://cdn5.raywenderlich.com/wp-content/uploads/2015/09/29-select-why-visit-labels_640x90.png 640w, https://cdn5.raywenderlich.com/wp-content/uploads/2015/09/29-select-why-visit-labels_640x90-480x68.png 480w" sizes="(max-width: 640px) 100vw, 640px"></p><br><p>Xcode ä¼šæ­£ç¡®çš„æ¨æ–­å‡ºè¿™æ˜¯ä¸€ä¸ªåŸºäºæ ‡ç­¾ä½ç½®çš„å‚ç›´å †æ ˆè§†å›¾ã€‚ ç‚¹å‡» <em>Stack</em> æŒ‰é’®æŠŠå®ƒä»¬åµŒå…¥å †æ ˆè§†å›¾:</p><br><p><img class="aligncenter size-full wp-image-114584 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/30-embed-why-visit-labels_640x90.png" width="640" height="90" srcset="https://cdn5.raywenderlich.com/wp-content/uploads/2015/09/30-embed-why-visit-labels_640x90.png 640w, https://cdn5.raywenderlich.com/wp-content/uploads/2015/09/30-embed-why-visit-labels_640x90-480x68.png 480w" sizes="(max-width: 640px) 100vw, 640px"></p><br><p>ä¸‹é¢çš„æ ‡ç­¾ä»¥å‰æœ‰ä¸€ä¸ªè·Ÿè§†å›¾å³è¾¹ç•Œçš„çº¦æŸ, ä¸è¿‡åŠ å…¥å †æ ˆè§†å›¾åèƒŒç§»é™¤äº†ã€‚ ç°åœ¨, å †æ ˆè§†å›¾æ²¡æœ‰çº¦æŸ, å®ƒä½¿ç”¨æœ€å¤§è§†å›¾çš„å›ºå®šå®½åº¦ä½œä¸ºè‡ªå·±çš„å®½åº¦ã€‚</p><br><p>é€‰ä¸­å †æ ˆè§†å›¾, ç‚¹å‡» <em>Pin</em> æŒ‰é’®ã€‚ é€‰ä¸­ <em>Constrain to margins</em>, è®¾ç½® <em>Top</em>, <em>Leading</em> and <em>Trailing</em> çº¦æŸä¸º <em>0</em>.</p><br><p>ç„¶å, é€‰ä¸­ä¸‹éƒ¨çº¦æŸçš„ä¸‹æ‹‰èœå•çš„ <em>WEATHER (current distance = 20)</em>:</p><br><p><img class="aligncenter size-full wp-image-114585 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/31-dont-select-nearest-neighbor-constraint_463x417.png" width="463" height="417" srcset="https://cdn4.raywenderlich.com/wp-content/uploads/2015/09/31-dont-select-nearest-neighbor-constraint_463x417.png 463w, https://cdn4.raywenderlich.com/wp-content/uploads/2015/09/31-dont-select-nearest-neighbor-constraint_463x417-355x320.png 355w" sizes="(max-width: 463px) 100vw, 463px"></p><br><p>é»˜è®¤æƒ…å†µ, çº¦æŸæ˜¾ç¤ºä¸ºè·ç¦»æœ€è¿‘çš„ç›¸é‚»æ§ä»¶, å¯¹ <em>Hide</em> æŒ‰é’®åº•éƒ¨çº¦æŸçš„è·ç¦»æ˜¯15. å®é™…ä¸Šä½ éœ€è¦çš„çº¦æŸæ˜¯æ˜¯å®ƒåº•éƒ¨çš„ <em>WEATHER</em> æ ‡ç­¾ã€‚</p><br><p>æœ€å, ç‚¹å‡» <em>Add 4 Constraints</em>ã€‚ ä½ ä¼šçœ‹åˆ°ä¸‹é¢:</p><br><p><img class="aligncenter size-full wp-image-114586 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/32-why-visit-stack-view-stretched_640x90.png" width="640" height="90" srcset="https://cdn1.raywenderlich.com/wp-content/uploads/2015/09/32-why-visit-stack-view-stretched_640x90.png 640w, https://cdn1.raywenderlich.com/wp-content/uploads/2015/09/32-why-visit-stack-view-stretched_640x90-480x68.png 480w" sizes="(max-width: 640px) 100vw, 640px"></p><br><p>ç°åœ¨ä½ ä½ æœ‰äº†ä¸€ä¸ªè·ç¦»è§†å›¾å³è¾¹ç•Œå›ºå®šè·ç¦»çš„æ‰©å……çš„å †æ ˆè§†å›¾ã€‚ ä¸è¿‡, åº•éƒ¨æ ‡ç­¾ä»ç„¶æ˜¯åŒæ ·çš„å®½åº¦ã€‚ ä½ å¯ä»¥é€šè¿‡æ›´æ–°å †æ ˆè§†å›¾çš„ <code>alignment</code> å±æ€§æ¥ä¿®å¤è¿™ä¸ªé—®é¢˜ã€‚</p><br><h3>å¯¹é½å±æ€§</h3><br><p> <code>alignment</code> å±æ€§å†³å®šå †æ ˆè§†å›¾æ²¿ç€<i>å‚ç›´äº</i>åæ ‡è½´çš„çº¿å¦‚ä½•å¸ƒå±€å†…éƒ¨çš„è§†å›¾, å¯èƒ½çš„å€¼æ˜¯ <code>Fill</code>, <code>Leading</code>, <code>Center</code> å’Œ <code>Trailing</code>.</p><br><p><i>å‚ç›´çš„</i> å †æ ˆè§†å›¾çš„ <code>alignment</code>çš„å€¼ç¨æœ‰ä¸åŒ:</p><br><p><img class="aligncenter size-full wp-image-114587" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/33-horizontal-and-vertical-alignment_594x171.png" width="594" height="171" srcset="https://cdn4.raywenderlich.com/wp-content/uploads/2015/09/33-horizontal-and-vertical-alignment_594x171.png 594w, https://cdn4.raywenderlich.com/wp-content/uploads/2015/09/33-horizontal-and-vertical-alignment_594x171-480x138.png 480w" sizes="(max-width: 594px) 100vw, 594px"></p><br><p><code>.Top</code> æ›¿æ¢äº† <code>.Leading</code>  <code>.Bottom</code> æ›¿æ¢äº† <code>ã€‚Trailing</code>. è¿˜æœ‰ä¸¤ä¸ªåªæœ‰åœ¨å‚ç›´æ–¹å‘æ‰æœ‰æ•ˆçš„å±æ€§, <code>.FirstBaseline</code> å’Œ <code>.LastBaseline</code>.</p><br><p>é€‰æ‹©æ¯ä¸ªå€¼å»çœ‹çœ‹å¯¹å †æ ˆè§†å›¾ä¸­æ ‡ç­¾å¸ƒå±€çš„ä¸åŒå½±å“:</p><br><p><em>Fill:</em></p><br><p><img class="aligncenter size-full wp-image-114588 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/34-alignment-fill_640x64.png" width="640" height="64" srcset="https://cdn3.raywenderlich.com/wp-content/uploads/2015/09/34-alignment-fill_640x64.png 640w, https://cdn3.raywenderlich.com/wp-content/uploads/2015/09/34-alignment-fill_640x64-480x48.png 480w" sizes="(max-width: 640px) 100vw, 640px"></p><br><p><em>Leading:</em></p><br><p><img class="aligncenter size-full wp-image-114589 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/35-alignment-leading_640x64.png" width="640" height="64" srcset="https://cdn5.raywenderlich.com/wp-content/uploads/2015/09/35-alignment-leading_640x64.png 640w, https://cdn5.raywenderlich.com/wp-content/uploads/2015/09/35-alignment-leading_640x64-480x48.png 480w" sizes="(max-width: 640px) 100vw, 640px"></p><br><p><em>Center:</em></p><br><p><img class="aligncenter size-full wp-image-114590 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/36-alignment-center_640x64.png" width="640" height="64" srcset="https://cdn4.raywenderlich.com/wp-content/uploads/2015/09/36-alignment-center_640x64.png 640w, https://cdn4.raywenderlich.com/wp-content/uploads/2015/09/36-alignment-center_640x64-480x48.png 480w" sizes="(max-width: 640px) 100vw, 640px"></p><br><p><em>Trailing:</em></p><br><p><img class="aligncenter size-full wp-image-114591 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/37-alignment-trailing_640x64.png" width="640" height="64" srcset="https://cdn3.raywenderlich.com/wp-content/uploads/2015/09/37-alignment-trailing_640x64.png 640w, https://cdn3.raywenderlich.com/wp-content/uploads/2015/09/37-alignment-trailing_640x64-480x48.png 480w" sizes="(max-width: 640px) 100vw, 640px"></p><br><p>æµ‹è¯•å®Œå, è®¾ç½® <em>Alignment</em> å±æ€§çš„å€¼ä¸º <em>Fill</em>:</p><br><p><img class="aligncenter size-full wp-image-114592 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/38-now-select-alignment-fill_640x64.png" width="640" height="64" srcset="https://cdn3.raywenderlich.com/wp-content/uploads/2015/09/38-now-select-alignment-fill_640x64.png 640w, https://cdn3.raywenderlich.com/wp-content/uploads/2015/09/38-now-select-alignment-fill_640x64-480x48.png 480w" sizes="(max-width: 640px) 100vw, 640px"></p><br><p>ç„¶å,ç¼–è¯‘è¿è¡Œç¨‹åºæ¥éªŒè¯æ‰€æœ‰çš„ä¸€äº›çœ‹èµ·æ¥éƒ½å¾ˆä¸é”™,å¹¶ä¸”æ²¡æœ‰å‡ºç°å€’é€€çš„æƒ…å†µã€‚</p><br><p> <code>Fill</code> æ„å‘³ç€ä½ æƒ³æ‰€æœ‰çš„è§†å›¾æŒ‰ç…§å‚ç›´äºåæ ‡è½´çš„æ–¹å‘å®Œå…¨å……æ»¡å †æ ˆè§†å›¾ã€‚ è¿™ä¸ªä½¿å¾— <em>WHY VISIT</em> æ ‡ç­¾ä¹Ÿä¼šæ‰©å±•åˆ°å³è¾¹ç•Œã€‚</p><br><p>ä¸è¿‡,å¦‚æœä½ ä»…ä»…å¸Œæœ›åº•ä¸‹çš„æ ‡ç­¾æ‰©å±•åˆ°è¾¹ç•Œ?</p><br><p>æš‚æ—¶, å› ä¸ºä¸¤ä¸ªæ ‡ç­¾èƒŒæ™¯éƒ½æ˜¯é€æ˜çš„,æ‰€æœ‰æ²¡æœ‰å…³ç³», ä¸è¿‡è½¬æ¢å¤©æ°”åŒºåŸŸçš„æ—¶å€™å°±æœ‰é—®é¢˜äº†ã€‚</p><br><p>ä½ å°†å­¦ä¼šå¦‚ä½•ç”¨é¢å¤–çš„å †æ ˆè§†å›¾å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚</p><br><h3>è½¬æ¢ &#8220;what to see&#8221; åŒºåŸŸ</h3><br><p>è¿™éƒ¨åˆ†å’Œå‰ä¸€ä¸ªå¾ˆç›¸ä¼¼, æ‰€ä»¥ä»‹ç»å¾ˆç®€è¦ã€‚</p><br><ol start="1"><br><li>é¦–å…ˆ, é€‰ä¸­ <em>WHAT TO SEE</em> æ ‡ç­¾å’Œä¸‹æ–¹çš„ <em>&lt;</em><em>whatToSeeLabel&gt;</em> æ ‡ç­¾ã€‚</li><br><li>ç‚¹å‡» <em>Stack</em> æŒ‰é’®ã€‚</li><br><li>ç‚¹å‡» <em>Pin</em> æŒ‰é’®ã€‚</li><br><li>é€‰ä¸­ <em>Constrain to margins</em>, æ·»åŠ ä¸‹é¢ <em>å››ä¸ª</em> çº¦æŸ:</li><br></ol><br><br><div class="wp_codebox"><table><tr id="p1145525"><td class="code" id="p114552code5"><pre class="bash" style="font-family:monospace;">Top: <span style="color: #000000;">20</span>, Leading: <span style="color: #000000;">0</span>, Trailing: <span style="color: #000000;">0</span>, Bottom: <span style="color: #000000;">20</span></pre></td></tr></table></div><br><br><ol start="5"><br><li>è®¾ç½®å †æ ˆè§†å›¾çš„ <em>Alignment</em> ä¸º <em>Fill</em>.</li><br></ol><br><p>ä½ çš„æ•…äº‹æ¿ç°åœ¨çœ‹èµ·æ¥æ˜¯è¿™æ ·:</p><br><p><img class="aligncenter size-full wp-image-114593 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/39-after-what-to-see-section_640x308.png" width="640" height="308" srcset="https://cdn4.raywenderlich.com/wp-content/uploads/2015/09/39-after-what-to-see-section_640x308.png 640w, https://cdn4.raywenderlich.com/wp-content/uploads/2015/09/39-after-what-to-see-section_640x308-480x231.png 480w" sizes="(max-width: 640px) 100vw, 640px"></p><br><p>ç¼–è¯‘è¿è¡Œç¨‹åºå»éªŒè¯ä¸€åˆ‡çœ‹èµ·æ¥ä¾ç„¶ä¸€æ ·ã€‚</p><br><p>ç°åœ¨ç•™ç»™ä½ çš„åªæœ‰ <em>weather</em> åŒºåŸŸäº†ã€‚</p><br><h2>è½¬æ¢å¤©æ°”åŒºåŸŸ</h2><br><p> <em>weather</em> åŒºåŸŸå› ä¸ºåŒ…å«<em>Hide</em>æŒ‰é’®æ˜¾å¾—æ¯”å…¶ä»–åŒºåŸŸå¤æ‚ä¸€äº›ã€‚</p><br><p>å¯ä»¥é‡‡ç”¨çš„ä¸€ä¸ªæ–¹æ³•æ˜¯,åˆ›å»ºä¸€ä¸ªå†…åµŒçš„å †æ ˆè§†å›¾,æŠŠ <em>WEATHER</em> æ ‡ç­¾å’Œ <em>Hide</em> æŒ‰é’®åµŒå…¥ä¸€ä¸ªæ°´å¹³å †æ ˆè§†å›¾, ç„¶åæŠŠè¿™ä¸ªæ°´å¹³å †æ ˆè§†å›¾å’Œ <em>&lt;</em><em>weatherInfoLabel&gt;</em> åµŒå…¥ä¸€ä¸ªå‚ç›´å †æ ˆè§†å›¾ã€‚</p><br><p>å®ƒçœ‹èµ·æ¥æ˜¯è¿™ä¸ªæ ·å­:</p><br><p><img class="aligncenter size-full wp-image-114594 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/40-weather-stack-in-stack_640x92.png" width="640" height="92" srcset="https://cdn1.raywenderlich.com/wp-content/uploads/2015/09/40-weather-stack-in-stack_640x92.png 640w, https://cdn1.raywenderlich.com/wp-content/uploads/2015/09/40-weather-stack-in-stack_640x92-480x69.png 480w" sizes="(max-width: 640px) 100vw, 640px"></p><br><p>æ³¨æ„ <em>WEATHER</em> æ ‡ç­¾å·²ç»æŠŠé«˜åº¦æ‰©å±•å’Œ <em>Hide</em> æŒ‰é’®ä¸€æ ·äº†ã€‚ è¿™ä¸ªä¸å¤ªç†æƒ³,å› ä¸ºè¿™å°†ä½¿<em>WEATHER</em>æ ‡ç­¾çš„åŸºçº¿å’Œä¸‹æ–¹çš„æ–‡å­—å­˜åœ¨ç©ºç™½ã€‚</p><br><p>è®°å¾— <code>alignment</code> è¡¨ç¤ºå‚ç›´äºå †æ ˆè§†å›¾çš„ä½ç½®ã€‚ æ‰€ä»¥, ä½ å¯ä»¥è®¾ç½® <code>alignment</code> ä¸º <em>Bottom</em>:</p><br><p><img class="aligncenter size-full wp-image-114595 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/41-weather-stack-in-stack-alignment-bottom_640x92.png" width="640" height="92" srcset="https://cdn2.raywenderlich.com/wp-content/uploads/2015/09/41-weather-stack-in-stack-alignment-bottom_640x92.png 640w, https://cdn2.raywenderlich.com/wp-content/uploads/2015/09/41-weather-stack-in-stack-alignment-bottom_640x92-480x69.png 480w" sizes="(max-width: 640px) 100vw, 640px"></p><br><p>ä¸è¿‡ä½ åº”è¯¥ä¸æƒ³<em>Hide</em> æŒ‰é’®çš„é«˜åº¦å†³å®šå †æ ˆè§†å›¾çš„é«˜åº¦ã€‚</p><br><p>å®é™…ä¸Šä½ è¦é‡‡ç”¨çš„æ–¹æ³•æ˜¯è®© <em>Hide</em> æŒ‰é’® <i>ä¸åœ¨</i>  <em>weather</em> åŒºåŸŸçš„å †æ ˆè§†å›¾ä¸­, æˆ–è€…ä¸åœ¨ä»»ä½•å †æ ˆè§†å›¾é‡Œã€‚</p><br><p>å®ƒä¾ç„¶æ˜¯é¡¶å±‚è§†å›¾çš„å­è§†å›¾, ä½ åœ¨å®ƒè·Ÿ <em>WEATHER</em> æ ‡ç­¾é—´æ·»åŠ çº¦æŸ â€” å¤©æ°”æ ‡ç­¾ä¾ç„¶åœ¨å †æ ˆè§†å›¾é‡Œã€‚ è¿™æ˜¯æ­£ç¡®çš„, ä½ åœ¨å †æ ˆè§†å›¾å¤–çš„æŒ‰é’®å’Œå †æ ˆè§†å›¾å†…çš„æ ‡ç­¾é—´æ·»åŠ çº¦æŸ!</p><br><p>é€‰æ‹© <em>WEATHER</em> æ ‡ç­¾å’Œä¸‹æ–¹çš„ <em>&lt;</em><em>weatherInfoLabel&gt;</em> æ ‡ç­¾:</p><br><p><img class="aligncenter size-full wp-image-114596 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/42-select-weather-and-info-label_640x92.png" width="640" height="92" srcset="https://cdn5.raywenderlich.com/wp-content/uploads/2015/09/42-select-weather-and-info-label_640x92.png 640w, https://cdn5.raywenderlich.com/wp-content/uploads/2015/09/42-select-weather-and-info-label_640x92-480x69.png 480w" sizes="(max-width: 640px) 100vw, 640px"></p><br><p>ç‚¹å‡» <em>Stack</em> æŒ‰é’®:</p><br><p><img class="aligncenter size-full wp-image-114597 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/43-weather-click-stack-button_640x92.png" width="640" height="92" srcset="https://cdn1.raywenderlich.com/wp-content/uploads/2015/09/43-weather-click-stack-button_640x92.png 640w, https://cdn1.raywenderlich.com/wp-content/uploads/2015/09/43-weather-click-stack-button_640x92-480x69.png 480w" sizes="(max-width: 640px) 100vw, 640px"></p><br><p>ç‚¹å‡» <em>Pin</em> æŒ‰é’®, é€‰ä¸­ <em>Constrain to margins</em> å¹¶ä¸”æ·»åŠ ä¸‹é¢çš„ <em>å››ä¸ª</em> çº¦æŸ:</p>

<div class="wp_codebox"><table><tr id="p1145526"><td class="code" id="p114552code6"><pre class="bash" style="font-family:monospace;">Top: <span style="color: #000000;">20</span>, Leading: <span style="color: #000000;">0</span>, Trailing: <span style="color: #000000;">0</span>, Bottom: <span style="color: #000000;">20</span></pre></td></tr></table></div>

<p>è®¾ç½®å †æ ˆè§†å›¾çš„ <em>Alignment</em> ä¸º <em>Fill</em>:</p><br><p><img class="aligncenter size-full wp-image-114598 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/44-weather-alignment-fill_640x92.png" width="640" height="92" srcset="https://cdn1.raywenderlich.com/wp-content/uploads/2015/09/44-weather-alignment-fill_640x92.png 640w, https://cdn1.raywenderlich.com/wp-content/uploads/2015/09/44-weather-alignment-fill_640x92-480x69.png 480w" sizes="(max-width: 640px) 100vw, 640px"></p><br><p>ä½ éœ€è¦åœ¨ <em>Hide</em> æŒ‰é’®çš„å·¦ä¾§å’Œ <em>WEATHER</em> æ ‡ç­¾çš„å³ä¾§æ·»åŠ çº¦æŸ, æ‰€ä»¥è®© <em>WEATHER</em> æ ‡ç­¾å……æ»¡å †æ ˆè§†å›¾æ˜¯æ— æ³•èµ·æ•ˆæœçš„ã€‚</p><br><p>ä¸è¿‡, ä½  <i>æƒ³</i> è®©åº•é¢çš„ <em>&lt;</em><em>weatherInfoLabel&gt;</em> æ ‡ç­¾å¡«å……è§†å›¾ã€‚</p><br><p>ä½ å¯ä»¥æŠŠ <em>WEATHER</em> æ ‡ç­¾åµŒå…¥å †æ ˆè§†å›¾æ¥å®ç°è¿™ä¸ªã€‚ è®°ä½å‚ç›´å †æ ˆè§†å›¾çš„ <code>alignment</code>å¯ä»¥è®¾ç½®æˆ  <code>.Leading</code>, å¦‚æœå †æ ˆè§†å›¾æ‹‰ä¼¸è¶…è¿‡å®é™…å®½åº¦, ä»–åŒ…å«çš„è§†å›¾ä»ç„¶æ˜¯å·¦å¯¹é½çš„ã€‚</p><br><p>é€šè¿‡å¤§çº²è§†å›¾æˆ–è€…ä½¿ç”¨<em>Control-Shift-click</em>æ–¹æ³•é€‰ä¸­ <em>WEATHER</em> æ ‡ç­¾:</p><br><p><img class="aligncenter size-full wp-image-114599 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/45-select-just-the-weather-label_640x92.png" width="640" height="92" srcset="https://cdn5.raywenderlich.com/wp-content/uploads/2015/09/45-select-just-the-weather-label_640x92.png 640w, https://cdn5.raywenderlich.com/wp-content/uploads/2015/09/45-select-just-the-weather-label_640x92-480x69.png 480w" sizes="(max-width: 640px) 100vw, 640px"></p><br><p>ç‚¹å‡» <em>Stack</em> æŒ‰é’®:</p><br><p><img class="aligncenter size-full wp-image-114600 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/46-weather-in-horizontal-stack_640x92.png" width="640" height="92" srcset="https://cdn1.raywenderlich.com/wp-content/uploads/2015/09/46-weather-in-horizontal-stack_640x92.png 640w, https://cdn1.raywenderlich.com/wp-content/uploads/2015/09/46-weather-in-horizontal-stack_640x92-480x69.png 480w" sizes="(max-width: 640px) 100vw, 640px"></p><br><p>è®¾ç½® <em>Alignment</em> ä¸º <em>Leading</em>, ç¡®ä¿ <em>Axis</em> è®¾ç½®ä¸º <em>Vertical</em>:</p><br><p><img class="aligncenter size-full wp-image-114601 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/47-vertical-and-leading_640x92.png" width="640" height="92" srcset="https://cdn2.raywenderlich.com/wp-content/uploads/2015/09/47-vertical-and-leading_640x92.png 640w, https://cdn2.raywenderlich.com/wp-content/uploads/2015/09/47-vertical-and-leading_640x92-480x69.png 480w" sizes="(max-width: 640px) 100vw, 640px"></p><br><p>å®Œç¾! å¤–éƒ¨å †æ ˆè§†å›¾å¯ä»¥æ‹‰ä¼¸å†…éƒ¨å †æ ˆè§†å›¾å»å¡«å……å®½åº¦,è€Œå†…éƒ¨å †æ ˆè§†å›¾çš„æ ‡ç­¾å¯ä»¥ä¿æŒåŸå§‹çš„å®½åº¦!</p><br><p>ç¼–è¯‘è¿è¡Œã€‚ ä¸ºä»€ä¹ˆ<em>Hide</em> æŒ‰é’®è·‘åˆ°æ–‡å­—ä¸­é—´å»äº†?</p><br><p><img class="aligncenter wp-image-114602 size-medium bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/48-hide-label-incorrect-position_750x573-419x320.png" width="419" height="320" srcset="https://cdn1.raywenderlich.com/wp-content/uploads/2015/09/48-hide-label-incorrect-position_750x573-419x320.png 419w, https://cdn1.raywenderlich.com/wp-content/uploads/2015/09/48-hide-label-incorrect-position_750x573-654x500.png 654w, https://cdn1.raywenderlich.com/wp-content/uploads/2015/09/48-hide-label-incorrect-position_750x573.png 750w" sizes="(max-width: 419px) 100vw, 419px"></p><br><p>è¿™æ˜¯å› ä¸ºä½ æŠŠ <em>WEATHER</em> æ ‡ç­¾åµŒå…¥å †æ ˆè§†å›¾, æ‰€æœ‰å®ƒä¸ <em>Hide</em> æŒ‰é’®ä¹‹é—´çš„çº¦æŸå°±è¢«ç§»é™¤äº†ã€‚</p><br><p>æ·»åŠ ä» <em>Hide</em> æŒ‰é’®åˆ° <em>WEATHER</em> æ ‡ç­¾çš„<em>Control-drag</em>çº¦æŸ:</p><br><p><img class="aligncenter size-full wp-image-114603 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/49-drag-to-weather-label_380x94.png" width="380" height="94"></p><br><p>æŒ‰ä½ <em>Shift</em> é€‰æ‹©å¤šé¡¹, é€‰æ‹© <em>Horizontal Spacing</em> å’Œ <em>Baseline</em>ã€‚ ç„¶åç‚¹å‡» <em>Add Constraints</em>:</p><br><p><img class="aligncenter size-full wp-image-114604 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/50-add-multiple-constraints_380x224.png" width="380" height="224"></p><br><p>ç¼–è¯‘è¿è¡Œã€‚ <em>Hide</em> æŒ‰é’®çš„ä½ç½®ç°åœ¨åº”è¯¥æ­£ç¡®äº†, å› ä¸ºè®¾ç½®æˆéšè—çš„æ ‡ç­¾å†…åµŒåœ¨ä¸€ä¸ªå †æ ˆè§†å›¾, æŒ‰ä¸‹ <em>Hide</em> éšè—äº†è¿™ä¸ªæ ‡ç­¾, åŒæ—¶è°ƒæ•´ä¸‹é¢çš„è§†å›¾ â€” æ— éœ€æ‰‹åŠ¨è°ƒæ•´ä»»ä½•çº¦æŸã€‚</p><br><p><img class="aligncenter size-medium wp-image-114605 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/51-hide-button-works_750x732-328x320.png" width="328" height="320" srcset="https://cdn1.raywenderlich.com/wp-content/uploads/2015/09/51-hide-button-works_750x732-328x320.png 328w, https://cdn1.raywenderlich.com/wp-content/uploads/2015/09/51-hide-button-works_750x732-512x500.png 512w, https://cdn1.raywenderlich.com/wp-content/uploads/2015/09/51-hide-button-works_750x732-32x32.png 32w, https://cdn1.raywenderlich.com/wp-content/uploads/2015/09/51-hide-button-works_750x732.png 750w" sizes="(max-width: 328px) 100vw, 328px"></p><br><p>æ—¢ç„¶æ‰€æœ‰çš„åŒºåŸŸéƒ½æœ‰è‡ªå·±çš„å †æ ˆè§†å›¾äº†, ä½ å°†ä»–ä»¬æ‰€æœ‰éƒ½åµŒå…¥ä¸€ä¸ªå¤–éƒ¨å †æ ˆè§†å›¾, è¿™å°†ä½¿å¾—æœ€åçš„ä¸¤ä¸ªä»»åŠ¡å¾®ä¸è¶³é“ã€‚</p><br><h3>é¡¶å±‚å †æ ˆè§†å›¾</h3><br><p>åœ¨å¤§çº²è§†å›¾ä¸­<em>Command-click</em> å»é€‰å–æ‰€æœ‰äº”ä¸ªé¡¶å±‚å †æ ˆè§†å›¾:</p><br><p><img class="aligncenter size-full wp-image-114606 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/52-select-all-stack-views-in-outline_640x260.png" width="640" height="260" srcset="https://cdn4.raywenderlich.com/wp-content/uploads/2015/09/52-select-all-stack-views-in-outline_640x260.png 640w, https://cdn4.raywenderlich.com/wp-content/uploads/2015/09/52-select-all-stack-views-in-outline_640x260-480x195.png 480w" sizes="(max-width: 640px) 100vw, 640px"></p><br><p>ç‚¹å‡» <em>Stack</em> æŒ‰é’®:</p><br><p><img class="aligncenter size-full wp-image-114607 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/53-stack-all-the-views_640x185.png" width="640" height="185" srcset="https://cdn3.raywenderlich.com/wp-content/uploads/2015/09/53-stack-all-the-views_640x185.png 640w, https://cdn3.raywenderlich.com/wp-content/uploads/2015/09/53-stack-all-the-views_640x185-480x139.png 480w" sizes="(max-width: 640px) 100vw, 640px"></p><br><p>ç‚¹å‡» <em>Pin</em> æŒ‰é’®, é€‰ä¸­ <em>Constrain to margins</em> æ·»åŠ  <em>0</em> ç»™æ‰€æœ‰è¾¹ç•Œã€‚ æ¥ç€è®¾ç½® <em>Spacing</em> ä¸º <em>20</em>  <em>Alignment</em> ä¸º <em>Fill</em>ã€‚ ä½ çš„æ•…äº‹æ¿ç°åœ¨çœ‹èµ·æ¥æ˜¯è¿™æ ·:</p><br><p><img class="aligncenter size-full wp-image-114608 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/54-set-the-spacing-to-20-and-alignment-to-fill_640x300.png" width="640" height="300" srcset="https://cdn5.raywenderlich.com/wp-content/uploads/2015/09/54-set-the-spacing-to-20-and-alignment-to-fill_640x300.png 640w, https://cdn5.raywenderlich.com/wp-content/uploads/2015/09/54-set-the-spacing-to-20-and-alignment-to-fill_640x300-480x225.png 480w" sizes="(max-width: 640px) 100vw, 640px"></p><br><p>ç¼–è¯‘è¿è¡Œ:</p><br><p><img class="aligncenter size-medium wp-image-114609 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/55-hide-button-lost-again_750x487-480x312.png" width="480" height="312" srcset="https://cdn4.raywenderlich.com/wp-content/uploads/2015/09/55-hide-button-lost-again_750x487-480x312.png 480w, https://cdn4.raywenderlich.com/wp-content/uploads/2015/09/55-hide-button-lost-again_750x487-700x455.png 700w, https://cdn4.raywenderlich.com/wp-content/uploads/2015/09/55-hide-button-lost-again_750x487.png 750w" sizes="(max-width: 480px) 100vw, 480px"></p><br><p>æˆ‘æ“¦! å¥½åƒéšè—æŒ‰é’®åˆå¤±å»äº†çº¦æŸã€‚æ²¡æœ‰å…³ç³», åƒä»¥å‰ä¸€æ ·é‡æ–°æ·»åŠ çº¦æŸå°±å¯ä»¥äº†ã€‚</p><br><p><em>Control-drag</em> ä» <em>Hide</em> æŒ‰é’®åˆ° <em>WEATHER</em> æ ‡ç­¾, æŒ‰ä½ <em>Shift</em>, é€‰æ‹© <em>Horizontal Spacing</em> å’Œ <em>Baseline</em>. ç„¶åç‚¹å‡» <em>Add Constraints</em>:</p><br><p><img class="aligncenter size-full wp-image-114610 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/56-add-constraints-to-button-again_380x223.png" width="380" height="223"></p><br><p>ç¼–è¯‘è¿è¡Œã€‚ <em>Hide</em> æŒ‰é’®çš„ä½ç½®ç°åœ¨æ­£ç¡®äº†ã€‚</p><br><h3>é‡å®šä½è§†å›¾</h3><br><p>æ—¢ç„¶æ‰€æœ‰çš„åŒºåŸŸéƒ½åœ¨é¡¶å±‚å †æ ˆè§†å›¾, ä½ è¦ä¿®æ”¹ <em>what to see</em> åŒºåŸŸçš„ä½ç½®è®©å®ƒä½äº <em>weather</em> åŒºåŸŸçš„ä¸Šæ–¹ã€‚</p><br><p>åœ¨å¤§çº²è§†å›¾ä¸­é€‰æ‹© <em>ä¸­é—´çš„å †æ ˆè§†å›¾</em> ç„¶å <em>æ‹–åŠ¨å®ƒåˆ°</em> ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªè§†å›¾ä¹‹é—´ã€‚</p><br><div class="note"><em>å¤‡æ³¨:</em> ä¿æŒé¼ æ ‡æŒ‡é’ˆç¨å¾®ä½äºå †æ ˆè§†å›¾çš„å·¦ä¾§ï¼Œè¿™æ ·å®ƒå°±è¿˜æ˜¯å¤–éƒ¨å †æ ˆè§†å›¾ <i>å­è§†å›¾</i>ã€‚ å°è“åœˆåº”è¯¥ä½äºä¸¤ä¸ªå †æ ˆè§†å›¾çš„å·¦ä¾§è¾¹ç•Œè€Œä¸æ˜¯å³ä¾§:</div><br><p><img class="aligncenter size-full wp-image-114611 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/57-drag-and-drop-to-reposition-section_639x130.png" width="639" height="130" srcset="https://cdn1.raywenderlich.com/wp-content/uploads/2015/09/57-drag-and-drop-to-reposition-section_639x130.png 639w, https://cdn1.raywenderlich.com/wp-content/uploads/2015/09/57-drag-and-drop-to-reposition-section_639x130-480x98.png 480w" sizes="(max-width: 639px) 100vw, 639px"></p><br><p>ç°åœ¨ <em>weather</em> åŒºåŸŸä»ä¸Šé¢æ•°æ˜¯ç¬¬ä¸‰ä¸ª, ä½†æ˜¯å› ä¸º <em>Hide</em> æŒ‰é’®ä¸æ˜¯å †æ ˆè§†å›¾çš„ä¸€éƒ¨åˆ†,æ‰€ä»¥ä»–çš„åŒºåŸŸæ˜¯ä¸å¯¹çš„ã€‚</p><br><p>ç‚¹å‡» <em>Hide</em> æŒ‰é’®é€‰ä¸­å®ƒ:</p><br><p><img class="aligncenter size-full wp-image-114612 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/58-hide-button-not-moved_640x130.png" width="640" height="130" srcset="https://cdn5.raywenderlich.com/wp-content/uploads/2015/09/58-hide-button-not-moved_640x130.png 640w, https://cdn5.raywenderlich.com/wp-content/uploads/2015/09/58-hide-button-not-moved_640x130-480x98.png 480w" sizes="(max-width: 640px) 100vw, 640px"></p><br><p>æ¥ç€ç‚¹å‡» <em>Resolve Auto Layout Issues</em> ä¸‰è§’å½¢æŒ‰é’®, ç‚¹å‡» <em>Update Frames</em>:</p><br><p><img class="aligncenter size-full wp-image-114613 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/59-resolve-auto-layout-issues_356x269.png" width="356" height="269"></p><br><p> <em>Hide</em> æŒ‰é’®å°†ä¼šè¿”å›åˆ°æ­£ç¡®çš„ä½ç½®:</p><br><p><img class="aligncenter size-full wp-image-114614 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/60-hide-button-back-to-correct-position_640x130.png" width="640" height="130" srcset="https://cdn5.raywenderlich.com/wp-content/uploads/2015/09/60-hide-button-back-to-correct-position_640x130.png 640w, https://cdn5.raywenderlich.com/wp-content/uploads/2015/09/60-hide-button-back-to-correct-position_640x130-480x98.png 480w" sizes="(max-width: 640px) 100vw, 640px"></p><br><p>å½“ç„¶, ç”¨è‡ªåŠ¨å¸ƒå±€é‡å®šä½è§†å›¾,é‡æ–°æ·»åŠ çº¦æŸéƒ½å·²ç»ä¸æ˜¯æœ€å›°éš¾çš„äº‹äº†, ä½†æ˜¯è¿™ä¸ªä¸æ„Ÿè§‰è¿™ä¹ˆå¥½?</p><br><h3>åŸºäºé…ç½®çš„Size class</h3><br><p>æœ€å, ä½ å¯ä»¥æŠŠæ³¨æ„åŠ›æ”¾åœ¨é—ç•™çš„ä¸€ä¸ªé—®é¢˜ä¸Šäº†ã€‚ æ¨ªå±æ¨¡å¼ä¸‹, å‚ç›´ç©ºé—´éå¸¸ç¨€å°‘, æ‰€ä»¥ä½ æƒ³è¿™äº›åŒºåŸŸé çš„æ›´è¿‘ä¸€ç‚¹ã€‚ è¦å®ç°è¿™ç‚¹, å½“å‚ç›´çš„ size class æ˜¯ compactçš„æ—¶å€™,ä½ è¦è®¾ç½®é¡¶å±‚å †æ ˆè§†å›¾çš„é—´è·ä¸º <em>10</em> è€Œä¸æ˜¯ <em>20</em> ã€‚</p><br><p>é€‰æ‹©é¡¶å±‚å †æ ˆè§†å›¾, ç‚¹å‡»é è¿‘ <em>Spacing</em>çš„å° <em>+</em> æŒ‰é’®:</p><br><p><img class="aligncenter size-full wp-image-114615 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/61-select-plus-button_260x120.png" width="260" height="120"></p><br><p>é€‰æ‹© <em>Any Width</em> &gt; <em>Compact Height</em>:</p><br><p><img class="aligncenter size-full wp-image-114616 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/62-anywidth-compact-height_403x108.png" width="403" height="108"></p><br><p>åœ¨æ–°çš„ <em>wAny hC</em> åŒºåŸŸè®¾ç½® <em>Spacing</em> ä¸º <em>10</em> :</p><br><p><img class="aligncenter size-full wp-image-114617 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/63-set-spacing-to-10_260x160.png" width="260" height="160"></p><br><p>ç¼–è¯‘è¿è¡Œã€‚ ç«–å±æ¨¡å¼é—´è·åº”è¯¥ä¿æŒä¸å˜ã€‚ æ—‹è½¬æ¨¡æ‹Ÿå™¨ (âŒ˜â†) å¯ä»¥çœ‹åˆ°åŒºåŸŸä¹‹é—´çš„é—´è·å‡å°äº†ï¼Œè€Œä¸”æŒ‰é’®è·ç¦»åº•éƒ¨éƒ½æœ‰äº†å……è¶³çš„ç©ºé—´:</p><br><p><img class="aligncenter size-medium wp-image-114618 bordered" src="http://www.raywenderlich.com/wp-content/uploads/2015/09/64-spacing-in-iphone-landscape_1334x750-480x270.png" width="480" height="270" srcset="https://cdn1.raywenderlich.com/wp-content/uploads/2015/09/64-spacing-in-iphone-landscape_1334x750-480x270.png 480w, https://cdn1.raywenderlich.com/wp-content/uploads/2015/09/64-spacing-in-iphone-landscape_1334x750-700x394.png 700w, https://cdn1.raywenderlich.com/wp-content/uploads/2015/09/64-spacing-in-iphone-landscape_1334x750-266x151.png 266w, https://cdn1.raywenderlich.com/wp-content/uploads/2015/09/64-spacing-in-iphone-landscape_1334x750.png 1334w" sizes="(max-width: 480px) 100vw, 480px"></p><br><p>å¦‚æœä½ æ²¡æœ‰æ·»åŠ ä¸€ä¸ªé¡¶å±‚çš„å †æ ˆè§†å›¾, ä½ ä»ç„¶ <i>å¯ä»¥</i> åˆ†äº”ä¸ªåŒºåŸŸç”¨ size classes æ¥è®¾ç½®å››ä¸ªçº¦æŸçš„æ¯ä¸€ä¸ªå‚ç›´é—´è·ä¸º10, åªæ˜¯è¿™ä¸ªæ²¡æœ‰åœ¨ä¸€ä¸ªç®€å•çš„åœ°æ–¹è®¾ç½®å®¹æ˜“?</p><br><p>ä½ æœ‰æ—¶é—´å»åšæ›´å¥½çš„äº‹, æ¯”å¦‚åŠ¨ç”»!</p><br><h2>åŠ¨ç”»</h2><br><p>ç°åœ¨, æ˜¾ç¤ºå’Œéšè—å¤©æ°”è¯¦æƒ…æœ‰ç‚¹çªå…€ã€‚ ä½ å¯ä»¥æ·»åŠ ä¸€äº›åŠ¨ç”»è®©è¿™ç§è½¬æ¢æ˜¾å¾—å¹³é¡ºä¸€äº›ã€‚</p><br><p>å †æ ˆè§†å›¾å®Œå…¨é€‚ç”¨UIView åŠ¨ç”»å¼•æ“ã€‚ è¿™å°±æ„å‘³åŠ¨ç”»æ˜¾ç¤º/éšè—æ’åˆ—å¥½çš„è§†å›¾, å’Œ<i>åœ¨</i>åŠ¨ç”»å—å†…åˆ‡æ¢ <code>hidden</code> å±æ€§ä¸€æ ·ç®€å•ã€‚</p><br><p>è¯¥å†™ä¸€äº›ä»£ç äº†! æ‰“å¼€ <em>SpotInfoViewController.swift</em> çœ‹ä¸€çœ¼ <code>updateWeatherInfoViews(hideWeatherInfo:animated:)</code>.</p><br><p>ä½ ä¼šçœ‹è§è¿™è¡Œä»£ç åœ¨æ–¹æ³•çš„å°¾éƒ¨:</p>

<div class="wp_codebox"><table><tr id="p1145527"><td class="code" id="p114552code7"><pre class="swift" style="font-family:monospace;">weatherInfoLabel.hidden <span style="color: #002200;">=</span> shouldHideWeatherInfo</pre></td></tr></table></div>

<p>ç”¨ä¸‹é¢çš„ä»£ç æ›¿æ¢å®ƒ:</p>

<div class="wp_codebox"><table><tr id="p1145528"><td class="code" id="p114552code8"><pre class="swift" style="font-family:monospace;"><span style="color: #a61390;">if</span> animated <span style="color: #002200;">&#123;</span><br>  <span style="color: #400080;">UIView</span>.animateWithDuration<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">0.3</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>    <span style="color: #a61390;">self</span>.weatherInfoLabel.hidden <span style="color: #002200;">=</span> shouldHideWeatherInfo<br>  <span style="color: #002200;">&#125;</span><br><span style="color: #002200;">&#125;</span> <span style="color: #a61390;">else</span> <span style="color: #002200;">&#123;</span><br>  weatherInfoLabel.hidden <span style="color: #002200;">=</span> shouldHideWeatherInfo<br><span style="color: #002200;">&#125;</span></pre></td></tr></table></div>

<p>ç¼–è¯‘è¿è¡Œ, ç‚¹å‡» <em>Hide</em> æˆ–è€… <em>Show</em> æŒ‰é’®ã€‚ è¿™ä¸ªåŠ¨ç”»ç‰ˆæœ¬æ˜¯ä¸æ˜¯çœ‹èµ·æ¥å¥½ä¸€äº›?</p><br><p>é™¤äº†åŠ¨ç”»éšè—æ˜¾ç¤ºå †æ ˆè§†å›¾ä¸­çš„è§†å›¾, ä½ ä¹Ÿå¯ä»¥è®©å †æ ˆè§†å›¾æœ¬èº«æœ‰åŠ¨ç”»å±æ€§, ä¾‹å¦‚ <code>alignment</code>, <code>distribution</code>, <code>spacing</code> ,ç”šè‡³æ˜¯<code>axis</code>.</p>


]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;link rel=&quot;stylesheet&quot; id=&quot;wpsqt-main-css&quot; href=&quot;https://cdn3.raywenderlich.com/wp-content/plugins/wp-survey-and-quiz-tool/css/ma
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>UISearchController ä½¿ç”¨æŒ‡å¯¼</title>
    <link href="http://yoursite.com/2016/09/14/UISearchController-%E4%BD%BF%E7%94%A8%E6%8C%87%E5%AF%BC/"/>
    <id>http://yoursite.com/2016/09/14/UISearchController-ä½¿ç”¨æŒ‡å¯¼/</id>
    <published>2016-09-14T00:59:02.000Z</published>
    <updated>2016-09-14T06:35:12.000Z</updated>
    
    <content type="html"><![CDATA[<div align="center"><img src="http://www.raywenderlich.com/wp-content/uploads/2015/09/UISearchController-Square.png" width="250" height="250" class="alignright size-thumbnail wp-image-78152"></div>

<p>å¦‚æœä½ çš„ç¨‹åºè¦å±•ç¤ºå¤§é‡çš„æ•°æ®é›†, é€šè¿‡æ»šåŠ¨å¤§è§„æ¨¡çš„åˆ—è¡¨ä¼šå˜çš„å¾ˆæ…¢å¹¶ä¸”ä»¤äººæ²®ä¸§ã€‚ æ—¢ç„¶å¦‚æ­¤ï¼Œå…è®¸ç”¨æˆ·æœç´¢ç‰¹å®šé¡¹ç›®å°±æ˜¾å¾—éå¸¸é‡è¦ã€‚ å¹¸è¿çš„æ˜¯, UIKit åŒ…å«çš„ <code>UISearchBar</code> å’Œ <code>UITableView</code>å®ç°äº†æ— ç¼å¯¹æ¥æ¥è¿›è¡Œå¿«é€Ÿæœ‰æ•ˆçš„ä¿¡æ¯è¿‡æ»¤ã€‚</p><br><p>è¿™ä»½<code>UISearchController</code> æŒ‡å¯¼, ä½ å°†å»ºç«‹ä¸€ä¸ªåŸºäºæ ‡å‡†åˆ—è¡¨çš„Candy åº”ç”¨ã€‚ ä½ ä¼šæ·»åŠ æœç´¢çš„åŠŸèƒ½, åŒ…æ‹¬åŠ¨æ€è¿‡æ»¤, å¯é€‰çš„scope bar, æ‰€æœ‰ä½¿ç”¨ <code>UISearchController</code>çš„æ–¹å¼, éƒ½å·²ç»æ·»åŠ åˆ°iOS 8. æœ€å, ä½ ä¼šçŸ¥é“å¦‚ä½•è®©ä½ çš„ç¨‹åºæ›´åŠ å‹å¥½å¹¶ä¸”æ»¡è¶³ç”¨æˆ·çš„ç´§æ€¥éœ€æ±‚ã€‚</p><br><p>é¢„å¤‡å¥½ä¸€äº›ç³–è¡£çš„æœç´¢ç»“æœï¼Œç»§ç»­è¯»ä¸‹å»ã€‚</p><br><h2>å‡†å¤‡å¼€å§‹</h2><br><p>ä¸‹è½½æ¼”ç¤ºç¨‹åºåœ¨<a href="http://www.raywenderlich.com/wp-content/uploads/2015/09/CandySearch-Starter.zip" target="_blank" rel="external">è¿™é‡Œ</a> ç„¶åæ‰“å¼€ã€‚ ç¨‹åºä»¥å¯¼èˆªæ çš„é£æ ¼åˆ›å»ºï¼Œç¼–è¯‘é¡¹ç›®å¹¶è¿è¡Œï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªç©ºåˆ—è¡¨:</p>

<div align="center"><img src="http://www.raywenderlich.com/wp-content/uploads/2015/09/UISearchController-Starter-281x500.png" width="281" height="500" class="aligncenter size-large wp-image-113862" srcset="https://cdn5.raywenderlich.com/wp-content/uploads/2015/09/UISearchController-Starter-281x500.png 281w, https://cdn5.raywenderlich.com/wp-content/uploads/2015/09/UISearchController-Starter-180x320.png 180w, https://cdn5.raywenderlich.com/wp-content/uploads/2015/09/UISearchController-Starter.png 750w" sizes="(max-width: 281px) 100vw, 281px"></div><br><p>å›åˆ°Xcode, æ–‡ä»¶<em>Candy.swift</em> åŒ…å«äº†ä¸€ä¸ªç”¨æ¥ä¿å­˜ä½ æƒ³å±•ç¤ºçš„ç³–æœä¿¡æ¯çš„ç±»ã€‚è¿™ä¸ªç±»æœ‰ä¸¤ä¸ªå±æ€§: åˆ†ç±»å’Œç³–æœåã€‚</p><br><p>å½“ç”¨æˆ·åœ¨ä½ çš„appæœç´¢æŸä¸ªç³–æœçš„æ—¶å€™, ä½ è¦å¼•ç”¨åå­—å±æ€§æ¥åŒ¹é…ç”¨æˆ·çš„æœç´¢å…³é”®å­—ã€‚ ä½ ä¼šåœ¨æ–‡ç« ç»“å°¾å®ç°çš„Scope Barä¸­çœ‹åˆ°åˆ†ç±»å­—ç¬¦ä¸²çš„é‡è¦æ€§ã€‚</p><br><h2>å¡«å…… Table View</h2><br><p>æ‰“å¼€ <em>MasterViewController.swift</em>.  <code>candies</code> å±æ€§è´Ÿè´£ç®¡ç†ç”¨æˆ·æœç´¢ç”¨çš„ä¸åŒçš„<code>Candy</code>å¯¹è±¡ã€‚ è¯´åˆ°è¿™é‡Œ, æ˜¯æ—¶å€™åˆ›å»ºä¸€äº› Candyäº†!</p><br><p>è¿™ä¸ªæŒ‡å¯¼ä¸­, ä½ åªéœ€è¦åˆ›å»ºå›ºå®šæ•°é‡çš„æ•°æ®æ¥å±•ç¤ºsearch barå¦‚ä½•å·¥ä½œçš„; åœ¨çœŸæ­£çš„äº§å“çº§åº”ç”¨ä¸­, ä½ å¯èƒ½ä¼šæœ‰ä¸Šåƒæ¡çš„æ•°æ®ã€‚ä¸è¿‡æ— è®ºæ€æ ·ï¼Œä¸ç®¡ç¨‹åºå­˜åœ¨ä¸Šåƒçš„æ•°æ®è¿˜æ˜¯åªæœ‰ä¸€ç‚¹ç‚¹æ•°æ®ï¼Œç”¨åˆ°çš„æ–¹æ³•éƒ½æ˜¯ä¸€æ ·çš„ã€‚ å‡ºè‰²çš„æ‰©å±•æ€§!</p><br><p>å¡«å……ä½ çš„ <code>candies</code> æ•°ç»„,æ·»åŠ ä¸‹é¢çš„ä»£ç åˆ° <code>viewDidLoad()</code>, ä»£ç æ·»åŠ åœ¨ <code>super.viewDidLoad()</code>è°ƒç”¨å:</p><br><br><div class="wp_codebox"><table><tr id="p1137721"><td class="code" id="p113772code1"><pre class="swift" style="font-family:monospace;">candies <span style="color: #002200;">=</span> <span style="color: #002200;">&#91;</span><br>  Candy<span style="color: #002200;">&#40;</span>category<span style="color: #002200;">:</span><span style="color: #bf1d1a;">&quot;Chocolate&quot;</span>, name<span style="color: #002200;">:</span><span style="color: #bf1d1a;">&quot;Chocolate Bar&quot;</span><span style="color: #002200;">&#41;</span>,<br>  Candy<span style="color: #002200;">&#40;</span>category<span style="color: #002200;">:</span><span style="color: #bf1d1a;">&quot;Chocolate&quot;</span>, name<span style="color: #002200;">:</span><span style="color: #bf1d1a;">&quot;Chocolate Chip&quot;</span><span style="color: #002200;">&#41;</span>,<br>  Candy<span style="color: #002200;">&#40;</span>category<span style="color: #002200;">:</span><span style="color: #bf1d1a;">&quot;Chocolate&quot;</span>, name<span style="color: #002200;">:</span><span style="color: #bf1d1a;">&quot;Dark Chocolate&quot;</span><span style="color: #002200;">&#41;</span>,<br>  Candy<span style="color: #002200;">&#40;</span>category<span style="color: #002200;">:</span><span style="color: #bf1d1a;">&quot;Hard&quot;</span>, name<span style="color: #002200;">:</span><span style="color: #bf1d1a;">&quot;Lollipop&quot;</span><span style="color: #002200;">&#41;</span>,<br>  Candy<span style="color: #002200;">&#40;</span>category<span style="color: #002200;">:</span><span style="color: #bf1d1a;">&quot;Hard&quot;</span>, name<span style="color: #002200;">:</span><span style="color: #bf1d1a;">&quot;Candy Cane&quot;</span><span style="color: #002200;">&#41;</span>,<br>  Candy<span style="color: #002200;">&#40;</span>category<span style="color: #002200;">:</span><span style="color: #bf1d1a;">&quot;Hard&quot;</span>, name<span style="color: #002200;">:</span><span style="color: #bf1d1a;">&quot;Jaw Breaker&quot;</span><span style="color: #002200;">&#41;</span>,<br>  Candy<span style="color: #002200;">&#40;</span>category<span style="color: #002200;">:</span><span style="color: #bf1d1a;">&quot;Other&quot;</span>, name<span style="color: #002200;">:</span><span style="color: #bf1d1a;">&quot;Caramel&quot;</span><span style="color: #002200;">&#41;</span>,<br>  Candy<span style="color: #002200;">&#40;</span>category<span style="color: #002200;">:</span><span style="color: #bf1d1a;">&quot;Other&quot;</span>, name<span style="color: #002200;">:</span><span style="color: #bf1d1a;">&quot;Sour Chew&quot;</span><span style="color: #002200;">&#41;</span>,<br>  Candy<span style="color: #002200;">&#40;</span>category<span style="color: #002200;">:</span><span style="color: #bf1d1a;">&quot;Other&quot;</span>, name<span style="color: #002200;">:</span><span style="color: #bf1d1a;">&quot;Gummi Bear&quot;</span><span style="color: #002200;">&#41;</span><br><span style="color: #002200;">&#93;</span></pre></td></tr></table></div>

<p>å†æ¬¡ç¼–è¯‘è¿è¡Œä½ çš„å·¥ç¨‹ã€‚å› ä¸ºtable viewçš„ä»£ç†å’Œæ•°æ®æºæ–¹æ³•éƒ½å·²ç»å®ç°äº†ï¼Œç°åœ¨ä½ å¯ä»¥çœ‹è§ä¸€ä¸ªæœ‰æ•°æ®çš„table viewäº†: </p><br><div align="center"><img src="http://www.raywenderlich.com/wp-content/uploads/2015/09/UISearchController-Data-281x500.png" width="281" height="500" class="aligncenter size-large wp-image-113861" srcset="https://cdn2.raywenderlich.com/wp-content/uploads/2015/09/UISearchController-Data-281x500.png 281w, https://cdn2.raywenderlich.com/wp-content/uploads/2015/09/UISearchController-Data-180x320.png 180w, https://cdn2.raywenderlich.com/wp-content/uploads/2015/09/UISearchController-Data.png 750w" sizes="(max-width: 281px) 100vw, 281px"></div><br><p>é€‰æ‹©åˆ—è¡¨çš„ä¸€è¡Œï¼Œç‚¹å‡»è¿›å…¥ä¼šå±•ç¤ºå¯¹åº”ç³–æœçš„è¯¦æƒ…é¡µ:</p><br><div align="center"><img src="http://www.raywenderlich.com/wp-content/uploads/2015/09/darkchocolate.png" width="281" height="500" class="aligncenter size-large wp-image-115841" srcset="https://cdn2.raywenderlich.com/wp-content/uploads/2015/09/darkchocolate.png 375w, https://cdn2.raywenderlich.com/wp-content/uploads/2015/09/darkchocolate-180x320.png 180w, https://cdn2.raywenderlich.com/wp-content/uploads/2015/09/darkchocolate-281x500.png 281w" sizes="(max-width: 281px) 100vw, 281px"></div><br><p>è¿™ä¹ˆå¤šçš„ç³–æœï¼Œè¿™ä¹ˆå°‘çš„æ—¶é—´æ‰¾åˆ°ä½ æƒ³è¦çš„! ä½ éœ€è¦ä¸€ä¸ª<code>UISearchBar</code>.</p><br><h2>UISearchControllerä»‹ç»</h2><br><p>å¦‚æœä½ æŸ¥çœ‹<code>UISearchController</code> æ–‡æ¡£, ä½ ä¼šå‘ç°è¿™ä¸ªæ–‡æ¡£æ‡’çš„ä»¤äººå‘æŒ‡ã€‚ ä»–ä¸€ç‚¹æœç´¢å·¥ä½œéƒ½ä¸åšã€‚ è¿™ä¸ªç±»åªæ˜¯æä¾›ç”¨æˆ·é¢„æœŸå¾—åˆ°çš„æ ‡å‡†æ¥å£è€Œå·²ã€‚</p><br><p><code>UISearchController</code> è°ƒç”¨ä»£ç†æ–¹æ³•å‘ŠçŸ¥ä½ çš„åº”ç”¨å…¶ä»–åœ°æ–¹ï¼Œä½ çš„ç”¨æˆ·æ­£åœ¨åšä»€ä¹ˆã€‚ä½ å¿…é¡»è‡ªå·±å®ç°æ‰€æœ‰çš„å‡½æ•°æ¥åšå­—ç¬¦ä¸²çš„åŒ¹é…å·¥ä½œã€‚</p><br><p>è™½ç„¶è¿™çœ‹èµ·æ¥æœ‰ç‚¹å“äºº, ä½†æ˜¯å†™è‡ªå®šä¹‰çš„æœç´¢åŠŸèƒ½ä½ å¯ä»¥è‡ªå·±æ§åˆ¶å‡†ç¡®çš„è¿”å›ç»“æœã€‚ ä½ çš„ç”¨æˆ·ä¼šéå¸¸èµèµè¿™ç§æ™ºèƒ½å¿«é€Ÿçš„æœç´¢ã€‚</p><br><p>å¦‚æœä½ è¿‡å»ç”¨è¿‡æœç´¢åˆ—è¡¨, ä½ åº”è¯¥ç†Ÿæ‚‰<code>UISearchDisplayController</code>ã€‚ ä» iOS 8å¼€å§‹, è¿™ä¸ªç±»å·²ç»è¢«å¼ƒç”¨ï¼Œç°åœ¨å¼€å§‹ä½¿ç”¨ <code>UISearchController</code>, è¿™ä¸ªç±»ç®€åŒ–äº†æœç´¢çš„æµç¨‹ã€‚</p><br><p>ä¸èµ°è¿çš„æ˜¯, å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™, Interface Builder è¿˜ä¸æ”¯æŒ <code>UISearchController</code>, å› æ­¤ä½ è¦è‡ªå·±æ‰‹åŠ¨åˆ›å»ºä½ çš„UIã€‚</p><br><p>åœ¨ <em>MasterViewController.swift</em>, æ·»åŠ ä¸€ä¸ªæ–°çš„å±æ€§:</p>

<div class="wp_codebox"><table><tr id="p1137722"><td class="code" id="p113772code2"><pre class="swift" style="font-family:monospace;"><span style="color: #a61390;">let</span> searchController <span style="color: #002200;">=</span> UISearchController<span style="color: #002200;">&#40;</span>searchResultsController<span style="color: #002200;">:</span> <span style="color: #a61390;">nil</span><span style="color: #002200;">&#41;</span></pre></td></tr></table></div>

<p>é€šè¿‡åˆå§‹åŒ– <code>UISearchController</code> ä¸å¸¦ <code>searchResultsController</code>, å‘Šè¯‰æœç´¢é¡µé¢ä½ è¦ç”¨ç›¸åŒçš„æœç´¢è§†å›¾æ¥å±•ç¤ºæœç´¢ç»“æœã€‚å¦‚æœä½ åœ¨è¿™é‡Œç”¨ä¸åŒçš„è§†å›¾æ§åˆ¶å™¨ï¼Œé‚£æœç´¢ç»“æœå°±å±•ç¤ºåœ¨æ›¿ä»£çš„è§†å›¾é‡Œã€‚</p><br><p>ä¸‹ä¸€æ­¥, ä½ éœ€è¦ç»™ä½ çš„æœç´¢è§†å›¾æ§åˆ¶å™¨é…ç½®ä¸€äº›å‚æ•°ã€‚è¿˜æ˜¯åœ¨ <em>MasterViewController.swift</em>é‡Œé¢, åœ¨ <code>viewDidLoad()</code>åé¢æ·»åŠ å¦‚ä¸‹ä»£ç :</p>

<div class="wp_codebox"><table><tr id="p1137723"><td class="code" id="p113772code3"><pre class="swift" style="font-family:monospace;">  searchController.searchResultsUpdater <span style="color: #002200;">=</span> <span style="color: #a61390;">self</span><br>  searchController.dimsBackgroundDuringPresentation <span style="color: #002200;">=</span> <span style="color: #a61390;">false</span><br>  definesPresentationContext <span style="color: #002200;">=</span> <span style="color: #a61390;">true</span><br>  tableView.tableHeaderView <span style="color: #002200;">=</span> searchController.searchBar</pre></td></tr></table></div>

<p>è¿™å„¿æ˜¯ä½ æ·»åŠ ä»£ç çš„è¯´æ˜:</p><br><ol><br><li><code>searchResultsUpdater</code> æ˜¯ <code>UISearchController</code>çš„å±æ€§éµå®ˆ <code>UISearchResultsUpdating</code>åè®®ã€‚ å½“<code>UISearchBar</code>ä¸­è¾“å…¥çš„æ–‡å­—æ”¹å˜æ—¶ï¼Œè¯¥åè®®ä¼šé€šçŸ¥ä½ çš„ç±». è¿‡ä¼šä½ å°±ä¼šåœ¨ä½ çš„ç±»å®ç°è¿™ä¸ªåè®®çš„ã€‚</li><br><li>é»˜è®¤æƒ…å†µä¸‹, <code>UISearchController</code>å‡ºç°æ—¶è§†å›¾ä¼šé»¯æ·¡ä¸‹æ¥ã€‚ å½“ä½ ä½¿ç”¨åˆ«çš„è§†å›¾æ§åˆ¶å™¨ä½œä¸º<code>searchResultsController</code>æ—¶ä¼šå¾ˆæœ‰ç”¨. è¿™ä¸ªæƒ…å†µä¸‹, ä½ å·²ç»è®¾ç½®å½“å‰è§†å›¾æ¥æ˜¾ç¤ºç»“æœï¼Œå› æ­¤ä½ ä¸å¸Œæœ›è§†å›¾æ˜¯é»¯æ·¡çš„ã€‚</li><br><li>é€šè¿‡åœ¨è§†å›¾æ§åˆ¶å™¨è®¾ç½®<code>definesPresentationContext</code> ä¸º <code>true</code>, å½“<code>UISearchController</code> å¤„äºæ¿€æ´»çŠ¶æ€æ˜¯ï¼Œç¡®ä¿ç”¨æˆ·åœ¨å¯¼èˆªåˆ°åˆ«çš„é¡µé¢å,æœç´¢æ¡ä¸ä¼šç»§ç»­ç•™åœ¨å±å¹•ä¸Šã€‚</li><br><li>æœ€å, æ·»åŠ  <code>searchBar</code> åˆ°åˆ—è¡¨çš„ <code>tableHeaderView</code>ã€‚è®°ä½ Interface Builder è¿˜ä¸å…¼å®¹<code>UISearchController</code>, è¿™ä¸ªå¾ˆå¿…è¦ã€‚</li><br></ol><br><h3>UISearchResultsUpdating å’Œ Filtering</h3><br><p>å»ºç«‹å¥½æœç´¢æ§åˆ¶ä¹‹å, ä½ éœ€è¦åšä¸€äº›ç¼–ç å·¥ä½œæ¥è®©å®ƒå·¥ä½œã€‚ é¦–å…ˆ, åœ¨<code>MasterViewController</code>é¡¶éƒ¨é™„è¿‘æ·»åŠ ä¸‹é¢çš„å±æ€§:</p>

<div class="wp_codebox"><table><tr id="p1137724"><td class="code" id="p113772code4"><pre class="swift" style="font-family:monospace;"><span style="color: #a61390;">var</span> filteredCandies <span style="color: #002200;">=</span> <span style="color: #002200;">&#91;</span>Candy<span style="color: #002200;">&#93;</span><span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span></pre></td></tr></table></div>

<p>è¿™ä¸ªå±æ€§ç”¨ä¾‹ä¿å­˜ç”¨æˆ·æ­£åœ¨æœç´¢çš„ç³–æœã€‚ ä¸‹ä¸€æ­¥, æ·»åŠ ä¸‹é¢çš„è¾…åŠ©æ–¹æ³•åˆ° <code>MasterViewController</code>:</p>

<div class="wp_codebox"><table><tr id="p1137725"><td class="code" id="p113772code5"><pre class="swift" style="font-family:monospace;"><span style="color: #a61390;">func</span> filterContentForSearchText<span style="color: #002200;">&#40;</span>searchText<span style="color: #002200;">:</span> <span style="color: #a61390;">String</span>, scope<span style="color: #002200;">:</span> <span style="color: #a61390;">String</span> <span style="color: #002200;">=</span> <span style="color: #bf1d1a;">&quot;All&quot;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>  filteredCandies <span style="color: #002200;">=</span> candies.<span style="color: #a61390;">filter</span> <span style="color: #002200;">&#123;</span> candy <span style="color: #a61390;">in</span><br>    <span style="color: #a61390;">return</span> candy.name.lowercaseString.containsString<span style="color: #002200;">&#40;</span>searchText.lowercaseString<span style="color: #002200;">&#41;</span><br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br>  tableView.reloadData<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br><span style="color: #002200;">&#125;</span></pre></td></tr></table></div>

<p>è¿™ä¸ªæ–¹æ³•ä¼šé€šè¿‡<code>searchText</code>è¿‡æ»¤<code>candies</code> æ•°æ®å¹¶æŠŠç»“æœæ”¾è¿›ä½ åˆšåˆšæ·»åŠ çš„ <code>filteredCandies</code> æ•°ç»„ã€‚ç°åœ¨ä¸ç”¨æ‹…å¿ƒ<code>scope</code> è¿™ä¸ªå‚æ•°, æ–‡ç« åé¢ä½ ä¼šç”¨åˆ°å®ƒã€‚</p><br><p>ä¸ºäº†è®©<code>MasterViewController</code> å“åº”æœç´¢æ¡, è¿˜éœ€è¦å®ç° <code>UISearchResultsUpdating</code>. æ‰“å¼€ <em>MasterViewController.swift</em> æ·»åŠ ä¸‹é¢çš„ç±»æ‰©å±•æ–¹æ³•, åœ¨ <code>MasterViewController</code> ä¸»ä½“å¤–:</p>

<div class="wp_codebox"><table><tr id="p1137726"><td class="code" id="p113772code6"><pre class="swift" style="font-family:monospace;">extension MasterViewController<span style="color: #002200;">:</span> UISearchResultsUpdating <span style="color: #002200;">&#123;</span><br>  <span style="color: #a61390;">func</span> updateSearchResultsForSearchController<span style="color: #002200;">&#40;</span>searchController<span style="color: #002200;">:</span> UISearchController<span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>    filterContentForSearchText<span style="color: #002200;">&#40;</span>searchController.searchBar.text<span style="color: #002200;">!</span><span style="color: #002200;">&#41;</span><br>  <span style="color: #002200;">&#125;</span><br><span style="color: #002200;">&#125;</span></pre></td></tr></table></div>

<p> <code>updateSearchResultsForSearchController(<em>:)</em></code> æ–¹æ³•æ˜¯å”¯ä¸€éœ€è¦å»å®ç°çš„ï¼Œç”¨æ¥éµå®ˆ<code>UISearchResultsUpdating</code> åè®®ã€‚</p><br><p>ç°åœ¨, æ¯å½“ç”¨æˆ·åœ¨æœç´¢æ¡æ·»åŠ æˆ–è€…ç§»é™¤æ–‡å­—çš„æ—¶å€™, <code>UISearchController</code> éƒ½ä¼šé€šè¿‡è¿™ä¸ªæ–¹æ³•é€šçŸ¥ <code>MasterViewController</code> ã€‚ è¿™ä¸ªæ–¹æ³•åªæ˜¯é€šè¿‡å½“å‰æœç´¢æ¡ä¸­çš„æ–‡å­—ç®€å•è°ƒç”¨ä¸€ä¸ªå¸®æ‰‹æ–¹æ³•(ä½ åˆšåˆšå®šä¹‰çš„)</p><br><p><code>filter()</code> éœ€è¦ä¸€ä¸ªé—­åŒ…ç±»å‹ <code>(candy: Candy) -&gt; Bool</code>. ç„¶åå¾ªç¯ä¾¿åˆ©æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ , ç„¶åè°ƒç”¨é—­åŒ…, ä¸ºæ¯ä¸ªå…ƒç´ ä¼ å…¥è¿™ä¸ªæ–‡å­—ã€‚</p><br><p>ä½ å¯ä»¥ç”¨è¿™ä¸ªæ–¹æ³•åˆ¤å®šæŸä¸ªç³–æœæ˜¯å¦æ˜¯éœ€è¦å±•ç¤ºç»™ç”¨æˆ·çš„ç»“æœçš„å…¶ä¸­ä¸€ä¸ªã€‚ è¦åšåˆ°è¿™ç‚¹, å¦‚æœå½“å‰çš„ç³–æœåŒ…å«åœ¨è¿‡æ»¤æ•°ç»„ä¸­ä½ éœ€è¦è¿”å› <code>true</code> , å¦‚æœä¸æ˜¯å°±è¿”å› <code>false</code> ã€‚</p><br><p>ä¸ºäº†ç¡®å®šè¿™ä¸ª, <code>containsString(:)</code> ç”¨æ¥æ£€æµ‹è¿™ä¸ªç³–æœçš„åå­—æ˜¯ä¸æ˜¯åŒ…å« <code>searchText</code>. ä½†æ˜¯åœ¨æ¯”è¾ƒå‰, ä½ éœ€è¦æŠŠä¸¤ä¸ªå­—ç¬¦ä¸²è½¬æ¢æˆå…¨å°å†™çš„å­—ç¬¦ä¸²ï¼Œç”¨ <code>lowercaseString</code> æ–¹æ³•ã€‚ </p><br><div class="note"><em>å¤‡æ³¨:</em> å¤§éƒ¨åˆ†æ—¶é—´, å½“æ‰§è¡Œæœç´¢çš„æ—¶å€™é€šè¿‡æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²çš„å°å†™ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ˜“è¿”å›å¤§å°å†™ä¸æ•æ„Ÿçš„æ¯”è¾ƒï¼Œç”¨æˆ·å¹¶ä¸ç”¨çƒ¦å¿ƒå¤§å°å†™çš„é—®é¢˜ã€‚ ç°åœ¨, ä½ è¾“å…¥ &#8220;Chocolate&#8221; æˆ–è€… &#8220;chocolate&#8221; ä»»ä½•ä¸€ä¸ªéƒ½ä¼šè¿”å›åŒ¹é…çš„ç³–æœã€‚ æ˜¯ä¸æ˜¯å¾ˆæœ‰ç”¨?! :]</div><br><p>ç¼–è¯‘å¹¶å…è®¸ç¨‹åº; ä½ ä¼šå‘ç°åˆ—è¡¨ä¸Šé¢ç°åœ¨æœ‰äº†Search Bar ã€‚</p><br><p>å¯æ˜¯, å¦‚æœä½ è¾“å…¥æœç´¢æ–‡å­—ä½ ä¼šå‘ç°ä¾ç„¶çœ‹ä¸åˆ°ä»»ä½•è¿‡æ»¤çš„ç»“æœã€‚ è¦ç»™ä»€ä¹ˆ? è¿™ä¸ªå¾ˆç®€å•ï¼Œå› ä¸ºä½ è¿˜æ²¡æœ‰å†™ä»»ä½•çš„ä»£ç å»å‘Šè¯‰åˆ—è¡¨å¦‚ä½•ä½¿ç”¨è¿‡æ»¤ç»“æœã€‚</p><br><p>å›åˆ° <em>MasterViewController.swift</em>, æ›¿æ¢ <code>tableView(_:numberOfRowsInSection:)</code> ç”¨ä¸‹é¢çš„ä»£ç  :</p>

<div class="wp_codebox"><table><tr id="p1137727"><td class="code" id="p113772code7"><pre class="swift" style="font-family:monospace;"><span style="color: #a61390;">override</span> <span style="color: #a61390;">func</span> tableView<span style="color: #002200;">&#40;</span>tableView<span style="color: #002200;">:</span> <span style="color: #400080;">UITableView</span>, numberOfRowsInSection section<span style="color: #002200;">:</span> <span style="color: #a61390;">Int</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">-</span>&gt; <span style="color: #a61390;">Int</span> <span style="color: #002200;">&#123;</span><br>  <span style="color: #a61390;">if</span> searchController.active <span style="color: #002200;">&amp;&amp;</span> searchController.searchBar.text <span style="color: #002200;">!=</span> <span style="color: #bf1d1a;">&quot;&quot;</span> <span style="color: #002200;">&#123;</span><br>    <span style="color: #a61390;">return</span> filteredCandies.<span style="color: #a61390;">count</span><br>  <span style="color: #002200;">&#125;</span><br>  <span style="color: #a61390;">return</span> candies.<span style="color: #a61390;">count</span><br><span style="color: #002200;">&#125;</span></pre></td></tr></table></div>

<p>è¿™å„¿å˜åŒ–ä¸å¤§, ä½ åªæ˜¯ç®€å•åˆ¤æ–­ç”¨æˆ·æ˜¯å¦åœ¨æœç´¢, ç„¶åç”¨è¿‡æ»¤çš„ç»“æœæˆ–è€…æ­£å¸¸çš„ç³–æœæ¥åšæ•°æ®æºã€‚</p><br><p>ä¸‹ä¸€æ­¥, æ›¿æ¢ <code>tableView(_:cellForRowAtIndexPath:)</code> ç”¨:</p>

<div class="wp_codebox"><table><tr id="p1137728"><td class="code" id="p113772code8"><pre class="swift" style="font-family:monospace;"><span style="color: #a61390;">override</span> <span style="color: #a61390;">func</span> tableView<span style="color: #002200;">&#40;</span>tableView<span style="color: #002200;">:</span> <span style="color: #400080;">UITableView</span>, cellForRowAtIndexPath indexPath<span style="color: #002200;">:</span> <span style="color: #400080;">NSIndexPath</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">-</span>&gt; <span style="color: #400080;">UITableViewCell</span> <span style="color: #002200;">&#123;</span><br>  <span style="color: #a61390;">let</span> cell <span style="color: #002200;">=</span> tableView.dequeueReusableCellWithIdentifier<span style="color: #002200;">&#40;</span><span style="color: #bf1d1a;">&quot;Cell&quot;</span>, forIndexPath<span style="color: #002200;">:</span> indexPath<span style="color: #002200;">&#41;</span><br>  <span style="color: #a61390;">let</span> candy<span style="color: #002200;">:</span> Candy<br>  <span style="color: #a61390;">if</span> searchController.active <span style="color: #002200;">&amp;&amp;</span> searchController.searchBar.text <span style="color: #002200;">!=</span> <span style="color: #bf1d1a;">&quot;&quot;</span> <span style="color: #002200;">&#123;</span><br>    candy <span style="color: #002200;">=</span> filteredCandies<span style="color: #002200;">&#91;</span>indexPath.row<span style="color: #002200;">&#93;</span><br>  <span style="color: #002200;">&#125;</span> <span style="color: #a61390;">else</span> <span style="color: #002200;">&#123;</span><br>    candy <span style="color: #002200;">=</span> candies<span style="color: #002200;">&#91;</span>indexPath.row<span style="color: #002200;">&#93;</span><br>  <span style="color: #002200;">&#125;</span><br>  cell.textLabel?.text <span style="color: #002200;">=</span> candy.name<br>  cell.detailTextLabel?.text <span style="color: #002200;">=</span> candy.category<br>  <span style="color: #a61390;">return</span> cell<br><span style="color: #002200;">&#125;</span></pre></td></tr></table></div>

<p>ä¸¤ä¸ªæ–¹æ³•ç°åœ¨éƒ½ä¼šè°ƒç”¨ <code>searchController</code>çš„å±æ€§<code>active</code> æ¥åˆ¤æ–­æ˜¾ç¤ºå“ªä¸ªæ•°ç»„ã€‚ </p><br><p>å½“ç”¨æˆ·ç‚¹å‡» Search Barçš„æœç´¢åŒºåŸŸæ—¶, <code>active</code> ä¼šè‡ªåŠ¨è®¾ç½®ä¸º <code>true</code>. å¦‚æœæœç´¢æ§åˆ¶å™¨æ˜¯æ¿€æ´»çš„, ä½ ä¼šçœ‹åˆ°ç”¨æˆ·æ˜¯å¦åœ¨è¾“å…¥æ–‡å­—ã€‚ å¦‚æœä»–ä»¬è¾“å…¥äº†, <code>filteredCandies</code> æ•°ç»„ä¼šè¿”å›æ•°æ®. å¦åˆ™, è¿”å›æ‰€æœ‰çš„æ•°æ®ã€‚</p><br><p>å›æƒ³ä¸€ä¸‹, æœç´¢æ§åˆ¶å™¨è‡ªåŠ¨å¤„ç†å±•ç¤ºå’Œéšè—ç»“æœ, æ‰€ä»¥ä½ çš„æ‰€æœ‰ä»£ç å¿…é¡»æ ¹æ®æ§åˆ¶å™¨çš„çŠ¶æ€å’Œç”¨æˆ·æ˜¯å¦è¾“å…¥æ¥æä¾›æ­£ç¡®çš„æ•°æ® (è¿‡æ»¤çš„æˆ–è€…æœªè¿‡æ»¤çš„) ã€‚</p><br><div align="center"><img src="http://www.raywenderlich.com/wp-content/uploads/2015/09/ragecomic.png" width="651" height="481" class="aligncenter size-full wp-image-114198" srcset="https://cdn4.raywenderlich.com/wp-content/uploads/2015/09/ragecomic.png 651w, https://cdn4.raywenderlich.com/wp-content/uploads/2015/09/ragecomic-433x320.png 433w" sizes="(max-width: 651px) 100vw, 651px"></div><br><p>ç¼–è¯‘å¹¶å…è®¸ç¨‹åºã€‚ ä½ å·²ç»å¾—åˆ°ä¸€ä¸ªå¯ä»¥è¿è¡Œçš„è¿‡æ»¤åˆ—è¡¨è¡Œçš„ Search Barã€‚ å¥½è€¶! </p><br><div align="center"><img src="http://www.raywenderlich.com/wp-content/uploads/2015/09/UISearchController-Filter-281x500.png" width="281" height="500" class="aligncenter size-large wp-image-113864" srcset="https://cdn5.raywenderlich.com/wp-content/uploads/2015/09/UISearchController-Filter-281x500.png 281w, https://cdn5.raywenderlich.com/wp-content/uploads/2015/09/UISearchController-Filter-180x320.png 180w, https://cdn5.raywenderlich.com/wp-content/uploads/2015/09/UISearchController-Filter.png 750w" sizes="(max-width: 281px) 100vw, 281px"></div><br><p>ç©ä¸€ä¼šè¿™ä¸ªç¨‹åºçœ‹çœ‹èƒ½ä¸èƒ½æœåˆ°å„ç§ç³–æœã€‚</p><br><p>å­˜åœ¨ä¸æ­¢ä¸€ä¸ªé—®é¢˜ã€‚å½“ä½ é€‰æ‹©æœç´¢åˆ—è¡¨çš„ä¸€è¡Œ, ä½ å¯èƒ½æ³¨æ„åˆ°äº†è¯¦æƒ…é¡µå±•ç¤ºçš„æ˜¯é”™è¯¯çš„ç³–æœ! æ˜¯æ—¶å€™ä¿®å¤è¿™ä¸ªé—®é¢˜äº†ã€‚</p><br><h2>ç»™è¯¦æƒ…é¡µä¼ é€’æ•°æ®</h2><br><p>å½“ä¼ é€’ä¿¡æ¯ç»™è¯¦æƒ…é¡µæ—¶, ä½ è¦ç¡®ä¿æ§åˆ¶å™¨çŸ¥é“ç”¨æˆ·åœ¨ä½¿ç”¨å“ªä¸ªå†…å®¹: æ˜¯æ•´ä¸ªåˆ—è¡¨è¿˜æ˜¯æœç´¢çš„ç»“æœã€‚ è¿˜æ˜¯åœ¨ <em>MasterViewController.swift</em>, åœ¨ <code>prepareForSegue(_:sender:)</code>é‡Œ, æ‰¾åˆ°ä¸‹é¢çš„ä»£ç :</p>

<div class="wp_codebox"><table><tr id="p1137729"><td class="code" id="p113772code9"><pre class="swift" style="font-family:monospace;"><span style="color: #a61390;">let</span> candy <span style="color: #002200;">=</span> candies<span style="color: #002200;">&#91;</span>indexPath.row<span style="color: #002200;">&#93;</span></pre></td></tr></table></div>

<p>æ›¿æ¢æˆä¸‹é¢çš„ä»£ç :</p>

<div class="wp_codebox"><table><tr id="p11377210"><td class="code" id="p113772code10"><pre class="swift" style="font-family:monospace;"><span style="color: #a61390;">let</span> candy<span style="color: #002200;">:</span> Candy<br><span style="color: #a61390;">if</span> searchController.active <span style="color: #002200;">&amp;&amp;</span> searchController.searchBar.text <span style="color: #002200;">!=</span> <span style="color: #bf1d1a;">&quot;&quot;</span> <span style="color: #002200;">&#123;</span><br>  candy <span style="color: #002200;">=</span> filteredCandies<span style="color: #002200;">&#91;</span>indexPath.row<span style="color: #002200;">&#93;</span><br><span style="color: #002200;">&#125;</span> <span style="color: #a61390;">else</span> <span style="color: #002200;">&#123;</span><br>  candy <span style="color: #002200;">=</span> candies<span style="color: #002200;">&#91;</span>indexPath.row<span style="color: #002200;">&#93;</span><br><span style="color: #002200;">&#125;</span></pre></td></tr></table></div>

<p>ä½ åœ¨è¿™é‡Œåšäº† <code>tableView(<em>:numberOfRowsInSection:)</em></code> å’Œ <code>tableView(:cellForRowAtIndexPath:)</code> ç›¸åŒçš„åˆ¤æ–­, ä¸è¿‡ç°åœ¨ï¼Œä½ ç»™è¯¦æƒ…é¡µæä¾›äº†åˆé€‚çš„ç³–æœå¯¹è±¡å½“ä½ æ‰§è¡Œsegueçš„æ—¶å€™ã€‚</p><br><p>æ­¤æ—¶ç¼–è¯‘å¹¶å…è®¸ç¨‹åºï¼Œçœ‹çœ‹å¯¼èˆªåˆ°æ­£ç¡®çš„è¯¦æƒ…é¡µæ˜¯å¤šå°‘è½»æ¾ï¼Œæ— è®ºæ˜¯ä»ä¸»ç•Œé¢è¿˜æ˜¯æœç´¢é¡µé¢ã€‚ </p><br><div align="center"><img src="http://www.raywenderlich.com/wp-content/uploads/2015/09/CandySearch-DetailView-281x500.png" width="281" height="500" class="aligncenter size-large wp-image-114436" srcset="https://cdn2.raywenderlich.com/wp-content/uploads/2015/09/CandySearch-DetailView-281x500.png 281w, https://cdn2.raywenderlich.com/wp-content/uploads/2015/09/CandySearch-DetailView-180x320.png 180w, https://cdn2.raywenderlich.com/wp-content/uploads/2015/09/CandySearch-DetailView.png 750w" sizes="(max-width: 281px) 100vw, 281px"></div><br><h2>åˆ›å»ºä¸€ä¸ª Scope Bar æ¥è¿‡æ»¤ç»“æœ</h2><br><p>å¦‚æœä½ æƒ³æä¾›ç»™ç”¨æˆ·å…¶ä»–çš„æ–¹å¼æ¥è¿‡æ»¤ç»“æœ, ä½ å¯ä»¥æ·»åŠ ä¸€ä¸ª <em>Scope Bar</em> ç»“åˆä½ çš„æœç´¢æ¡é€šè¿‡åˆ†ç±»æ¥è¿‡æ»¤é¡¹ç›®ã€‚ è¿™äº›åˆ†ç±»æ˜¯ä½ åœ¨åˆ›å»ºç³–æœæ•°ç»„æ—¶æŒ‡å®šç»™ <code>Candy</code> å¯¹è±¡çš„: <em>Chocolate</em>, <em>Hard</em>, and <em>å…¶ä»–</em> ã€‚</p><br><p>é¦–å…ˆ, ä½ è¦å…ˆåœ¨<code>MasterViewController</code>åˆ›å»ºä¸€ä¸ªscope bar. è¿™ä¸ªscope baræ˜¯ä¸ªåˆ†æ®µæ§ä»¶ï¼Œå¯ä»¥é€šè¿‡ç‰¹å®šèŒƒå›´æ¥ç¼©å°æœç´¢ã€‚ ä¸€ä¸ªscopeå°±æ˜¯ä½ å®šä¹‰çš„é‚£æ ·ã€‚ è¿™é‡Œä»–æ˜¯ä¸€ä¸ªç³–æœçš„åˆ†ç±», ä¸è¿‡scopesä¹Ÿå¯ä»¥æ˜¯ç±»å‹, èŒƒå›´, æˆ–è€…å…¶ä»–å®Œå…¨ä¸åŒçš„ä¸œè¥¿ã€‚</p><br><p>ä½¿ç”¨scope barå’Œå®ç°ä¸€ä¸ªé¢å¤–çš„ä»£ç†æ–¹æ³•ä¸€æ ·å®¹æ˜“ã€‚</p><br><p>åœ¨ <em>MasterViewController.swift</em>, ä½ è¦æ·»åŠ å¦ä¸€ä¸ªæ‰©å±•ï¼Œéœ€è¦éµå®ˆ <code>UISearchBarDelegate</code>åè®®. åœ¨ <code>UISearchResultsUpdating</code> åé¢æ·»åŠ æ‰©å±•æ–¹æ³•:</p>

<div class="wp_codebox"><table><tr id="p11377211"><td class="code" id="p113772code11"><pre class="swift" style="font-family:monospace;">extension MasterViewController<span style="color: #002200;">:</span> <span style="color: #2a6f76;">UISearchBarDelegate</span> <span style="color: #002200;">&#123;</span><br>  <span style="color: #a61390;">func</span> searchBar<span style="color: #002200;">&#40;</span>searchBar<span style="color: #002200;">:</span> <span style="color: #400080;">UISearchBar</span>, selectedScopeButtonIndexDidChange selectedScope<span style="color: #002200;">:</span> <span style="color: #a61390;">Int</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>    filterContentForSearchText<span style="color: #002200;">&#40;</span>searchBar.text<span style="color: #002200;">!</span>, scope<span style="color: #002200;">:</span> searchBar.scopeButtonTitles<span style="color: #002200;">!</span><span style="color: #002200;">&#91;</span>selectedScope<span style="color: #002200;">&#93;</span><span style="color: #002200;">&#41;</span><br>  <span style="color: #002200;">&#125;</span><br><span style="color: #002200;">&#125;</span></pre></td></tr></table></div>

<p>è¿™ä¸ªä»£ç†æ–¹æ³•åœ¨ç”¨æˆ·åˆ‡æ¢scopeæ—¶å€™è°ƒç”¨. å½“æ–¹æ³•æ‰§è¡Œæ—¶, ä½ æƒ³è¦é‡åšè¿‡æ»¤, å°±è¦è°ƒç”¨<code>filterContentForSearchText(<em>:scope:)</em></code> ç”¨æ–°çš„scopeã€‚</p><br><p>ç°åœ¨ä¿®æ”¹ <code>filterContentForSearchText(:scope:)</code> æ¥è·å–æä¾›ç»™è´¦æˆ·çš„scope:</p>

<div class="wp_codebox"><table><tr id="p11377212"><td class="code" id="p113772code12"><pre class="swift" style="font-family:monospace;"><span style="color: #a61390;">func</span> filterContentForSearchText<span style="color: #002200;">&#40;</span>searchText<span style="color: #002200;">:</span> <span style="color: #a61390;">String</span>, scope<span style="color: #002200;">:</span> <span style="color: #a61390;">String</span> <span style="color: #002200;">=</span> <span style="color: #bf1d1a;">&quot;All&quot;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>  filteredCandies <span style="color: #002200;">=</span> candies.<span style="color: #a61390;">filter</span> <span style="color: #002200;">&#123;</span> candy <span style="color: #a61390;">in</span><br>    <span style="color: #a61390;">let</span> categoryMatch <span style="color: #002200;">=</span> <span style="color: #002200;">&#40;</span>scope <span style="color: #002200;">==</span> <span style="color: #bf1d1a;">&quot;All&quot;</span><span style="color: #002200;">&#41;</span> || <span style="color: #002200;">&#40;</span>candy.category <span style="color: #002200;">==</span> scope<span style="color: #002200;">&#41;</span><br>    <span style="color: #a61390;">return</span>  categoryMatch <span style="color: #002200;">&amp;&amp;</span> candy.name.lowercaseString.containsString<span style="color: #002200;">&#40;</span>searchText.lowercaseString<span style="color: #002200;">&#41;</span><br>  <span style="color: #002200;">&#125;</span><br>&nbsp;<br>  tableView.reloadData<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br><span style="color: #002200;">&#125;</span></pre></td></tr></table></div>

<p>è¿™ä¸ªæ–¹æ³•åˆ¤æ–­æä¾›çš„scopeæ˜¯ &#8220;All&#8221; è¿˜æ˜¯åŒ¹é…ç³–æœçš„åˆ†ç±»ã€‚ åªæœ‰è¿™æ ·æµ‹è¯•ç³–æœåæ‰çŸ¥é“æ˜¯å¦å°†å®ƒåŠ å…¥ <code>filteredCandies</code>.</p><br><p>ä½ å¿«æå®šäº†, ä¸è¿‡scopeè¿‡æ»¤æœºåˆ¶è¿˜ä¸èƒ½å®Œå…¨å·¥ä½œã€‚ä½ éœ€è¦ä¿®æ”¹ <code>updateSearchResultsForSearchController(_:)</code> , åœ¨ç¬¬ä¸€ä¸ªç±»æ‰©å±•æ–¹æ³•ä¸­ï¼Œä½ ç”¨æ¥ä¼ é€’å½“å‰é€‰æ‹©çš„scopeçš„:</p>

<div class="wp_codebox"><table><tr id="p11377213"><td class="code" id="p113772code13"><pre class="swift" style="font-family:monospace;"><span style="color: #a61390;">func</span> updateSearchResultsForSearchController<span style="color: #002200;">&#40;</span>searchController<span style="color: #002200;">:</span> UISearchController<span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br>  <span style="color: #a61390;">let</span> searchBar <span style="color: #002200;">=</span> searchController.searchBar<br>  <span style="color: #a61390;">let</span> scope <span style="color: #002200;">=</span> searchBar.scopeButtonTitles<span style="color: #002200;">!</span><span style="color: #002200;">&#91;</span>searchBar.selectedScopeButtonIndex<span style="color: #002200;">&#93;</span><br>  filterContentForSearchText<span style="color: #002200;">&#40;</span>searchController.searchBar.text<span style="color: #002200;">!</span>, scope<span style="color: #002200;">:</span> scope<span style="color: #002200;">&#41;</span><br><span style="color: #002200;">&#125;</span></pre></td></tr></table></div>

<p>è¿˜å‰©ä¸ªé—®é¢˜, ç”¨æˆ·è¿˜çœ‹ä¸åˆ°scope bar ! æ¥æ·»åŠ scope bar, å¯¼èˆªåˆ° <em>MasterViewController.swift</em>, åœ¨<code>viewDidLoad()</code>åˆ›å»ºæœç´¢æ§åˆ¶å™¨ä¹‹å, æ·»åŠ ä¸‹é¢çš„ä»£ç :</p>

<div class="wp_codebox"><table><tr id="p11377214"><td class="code" id="p113772code14"><pre class="swift" style="font-family:monospace;">searchController.searchBar.scopeButtonTitles <span style="color: #002200;">=</span> <span style="color: #002200;">&#91;</span><span style="color: #bf1d1a;">&quot;All&quot;</span>, <span style="color: #bf1d1a;">&quot;Chocolate&quot;</span>, <span style="color: #bf1d1a;">&quot;Hard&quot;</span>, <span style="color: #bf1d1a;">&quot;Other&quot;</span><span style="color: #002200;">&#93;</span><br>searchController.searchBar.delegate <span style="color: #002200;">=</span> <span style="color: #a61390;">self</span></pre></td></tr></table></div>

<p></p><p>è¿™ä¸ªä¼šåœ¨æœç´¢æ¡ä¸‹é¢æ·»åŠ ä¸€ä¸ªscope bar, å¹¶ä¸”å¸¦æœ‰ä½ æŒ‡å®šçš„ç³–æœåˆ†ç±»ã€‚ åŒæ—¶åŒ…å«ç”¨æ¥å¿½ç•¥ç³–æœåˆ†ç±»çš„ <em>&#8220;All&#8221;</em> ã€‚</p><p></p>
<p></p><p>ç°åœ¨, å½“ä½ è¾“å…¥çš„æ—¶å€™, é€‰æ‹©çš„scopeæŒ‰é’®ä¼šå’Œæœç´¢æ–‡å­—ä¸€èµ·ä½¿ç”¨ã€‚ </p><p></p>
<p></p><p>ç¼–è¯‘è¿è¡Œç¨‹åºã€‚ è¯•ç€è¾“å…¥ä¸€äº›æœç´¢æ–‡å­—, åŒæ—¶æ”¹å˜scopeã€‚</p><p></p>
<div align="center"><img src="http://www.raywenderlich.com/wp-content/uploads/2015/09/UISearchController-Filter-with-Scope-281x500.png" width="281" height="500" class="aligncenter size-large wp-image-113863" srcset="https://cdn2.raywenderlich.com/wp-content/uploads/2015/09/UISearchController-Filter-with-Scope-281x500.png 281w, https://cdn2.raywenderlich.com/wp-content/uploads/2015/09/UISearchController-Filter-with-Scope-180x320.png 180w, https://cdn2.raywenderlich.com/wp-content/uploads/2015/09/UISearchController-Filter-with-Scope.png 750w" sizes="(max-width: 281px) 100vw, 281px"></div><br><p>è¾“å…¥ &#8220;caramel&#8221; scope è®¾ç½®ä¸º Allã€‚å®ƒå‡ºç°åœ¨åˆ—è¡¨é‡Œ, å¦‚æœä½ æŠŠscopeæ¢æˆChocolate, &#8220;caramel&#8221; æ¶ˆå¤±äº†ã€‚ å› ä¸ºå®ƒä¸æ˜¯å·§å…‹åŠ›ã€‚</p><br><h2>ä»è¿™é‡Œå»å“ªé‡Œå‘¢?</h2><br><p>æ­å–œ &#8211; ä½ ç°åœ¨æœ‰äº†ä¸€ä¸ªå¯ä»¥ç›´æ¥åœ¨ä¸»åˆ—è¡¨æœç´¢çš„ç¨‹åºã€‚ è¿™é‡Œæ˜¯ <a href="http://www.raywenderlich.com/wp-content/uploads/2015/09/CandySearch.zip" target="_blank" rel="external">å¯ä¸‹è½½çš„ç®€å•å·¥ç¨‹</a> å«æœ‰ä¸Šé¢æ‰€æœ‰çš„ä»£ç ã€‚</p><br><p>åˆ—è¡¨è§†å›¾åœ¨å„ç§ç¨‹åºé‡Œè¿ç”¨, æä¾›æœç´¢é€‰é¡¹æ˜¯ä¸ªå¥½çš„è§¦æ‘¸åŠŸèƒ½ã€‚ <code>UISearchBar</code> å’Œ <code>UISearchController</code>, iOS æä¾›äº†å¤§éƒ¨åˆ†çš„åŠŸèƒ½ï¼Œä½ æ²¡æœ‰ç†ç”±ä¸ç”¨è¿™ä¸ªåŠŸèƒ½ã€‚ åœ¨å¤§é‡åˆ—è¡¨ä¸­æ‰§è¡Œæœç´¢æ˜¯ç”¨æˆ·å¸Œæœ›å«æœ‰çš„åŠŸèƒ½; ä¸€æ—¦ä»–ä»¬å‘ç°æ²¡æœ‰è¿™ä¸ªåŠŸèƒ½ï¼Œä»–ä»¬ä¼šä¸é«˜å…´çš„ã€‚</p><br><div align="center"><img src="http://www.raywenderlich.com/wp-content/uploads/2012/07/nosearchfunction.jpg" width="400" height="361" class="size-full wp-image-19061" srcset="https://cdn2.raywenderlich.com/wp-content/uploads/2012/07/nosearchfunction.jpg 400w, https://cdn2.raywenderlich.com/wp-content/uploads/2012/07/nosearchfunction-250x225.jpg 250w, https://cdn2.raywenderlich.com/wp-content/uploads/2012/07/nosearchfunction-354x320.jpg 354w" sizes="(max-width: 400px) 100vw, 400px"></div>


]]></content>
    
    <summary type="html">
    
      &lt;div align=&quot;center&quot;&gt;&lt;img src=&quot;http://www.raywenderlich.com/wp-content/uploads/2015/09/UISearchController-Square.png&quot; width=&quot;250&quot; height=&quot;250
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>é¡¹ç›®ç»“æŸåçš„ä¸€äº›æ€è€ƒ</title>
    <link href="http://yoursite.com/2016/09/08/%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9D%9F%E5%90%8E%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/"/>
    <id>http://yoursite.com/2016/09/08/é¡¹ç›®ç»“æŸåçš„ä¸€äº›æ€è€ƒ/</id>
    <published>2016-09-08T08:42:51.000Z</published>
    <updated>2016-09-12T08:47:32.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>ä¸ºä»€ä¹ˆé¡¹ç›®åˆå»¶æœŸäº†ï¼Ÿ â€”â€”â€“æ¥è‡ªå¸‚åœºçš„æ„¤æ€’ </p>
</blockquote>
<p>ä¸ºä»€ä¹ˆé¡¹ç›®åˆå»¶æœŸäº†å‘¢ï¼Ÿ</p>
<div style="text-align:center"><br><img src="http://img306.ph.126.net/Xk7NwVjqPUtaYlY6u2m2GQ==/3852829481215481010.jpg"><br></div>

<p>ä»é¡¹ç›®ç«‹é¡¹åˆ°å‘å¸ƒï¼Œä¸€èˆ¬é¡¹ç›®çš„ç”Ÿå‘½å‘¨æœŸéƒ½æ˜¯å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œä»»ä½•ä¸€ä¸ªç¯èŠ‚å‡ºç°é—®é¢˜ï¼Œéƒ½ä¼šå¢åŠ å·¥æ—¶çš„æ¶ˆè€—</p>
<p>å¼€æºä¸­å›½ç¤¾åŒº <a href="http://www.oschina.net/question/565065_86309" title="ç™¾åº¦" target="_blank" rel="external">è½¯ä»¶å¼€å‘æµç¨‹</a> è¯´çš„å¾ˆè¯¦ç»†äº†ï¼Œæˆ‘åªè¯´è¯´è‡ªå·±çš„ä¸€äº›çœ‹æ³•å’Œè§è§£ã€‚</p>
<h1 id="å…³äºçŸ¥è¯†çš„å‚¨å¤‡"><a href="#å…³äºçŸ¥è¯†çš„å‚¨å¤‡" class="headerlink" title="å…³äºçŸ¥è¯†çš„å‚¨å¤‡"></a>å…³äºçŸ¥è¯†çš„å‚¨å¤‡</h1><div><br><p>ç¬”è€…æ›¾ç»å‚ä¸å¤šä¸ªiOSé¡¹ç›®çš„å¼€å‘ï¼Œå¤§å¤§å°å°çš„é¡¹ç›®éƒ½ç»å†ï¼Œå®è¯è¯´ï¼Œæå°‘æœ‰é¡¹ç›®å¯ä»¥æŒ‰æ—¶äº¤ä»˜ï¼Œå³ä½¿è¿æœ€åŸºæœ¬çš„é—®é¢˜æ¸…é›¶éƒ½åšä¸åˆ°ï¼ŒåŸºæœ¬éƒ½éœ€è¦åŠ ç­åŠ ç‚¹ï¼Œåˆ°æœ€åè¿˜æ˜¯ä¼šé—ç•™ä¸€äº›è§£å†³ä¸äº†çš„é—®é¢˜ã€‚<br></p><br><p>æ–°äººè¶Šå¤šçš„é¡¹ç›®è¶Šå®¹æ˜“å‡ºé—®é¢˜ï¼Œå½“æ–°äººé€æ¸å˜æˆè€å¸æœºçš„æ—¶å€™ï¼Œæ— è®ºæ˜¯ä»£ç è´¨é‡è¿˜æ˜¯é¡¹ç›®è¿›åº¦éƒ½å˜çš„é è°±å¤šäº†ã€‚ç°ä»£å¼€å‘è™½ç„¶å¼•å…¥äº†å¾ˆå¤šæé«˜å·¥ä½œæ•ˆç‡çš„å·¥å…·å’Œæ–¹æ³•ï¼Œä½†æ˜¯äººçš„èƒ½åŠ›è¿˜æ˜¯å ä¸»å¯¼åœ°ä½ï¼Œäººçš„çŸ¥è¯†å‚¨å¤‡åœ¨æ­¤å°±æ˜¾å¾—å°¤ä¸ºé‡è¦äº†ã€‚<br></p><br><p>å¯¹æ–°äººçš„åŸ¹å…»å¿…é¡»åŒºåˆ«äºå­¦æ ¡ï¼ŒåŸ¹å…»å…¶ä¸»åŠ¨å­¦ä¹ èƒ½åŠ›æ‰æ˜¯è¿›æ­¥ä¹‹çŸ³ï¼Œä½œä¸ºé¢†å¯¼æˆ–è€…å¼€å‘ç»„é•¿ï¼Œåº”è¯¥æ ¹æ®å‘˜å·¥çš„ç‰¹ç‚¹ä¸ºå…¶å¼•è·¯ï¼Œåˆ›é€ å­¦ä¹ çš„ç¯å¢ƒå’Œæ¡ä»¶ï¼Œè€Œä¸æ˜¯å°†ä»»åŠ¡åˆ†é…å®Œäº†å°±ä¸ç®¡äº†ã€‚åœ¨æˆ‘ç»å†çš„é¡¹ç›®ä¸­ï¼Œå‘ç°å¤§å¤šæ•°çš„æ–°äººåšäº†å¾ˆå¤šé‡å¤æ€§çš„å·¥ä½œï¼Œåœ¨å¾ˆé•¿çš„æ—¶æœŸé‡Œæœºæ¢°çš„åšäº‹ï¼Œæ ¹æœ¬æ²¡æœ‰æœºä¼šæˆé•¿ï¼Œä»–ä»¬ç°åœ¨æˆ–è€…å˜æˆè€æ²¹æ¡æˆ–è€…ç»§ç»­åšç€ç®€å•çš„å·¥ä½œï¼Œåœ¨æ–°çš„æ¯•ä¸šç”Ÿæ¶Œå…¥çš„æ½®æµä¸­ï¼Œå½»åº•çš„æ²‰ä¸‹å»äº†ã€‚<br><br></p></div>

<div style="text-align:center"><br><img src="http://photocdn.sohu.com/20150811/mp26839099_1439275236239_1_th.jpeg" width="280" height="300"><br></div>

<h1 id="å…³äºè´£ä»»å¿ƒ"><a href="#å…³äºè´£ä»»å¿ƒ" class="headerlink" title="å…³äºè´£ä»»å¿ƒ"></a>å…³äºè´£ä»»å¿ƒ</h1><div><br><p>è´£ä»»å¿ƒè¿™ä¸ªä¸œè¥¿åº”è¯¥æ˜¯ä¸ªåå¤©çš„ä¸œè¥¿ï¼Œå› æ­¤åœ¨æ–°äººé¢è¯•çš„æ—¶å€™ï¼Œæ€ä¹ˆåœ¨çŸ­çŸ­å‡ ååˆ†é’Ÿå†…è¾¨åˆ«é¢è¯•è€…çš„è´£ä»»å¿ƒï¼Œæ˜¯éœ€è¦ç»éªŒå’Œä¸€äº›è¿æ°”çš„ã€‚å¦‚æœç­‰åˆ°æ–°äººè¿›ç»„å’Œæ¥æ‰‹å¼€å‘ä»»åŠ¡çš„æ—¶å€™ï¼Œå†å»è¾¨åˆ«å°±æœ‰ç‚¹æ™šäº†ã€‚<br></p><br><p>æœ‰è´£ä»»å¿ƒçš„å‘˜å·¥è‡ªä¸»æ€§ç›¸å¯¹è¾ƒå¼ºï¼Œå¯¹è‡ªå·±çš„å·¥ä½œè¿›åº¦å’Œè´¨é‡éƒ½æœ‰ç€é«˜åº¦çš„è¦æ±‚ï¼Œè½»æ˜“ä¸ä¼šè¡¨ç°æ²®ä¸§å’Œå¾—è¿‡ä¸”è¿‡ï¼Œæ¥æ‰‹çš„åŠŸèƒ½å’Œä»»åŠ¡éƒ½ä¼šè®¤çœŸå¯¹å¾…ï¼Œå³ä½¿èƒ½åŠ›ä¸€æ—¶ä¸è¶³ï¼Œä¹Ÿä¼šé€šè¿‡ä¸æ–­çš„å­¦ä¹ å’Œå¡«å‘æ¥å®Œæˆï¼Œå¹¶ä¸æ–­æ€»ç»“ï¼Œæœ€ç»ˆä»–å¼€å‘çš„åŠŸèƒ½ä¸€èˆ¬éƒ½ä¼šæœ‰ä¸ªæ¯”è¾ƒå¥½çš„ç»“æœã€‚<br></p><br></div>

<h1 id="å…³äºå·¥ä½œæ–¹å¼"><a href="#å…³äºå·¥ä½œæ–¹å¼" class="headerlink" title="å…³äºå·¥ä½œæ–¹å¼"></a>å…³äºå·¥ä½œæ–¹å¼</h1><div><br><p>æˆåŠŸè€…éƒ½æœ‰ä¸€å¥—è‡ªå·±çš„å·¥ä½œæ–¹å¼ï¼Œæ™®é€šäººä¹Ÿæœ‰è‡ªå·±çš„å·¥ä½œæ–¹å¼ï¼Œä¸åŒä¹‹å¤„æ˜¯é«˜æ•ˆå’Œä½æ•ˆçš„åŒºåˆ«ã€‚è½¯ä»¶å¼€å‘æ˜¯ä½“åŠ›å’Œè„‘åŠ›åŠ³åŠ¨çš„ç»“åˆï¼Œå…¶ä¸­è„‘åŠ›åŠ³åŠ¨å æ®äº†ä¸»å¯¼åœ°ä½ï¼Œå–„äºç”¨è„‘çš„å·¥ç¨‹å¸ˆæ˜¯ä¸€èˆ¬éƒ½æŒæ¡ä¸€å¥—å¯ä»¥æé«˜å·¥ä½œæ•ˆç‡çš„å·¥å…·å’Œå·¥ä½œæ–¹å¼ã€‚<br></p><br><p>æˆ‘ä¸ªäººè®¤ä¸ºæé«˜å·¥ä½œæ•ˆç‡çš„æ–¹å¼å°±æ˜¯æ€»ç»“å½’çº³æ”¹è¿›ï¼Œä½†æ˜¯è‡³äºå¦‚ä½•æ€»ç»“å½’çº³æ”¹è¿›åˆ™çœ‹æƒ…å†µè€Œå®šã€‚åœ¨æˆ‘ç»å†è¿‡çš„å¤§å¤§å°å°æ•°åä¸ªé¡¹ç›®ä¸­ï¼Œå¤šæ•°çš„å·¥ç¨‹å¸ˆå˜çš„å¹³åº¸äº†ï¼Œèµ°å‘å“è¶Šçš„å·¥ç¨‹å¸ˆéå¸¸ç¨€å°‘ã€‚è¿™äº›äººç°åœ¨éå¸ƒåœ¨ä¸åŒçš„å…¬å¸ï¼Œæ‹…ä»»ç€é‡è¦çš„èŒåŠ¡ï¼Œç”šè‡³æœ‰äº›äººå·²ç»åˆ›ä¸šæˆåŠŸï¼Œæ™‹çº§åˆ°äº†å¯Œäººé˜¶å±‚ã€‚<br></p><br></div>

<div style="text-align:center"><br><img src="http://img5.imgtn.bdimg.com/it/u=2981119672,2990184737&fm=21&gp=0.jpg" width="400" height="300"><br></div>

<h1 id="å…³äºæ€»ç»“"><a href="#å…³äºæ€»ç»“" class="headerlink" title="å…³äºæ€»ç»“"></a>å…³äºæ€»ç»“</h1><div><br><p>é¡¹ç›®æ€»ç»“å¾ˆé‡è¦ä¹Ÿå¾ˆå¿…è¦ï¼Œè‡³å°‘æˆ‘æ˜¯è¿™ä¹ˆè®¤ä¸ºçš„ã€‚å¾ˆå¤šé‡å¤å‘ç”Ÿçš„é”™è¯¯å’Œäº‹æ•…éƒ½æ˜¯å› ä¸ºæ²¡åŠæ—¶æ€»ç»“é€ æˆçš„ï¼Œè¿™ç®€ç›´æ˜¯çŠ¯ç½ªã€‚ä½œä¸ºé¡¹ç›®ç®¡ç†è€…ï¼Œä¸èƒ½æŒ‡æœ›æ‰€æœ‰çš„å·¥ç¨‹å¸ˆéƒ½ä¼šåŠæ—¶æ€»ç»“ç»éªŒï¼Œæ±²å–æ•™è®­ï¼Œæ›´ä¸ä¼šä¸»åŠ¨å»å¸®åˆ«äººæ€»ç»“ã€‚<br><br>äººçš„æƒ°æ€§æ˜¯å¤©æ€§ï¼Œå‹¤å¥‹çš„äººéƒ½æ˜¯å…»æˆä¹ æƒ¯æ‰å‹¤å¥‹çš„ï¼Œä½œä¸ºç®¡ç†è€…è¦è®©å·¥ç¨‹å¸ˆå…»æˆæ€»ç»“çš„ä¹ æƒ¯ï¼Œè€Œä¸æ˜¯è®©ä»–ä»¬è‡ªå·±å»å‘æŒ¥ä¸»è§‚èƒ½åŠ¨æ€§ã€‚å‚ä¸æ€»ç»“çš„äººè¶Šå¤šï¼Œå·¥ç¨‹å¸ˆè¶Šæ˜¯æ”¾æ¾ï¼Œè¶Šèƒ½è¯´å‡ºçœŸå®çš„æƒ³æ³•ï¼Œå¹¶ä»˜è¯¸è¡ŒåŠ¨ã€‚<br><br>æˆ‘å¼€æ€»ç»“ä¼šï¼Œä¸€èˆ¬ä»ä¸‰ä¸ªæ–¹é¢æ¥è¿›è¡Œï¼Œä¸€æ˜¯è‡ªèº«çš„ä¸è¶³å’Œæ”¹è¿›ï¼ŒäºŒæ˜¯é¡¹ç›®çš„ä¸è¶³å’Œæ”¹è¿›ï¼Œä¸‰æ˜¯å…¬å¸æä¾›çš„èµ„æºæ˜¯å¦åˆ°ä½ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå‰é¢ä¸¤ç‚¹å¤§éƒ¨åˆ†çš„å·¥ç¨‹å¸ˆéƒ½èƒ½è®²å‡ºå‡ æ¡ä¸è¶³å’Œæ”¹è¿›æ„è§ï¼Œå”¯ç‹¬ç¬¬ä¸‰æ¡ä¸çŸ¥ä¸ºä»€ä¹ˆè¦è€ƒè™‘è¿™ä¸ªå› ç´ ã€‚æˆ‘çš„è§‚ç‚¹æ˜¯ï¼Œé¡¹ç›®ä¸æ˜¯ç‹¬ç«‹çš„ï¼Œç ”å‘å’Œæµ‹è¯•åªæ˜¯äº§å“ç”Ÿå‘½å‘¨æœŸçš„ä¸€ä¸ªé˜¶æ®µï¼Œå…¬å¸çš„å¾ˆå¤šéƒ¨é—¨éƒ½ä¼šå¯¹ç ”å‘å·¥ä½œäº§ç”Ÿå½±å“ï¼Œå¾ˆå¤šå·¥ç¨‹å¸ˆçœ‹ä¸åˆ°è¿™ç‚¹ã€‚å­¦ä¼šä¸å„ä¸ªéƒ¨é—¨æ‰“äº¤é“ï¼Œä¸æ­¢æ˜¯é¢†å¯¼å±‚çš„å·¥ä½œï¼Œä¹Ÿæ˜¯å·¥ç¨‹å¸ˆéœ€è¦å…·å¤‡çš„èƒ½åŠ›ã€‚<br></p><br></div>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆé¡¹ç›®åˆå»¶æœŸäº†ï¼Ÿ â€”â€”â€“æ¥è‡ªå¸‚åœºçš„æ„¤æ€’ &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆé¡¹ç›®åˆå»¶æœŸäº†å‘¢ï¼Ÿ&lt;/p&gt;
&lt;div style=&quot;text-align:center&quot;&gt;&lt;br&gt;&lt;img src=&quot;http://img306.ph.12
    
    </summary>
    
    
  </entry>
  
</feed>
